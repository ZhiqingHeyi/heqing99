import{_ as L,i as N,d as T,r as n,o as p,c as y,b as s,a as e,w as t,k as P,z as j,B as M,C as O,F as x,e as R,g as _,E as g,f as k,p as X,q as A,t as U}from"./index-12cb0ccf.js";const G={class:"checkin-container"},H={class:"status-content"},J={class:"status-info"},K={class:"status-title"},Q={class:"status-count"},W={__name:"Checkin",setup(Y){const q=N([{title:"空闲房间",count:25,type:"available",icon:P},{title:"已入住",count:45,type:"occupied",icon:j},{title:"待清洁",count:8,type:"cleaning",icon:M},{title:"今日预订",count:12,type:"booked",icon:O}]),F=T([{number:"201",type:"single"},{number:"202",type:"single"},{number:"301",type:"double"},{number:"302",type:"double"},{number:"501",type:"suite"}]),m=T(null),o=N({bookingNo:"",checkinType:"normal",guestName:"",phone:"",idCard:"",guestCount:1,roomType:"",roomNumber:"",dateRange:null,deposit:500,remarks:""}),B={guestName:[{required:!0,message:"请输入客人姓名",trigger:"blur"}],phone:[{required:!0,message:"请输入联系电话",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号",trigger:"blur"}],idCard:[{required:!0,message:"请输入身份证号",trigger:"blur"},{pattern:/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/,message:"请输入正确的身份证号",trigger:"blur"}],guestCount:[{required:!0,message:"请选择入住人数",trigger:"change"}],roomType:[{required:!0,message:"请选择房间类型",trigger:"change"}],roomNumber:[{required:!0,message:"请选择房间号",trigger:"change"}],dateRange:[{required:!0,message:"请选择入住日期",trigger:"change"}],deposit:[{required:!0,message:"请输入押金金额",trigger:"blur"}]},D=async()=>{if(!o.bookingNo){g.warning("请输入预订号");return}try{await new Promise(l=>setTimeout(l,1e3));const d={guestName:"张三",phone:"13800138000",idCard:"110101199001011234",roomType:"double",dateRange:[new Date,new Date(Date.now()+864e5*2)]};Object.keys(d).forEach(l=>{o[l]=d[l]}),o.checkinType="booking",g.success("预订信息查询成功")}catch(d){console.error("查询预订信息失败:",d),g.error("预订信息查询失败")}},E=async()=>{m.value&&await m.value.validate(async d=>{if(d)try{await new Promise(l=>setTimeout(l,1e3)),g.success("入住登记成功"),V()}catch(l){console.error("入住登记失败:",l),g.error("入住登记失败")}})},V=()=>{m.value&&(m.value.resetFields(),o.checkinType="normal",o.guestCount=1,o.deposit=500,o.dateRange=null)};return(d,l)=>{const S=n("el-icon"),v=n("el-card"),u=n("el-col"),i=n("el-row"),f=n("el-button"),c=n("el-input"),r=n("el-form-item"),C=n("el-radio"),$=n("el-radio-group"),h=n("el-input-number"),b=n("el-option"),w=n("el-select"),z=n("el-date-picker"),I=n("el-form");return p(),y("div",G,[l[17]||(l[17]=s("div",{class:"page-header"},[s("h2",null,"入住登记")],-1)),e(i,{gutter:20,class:"room-status-row"},{default:t(()=>[(p(!0),y(x,null,R(q,a=>(p(),k(u,{span:6,key:a.type},{default:t(()=>[e(v,{class:"status-card","body-style":{padding:"20px"}},{default:t(()=>[s("div",H,[s("div",{class:X(["status-icon",a.type])},[e(S,null,{default:t(()=>[(p(),k(A(a.icon)))]),_:2},1024)],2),s("div",J,[s("div",K,U(a.title),1),s("div",Q,U(a.count),1)])])]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(v,{class:"checkin-form-card"},{header:t(()=>l[11]||(l[11]=[s("div",{class:"card-header"},[s("span",null,"入住信息登记")],-1)])),default:t(()=>[e(I,{ref_key:"checkinFormRef",ref:m,model:o,rules:B,"label-width":"100px"},{default:t(()=>[e(i,{gutter:20},{default:t(()=>[e(u,{span:12},{default:t(()=>[e(r,{label:"预订号",prop:"bookingNo"},{default:t(()=>[e(c,{modelValue:o.bookingNo,"onUpdate:modelValue":l[0]||(l[0]=a=>o.bookingNo=a),placeholder:"如有预订请输入预订号",clearable:""},{append:t(()=>[e(f,{onClick:D},{default:t(()=>l[12]||(l[12]=[_("查询")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(r,{label:"入住类型",prop:"checkinType"},{default:t(()=>[e($,{modelValue:o.checkinType,"onUpdate:modelValue":l[1]||(l[1]=a=>o.checkinType=a)},{default:t(()=>[e(C,{label:"normal"},{default:t(()=>l[13]||(l[13]=[_("普通入住")])),_:1}),e(C,{label:"booking"},{default:t(()=>l[14]||(l[14]=[_("预订入住")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:20},{default:t(()=>[e(u,{span:12},{default:t(()=>[e(r,{label:"客人姓名",prop:"guestName"},{default:t(()=>[e(c,{modelValue:o.guestName,"onUpdate:modelValue":l[2]||(l[2]=a=>o.guestName=a),placeholder:"请输入客人姓名"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(r,{label:"联系电话",prop:"phone"},{default:t(()=>[e(c,{modelValue:o.phone,"onUpdate:modelValue":l[3]||(l[3]=a=>o.phone=a),placeholder:"请输入联系电话"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:20},{default:t(()=>[e(u,{span:12},{default:t(()=>[e(r,{label:"身份证号",prop:"idCard"},{default:t(()=>[e(c,{modelValue:o.idCard,"onUpdate:modelValue":l[4]||(l[4]=a=>o.idCard=a),placeholder:"请输入身份证号"},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(r,{label:"入住人数",prop:"guestCount"},{default:t(()=>[e(h,{modelValue:o.guestCount,"onUpdate:modelValue":l[5]||(l[5]=a=>o.guestCount=a),min:1,max:4},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:20},{default:t(()=>[e(u,{span:12},{default:t(()=>[e(r,{label:"房间类型",prop:"roomType"},{default:t(()=>[e(w,{modelValue:o.roomType,"onUpdate:modelValue":l[6]||(l[6]=a=>o.roomType=a),placeholder:"请选择房间类型",style:{width:"100%"}},{default:t(()=>[e(b,{label:"标准单人间",value:"single"}),e(b,{label:"标准双人间",value:"double"}),e(b,{label:"豪华套房",value:"suite"})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(r,{label:"房间号",prop:"roomNumber"},{default:t(()=>[e(w,{modelValue:o.roomNumber,"onUpdate:modelValue":l[7]||(l[7]=a=>o.roomNumber=a),placeholder:"请选择房间号",style:{width:"100%"},disabled:!o.roomType},{default:t(()=>[(p(!0),y(x,null,R(F.value,a=>(p(),k(b,{key:a.number,label:a.number,value:a.number},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:20},{default:t(()=>[e(u,{span:12},{default:t(()=>[e(r,{label:"入住日期",prop:"dateRange"},{default:t(()=>[e(z,{modelValue:o.dateRange,"onUpdate:modelValue":l[8]||(l[8]=a=>o.dateRange=a),type:"daterange","range-separator":"至","start-placeholder":"入住日期","end-placeholder":"离店日期",style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(u,{span:12},{default:t(()=>[e(r,{label:"押金",prop:"deposit"},{default:t(()=>[e(h,{modelValue:o.deposit,"onUpdate:modelValue":l[9]||(l[9]=a=>o.deposit=a),min:0,step:100,precision:2,style:{width:"100%"}},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(r,{label:"备注",prop:"remarks"},{default:t(()=>[e(c,{modelValue:o.remarks,"onUpdate:modelValue":l[10]||(l[10]=a=>o.remarks=a),type:"textarea",rows:"3",placeholder:"请输入备注信息"},null,8,["modelValue"])]),_:1}),e(r,null,{default:t(()=>[e(f,{type:"primary",onClick:E},{default:t(()=>l[15]||(l[15]=[_("确认入住")])),_:1}),e(f,{onClick:V},{default:t(()=>l[16]||(l[16]=[_("重置")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])}}},ee=L(W,[["__scopeId","data-v-b3e1b876"]]);export{ee as default};
