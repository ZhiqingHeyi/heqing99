{"_attachments":{},"_id":"@amap/amap-jsapi-loader","_rev":"775876-61f26a980ac2e00f63d01f36","author":{"name":"mengmeng.du@alibaba-inc.com"},"description":"高德官网提供的地图JSAPI加载器，可以避免多种异步加载API的错误用法","dist-tags":{"latest":"1.0.1"},"license":"MIT","maintainers":[{"name":"mengmeng.du","email":"mengmeng.du@alibaba-inc.com"},{"name":"fxxjdedd","email":"fxxjdedd@qq.com"},{"name":"qfish","email":"qfish.cn@gmail.com"},{"name":"phlicess","email":"2233907468@qq.com"},{"name":"duxiaohui","email":"1556803892@qq.com"}],"name":"@amap/amap-jsapi-loader","readme":"# amap-jsapi-loader\namap-jsapi-loader 是高德开放平台官网提供的地图 JSAPI 的加载器，可帮助开发者快速定位、有效避免加载引用地图 JSAPI 各种错误用法。\n\n\n该加载器具有以下特性：\n* 支持以 普通JS 和 npm包 两种方式使用；\n* 有效避免错误异步加载导致的 JSAPI 资源加载不完整问题；\n* 对于加载混用多个版本 JSAPI 的错误用法给予报错处理；\n* 对于不合法加载引用 JSAPI 给予报错处理；\n* 支持指定 JSAPI 版本；\n* 支持插件加载；\n* 允许多次执行加载操作，网络资源不会重复请求，便于大型工程模块管理；\n\n\n# USAGE\n\n## AMapLoader.load方法参数说明\n```js\nAMapLoader.load({\n    \"key\": \"\",              // 申请好的Web端开发者Key，首次调用 load 时必填\n    \"version\": \"2.0\",   // 指定要加载的 JSAPI 的版本，缺省时默认为 1.4.15\n    \"plugins\": []           // 需要使用的的插件列表，如比例尺'AMap.Scale'等\n    \"AMapUI\": {             // 是否加载 AMapUI，缺省不加载\n        \"version\": '1.1',   // AMapUI 缺省 1.1\n        \"plugins\":[],       // 需要加载的 AMapUI ui插件\n    },\n    \"Loca\":{                // 是否加载 Loca， 缺省不加载\n        \"version\": '1.3.2'  // Loca 版本，缺省 1.3.2\n    },\n}).then(()=>{\n    window.AMap.xx;\n    window.AMapUI.xx;\n    window.Loca.xx\n});\n\n```\n\n## AMapUI\n\nAMapUI 用法和官网有一点点区别。通过 AMapUI.xx 来获取组件\n```js\nAMapLoader.load({\n    key: '',//首次load必填\n    version: '2.0',\n    AMapUI: {\n        version: '1.1',\n        plugins: ['overlay/SimpleMarker'],\n    }\n}).then((AMap) => {\n    map = new AMap.Map('container');\n\n    // !!! 通过 AMap.SimpleMarker 获取组件\n    new AMapUI.SimpleMarker({\n        //前景文字\n        iconLabel: 'A',\n        //图标主题\n        iconTheme: 'default',\n        //背景图标样式\n        iconStyle: 'red',\n        map: map,\n        position: map.getCenter()\n    });\n}).catch((e) => {\n    console.error(e);\n});\n```\n\n\n# 使用\n#### 以普通 JS 方式使用 Loader\n尚未发布在线Loader，可将 dist/index.js 复制到项目下\n```\n<script src=\"../dist/index.js\"></script>\n<script>\n    AMapLoader.load({\n        key:'',//首次load必填\n        version:'2.0',\n        plugins:['AMap.Scale']\n    }).then((AMap)=>{\n        map = new AMap.Map('container');\n        map.addControl(new AMap.Scale())\n    }).catch((e)=>{\n        console.error(e);\n    });   \n</script>\n```\n#### 以 NPM 包方式使用 Loader\n安装\n```\ntnpm i @alife/amap-jsapi-loader --save-dev\n```\n使用\n```\nimport AMapLoader from '@alife/amap-jsapi-loader';\n\nAMapLoader.load().then((AMap)=>{\n    map = new AMap.Map('container');\n}).catch(e=>{\n    console.log(e);\n})\n\n```\n\n# 相关链接：\n地&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;图 JSAPI：  &nbsp;&nbsp;[示例中心](https://lbs.amap.com/demo-center/js-api)&nbsp;&nbsp;&nbsp;&nbsp;[教程](https://lbs.amap.com/api/javascript-api/summary)&nbsp;&nbsp;&nbsp;&nbsp;[参考手册](https://lbs.amap.com/api/javascript-api/reference/map)\n\n\n\n数据可视化 JSAPI：  &nbsp;&nbsp;[示例中心](https://lbs.amap.com/demo-center/loca-api)&nbsp;&nbsp;&nbsp;&nbsp;[教程](https://lbs.amap.com/api/loca-api/prod_intro)&nbsp;&nbsp;&nbsp;&nbsp;[参考手册](https://lbs.amap.com/api/loca-api/guide/baselayer)\n\n\n","time":{"created":"2022-01-27T09:49:12.307Z","modified":"2025-04-01T07:56:35.385Z","1.0.1":"2021-03-22T06:30:02.510Z","1.0.0":"2021-03-22T02:46:11.767Z","0.0.7":"2020-10-29T02:36:42.166Z","0.0.6":"2020-10-29T02:30:05.628Z","0.0.3":"2020-07-31T07:07:55.343Z","0.0.2":"2020-07-31T07:06:50.730Z","0.0.1":"2020-03-31T06:41:29.619Z","0.0.4":"2020-08-05T03:51:58.045Z"},"versions":{"1.0.1":{"name":"@amap/amap-jsapi-loader","version":"1.0.1","description":"高德官网提供的地图JSAPI加载器，可以避免多种异步加载API的错误用法","main":"dist/index.js","types":"index.d.ts","directories":{"test":"test"},"scripts":{"build":"rollup -c rollup.config.js"},"repository":{"type":"git","url":"git@gitlab.alibaba-inc.com:amap-web/amap-jsapi-loader.git"},"keywords":["amap","jsapi","sdk","loader","地图","高德"],"author":{"name":"mengmeng.du@alibaba-inc.com"},"license":"MIT","devDependencies":{"@ampproject/rollup-plugin-closure-compiler":"^0.23.0","@babel/core":"^7.8.7","@babel/preset-env":"^7.8.7","rollup":"^1.32.0","rollup-plugin-babel":"^4.3.3","rollup-plugin-server":"^0.7.0","rollup-plugin-typescript2":"^0.27.1","typescript":"^3.9.7"},"gitHead":"6df826c1edb3395fea14ed6450eca1c9f1edff35","_id":"@amap/amap-jsapi-loader@1.0.1","_nodeVersion":"12.11.1","_npmVersion":"6.11.3","dist":{"shasum":"9ec4b4d5d2467eac451f6c852e35db69e9f9f0c0","size":35602,"noattachment":false,"tarball":"https://registry.npmmirror.com/@amap/amap-jsapi-loader/-/amap-jsapi-loader-1.0.1.tgz","integrity":"sha512-nPyLKt7Ow/ThHLkSvn2etQlUzqxmTVgK7bIgwdBRTg2HK5668oN7xVxkaiRe3YZEzGzfV2XgH5Jmu2T73ljejw=="},"_npmUser":{"name":"donglai.ydl","email":"donglai.ydl@alibaba-inc.com"},"maintainers":[{"name":"qfish","email":"qfish.cn@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/amap-jsapi-loader_1.0.1_1616394602069_0.3838545317569293"},"_hasShrinkwrap":false,"publish_time":1616394602510,"_cnpm_publish_time":1616394602510,"_cnpmcore_publish_time":"2021-12-16T20:05:19.888Z"},"1.0.0":{"name":"@amap/amap-jsapi-loader","version":"1.0.0","description":"高德官网提供的地图JSAPI加载器，可以避免多种异步加载API的错误用法","main":"dist/index.js","types":"index.d.ts","directories":{"test":"test"},"scripts":{"build":"rollup -c rollup.config.js"},"repository":{"type":"git","url":"git@gitlab.alibaba-inc.com:amap-web/amap-jsapi-loader.git"},"keywords":["amap","jsapi","sdk","loader","地图","高德"],"author":{"name":"mengmeng.du@alibaba-inc.com"},"license":"MIT","devDependencies":{"@ampproject/rollup-plugin-closure-compiler":"^0.23.0","@babel/core":"^7.8.7","@babel/preset-env":"^7.8.7","rollup":"^1.32.0","rollup-plugin-babel":"^4.3.3","rollup-plugin-server":"^0.7.0","rollup-plugin-typescript2":"^0.27.1","typescript":"^3.9.7"},"gitHead":"43069f5f2f657564cb3127193a0fa055a6de551d","_id":"@amap/amap-jsapi-loader@1.0.0","_nodeVersion":"12.11.1","_npmVersion":"6.11.3","dist":{"shasum":"2f8dcb0641685cc6ba37a926fdb6949640a8271a","size":35449,"noattachment":false,"tarball":"https://registry.npmmirror.com/@amap/amap-jsapi-loader/-/amap-jsapi-loader-1.0.0.tgz","integrity":"sha512-CMg8xR2jzHzzl1HfZUYotEKY4+CYkbaoR862MUBipBEs9TJrY6xZ+0K1Av/LhNr2/ITqxp4nYdr7PcUFgnLtRQ=="},"_npmUser":{"name":"donglai.ydl","email":"donglai.ydl@alibaba-inc.com"},"maintainers":[{"name":"qfish","email":"qfish.cn@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/amap-jsapi-loader_1.0.0_1616381171566_0.37237963476881286"},"_hasShrinkwrap":false,"publish_time":1616381171767,"_cnpm_publish_time":1616381171767,"_cnpmcore_publish_time":"2021-12-16T20:05:20.179Z"},"0.0.7":{"name":"@amap/amap-jsapi-loader","version":"0.0.7","description":"高德官网提供的地图JSAPI加载器，可以避免多种异步加载API的错误用法","main":"dist/index.js","types":"index.d.ts","directories":{"test":"test"},"scripts":{"build":"rollup -c rollup.config.js"},"repository":{"type":"git","url":"git@gitlab.alibaba-inc.com:amap-web/amap-jsapi-loader.git"},"keywords":["amap","jsapi","sdk","loader","地图","高德"],"author":{"name":"mengmeng.du@alibaba-inc.com"},"license":"MIT","devDependencies":{"@ampproject/rollup-plugin-closure-compiler":"^0.23.0","@babel/core":"^7.8.7","@babel/preset-env":"^7.8.7","rollup":"^1.32.0","rollup-plugin-babel":"^4.3.3","rollup-plugin-server":"^0.7.0","rollup-plugin-typescript2":"^0.27.1","typescript":"^3.9.7"},"gitHead":"55369764dc8411e5b224f528c9af44a3d98cb432","_id":"@amap/amap-jsapi-loader@0.0.7","_nodeVersion":"12.11.1","_npmVersion":"6.11.3","dist":{"shasum":"76b5cbcc22f6844003474e37eed1dcd879cb117c","size":35505,"noattachment":false,"tarball":"https://registry.npmmirror.com/@amap/amap-jsapi-loader/-/amap-jsapi-loader-0.0.7.tgz","integrity":"sha512-DNqyIo9AfN0ic2I+9F6qiGFOmoeLVhcqUU2MT4/t3vTAiZhnlMWqr6kXXwh7IjXhD1Na7XaK8/IL2b7Ml+g4tw=="},"maintainers":[{"name":"qfish","email":"qfish.cn@gmail.com"}],"_npmUser":{"name":"donglai.ydl","email":"donglai.ydl@alibaba-inc.com"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/amap-jsapi-loader_0.0.7_1603939001989_0.9256688497264596"},"_hasShrinkwrap":false,"publish_time":1603939002166,"_cnpm_publish_time":1603939002166,"_cnpmcore_publish_time":"2021-12-16T20:05:20.491Z"},"0.0.6":{"name":"@amap/amap-jsapi-loader","version":"0.0.6","description":"高德官网提供的地图JSAPI加载器，可以避免多种异步加载API的错误用法","main":"dist/index.js","types":"index.d.ts","directories":{"test":"test"},"scripts":{"build":"rollup -c rollup.config.js"},"repository":{"type":"git","url":"git@gitlab.alibaba-inc.com:amap-web/amap-jsapi-loader.git"},"keywords":["amap","jsapi","sdk","loader","地图","高德"],"author":{"name":"mengmeng.du@alibaba-inc.com"},"license":"MIT","devDependencies":{"@ampproject/rollup-plugin-closure-compiler":"^0.23.0","@babel/core":"^7.8.7","@babel/preset-env":"^7.8.7","rollup":"^1.32.0","rollup-plugin-babel":"^4.3.3","rollup-plugin-server":"^0.7.0","rollup-plugin-typescript2":"^0.27.1","typescript":"^3.9.7"},"gitHead":"55369764dc8411e5b224f528c9af44a3d98cb432","_id":"@amap/amap-jsapi-loader@0.0.6","_nodeVersion":"12.11.1","_npmVersion":"6.11.3","dist":{"shasum":"6ac61cc637d7e5c05efb658f265381982a74a62f","size":35508,"noattachment":false,"tarball":"https://registry.npmmirror.com/@amap/amap-jsapi-loader/-/amap-jsapi-loader-0.0.6.tgz","integrity":"sha512-K/NADIqt8wOcY7B+f3k6BcsQFaENvUUa7RdE4ToQ+87CFSDCWhZyPTIDtbKErXiGPMTjWN+Xp+XqhlEnJ/xZvg=="},"maintainers":[{"name":"qfish","email":"qfish.cn@gmail.com"}],"_npmUser":{"name":"donglai.ydl","email":"donglai.ydl@alibaba-inc.com"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/amap-jsapi-loader_0.0.6_1603938605375_0.5077815335415008"},"_hasShrinkwrap":false,"publish_time":1603938605628,"_cnpm_publish_time":1603938605628,"_cnpmcore_publish_time":"2021-12-16T20:05:20.755Z"},"0.0.3":{"name":"@amap/amap-jsapi-loader","version":"0.0.3","description":"高德官网提供的地图JSAPI加载器，可以避免多种异步加载API的错误用法","main":"dist/index.js","types":"index.d.ts","directories":{"test":"test"},"publishConfig":{},"scripts":{"build":"rollup -c rollup.config.js"},"repository":{},"keywords":["amap","jsapi","sdk","loader","地图","高德"],"author":{"name":"mengmeng.du@alibaba-inc.com"},"license":"MIT","devDependencies":{"@ampproject/rollup-plugin-closure-compiler":"^0.23.0","@babel/core":"^7.8.7","@babel/preset-env":"^7.8.7","rollup":"^1.32.0","rollup-plugin-babel":"^4.3.3","rollup-plugin-server":"^0.7.0","rollup-plugin-typescript2":"^0.27.1","typescript":"^3.9.7"},"gitHead":"55369764dc8411e5b224f528c9af44a3d98cb432","_id":"@amap/amap-jsapi-loader@0.0.3","_nodeVersion":"10.16.3","_npmVersion":"6.9.0","dist":{"shasum":"5d676f1670213de0927c74da77475723e5de2380","size":35738,"noattachment":false,"tarball":"https://registry.npmmirror.com/@amap/amap-jsapi-loader/-/amap-jsapi-loader-0.0.3.tgz","integrity":"sha512-3Tz50UdmRY2BiONK/mafEQzshYGUinK2hmDlKjYtoJHC/aVydiMOolHENWmP98F603RcrWTM7aLxOFMgesFfug=="},"maintainers":[{"name":"qfish","email":"qfish.cn@gmail.com"}],"_npmUser":{"name":"mengmeng.du","email":"mengmeng.du@alibaba-inc.com"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/amap-jsapi-loader_0.0.3_1596179275207_0.8415342788387516"},"_hasShrinkwrap":false,"publish_time":1596179275343,"_cnpm_publish_time":1596179275343,"_cnpmcore_publish_time":"2021-12-16T20:05:21.367Z"},"0.0.2":{"name":"@amap/amap-jsapi-loader","version":"0.0.2","description":"高德官网提供的地图JSAPI加载器，可以避免多种异步加载API的错误用法","main":"dist/index.js","types":"index.d.ts","directories":{"test":"test"},"publishConfig":{},"scripts":{"build":"rollup -c rollup.config.js"},"repository":{},"keywords":["amap","jsapi","sdk","loader","地图","高德"],"author":{"name":"mengmeng.du@alibaba-inc.com"},"license":"MIT","devDependencies":{"@ampproject/rollup-plugin-closure-compiler":"^0.23.0","@babel/core":"^7.8.7","@babel/preset-env":"^7.8.7","rollup":"^1.32.0","rollup-plugin-babel":"^4.3.3","rollup-plugin-server":"^0.7.0","rollup-plugin-typescript2":"^0.27.1","typescript":"^3.9.7"},"gitHead":"55369764dc8411e5b224f528c9af44a3d98cb432","_id":"@amap/amap-jsapi-loader@0.0.2","_nodeVersion":"10.16.3","_npmVersion":"6.9.0","dist":{"shasum":"f6c0aa19bacce99f750757eae4100464f59cc6c7","size":35740,"noattachment":false,"tarball":"https://registry.npmmirror.com/@amap/amap-jsapi-loader/-/amap-jsapi-loader-0.0.2.tgz","integrity":"sha512-fFCNSYXTnfUnXbh39qH0qboqWzciE760MsCyVNJW3Uueqs47/gWcZmBFT5LeRTtfkO7P3Qjav2tTGPP9s7TT7Q=="},"maintainers":[{"name":"qfish","email":"qfish.cn@gmail.com"}],"_npmUser":{"name":"mengmeng.du","email":"mengmeng.du@alibaba-inc.com"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/amap-jsapi-loader_0.0.2_1596179210617_0.6082611653827212"},"_hasShrinkwrap":false,"publish_time":1596179210730,"_cnpm_publish_time":1596179210730,"_cnpmcore_publish_time":"2021-12-16T20:05:21.720Z"},"0.0.1":{"name":"@amap/amap-jsapi-loader","version":"0.0.1","description":"高德官网提供的地图JSAPI加载器，可以避免多种异步加载API的错误用法","main":"dist/index.js","types":"index.d.ts","directories":{"test":"test"},"scripts":{"build":"rollup -c rollup.config.js","test":"rollup -c rollup.config.js"},"repository":{},"keywords":["amap","jsapi","sdk","loader","地图","高德"],"author":{"name":"mengmeng.du@alibaba-inc.com"},"license":"MIT","devDependencies":{"@ampproject/rollup-plugin-closure-compiler":"^0.23.0","@babel/core":"^7.8.7","@babel/preset-env":"^7.8.7","rollup":"^1.32.0","rollup-plugin-babel":"^4.3.3","rollup-plugin-server":"^0.7.0"},"_id":"@amap/amap-jsapi-loader@0.0.1","_nodeVersion":"10.16.3","_npmVersion":"6.9.0","dist":{"shasum":"c35d60f057b7fc429fc7a60e5acecbedd556cb15","size":4630,"noattachment":false,"tarball":"https://registry.npmmirror.com/@amap/amap-jsapi-loader/-/amap-jsapi-loader-0.0.1.tgz","integrity":"sha512-aN+Qadd9sHCUswxhyJUqUf+knCGZCuQ+L3nqTlSaDHZthi9ifpeNoCwlSCuTRvOEArZkuDcSVVk+mXvtPiI4zA=="},"maintainers":[{"name":"qfish","email":"qfish.cn@gmail.com"}],"_npmUser":{"name":"mengmeng.du","email":"mengmeng.du@alibaba-inc.com"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/amap-jsapi-loader_0.0.1_1585636889440_0.10491276374453307"},"_hasShrinkwrap":false,"publish_time":1585636889619,"_cnpm_publish_time":1585636889619,"_cnpmcore_publish_time":"2021-12-16T20:05:21.915Z"},"0.0.4":{"name":"@amap/amap-jsapi-loader","version":"0.0.4","description":"高德官网提供的地图JSAPI加载器，可以避免多种异步加载API的错误用法","main":"dist/index.js","types":"index.d.ts","directories":{"test":"test"},"publishConfig":{},"scripts":{"build":"rollup -c rollup.config.js"},"repository":{},"keywords":["amap","jsapi","sdk","loader","地图","高德"],"author":{"name":"mengmeng.du@alibaba-inc.com"},"license":"MIT","devDependencies":{"@ampproject/rollup-plugin-closure-compiler":"^0.23.0","@babel/core":"^7.8.7","@babel/preset-env":"^7.8.7","rollup":"^1.32.0","rollup-plugin-babel":"^4.3.3","rollup-plugin-server":"^0.7.0","rollup-plugin-typescript2":"^0.27.1","typescript":"^3.9.7"},"gitHead":"55369764dc8411e5b224f528c9af44a3d98cb432","_id":"@amap/amap-jsapi-loader@0.0.4","_nodeVersion":"10.16.3","_npmVersion":"6.9.0","dist":{"shasum":"774acf12058715bce1d021a8b0860686a5eeb03c","size":35712,"noattachment":false,"tarball":"https://registry.npmmirror.com/@amap/amap-jsapi-loader/-/amap-jsapi-loader-0.0.4.tgz","integrity":"sha512-XgmQBSvZiAM+mh7sfogo0Ww61o4/mDNfq4Dc75xroM2RS9YtTh2w7kBhuX09BONQ6eZDFzNuw43eadNjDtrmmQ=="},"maintainers":[{"name":"qfish","email":"qfish.cn@gmail.com"}],"_npmUser":{"name":"mengmeng.du","email":"mengmeng.du@alibaba-inc.com"},"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/amap-jsapi-loader_0.0.4_1596599517906_0.7645102970545876"},"_hasShrinkwrap":false,"publish_time":1596599518045,"_cnpm_publish_time":1596599518045,"_cnpmcore_publish_time":"2021-12-16T20:05:21.074Z"}},"keywords":["amap","jsapi","sdk","loader","地图","高德"],"repository":{"type":"git","url":"git@gitlab.alibaba-inc.com:amap-web/amap-jsapi-loader.git"},"_source_registry_name":"default"}