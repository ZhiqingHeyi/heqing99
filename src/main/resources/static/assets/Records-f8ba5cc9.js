import{_ as A,d as c,i as G,r as n,s as H,o as R,c as J,b as k,a as e,w as t,E as K,g as s,v as L,f as O,t as i}from"./index-12cb0ccf.js";const Q={class:"records-container"},W={class:"page-header"},X={class:"pagination-container"},Z={__name:"Records",setup(ee){const v=c(!1),u=G({status:"",dateRange:[]}),_=c(1),g=c(10),C=c(0),V=c([]),b=c(!1),d=c({}),T=a=>({pending:"info",processing:"warning",completed:"success"})[a]||"info",h=a=>({pending:"待处理",processing:"进行中",completed:"已完成"})[a]||a,m=async()=>{v.value=!0;try{await new Promise(a=>setTimeout(a,1e3)),V.value=[{id:1,roomNumber:"301",cleaner:"张三",status:"completed",startTime:"2025-03-31 09:00:00",endTime:"2025-03-31 10:30:00",duration:"1.5小时",remarks:"正常完成清洁工作"}],C.value=100}catch(a){console.error("获取记录失败:",a),K.error("获取记录失败")}finally{v.value=!1}},z=a=>{d.value={...a},b.value=!0},D=()=>{_.value=1,m()},M=()=>{_.value=1,m()},S=()=>{u.status="",u.dateRange=[],_.value=1,m()},N=a=>{g.value=a,m()},U=a=>{_.value=a,m()};return m(),(a,l)=>{const f=n("el-button"),y=n("el-option"),B=n("el-select"),w=n("el-form-item"),Y=n("el-date-picker"),E=n("el-form"),x=n("el-card"),r=n("el-table-column"),F=n("el-tag"),P=n("el-table"),I=n("el-pagination"),p=n("el-descriptions-item"),j=n("el-descriptions"),$=n("el-dialog"),q=H("loading");return R(),J("div",Q,[k("div",W,[l[6]||(l[6]=k("h2",null,"清洁记录",-1)),e(f,{type:"primary",onClick:D},{default:t(()=>l[5]||(l[5]=[s("刷新")])),_:1})]),e(x,{class:"filter-card"},{default:t(()=>[e(E,{inline:!0,model:u,class:"filter-form"},{default:t(()=>[e(w,{label:"状态"},{default:t(()=>[e(B,{modelValue:u.status,"onUpdate:modelValue":l[0]||(l[0]=o=>u.status=o),placeholder:"选择状态",clearable:""},{default:t(()=>[e(y,{label:"待处理",value:"pending"}),e(y,{label:"进行中",value:"processing"}),e(y,{label:"已完成",value:"completed"})]),_:1},8,["modelValue"])]),_:1}),e(w,{label:"日期范围"},{default:t(()=>[e(Y,{modelValue:u.dateRange,"onUpdate:modelValue":l[1]||(l[1]=o=>u.dateRange=o),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"YYYY-MM-DD"},null,8,["modelValue"])]),_:1}),e(w,null,{default:t(()=>[e(f,{type:"primary",onClick:M},{default:t(()=>l[7]||(l[7]=[s("查询")])),_:1}),e(f,{onClick:S},{default:t(()=>l[8]||(l[8]=[s("重置")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),e(x,{class:"records-table"},{default:t(()=>[L((R(),O(P,{data:V.value,style:{width:"100%"},border:""},{default:t(()=>[e(r,{prop:"id",label:"ID",width:"80"}),e(r,{prop:"roomNumber",label:"房间号",width:"120"}),e(r,{prop:"cleaner",label:"保洁员",width:"120"}),e(r,{prop:"status",label:"状态",width:"100"},{default:t(({row:o})=>[e(F,{type:T(o.status)},{default:t(()=>[s(i(h(o.status)),1)]),_:2},1032,["type"])]),_:1}),e(r,{prop:"startTime",label:"开始时间",width:"180"}),e(r,{prop:"endTime",label:"完成时间",width:"180"}),e(r,{prop:"duration",label:"耗时",width:"120"}),e(r,{prop:"remarks",label:"备注"}),e(r,{label:"操作",width:"120",fixed:"right"},{default:t(({row:o})=>[e(f,{type:"primary",link:"",onClick:te=>z(o)},{default:t(()=>l[9]||(l[9]=[s("查看详情")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[q,v.value]]),k("div",X,[e(I,{"current-page":_.value,"onUpdate:currentPage":l[2]||(l[2]=o=>_.value=o),"page-size":g.value,"onUpdate:pageSize":l[3]||(l[3]=o=>g.value=o),total:C.value,"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",onSizeChange:N,onCurrentChange:U},null,8,["current-page","page-size","total"])])]),_:1}),e($,{modelValue:b.value,"onUpdate:modelValue":l[4]||(l[4]=o=>b.value=o),title:"清洁记录详情",width:"600px"},{default:t(()=>[e(j,{column:2,border:""},{default:t(()=>[e(p,{label:"房间号"},{default:t(()=>[s(i(d.value.roomNumber),1)]),_:1}),e(p,{label:"保洁员"},{default:t(()=>[s(i(d.value.cleaner),1)]),_:1}),e(p,{label:"状态"},{default:t(()=>[s(i(h(d.value.status)),1)]),_:1}),e(p,{label:"开始时间"},{default:t(()=>[s(i(d.value.startTime),1)]),_:1}),e(p,{label:"完成时间"},{default:t(()=>[s(i(d.value.endTime),1)]),_:1}),e(p,{label:"耗时"},{default:t(()=>[s(i(d.value.duration),1)]),_:1}),e(p,{label:"备注",span:2},{default:t(()=>[s(i(d.value.remarks),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}},ae=A(Z,[["__scopeId","data-v-61a60fef"]]);export{ae as default};
