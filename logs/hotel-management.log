2025-05-04 09:14:33.373  INFO 13472 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 13472 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 09:14:33.399 DEBUG 13472 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 09:14:33.400  INFO 13472 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 09:14:36.321  INFO 13472 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 09:14:36.861  INFO 13472 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 516 ms. Found 19 JPA repository interfaces.
2025-05-04 09:14:38.416  INFO 13472 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 09:14:38.420  INFO 13472 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 09:14:38.421  INFO 13472 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 09:14:38.423  INFO 13472 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 09:14:38.510  INFO 13472 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 09:14:38.542  INFO 13472 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 09:14:38.542  INFO 13472 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 09:14:38.924  INFO 13472 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 09:14:38.925  INFO 13472 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5302 ms
2025-05-04 09:14:39.447  INFO 13472 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 09:14:39.598  INFO 13472 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 09:14:40.067  INFO 13472 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 09:14:40.368  INFO 13472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 09:14:41.159  INFO 13472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 09:14:41.197  INFO 13472 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 09:14:44.373  INFO 13472 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 09:14:44.400  INFO 13472 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 09:14:45.886 DEBUG 13472 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 09:14:45.888 DEBUG 13472 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 09:14:48.116 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 09:14:48.131 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 09:14:48.132 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 09:14:48.133 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 09:14:48.133 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 09:14:48.134 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 09:14:48.135 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 09:14:48.135 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 09:14:48.136 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 09:14:48.138 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 09:14:48.138 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 09:14:48.138 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 09:14:48.139 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 09:14:48.140 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 09:14:48.140 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 09:14:48.140 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 09:14:48.141 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 09:14:48.141 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 09:14:48.141 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 09:14:48.141 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 09:14:48.142 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 09:14:48.142 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 09:14:48.143 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 09:14:48.143 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 09:14:48.143 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 09:14:48.144 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 09:14:48.145 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 09:14:48.145 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 09:14:48.145 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 09:14:48.145 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 09:14:48.145 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 09:14:48.146 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 09:14:48.146 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 09:14:48.146 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 09:14:48.146 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 09:14:48.146 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 09:14:48.150 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 09:14:48.150 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 09:14:48.150 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 09:14:48.151 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 09:14:48.152 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 09:14:48.153 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 09:14:48.153 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 09:14:48.154 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 09:14:48.171  INFO 13472 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7da59f6e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fb8d720, org.springframework.security.web.context.SecurityContextPersistenceFilter@130ad58d, org.springframework.security.web.header.HeaderWriterFilter@3b8c15de, org.springframework.web.filter.CorsFilter@544733a4, org.springframework.security.web.authentication.logout.LogoutFilter@65a01901, com.hotel.config.JwtAuthenticationFilter@49bc1f6c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@383a5260, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4986b0ea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21b792c2, org.springframework.security.web.session.SessionManagementFilter@24ea71d, org.springframework.security.web.access.ExceptionTranslationFilter@1da5635e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@657e7e8]
2025-05-04 09:14:48.327  WARN 13472 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 09:14:48.697 DEBUG 13472 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 09:14:48.780  INFO 13472 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 09:14:48.993 DEBUG 13472 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 09:14:49.006 DEBUG 13472 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 09:14:49.046 DEBUG 13472 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 09:14:49.066 DEBUG 13472 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 09:14:49.488  INFO 13472 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 09:14:49.505  INFO 13472 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 17.764 seconds (JVM running for 19.849)
2025-05-04 09:15:30.735  INFO 13472 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 09:15:30.736  INFO 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 09:15:30.736 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 09:15:30.737 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 09:15:30.737 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 09:15:30.739 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2f143ea
2025-05-04 09:15:30.740 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4f96e484
2025-05-04 09:15:30.740 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 09:15:30.740  INFO 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-04 09:15:30.764 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 09:15:30.775 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:15:30.921 DEBUG 13472 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 09:15:30.947 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 09:15:30.948 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 09:15:30.952 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 09:15:30.961 DEBUG 13472 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 09:15:31.355 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:15:31.356 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=8, totalUsers=18, availableRooms=15, newUser (truncated)...]
2025-05-04 09:15:31.448 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:15:31.453 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:29.393 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:22:29.394 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:29.409 DEBUG 13472 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:29.416 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:22:29.416 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:22:29.416 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:22:29.419 DEBUG 13472 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:22:29.473 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:29.474 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:22:29.480 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:29.480 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:30.775 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:30.775 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:30.780 DEBUG 13472 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:30.781 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:22:30.781 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:30.782 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:22:30.782 DEBUG 13472 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:22:30.816 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:30.816 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:22:30.829 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:30.829 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:34.588 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 09:22:34.589 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:34.594 DEBUG 13472 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:34.595 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 09:22:34.595 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 09:22:34.595 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 09:22:34.595 DEBUG 13472 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:22:34.615 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:34.616 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:22:34.618 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:34.619 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:35.308 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 09:22:35.308 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:35.313 DEBUG 13472 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:35.314 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED] with attributes [authenticated]
2025-05-04 09:22:35.314 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 09:22:35.314 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CONFIRMED", parameters={masked}
2025-05-04 09:22:35.314 DEBUG 13472 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:22:35.323 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:35.323 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 09:22:35.324 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:35.324 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:35.574 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 09:22:35.575 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:35.580 DEBUG 13472 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:35.582 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED] with attributes [authenticated]
2025-05-04 09:22:35.582 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 09:22:35.582 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=COMPLETED", parameters={masked}
2025-05-04 09:22:35.583 DEBUG 13472 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:22:35.592 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:35.592 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 09:22:35.593 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:35.593 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:35.872 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:35.872 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:35.876 DEBUG 13472 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:35.877 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:22:35.877 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:35.877 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:22:35.877 DEBUG 13472 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:22:35.889 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:35.890 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:22:35.892 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:35.892 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:36.947 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:22:36.947 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:36.953 DEBUG 13472 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:36.953 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:22:36.953 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:22:36.954 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:22:36.954 DEBUG 13472 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:22:36.983 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:36.983 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:22:36.985 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:36.985 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:40.433 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 09:22:40.434 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:40.435 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:22:40.435 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 09:22:40.438 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 09:22:40.438 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 09:22:40.439 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 09:22:40.439 DEBUG 13472 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 09:22:40.484 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:40.484 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 09:22:40.487 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:40.488 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:40.748 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:22:40.748 DEBUG 13472 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:40.752 DEBUG 13472 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:40.753 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:22:40.753 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:22:40.753 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:22:40.754 DEBUG 13472 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:22:40.760 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:40.761 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:22:40.762 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:40.762 DEBUG 13472 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:55.460 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 09:22:55.461 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:55.475 DEBUG 13472 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:55.476 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 09:22:55.476 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 09:22:55.476 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 09:22:55.476 DEBUG 13472 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 09:22:55.487 DEBUG 13472 --- [http-nio-8090-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=4, checkIn=2025-06-02T16:00:00.000Z, checkOut=2025-06-29T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 09:22:55.659 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:55.659 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订创建成功, data={discountRate=0.85, reservationId=13, origi (truncated)...]
2025-05-04 09:22:55.663 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:55.664 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:55.698 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-04 09:22:55.698 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:55.703 DEBUG 13472 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:55.704 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-04 09:22:55.704 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-04 09:22:55.704 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-04 09:22:55.705 DEBUG 13472 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-04 09:22:55.714 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:55.714 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=MembershipDTO(userId=18, username=dawwadw, name=asdwd, memberLevel=钻石会员, memberLevel (truncated)...]
2025-05-04 09:22:55.718 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:55.719 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:59.114 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:22:59.115 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:59.120 DEBUG 13472 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:59.121 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:22:59.122 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:22:59.122 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:22:59.123 DEBUG 13472 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:22:59.130 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:59.130 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:22:59.132 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:59.132 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:59.420 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:59.420 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:59.425 DEBUG 13472 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:59.426 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:22:59.426 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:59.426 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:22:59.426 DEBUG 13472 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:22:59.440 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:59.440 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:22:59.442 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:59.442 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:59.751 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:59.751 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:59.755 DEBUG 13472 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:59.756 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:22:59.756 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:59.756 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:22:59.756 DEBUG 13472 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:22:59.770 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:59.770 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:22:59.771 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:59.771 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:47.977 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:23:47.977 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:47.982 DEBUG 13472 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:47.983 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:23:47.984 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:23:47.984 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:23:47.984 DEBUG 13472 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:23:47.989 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:47.990 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:23:47.991 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:47.991 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:48.940 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:48.940 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:48.945 DEBUG 13472 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:48.946 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:23:48.946 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:48.947 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:23:48.947 DEBUG 13472 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:23:48.957 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:48.957 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:23:48.958 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:48.958 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:50.430 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:50.430 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:50.435 DEBUG 13472 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:50.435 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:23:50.435 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:50.436 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:23:50.436 DEBUG 13472 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:23:50.449 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:50.449 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:23:50.450 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:50.450 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:52.582 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:52.583 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:52.589 DEBUG 13472 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:52.590 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:23:52.590 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:52.591 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:23:52.592 DEBUG 13472 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:23:52.605 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:52.605 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:23:52.606 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:52.607 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:55.277 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:55.278 DEBUG 13472 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:55.282 DEBUG 13472 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:55.283 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:23:55.283 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:55.283 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:23:55.283 DEBUG 13472 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:23:55.295 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:55.295 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:23:55.296 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:55.297 DEBUG 13472 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:55.545 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:55.545 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:55.549 DEBUG 13472 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:55.550 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:23:55.550 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:55.550 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:23:55.550 DEBUG 13472 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:23:55.564 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:55.565 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:23:55.566 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:55.567 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:56.143 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:56.143 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:56.149 DEBUG 13472 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:56.149 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:23:56.149 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:56.149 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:23:56.150 DEBUG 13472 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:23:56.159 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:56.160 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:23:56.161 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:56.161 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:56.902 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:56.902 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:56.906 DEBUG 13472 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:56.907 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:23:56.907 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:56.907 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:23:56.908 DEBUG 13472 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:23:56.921 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:56.922 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:23:56.923 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:56.923 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:57.155 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:57.155 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:57.159 DEBUG 13472 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:57.159 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:23:57.159 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:57.159 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:23:57.160 DEBUG 13472 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:23:57.167 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:57.167 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:23:57.168 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:57.168 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:58.455 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:58.455 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:58.460 DEBUG 13472 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:58.460 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:23:58.461 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:58.461 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:23:58.461 DEBUG 13472 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:23:58.476 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:58.477 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:23:58.478 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:58.478 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:06.199 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:24:06.200 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:06.205 DEBUG 13472 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:06.205 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:24:06.206 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:24:06.206 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:24:06.207 DEBUG 13472 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:24:06.213 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:06.213 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:24:06.214 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:06.215 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:07.467 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:24:07.468 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:07.475 DEBUG 13472 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:07.476 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:24:07.476 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:24:07.476 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:24:07.477 DEBUG 13472 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:24:07.492 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:07.492 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:24:07.493 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:07.494 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:24.540 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 09:24:24.540 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:24.544 DEBUG 13472 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:24.545 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 09:24:24.546 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 09:24:24.546 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 09:24:24.546 DEBUG 13472 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:24:24.558 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:24.558 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:24:24.560 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:24.560 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:25.652 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:24:25.652 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:25.656 DEBUG 13472 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:25.657 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:24:25.657 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:24:25.657 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:24:25.658 DEBUG 13472 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:24:25.670 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:25.671 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:24:25.672 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:25.672 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:39.934 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:24:39.934 DEBUG 13472 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:39.938 DEBUG 13472 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:39.940 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:24:39.940 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:24:39.940 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:24:39.940 DEBUG 13472 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:24:39.943 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:39.943 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:24:39.945 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:39.945 DEBUG 13472 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:41.139 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:24:41.139 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:41.143 DEBUG 13472 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:41.144 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:24:41.144 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:24:41.144 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:24:41.145 DEBUG 13472 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:24:41.153 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:41.153 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:24:41.154 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:41.154 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:48.403 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:24:48.404 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:48.408 DEBUG 13472 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:48.409 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:24:48.409 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:24:48.409 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:24:48.409 DEBUG 13472 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:24:48.422 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:48.423 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:24:48.424 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:48.424 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:51.199 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:24:51.199 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:51.203 DEBUG 13472 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:51.204 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:24:51.204 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:24:51.205 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:24:51.205 DEBUG 13472 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:24:51.209 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:51.210 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:24:51.212 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:51.212 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:59.432 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:24:59.432 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:59.436 DEBUG 13472 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:59.436 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:24:59.436 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:24:59.436 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:24:59.437 DEBUG 13472 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:24:59.441 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:59.441 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:24:59.442 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:59.442 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:25:00.990 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:25:00.990 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:25:00.993 DEBUG 13472 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:25:00.994 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:25:00.994 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:25:00.994 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:25:00.996 DEBUG 13472 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:25:01.006 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:25:01.006 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:25:01.007 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:25:01.008 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:25:04.336 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:25:04.337 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:25:04.339 DEBUG 13472 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:25:04.340 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:25:04.340 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:25:04.341 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:25:04.341 DEBUG 13472 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:25:04.346 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:25:04.346 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:25:04.347 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:25:04.347 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:25:05.548 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:25:05.548 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:25:05.553 DEBUG 13472 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:25:05.553 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:25:05.554 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:25:05.554 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:25:05.554 DEBUG 13472 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:25:05.563 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:25:05.563 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:25:05.564 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:25:05.564 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:29:19.151 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:29:19.152 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:29:19.155 DEBUG 13472 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:29:19.156 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:29:19.156 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:29:19.156 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:29:19.156 DEBUG 13472 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:29:19.160 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:29:19.160 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:29:19.162 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:29:19.162 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:29:20.082 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:29:20.082 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:29:20.087 DEBUG 13472 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:29:20.088 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:29:20.088 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:29:20.088 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:29:20.089 DEBUG 13472 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:29:20.098 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:29:20.098 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:29:20.099 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:29:20.099 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:29:25.428  INFO 13472 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 09:29:25.434  INFO 13472 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 09:29:25.456  INFO 13472 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 09:29:33.563  INFO 30416 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 30416 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 09:29:33.566 DEBUG 30416 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 09:29:33.566  INFO 30416 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 09:29:34.897  INFO 30416 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 09:29:35.095  INFO 30416 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 190 ms. Found 19 JPA repository interfaces.
2025-05-04 09:29:35.612  INFO 30416 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 09:29:35.613  INFO 30416 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 09:29:35.613  INFO 30416 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 09:29:35.614  INFO 30416 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 09:29:35.620  INFO 30416 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 09:29:35.630  INFO 30416 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 09:29:35.630  INFO 30416 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 09:29:35.763  INFO 30416 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 09:29:35.763  INFO 30416 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2155 ms
2025-05-04 09:29:35.924  INFO 30416 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 09:29:35.980  INFO 30416 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 09:29:36.141  INFO 30416 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 09:29:36.985  INFO 30416 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 09:29:38.640  INFO 30416 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 09:29:38.657  INFO 30416 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 09:29:39.801  INFO 30416 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 09:29:39.809  INFO 30416 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 09:29:40.245 DEBUG 30416 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 09:29:40.245 DEBUG 30416 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 09:29:41.133 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 09:29:41.139 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 09:29:41.140 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 09:29:41.140 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 09:29:41.141 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 09:29:41.141 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 09:29:41.141 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 09:29:41.141 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 09:29:41.142 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 09:29:41.142 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 09:29:41.142 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 09:29:41.142 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 09:29:41.142 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 09:29:41.142 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 09:29:41.143 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 09:29:41.143 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 09:29:41.144 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 09:29:41.144 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 09:29:41.144 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 09:29:41.144 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 09:29:41.148 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 09:29:41.149 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 09:29:41.149 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 09:29:41.149 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 09:29:41.150 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 09:29:41.150 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 09:29:41.151 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 09:29:41.151 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 09:29:41.157  INFO 30416 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@66c91224, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4ffcb1bd, org.springframework.security.web.context.SecurityContextPersistenceFilter@304cad3a, org.springframework.security.web.header.HeaderWriterFilter@78de0f6f, org.springframework.web.filter.CorsFilter@293ba26c, org.springframework.security.web.authentication.logout.LogoutFilter@1b62ad1e, com.hotel.config.JwtAuthenticationFilter@69c6e5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19f9404d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5481f204, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5be8a92c, org.springframework.security.web.session.SessionManagementFilter@321c01c2, org.springframework.security.web.access.ExceptionTranslationFilter@1e9e4468, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@24f8707c]
2025-05-04 09:29:41.208  WARN 30416 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 09:29:41.332 DEBUG 30416 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 09:29:41.358  INFO 30416 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 09:29:41.427 DEBUG 30416 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 09:29:41.432 DEBUG 30416 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 09:29:41.447 DEBUG 30416 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 09:29:41.457 DEBUG 30416 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 09:29:41.611  INFO 30416 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 09:29:41.620  INFO 30416 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 8.558 seconds (JVM running for 9.443)
2025-05-04 09:29:54.730  INFO 30416 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 09:29:54.730  INFO 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 09:29:54.731 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 09:29:54.731 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 09:29:54.731 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 09:29:54.733 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1f031994
2025-05-04 09:29:54.733 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@789d45f7
2025-05-04 09:29:54.734 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 09:29:54.734  INFO 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-04 09:29:54.746 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:29:54.750 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:29:54.819 DEBUG 30416 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:29:54.826 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:29:54.826 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:29:54.829 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:29:54.832 DEBUG 30416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:29:54.969 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:29:54.970 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:29:55.007 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:29:55.009 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:29:55.109 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:29:55.109 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:29:55.114 DEBUG 30416 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:29:55.115 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:29:55.116 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:29:55.117 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:29:55.117 DEBUG 30416 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:29:55.139 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:29:55.139 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:29:55.145 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:29:55.145 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:29:55.872 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:29:55.873 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:29:55.876 DEBUG 30416 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:29:55.878 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:29:55.878 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:29:55.879 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:29:55.879 DEBUG 30416 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:29:55.892 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:29:55.892 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:29:55.893 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:29:55.893 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:29:57.553 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:29:57.554 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:29:57.558 DEBUG 30416 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:29:57.559 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:29:57.560 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:29:57.560 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:29:57.560 DEBUG 30416 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:29:57.571 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:29:57.572 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:29:57.574 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:29:57.574 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:00.023 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:30:00.024 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:00.032 DEBUG 30416 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:00.033 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:30:00.033 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:30:00.034 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:30:00.036 DEBUG 30416 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:30:00.049 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:00.050 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:30:00.053 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:00.054 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:03.261 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:03.262 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:03.268 DEBUG 30416 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:03.269 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:30:03.269 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:03.269 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:30:03.270 DEBUG 30416 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:30:03.282 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:03.282 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:30:03.283 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:03.284 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:05.025 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:30:05.026 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:05.031 DEBUG 30416 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:05.032 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:30:05.032 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:30:05.032 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:30:05.033 DEBUG 30416 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:30:05.040 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:05.040 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:30:05.042 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:05.042 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:06.379 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:06.379 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:06.384 DEBUG 30416 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:06.384 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:30:06.385 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:06.386 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:30:06.386 DEBUG 30416 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:30:06.399 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:06.399 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:30:06.401 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:06.401 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:07.226 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:30:07.226 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:07.231 DEBUG 30416 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:07.231 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:30:07.231 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:30:07.232 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:30:07.232 DEBUG 30416 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:30:07.248 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:07.248 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:30:07.250 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:07.250 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:15.708 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:15.708 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:15.715 DEBUG 30416 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:15.715 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:30:15.716 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:15.716 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:30:15.717 DEBUG 30416 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:30:15.728 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:15.728 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:30:15.729 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:15.729 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:16.813 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:30:16.814 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:16.818 DEBUG 30416 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:16.820 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:30:16.820 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:30:16.820 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:30:16.820 DEBUG 30416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:30:16.841 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:16.841 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:30:16.843 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:16.843 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:18.355 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:30:18.356 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:18.360 DEBUG 30416 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:18.361 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:30:18.361 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:30:18.361 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:30:18.362 DEBUG 30416 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:30:18.376 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:18.376 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:30:18.378 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:18.378 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:18.609 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:18.609 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:18.613 DEBUG 30416 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:18.613 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:30:18.613 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:18.614 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:30:18.614 DEBUG 30416 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:30:18.624 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:18.625 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:30:18.625 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:18.626 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:25.631 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 09:30:25.631 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:25.632 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:30:25.633 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 09:30:25.633 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 09:30:25.634 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 09:30:25.634 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 09:30:25.634 DEBUG 30416 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 09:30:25.685 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:25.685 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 09:30:25.687 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:25.688 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:25.944 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:30:25.944 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:25.948 DEBUG 30416 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:25.948 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:30:25.948 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:30:25.948 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:30:25.949 DEBUG 30416 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:30:25.953 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:25.953 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:30:25.955 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:25.955 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:33.841 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:30:33.841 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:33.846 DEBUG 30416 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:33.847 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:30:33.847 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:30:33.847 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:30:33.848 DEBUG 30416 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:30:33.854 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:33.854 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:30:33.855 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:33.855 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:35.536 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:35.537 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:35.541 DEBUG 30416 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:35.541 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:30:35.542 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:35.542 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:30:35.543 DEBUG 30416 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:30:35.552 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:35.553 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:30:35.554 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:35.554 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:35:04.028 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:35:04.029 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:35:04.034 DEBUG 30416 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:35:04.035 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:35:04.035 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:35:04.035 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:35:04.036 DEBUG 30416 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:35:04.042 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:35:04.042 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:35:04.044 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:35:04.044 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:35:20.911 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:35:20.912 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:35:20.917 DEBUG 30416 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:35:20.917 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:35:20.917 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:35:20.917 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:35:20.919 DEBUG 30416 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:35:20.925 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:35:20.925 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:35:20.926 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:35:20.927 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:36:18.001 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:36:18.001 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:36:18.006 DEBUG 30416 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:36:18.007 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:36:18.007 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:36:18.007 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:36:18.008 DEBUG 30416 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:36:18.013 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:36:18.014 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:36:18.015 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:36:18.015 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:36:22.404 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:36:22.405 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:36:22.409 DEBUG 30416 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:36:22.409 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:36:22.410 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:36:22.410 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:36:22.411 DEBUG 30416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:36:22.420 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:36:22.421 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:36:22.421 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:36:22.422 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:36:24.122 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:36:24.123 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:36:24.127 DEBUG 30416 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:36:24.128 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:36:24.128 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:36:24.129 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:36:24.129 DEBUG 30416 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:36:24.142 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:36:24.143 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:36:24.145 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:36:24.145 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:36:25.545 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:36:25.546 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:36:25.551 DEBUG 30416 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:36:25.551 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:36:25.552 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:36:25.552 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:36:25.553 DEBUG 30416 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:36:25.569 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:36:25.570 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:36:25.571 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:36:25.571 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:36:27.727 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:36:27.728 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:36:27.733 DEBUG 30416 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:36:27.734 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:36:27.734 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:36:27.734 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:36:27.734 DEBUG 30416 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:36:27.752 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:36:27.753 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:36:27.754 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:36:27.755 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:36:30.738 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:36:30.739 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:36:30.744 DEBUG 30416 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:36:30.745 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:36:30.746 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:36:30.746 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:36:30.746 DEBUG 30416 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:36:30.758 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:36:30.758 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:36:30.759 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:36:30.759 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:38:01.233 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:38:01.233 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:38:01.238 DEBUG 30416 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:38:01.239 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:38:01.239 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:38:01.240 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:38:01.240 DEBUG 30416 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:38:01.247 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:38:01.247 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:38:01.248 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:38:01.248 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:38:03.750 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:38:03.751 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:38:03.756 DEBUG 30416 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:38:03.757 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:38:03.757 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:38:03.757 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:38:03.758 DEBUG 30416 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:38:03.768 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:38:03.768 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:38:03.769 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:38:03.770 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:38:07.264 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:38:07.264 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:38:07.268 DEBUG 30416 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:38:07.269 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:38:07.271 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:38:07.272 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:38:07.272 DEBUG 30416 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:38:07.279 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:38:07.280 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:38:07.281 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:38:07.281 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:38:26.824 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:38:26.825 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:38:26.829 DEBUG 30416 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:38:26.829 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:38:26.830 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:38:26.830 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:38:26.830 DEBUG 30416 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:38:26.839 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:38:26.840 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:38:26.841 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:38:26.841 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:38:32.375 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:38:32.375 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:38:32.379 DEBUG 30416 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:38:32.379 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:38:32.379 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:38:32.379 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:38:32.380 DEBUG 30416 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:38:32.384 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:38:32.385 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:38:32.386 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:38:32.386 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:19.778 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 09:40:19.779 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:19.780 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:40:19.780 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 09:40:19.780 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 09:40:19.780 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 09:40:19.781 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 09:40:19.781 DEBUG 30416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 09:40:19.809 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:19.809 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 09:40:19.811 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:19.811 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:19.899 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:40:19.899 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:19.903 DEBUG 30416 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:19.903 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:40:19.903 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:40:19.903 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:40:19.904 DEBUG 30416 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:40:19.911 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:19.911 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:40:19.913 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:19.913 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:35.706 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 09:40:35.706 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:35.734 DEBUG 30416 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:35.735 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 09:40:35.736 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 09:40:35.736 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 09:40:35.736 DEBUG 30416 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 09:40:35.748 DEBUG 30416 --- [http-nio-8090-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=1, checkIn=2025-06-30T16:00:00.000Z, checkOut=2025-07-30T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 09:40:35.881 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:35.881 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订创建成功, data={discountRate=0.85, reservationId=14, origi (truncated)...]
2025-05-04 09:40:35.884 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:35.885 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:36.210 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-04 09:40:36.210 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:36.214 DEBUG 30416 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:36.214 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-04 09:40:36.214 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-04 09:40:36.214 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-04 09:40:36.214 DEBUG 30416 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-04 09:40:36.219 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:36.219 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=MembershipDTO(userId=18, username=dawwadw, name=asdwd, memberLevel=钻石会员, memberLevel (truncated)...]
2025-05-04 09:40:36.222 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:36.222 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:37.746 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:40:37.746 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:37.750 DEBUG 30416 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:37.751 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:40:37.752 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:40:37.752 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:40:37.753 DEBUG 30416 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:40:37.758 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:37.759 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:40:37.760 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:37.760 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:38.050 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:40:38.051 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:38.054 DEBUG 30416 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:38.055 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:40:38.055 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:40:38.055 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:40:38.055 DEBUG 30416 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:40:38.072 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:38.072 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:40:38.073 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:38.073 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:38.381 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:40:38.382 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:38.385 DEBUG 30416 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:38.385 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:40:38.385 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:40:38.385 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:40:38.385 DEBUG 30416 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:40:38.395 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:38.395 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:40:38.396 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:38.397 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:41.481 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:40:41.482 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:41.485 DEBUG 30416 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:41.486 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:40:41.486 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:40:41.486 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:40:41.486 DEBUG 30416 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:40:41.496 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:41.496 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:40:41.497 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:41.497 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:43.462 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:40:43.462 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:43.466 DEBUG 30416 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:43.466 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:40:43.467 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:40:43.467 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:40:43.467 DEBUG 30416 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:40:43.485 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:43.486 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:40:43.487 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:43.488 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:48.124 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:40:48.124 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:48.127 DEBUG 30416 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:48.130 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:40:48.130 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:40:48.130 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:40:48.131 DEBUG 30416 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:40:48.138 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:48.138 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:40:48.139 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:48.139 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:49.587 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:40:49.587 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:49.594 DEBUG 30416 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:49.594 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:40:49.594 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:40:49.595 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:40:49.596 DEBUG 30416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:40:49.605 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:49.605 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:40:49.605 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:49.606 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:43:53.222  INFO 30416 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 09:43:53.224  INFO 30416 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 09:43:53.232  INFO 30416 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 09:44:01.453  INFO 30384 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 30384 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 09:44:01.458 DEBUG 30384 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 09:44:01.458  INFO 30384 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 09:44:02.603  INFO 30384 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 09:44:02.842  INFO 30384 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 227 ms. Found 19 JPA repository interfaces.
2025-05-04 09:44:03.597  INFO 30384 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 09:44:03.598  INFO 30384 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 09:44:03.599  INFO 30384 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 09:44:03.600  INFO 30384 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 09:44:03.608  INFO 30384 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 09:44:03.620  INFO 30384 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 09:44:03.620  INFO 30384 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 09:44:03.797  INFO 30384 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 09:44:03.798  INFO 30384 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2281 ms
2025-05-04 09:44:04.042  INFO 30384 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 09:44:04.113  INFO 30384 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 09:44:04.310  INFO 30384 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 09:44:04.425  INFO 30384 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 09:44:04.755  INFO 30384 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 09:44:04.773  INFO 30384 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 09:44:05.987  INFO 30384 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 09:44:05.995  INFO 30384 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 09:44:06.437 DEBUG 30384 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 09:44:06.437 DEBUG 30384 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 09:44:07.293 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 09:44:07.299 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 09:44:07.300 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 09:44:07.300 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 09:44:07.300 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 09:44:07.300 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 09:44:07.301 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 09:44:07.301 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 09:44:07.301 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 09:44:07.301 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 09:44:07.301 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 09:44:07.302 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 09:44:07.302 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 09:44:07.302 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 09:44:07.302 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 09:44:07.302 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 09:44:07.303 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 09:44:07.303 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 09:44:07.303 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 09:44:07.303 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 09:44:07.303 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 09:44:07.304 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 09:44:07.304 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 09:44:07.304 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 09:44:07.304 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 09:44:07.307 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 09:44:07.307 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 09:44:07.307 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 09:44:07.307 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 09:44:07.308 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 09:44:07.308 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 09:44:07.308 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 09:44:07.308 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 09:44:07.314  INFO 30384 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58c93be3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5dd62f07, org.springframework.security.web.context.SecurityContextPersistenceFilter@16718e1b, org.springframework.security.web.header.HeaderWriterFilter@77430c79, org.springframework.web.filter.CorsFilter@315365ef, org.springframework.security.web.authentication.logout.LogoutFilter@2b33f7a0, com.hotel.config.JwtAuthenticationFilter@81cd90e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@771ede0d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1fd73dcb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e669b5c, org.springframework.security.web.session.SessionManagementFilter@140fa482, org.springframework.security.web.access.ExceptionTranslationFilter@52c2d1e8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@65192f16]
2025-05-04 09:44:07.361  WARN 30384 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 09:44:07.482 DEBUG 30384 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 09:44:07.510  INFO 30384 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 09:44:07.573 DEBUG 30384 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 09:44:07.577 DEBUG 30384 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 09:44:07.594 DEBUG 30384 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 09:44:07.606 DEBUG 30384 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 09:44:07.760  INFO 30384 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 09:44:07.771  INFO 30384 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.845 seconds (JVM running for 7.844)
2025-05-04 09:44:12.656  INFO 30384 --- [http-nio-8090-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 09:44:12.657  INFO 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 09:44:12.657 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 09:44:12.657 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 09:44:12.658 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 09:44:12.659 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3fecdd00
2025-05-04 09:44:12.660 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2f1b8770
2025-05-04 09:44:12.660 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 09:44:12.661  INFO 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-04 09:44:12.674 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:44:12.674 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 09:44:12.679 DEBUG 30384 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:12.679 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:12.686 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:44:12.686 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 09:44:12.695 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 09:44:12.696 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 09:44:12.699 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 09:44:12.705 DEBUG 30384 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 09:44:12.765 DEBUG 30384 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:12.766 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:44:12.766 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:44:12.766 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:44:12.767 DEBUG 30384 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:44:12.841 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:12.842 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 09:44:12.849 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:12.850 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:44:12.869 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:12.869 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:12.871 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:12.871 DEBUG 30384 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:27.892 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 09:44:27.893 DEBUG 30384 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:27.908 DEBUG 30384 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:27.909 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 09:44:27.909 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 09:44:27.910 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 09:44:27.910 DEBUG 30384 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 09:44:27.920 DEBUG 30384 --- [http-nio-8090-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=1, checkIn=2025-07-31T16:00:00.000Z, checkOut=2025-08-30T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 09:44:28.043 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:28.043 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订创建成功, data={discountRate=0.85, reservationId=15, origi (truncated)...]
2025-05-04 09:44:28.047 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:28.047 DEBUG 30384 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:28.369 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-04 09:44:28.369 DEBUG 30384 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:28.373 DEBUG 30384 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:28.374 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-04 09:44:28.374 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-04 09:44:28.374 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-04 09:44:28.375 DEBUG 30384 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-04 09:44:28.385 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:28.385 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=MembershipDTO(userId=18, username=dawwadw, name=asdwd, memberLevel=钻石会员, memberLevel (truncated)...]
2025-05-04 09:44:28.388 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:28.388 DEBUG 30384 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:29.555 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:44:29.555 DEBUG 30384 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:29.561 DEBUG 30384 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:29.562 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:44:29.563 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:44:29.563 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:44:29.564 DEBUG 30384 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:44:29.571 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:29.571 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:44:29.573 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:29.573 DEBUG 30384 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:29.860 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:44:29.861 DEBUG 30384 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:29.865 DEBUG 30384 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:29.865 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:44:29.865 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:44:29.866 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:44:29.866 DEBUG 30384 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:44:29.893 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:29.893 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:44:29.903 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:29.903 DEBUG 30384 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:30.209 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:44:30.209 DEBUG 30384 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:30.212 DEBUG 30384 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:30.213 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:44:30.213 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:44:30.214 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:44:30.214 DEBUG 30384 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:44:30.231 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:30.232 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:44:30.233 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:30.233 DEBUG 30384 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:34.128 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:44:34.129 DEBUG 30384 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:34.132 DEBUG 30384 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:34.133 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:44:34.133 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:44:34.133 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:44:34.134 DEBUG 30384 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:44:34.141  INFO 30384 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 consumption records for userId: 18
2025-05-04 09:44:34.144  INFO 30384 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:44:34.145  INFO 30384 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 144777
2025-05-04 09:44:34.145  INFO 30384 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:44:34.146  WARN 30384 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Page start index 0 is out of bounds, history is empty. Returning empty list.
2025-05-04 09:44:34.146  INFO 30384 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 0 history items for page 0 (size 10) for userId: 18. Total items: 0
2025-05-04 09:44:34.146 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:34.147 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:44:34.148 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:34.148 DEBUG 30384 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:35.687 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:44:35.687 DEBUG 30384 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:35.691 DEBUG 30384 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:35.692 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:44:35.692 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:44:35.692 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:44:35.692 DEBUG 30384 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:44:35.708 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:35.709 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:44:35.711 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:35.712 DEBUG 30384 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:37.026 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:44:37.027 DEBUG 30384 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:37.031 DEBUG 30384 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:37.031 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:44:37.031 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:44:37.031 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:44:37.032 DEBUG 30384 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:44:37.038  INFO 30384 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 consumption records for userId: 18
2025-05-04 09:44:37.040  INFO 30384 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:44:37.040  INFO 30384 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 144777
2025-05-04 09:44:37.040  INFO 30384 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:44:37.040  WARN 30384 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Page start index 0 is out of bounds, history is empty. Returning empty list.
2025-05-04 09:44:37.040  INFO 30384 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 0 history items for page 0 (size 10) for userId: 18. Total items: 0
2025-05-04 09:44:37.040 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:37.040 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:44:37.041 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:37.042 DEBUG 30384 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:04.830 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-04 09:47:04.830 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:04.834 DEBUG 30384 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 09:47:04.843 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users?page=1&pageSize=10&username=&phone=&status=] with attributes [hasRole('ROLE_ADMIN')]
2025-05-04 09:47:04.843 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-04 09:47:04.844 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users?page=1&pageSize=10&username=&phone=&status=", parameters={masked}
2025-05-04 09:47:04.844 DEBUG 30384 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllUsers(int, int, String, String, String, String)
2025-05-04 09:47:04.876 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:04.876 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=18, users=[UserDTO(id=18, username=dawwa (truncated)...]
2025-05-04 09:47:04.879 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:04.880 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:06.056 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/staff?page=0&pageSize=10
2025-05-04 09:47:06.056 DEBUG 30384 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:06.061 DEBUG 30384 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 09:47:06.061 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/staff?page=0&pageSize=10] with attributes [authenticated]
2025-05-04 09:47:06.062 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/staff?page=0&pageSize=10
2025-05-04 09:47:06.062 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/staff?page=0&pageSize=10", parameters={masked}
2025-05-04 09:47:06.062 DEBUG 30384 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllStaffPaginated(int, int, String, String, String)
2025-05-04 09:47:06.077 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:06.077 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=5, users=[UserDTO(id=17, username=保洁7号阿姨 (truncated)...]
2025-05-04 09:47:06.078 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:06.079 DEBUG 30384 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:07.526 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=0&size=10
2025-05-04 09:47:07.527 DEBUG 30384 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:07.531 DEBUG 30384 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 09:47:07.532 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 09:47:07.532 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=0&size=10
2025-05-04 09:47:07.532 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=0&size=10", parameters={masked}
2025-05-04 09:47:07.533 DEBUG 30384 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-04 09:47:07.558 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:07.558 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=21, list=[{roomNumber=501, lastCleanTime=2025-05-01T15:04:43, notes=, needCle (truncated)...]
2025-05-04 09:47:07.560 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:07.561 DEBUG 30384 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:07.630 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/roomtypes
2025-05-04 09:47:07.630 DEBUG 30384 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:07.634 DEBUG 30384 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 09:47:07.634 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/roomtypes] with attributes [hasRole('ROLE_ADMIN')]
2025-05-04 09:47:07.635 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/roomtypes
2025-05-04 09:47:07.635 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/roomtypes", parameters={}
2025-05-04 09:47:07.635 DEBUG 30384 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getAllRoomTypes()
2025-05-04 09:47:07.641 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:07.641 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{amenities=无限量矿泉水、咖啡、茶叶等, createTime=2025-04-28T11:22:57, name=行政套房, description=高端 (truncated)...]
2025-05-04 09:47:07.642 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:07.642 DEBUG 30384 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:42.149 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:47:42.149 DEBUG 30384 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:42.154 DEBUG 30384 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:47:42.154 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:47:42.154 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:47:42.155 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:47:42.155 DEBUG 30384 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:47:42.169 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:42.169 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:47:42.170 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:42.171 DEBUG 30384 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:43.273 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:47:43.273 DEBUG 30384 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:43.278 DEBUG 30384 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:47:43.279 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:47:43.279 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:47:43.279 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:47:43.281 DEBUG 30384 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:47:43.298 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:43.299 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:47:43.300 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:43.300 DEBUG 30384 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:44.308 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:47:44.308 DEBUG 30384 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:44.313 DEBUG 30384 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:47:44.314 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:47:44.314 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:47:44.314 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:47:44.314 DEBUG 30384 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:47:44.321  INFO 30384 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 consumption records for userId: 18
2025-05-04 09:47:44.323  INFO 30384 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:47:44.323  INFO 30384 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 144777
2025-05-04 09:47:44.323  INFO 30384 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:47:44.324  WARN 30384 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Page start index 0 is out of bounds, history is empty. Returning empty list.
2025-05-04 09:47:44.324  INFO 30384 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 0 history items for page 0 (size 10) for userId: 18. Total items: 0
2025-05-04 09:47:44.324 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:44.324 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:47:44.325 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:44.325 DEBUG 30384 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:44.575 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:47:44.575 DEBUG 30384 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:44.578 DEBUG 30384 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:47:44.579 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:47:44.579 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:47:44.579 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:47:44.579 DEBUG 30384 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:47:44.590 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:44.591 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:47:44.592 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:44.593 DEBUG 30384 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:45.896 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:47:45.896 DEBUG 30384 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:45.900 DEBUG 30384 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:47:45.901 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:47:45.901 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:47:45.901 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:47:45.902 DEBUG 30384 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:47:45.909  INFO 30384 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 consumption records for userId: 18
2025-05-04 09:47:45.911  INFO 30384 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:47:45.911  INFO 30384 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 144777
2025-05-04 09:47:45.911  INFO 30384 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:47:45.911  WARN 30384 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Page start index 0 is out of bounds, history is empty. Returning empty list.
2025-05-04 09:47:45.911  INFO 30384 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 0 history items for page 0 (size 10) for userId: 18. Total items: 0
2025-05-04 09:47:45.911 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:45.912 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:47:45.913 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:45.913 DEBUG 30384 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:48:40.029 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 09:48:40.030 DEBUG 30384 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:48:40.030 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:48:40.030 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 09:48:40.031 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 09:48:40.033 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 09:48:40.033 DEBUG 30384 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:48:40.036 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 09:48:40.036 DEBUG 30384 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:48:40.036 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:48:40.036 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 09:48:40.042 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 09:48:40.042 DEBUG 30384 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 09:48:40.044 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:48:40.045 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 09:48:40.047 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 09:48:40.047 DEBUG 30384 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:48:42.341 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 09:48:42.341 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:48:42.342 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:48:42.342 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 09:48:42.342 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 09:48:42.343 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 09:48:42.343 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:48:42.343 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 09:48:42.343 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:48:42.343 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:48:42.344 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 09:48:42.344 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 09:48:42.344 DEBUG 30384 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 09:48:42.345 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:48:42.345 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 09:48:42.346 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 09:48:42.347 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:51:42.500  INFO 30384 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 09:51:42.501  INFO 30384 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 09:51:42.509  INFO 30384 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 09:51:49.574  INFO 29640 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 29640 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 09:51:49.577 DEBUG 29640 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 09:51:49.577  INFO 29640 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 09:51:50.410  INFO 29640 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 09:51:50.597  INFO 29640 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 178 ms. Found 19 JPA repository interfaces.
2025-05-04 09:51:51.063  INFO 29640 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 09:51:51.065  INFO 29640 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 09:51:51.065  INFO 29640 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 09:51:51.065  INFO 29640 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 09:51:51.068  INFO 29640 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 09:51:51.076  INFO 29640 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 09:51:51.077  INFO 29640 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 09:51:51.197  INFO 29640 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 09:51:51.198  INFO 29640 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1579 ms
2025-05-04 09:51:51.361  INFO 29640 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 09:51:51.400  INFO 29640 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 09:51:51.521  INFO 29640 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 09:51:51.619  INFO 29640 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 09:51:51.874  INFO 29640 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 09:51:51.887  INFO 29640 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 09:51:52.916  INFO 29640 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 09:51:52.923  INFO 29640 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 09:51:53.323 DEBUG 29640 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 09:51:53.324 DEBUG 29640 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 09:51:54.125 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 09:51:54.131 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 09:51:54.131 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 09:51:54.131 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 09:51:54.137 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 09:51:54.137 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 09:51:54.137 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 09:51:54.137 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 09:51:54.138 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 09:51:54.138 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 09:51:54.138 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 09:51:54.138 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 09:51:54.144  INFO 29640 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@253c7189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@cfe72b0, org.springframework.security.web.context.SecurityContextPersistenceFilter@1503f434, org.springframework.security.web.header.HeaderWriterFilter@383a5260, org.springframework.web.filter.CorsFilter@61c0fb12, org.springframework.security.web.authentication.logout.LogoutFilter@7c7b27c, com.hotel.config.JwtAuthenticationFilter@6cb759d5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7af17d31, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40612056, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12f933c7, org.springframework.security.web.session.SessionManagementFilter@64f1b2fb, org.springframework.security.web.access.ExceptionTranslationFilter@76055d02, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@439047ef]
2025-05-04 09:51:54.184  WARN 29640 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 09:51:54.305 DEBUG 29640 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 09:51:54.324  INFO 29640 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 09:51:54.392 DEBUG 29640 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 09:51:54.400 DEBUG 29640 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 09:51:54.415 DEBUG 29640 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 09:51:54.423 DEBUG 29640 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 09:51:54.571  INFO 29640 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 09:51:54.579  INFO 29640 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 5.432 seconds (JVM running for 6.204)
2025-05-04 09:52:45.858  INFO 29640 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 09:52:45.858  INFO 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 09:52:45.859 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 09:52:45.859 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 09:52:45.859 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 09:52:45.860 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2e871e93
2025-05-04 09:52:45.860 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@54c1878b
2025-05-04 09:52:45.861 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 09:52:45.861  INFO 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-04 09:52:45.873 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:52:45.877 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:45.937 DEBUG 29640 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:52:45.945 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:52:45.946 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:52:45.947 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:52:45.951 DEBUG 29640 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:52:46.107 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:46.107 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:52:46.142 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:46.144 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:52:47.155 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:52:47.155 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:47.160 DEBUG 29640 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:52:47.161 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:52:47.161 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:52:47.161 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:52:47.162 DEBUG 29640 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:52:47.172  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 consumption records for userId: 18
2025-05-04 09:52:47.175  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:52:47.176  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 144777
2025-05-04 09:52:47.176  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:52:47.176  WARN 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Page start index 0 is out of bounds, history is empty. Returning empty list.
2025-05-04 09:52:47.176  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 0 history items for page 0 (size 10) for userId: 18. Total items: 0
2025-05-04 09:52:47.178 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:47.179 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:52:47.183 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:47.183 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:52:49.774 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:52:49.775 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:49.778 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:52:49.778 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:49.781 DEBUG 29640 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:52:49.783 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:52:49.783 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:52:49.783 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:52:49.785 DEBUG 29640 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:52:49.785 DEBUG 29640 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:52:49.785 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:52:49.785 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:52:49.787 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:52:49.788 DEBUG 29640 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:52:49.798 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:49.798 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:52:49.803 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:49.803 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:52:49.812 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:49.813 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:52:49.814 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:49.815 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:52:49.820 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:52:49.820 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:49.825 DEBUG 29640 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:52:49.826 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:52:49.826 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:52:49.827 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:52:49.827 DEBUG 29640 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:52:49.846 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:49.846 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:52:49.848 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:49.848 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:52:50.990 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:52:50.990 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:50.995 DEBUG 29640 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:52:50.995 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:52:50.996 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:52:50.996 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:52:50.997 DEBUG 29640 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:52:51.005  INFO 29640 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 consumption records for userId: 18
2025-05-04 09:52:51.007  INFO 29640 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:52:51.008  INFO 29640 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 144777
2025-05-04 09:52:51.008  INFO 29640 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:52:51.008  WARN 29640 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Page start index 0 is out of bounds, history is empty. Returning empty list.
2025-05-04 09:52:51.008  INFO 29640 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 0 history items for page 0 (size 10) for userId: 18. Total items: 0
2025-05-04 09:52:51.009 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:51.010 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:52:51.011 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:51.011 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:52:52.696 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 09:52:52.696 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:52:52.697 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:52.697 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:52.699 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:52:52.699 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 09:52:52.700 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 09:52:52.700 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 09:52:52.701 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 09:52:52.701 DEBUG 29640 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 09:52:52.704 DEBUG 29640 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:52:52.705 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:52:52.705 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:52:52.705 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:52:52.706 DEBUG 29640 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:52:52.714 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:52.714 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:52:52.715 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:52.716 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:52:52.753 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:52.754 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 09:52:52.756 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:52.756 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:00.364 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:53:00.364 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:00.369 DEBUG 29640 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:00.369 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:53:00.370 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:53:00.370 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:53:00.370 DEBUG 29640 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:53:00.376 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:00.376 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:53:00.377 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:00.377 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:01.319 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:01.320 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:01.324 DEBUG 29640 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:01.325 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:53:01.325 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:01.326 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:53:01.327 DEBUG 29640 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:53:01.342 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:01.343 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:53:01.345 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:01.345 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:06.183 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 09:53:06.183 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:53:06.183 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:06.183 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:06.184 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:53:06.184 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 09:53:06.185 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 09:53:06.185 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 09:53:06.186 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 09:53:06.186 DEBUG 29640 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 09:53:06.188 DEBUG 29640 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:06.189 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:53:06.189 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:53:06.189 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:53:06.190 DEBUG 29640 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:53:06.196 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:06.196 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:53:06.197 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:06.198 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:06.215 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:06.216 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 09:53:06.217 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:06.218 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:20.699 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 09:53:20.700 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:20.710 DEBUG 29640 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:20.710 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 09:53:20.711 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 09:53:20.711 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 09:53:20.711 DEBUG 29640 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 09:53:20.723 DEBUG 29640 --- [http-nio-8090-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=1, checkIn=2025-08-31T16:00:00.000Z, checkOut=2025-09-29T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 09:53:20.813  INFO 29640 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : [POINTS_ON_CREATE] Triggering consumption record for Reservation ID: 16
2025-05-04 09:53:20.817  INFO 29640 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] Calculated pointsEarned: 41402 for amount: 20701.07
2025-05-04 09:53:20.818  INFO 29640 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] ConsumptionRecord before save: [FAILED toString()]
2025-05-04 09:53:20.859  INFO 29640 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] Inside addConsumptionRecord. Saved entity ID: 1, Points Earned: 41402
2025-05-04 09:53:20.860  INFO 29640 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] ConsumptionRecord saved successfully. ID: 1, Points Earned in returned entity: 41402
2025-05-04 09:53:20.860  INFO 29640 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] User points before update: 144777, adding: 41402, after update: 186179
2025-05-04 09:53:20.868  INFO 29640 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] userService.updateUser called successfully for userId: 18
2025-05-04 09:53:20.868  INFO 29640 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : [POINTS_ON_CREATE] Consumption record processing finished for Reservation ID: 16
2025-05-04 09:53:20.893 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:20.893 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订创建成功, data={discountRate=0.85, reservationId=16, origi (truncated)...]
2025-05-04 09:53:20.897 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:20.897 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:21.213 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-04 09:53:21.213 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:21.217 DEBUG 29640 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:21.218 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-04 09:53:21.218 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-04 09:53:21.218 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-04 09:53:21.219 DEBUG 29640 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-04 09:53:21.225 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:21.225 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=MembershipDTO(userId=18, username=dawwadw, name=asdwd, memberLevel=钻石会员, memberLevel (truncated)...]
2025-05-04 09:53:21.229 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:21.229 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:22.081 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:53:22.081 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:22.087 DEBUG 29640 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:22.087 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:53:22.088 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:53:22.088 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:53:22.088 DEBUG 29640 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:53:22.095 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:22.096 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:53:22.097 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:22.098 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:22.390 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:22.390 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:22.393 DEBUG 29640 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:22.394 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:53:22.394 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:22.394 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:53:22.395 DEBUG 29640 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:53:22.411 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:22.412 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:53:22.413 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:22.413 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:22.722 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:22.723 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:22.727 DEBUG 29640 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:22.727 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:53:22.727 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:22.728 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:53:22.728 DEBUG 29640 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:53:22.746 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:22.746 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:53:22.747 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:22.748 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:25.868 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:53:25.868 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:25.872 DEBUG 29640 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:25.873 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:53:25.874 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:53:25.874 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:53:25.874 DEBUG 29640 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:53:25.882  INFO 29640 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 09:53:25.884  INFO 29640 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:53:25.884  INFO 29640 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 09:53:25.885  INFO 29640 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 09:53:25.885  INFO 29640 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:53:25.885  INFO 29640 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 09:53:25.885 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:25.885 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 09:53:25.888 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:25.888 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:28.218 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:28.218 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:28.223 DEBUG 29640 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:28.224 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:53:28.224 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:28.224 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:53:28.225 DEBUG 29640 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:53:28.245 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:28.245 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:53:28.247 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:28.248 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:29.883 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:53:29.883 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:29.886 DEBUG 29640 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:29.887 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:53:29.888 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:53:29.888 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:53:29.888 DEBUG 29640 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:53:29.894  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 09:53:29.896  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:53:29.896  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 09:53:29.896  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 09:53:29.897  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:53:29.897  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 09:53:29.898 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:29.898 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 09:53:29.899 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:29.899 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:56:56.413 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:56:56.414 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:56:56.421 DEBUG 29640 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:56:56.422 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:56:56.422 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:56:56.423 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:56:56.423 DEBUG 29640 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:56:56.430 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:56:56.430 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:56:56.431 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:56:56.432 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:56:56.466 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:56:56.466 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:56:56.471 DEBUG 29640 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:56:56.472 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:56:56.472 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:56:56.472 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:56:56.473 DEBUG 29640 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:56:56.493 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:56:56.493 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:56:56.494 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:56:56.494 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:56:56.726 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:56:56.727 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:56:56.730 DEBUG 29640 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:56:56.731 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:56:56.732 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:56:56.732 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:56:56.732 DEBUG 29640 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:56:56.753 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:56:56.753 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:56:56.755 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:56:56.755 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:57:59.525 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:57:59.525 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:57:59.526 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:57:59.526 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:57:59.530 DEBUG 29640 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:57:59.530 DEBUG 29640 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:57:59.531 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:57:59.531 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:57:59.531 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:57:59.531 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:57:59.532 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:57:59.532 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:57:59.532 DEBUG 29640 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:57:59.533 DEBUG 29640 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:57:59.538 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:57:59.539 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:57:59.540 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:57:59.540 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:57:59.551 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:57:59.551 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:57:59.553 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:57:59.553 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:57:59.563 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:57:59.564 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:57:59.567 DEBUG 29640 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:57:59.569 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:57:59.569 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:57:59.569 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:57:59.570 DEBUG 29640 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:57:59.589 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:57:59.589 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:57:59.591 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:57:59.591 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:58:01.044 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:58:01.045 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:58:01.049 DEBUG 29640 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:58:01.049 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:58:01.050 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:58:01.050 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:58:01.050 DEBUG 29640 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:58:01.057  INFO 29640 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 09:58:01.059  INFO 29640 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:58:01.060  INFO 29640 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 09:58:01.060  INFO 29640 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 09:58:01.060  INFO 29640 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:58:01.060  INFO 29640 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 09:58:01.060 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:58:01.061 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 09:58:01.062 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:58:01.062 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:05.532 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 10:02:05.532 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:05.538 DEBUG 29640 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:05.539 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 10:02:05.539 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 10:02:05.539 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 10:02:05.540 DEBUG 29640 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 10:02:05.546 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:05.547 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 10:02:05.548 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:05.549 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:05.562 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:05.562 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:05.567 DEBUG 29640 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:05.567 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 10:02:05.567 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:05.567 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 10:02:05.568 DEBUG 29640 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:05.584 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:05.585 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 10:02:05.586 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:05.587 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:05.848 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:05.848 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:05.853 DEBUG 29640 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:05.853 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 10:02:05.853 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:05.853 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 10:02:05.853 DEBUG 29640 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:05.870 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:05.870 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 10:02:05.871 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:05.871 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:13.607 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 10:02:13.608 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:13.608 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:13.608 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:13.611 DEBUG 29640 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:13.611 DEBUG 29640 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:13.612 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 10:02:13.612 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 10:02:13.612 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:13.612 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 10:02:13.612 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 10:02:13.612 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 10:02:13.613 DEBUG 29640 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:13.613 DEBUG 29640 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 10:02:13.619 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:13.619 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 10:02:13.620 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:13.620 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:13.632 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:13.633 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 10:02:13.635 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:13.635 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:13.642 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:13.642 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:13.646 DEBUG 29640 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:13.647 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 10:02:13.647 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:13.647 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 10:02:13.648 DEBUG 29640 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:13.665 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:13.665 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 10:02:13.666 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:13.666 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:15.089 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 10:02:15.090 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:15.095 DEBUG 29640 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:15.095 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 10:02:15.096 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 10:02:15.096 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 10:02:15.096 DEBUG 29640 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:15.125 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:15.126 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 10:02:15.127 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:15.127 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:15.588 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 10:02:15.588 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:15.592 DEBUG 29640 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:15.592 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED] with attributes [authenticated]
2025-05-04 10:02:15.592 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 10:02:15.593 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CONFIRMED", parameters={masked}
2025-05-04 10:02:15.593 DEBUG 29640 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:15.601 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:15.601 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 10:02:15.602 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:15.602 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:16.110 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 10:02:16.110 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:16.114 DEBUG 29640 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:16.114 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED] with attributes [authenticated]
2025-05-04 10:02:16.114 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 10:02:16.115 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=COMPLETED", parameters={masked}
2025-05-04 10:02:16.115 DEBUG 29640 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:16.121 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:16.122 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 10:02:16.123 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:16.123 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:16.797 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED
2025-05-04 10:02:16.798 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:16.801 DEBUG 29640 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:16.802 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED] with attributes [authenticated]
2025-05-04 10:02:16.803 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED
2025-05-04 10:02:16.803 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CANCELLED", parameters={masked}
2025-05-04 10:02:16.803 DEBUG 29640 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:16.810 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:16.811 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 10:02:16.812 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:16.812 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:17.186 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:17.187 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:17.191 DEBUG 29640 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:17.191 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 10:02:17.191 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:17.191 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 10:02:17.192 DEBUG 29640 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:17.205 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:17.206 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 10:02:17.207 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:17.208 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:18.910 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 10:02:18.910 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:18.915 DEBUG 29640 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:18.915 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 10:02:18.915 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 10:02:18.916 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 10:02:18.917 DEBUG 29640 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 10:02:18.924  INFO 29640 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 10:02:18.926  INFO 29640 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 10:02:18.926  INFO 29640 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 10:02:18.926  INFO 29640 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 10:02:18.926  INFO 29640 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 10:02:18.926  INFO 29640 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 10:02:18.926 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:18.927 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 10:02:18.928 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:18.928 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:31.542 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 10:02:31.543 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:31.545 DEBUG 29640 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:31.546 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 10:02:31.546 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 10:02:31.547 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 10:02:31.547 DEBUG 29640 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 10:02:31.553  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 10:02:31.554  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 10:02:31.555  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 10:02:31.555  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 10:02:31.555  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 10:02:31.555  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 10:02:31.555 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:31.555 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 10:02:31.556 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:31.556 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:34.612 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 10:02:34.612 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:34.615 DEBUG 29640 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:34.616 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 10:02:34.616 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 10:02:34.617 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 10:02:34.617 DEBUG 29640 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 10:02:34.623  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 10:02:34.625  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 10:02:34.625  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 10:02:34.625  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 10:02:34.625  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 10:02:34.626  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 10:02:34.626 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:34.626 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 10:02:34.627 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:34.627 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:34.876 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:34.876 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:34.880 DEBUG 29640 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:34.881 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 10:02:34.881 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:34.881 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 10:02:34.881 DEBUG 29640 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:34.897 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:34.897 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 10:02:34.898 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:34.899 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:39.531 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 10:02:39.531 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:39.534 DEBUG 29640 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:39.535 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 10:02:39.535 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 10:02:39.535 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 10:02:39.535 DEBUG 29640 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 10:02:39.540 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:39.541 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 10:02:39.542 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:39.542 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:04:00.906 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/invitation-codes/all
2025-05-04 10:04:00.907 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:04:00.911 DEBUG 29640 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 10:04:00.911 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/invitation-codes/all] with attributes [authenticated]
2025-05-04 10:04:00.912 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/invitation-codes/all
2025-05-04 10:04:00.912 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/invitation-codes/all", parameters={}
2025-05-04 10:04:00.912 DEBUG 29640 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.InvitationCodeController#getAllInvitationCodes()
2025-05-04 10:04:00.930 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:04:00.931 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[InvitationCode(id=12, code=L1R1O7TC, role=CLEANER, maxUses=1, currentUses=0, expiryDate=2025-06-01T (truncated)...]
2025-05-04 10:04:00.934 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:04:00.935 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:04:09.845 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 10:04:09.846 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:04:09.846 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 10:04:09.846 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 10:04:09.853 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 10:04:09.854 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 10:04:09.855 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:04:09.857 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 10:04:09.857 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:04:09.858 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 10:04:09.858 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 10:04:09.864 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 10:04:09.864 DEBUG 29640 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 10:04:09.867 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:04:09.867 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 10:04:09.868 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 10:04:09.868 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
