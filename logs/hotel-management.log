2025-05-07 08:57:25.921  INFO 7292 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 7292 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 08:57:25.931 DEBUG 7292 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 08:57:25.932  INFO 7292 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 08:57:26.919  INFO 7292 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 08:57:27.154  INFO 7292 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 221 ms. Found 19 JPA repository interfaces.
2025-05-07 08:57:27.781  INFO 7292 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 08:57:27.783  INFO 7292 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 08:57:27.783  INFO 7292 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 08:57:27.783  INFO 7292 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 08:57:27.789  INFO 7292 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 08:57:27.799  INFO 7292 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 08:57:27.800  INFO 7292 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 08:57:27.969  INFO 7292 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 08:57:27.969  INFO 7292 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1979 ms
2025-05-07 08:57:28.162  INFO 7292 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 08:57:28.223  INFO 7292 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 08:57:28.398  INFO 7292 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 08:57:28.539  INFO 7292 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 08:57:28.912  INFO 7292 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 08:57:28.928  INFO 7292 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 08:57:30.081  INFO 7292 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 08:57:30.088  INFO 7292 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 08:57:30.539 DEBUG 7292 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 08:57:30.539 DEBUG 7292 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 08:57:31.408 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 08:57:31.416 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 08:57:31.416 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 08:57:31.416 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 08:57:31.416 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 08:57:31.417 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 08:57:31.417 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 08:57:31.417 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 08:57:31.417 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 08:57:31.417 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 08:57:31.418 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 08:57:31.418 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 08:57:31.418 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 08:57:31.418 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 08:57:31.418 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 08:57:31.418 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 08:57:31.418 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 08:57:31.418 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 08:57:31.419 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 08:57:31.419 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 08:57:31.419 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 08:57:31.419 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 08:57:31.419 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 08:57:31.419 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 08:57:31.419 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 08:57:31.420 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 08:57:31.420 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 08:57:31.420 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 08:57:31.420 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 08:57:31.420 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 08:57:31.420 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 08:57:31.420 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 08:57:31.421 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 08:57:31.421 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 08:57:31.421 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 08:57:31.421 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 08:57:31.422 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 08:57:31.423 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 08:57:31.423 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 08:57:31.423 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 08:57:31.423 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 08:57:31.424 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 08:57:31.424 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 08:57:31.424 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 08:57:31.424 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 08:57:31.424 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 08:57:31.424 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 08:57:31.425 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 08:57:31.425 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 08:57:31.425 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 08:57:31.425 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 08:57:31.425 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 08:57:31.425 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 08:57:31.425 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 08:57:31.432  INFO 7292 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4117e0c9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@568e2d65, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c6557da, org.springframework.security.web.header.HeaderWriterFilter@2e93f91d, org.springframework.web.filter.CorsFilter@751b901a, org.springframework.security.web.authentication.logout.LogoutFilter@78ca8258, com.hotel.config.JwtAuthenticationFilter@33986be7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3985175e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d91e8c7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e528476, org.springframework.security.web.session.SessionManagementFilter@6e6ec71f, org.springframework.security.web.access.ExceptionTranslationFilter@14cc1f5c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30942f54]
2025-05-07 08:57:31.473  WARN 7292 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 08:57:31.590 DEBUG 7292 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 08:57:31.611  INFO 7292 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 08:57:31.676 DEBUG 7292 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 08:57:31.681 DEBUG 7292 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 08:57:31.698 DEBUG 7292 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 08:57:31.712 DEBUG 7292 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 08:57:31.902  INFO 7292 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 08:57:31.910  INFO 7292 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.499 seconds (JVM running for 7.472)
2025-05-07 08:57:46.253  INFO 7292 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 08:57:46.254  INFO 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 08:57:46.254 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 08:57:46.254 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 08:57:46.254 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 08:57:46.255 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@331da721
2025-05-07 08:57:46.256 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@225b460a
2025-05-07 08:57:46.256 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 08:57:46.256  INFO 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-07 08:57:46.269 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 08:57:46.273 DEBUG 7292 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 08:57:46.338  INFO 7292 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 08:57:46.342  INFO 7292 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 08:57:46.342  INFO 7292 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 08:57:46.344 DEBUG 7292 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 08:57:46.354 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 08:57:46.354 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 08:57:46.356 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 08:57:46.360 DEBUG 7292 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 08:57:46.420 ERROR 7292 --- [http-nio-8090-exec-1] c.h.controller.CleaningRecordController  : 获取清洁记录失败

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source) ~[na:na]
	at com.hotel.service.impl.CleaningServiceImpl.getAllCleaningRecords(CleaningServiceImpl.java:166) ~[classes/:na]
	at com.hotel.service.impl.CleaningServiceImpl$$FastClassBySpringCGLIB$$81ac99ee.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.CleaningServiceImpl$$EnhancerBySpringCGLIB$$315393ab.getAllCleaningRecords(<generated>) ~[classes/:na]
	at com.hotel.controller.CleaningRecordController.getCleaningRecords(CleaningRecordController.java:64) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:427) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-07 08:57:46.440 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 08:57:46.440 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=获取清洁记录失败: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.co (truncated)...]
2025-05-07 08:57:46.458 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-07 08:57:46.459 DEBUG 7292 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 08:57:46.933 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 08:57:46.934 DEBUG 7292 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 08:57:46.936  INFO 7292 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 08:57:46.940  INFO 7292 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 08:57:46.940  INFO 7292 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 08:57:46.940 DEBUG 7292 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 08:57:46.941 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 08:57:46.942 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 08:57:46.942 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 08:57:46.943 DEBUG 7292 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 08:57:46.952  INFO 7292 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 08:57:46.992  INFO 7292 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 找到 3 个需要清洁的房间
2025-05-07 08:57:47.012  INFO 7292 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 08:57:47.021  INFO 7292 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 房间 302 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:47.024  INFO 7292 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 房间 408 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:47.028  INFO 7292 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 房间 414 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:47.028  INFO 7292 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 08:57:47.049 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 08:57:47.050 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=5, roomNumber=505, roomType=家庭 (truncated)...]
2025-05-07 08:57:47.100 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 08:57:47.100 DEBUG 7292 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 08:57:47.115 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 08:57:47.115 DEBUG 7292 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 08:57:47.117  INFO 7292 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 08:57:47.122  INFO 7292 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 08:57:47.122  INFO 7292 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 08:57:47.122 DEBUG 7292 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 08:57:47.123 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 08:57:47.123 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 08:57:47.123 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 08:57:47.123 DEBUG 7292 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 08:57:47.124  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 08:57:47.131  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 找到 3 个需要清洁的房间
2025-05-07 08:57:47.133  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 08:57:47.136  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 房间 302 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:47.138  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 房间 408 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:47.140  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 房间 414 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:47.140  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 08:57:47.154 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 08:57:47.154 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 08:57:47.161 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 08:57:47.161 DEBUG 7292 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 08:57:48.166 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 08:57:48.166 DEBUG 7292 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 08:57:48.168  INFO 7292 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 08:57:48.171  INFO 7292 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 08:57:48.171  INFO 7292 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 08:57:48.171 DEBUG 7292 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 08:57:48.172 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 08:57:48.173 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 08:57:48.173 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 08:57:48.173 DEBUG 7292 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 08:57:48.175  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 08:57:48.184  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 找到 3 个需要清洁的房间
2025-05-07 08:57:48.187  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 08:57:48.190  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 房间 302 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:48.194  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 房间 408 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:48.197  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 房间 414 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:48.197  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 08:57:48.203 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 08:57:48.204 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=5, roomNumber=505, roomType=家庭 (truncated)...]
2025-05-07 08:57:48.205 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 08:57:48.206 DEBUG 7292 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 08:57:48.217 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 08:57:48.217 DEBUG 7292 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 08:57:48.220  INFO 7292 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 08:57:48.223  INFO 7292 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 08:57:48.223  INFO 7292 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 08:57:48.224 DEBUG 7292 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 08:57:48.224 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 08:57:48.225 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 08:57:48.225 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 08:57:48.226 DEBUG 7292 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 08:57:48.226  INFO 7292 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 08:57:48.234  INFO 7292 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 找到 3 个需要清洁的房间
2025-05-07 08:57:48.236  INFO 7292 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 08:57:48.237  INFO 7292 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 房间 302 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:48.239  INFO 7292 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 房间 408 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:48.242  INFO 7292 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 房间 414 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:48.242  INFO 7292 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 08:57:48.248 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 08:57:48.249 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 08:57:48.249 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 08:57:48.250 DEBUG 7292 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 08:57:56.157 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 08:57:56.158 DEBUG 7292 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 08:57:56.159  INFO 7292 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 08:57:56.163  INFO 7292 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 08:57:56.164  INFO 7292 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 08:57:56.164 DEBUG 7292 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 08:57:56.165 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 08:57:56.165 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 08:57:56.165 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 08:57:56.166 DEBUG 7292 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 08:57:56.172 ERROR 7292 --- [http-nio-8090-exec-6] c.h.controller.CleaningRecordController  : 获取清洁记录失败

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source) ~[na:na]
	at com.hotel.service.impl.CleaningServiceImpl.getAllCleaningRecords(CleaningServiceImpl.java:166) ~[classes/:na]
	at com.hotel.service.impl.CleaningServiceImpl$$FastClassBySpringCGLIB$$81ac99ee.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.CleaningServiceImpl$$EnhancerBySpringCGLIB$$315393ab.getAllCleaningRecords(<generated>) ~[classes/:na]
	at com.hotel.controller.CleaningRecordController.getCleaningRecords(CleaningRecordController.java:64) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:427) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-07 08:57:56.174 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 08:57:56.174 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=获取清洁记录失败: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.co (truncated)...]
2025-05-07 08:57:56.175 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-07 08:57:56.176 DEBUG 7292 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 08:59:13.731 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 08:59:13.732 DEBUG 7292 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 08:59:13.733  INFO 7292 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 08:59:13.737  INFO 7292 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 08:59:13.738  INFO 7292 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 08:59:13.738 DEBUG 7292 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 08:59:13.739 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 08:59:13.740 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 08:59:13.740 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 08:59:13.741 DEBUG 7292 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 08:59:13.748 ERROR 7292 --- [http-nio-8090-exec-3] c.h.controller.CleaningRecordController  : 获取清洁记录失败

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source) ~[na:na]
	at com.hotel.service.impl.CleaningServiceImpl.getAllCleaningRecords(CleaningServiceImpl.java:166) ~[classes/:na]
	at com.hotel.service.impl.CleaningServiceImpl$$FastClassBySpringCGLIB$$81ac99ee.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.CleaningServiceImpl$$EnhancerBySpringCGLIB$$315393ab.getAllCleaningRecords(<generated>) ~[classes/:na]
	at com.hotel.controller.CleaningRecordController.getCleaningRecords(CleaningRecordController.java:64) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:427) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-07 08:59:13.750 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 08:59:13.751 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=获取清洁记录失败: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.co (truncated)...]
2025-05-07 08:59:13.752 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-07 08:59:13.753 DEBUG 7292 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:08:43.797 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:08:43.798 DEBUG 7292 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:08:43.799  INFO 7292 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:08:43.803  INFO 7292 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:08:43.803  INFO 7292 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:08:43.803 DEBUG 7292 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:08:43.804 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:08:43.805 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:08:43.805 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:08:43.806 DEBUG 7292 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:08:43.812 ERROR 7292 --- [http-nio-8090-exec-8] c.h.controller.CleaningRecordController  : 获取清洁记录失败

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source) ~[na:na]
	at com.hotel.service.impl.CleaningServiceImpl.getAllCleaningRecords(CleaningServiceImpl.java:166) ~[classes/:na]
	at com.hotel.service.impl.CleaningServiceImpl$$FastClassBySpringCGLIB$$81ac99ee.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.CleaningServiceImpl$$EnhancerBySpringCGLIB$$315393ab.getAllCleaningRecords(<generated>) ~[classes/:na]
	at com.hotel.controller.CleaningRecordController.getCleaningRecords(CleaningRecordController.java:64) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:427) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-07 09:08:43.814 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:08:43.814 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=获取清洁记录失败: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.co (truncated)...]
2025-05-07 09:08:43.816 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-07 09:08:43.816 DEBUG 7292 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:09:07.159 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:09:07.160 DEBUG 7292 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:09:07.162  INFO 7292 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:09:07.168  INFO 7292 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:09:07.168  INFO 7292 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:09:07.168 DEBUG 7292 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:09:07.168 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:09:07.169 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:09:07.169 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:09:07.170 DEBUG 7292 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:09:07.178 ERROR 7292 --- [http-nio-8090-exec-9] c.h.controller.CleaningRecordController  : 获取清洁记录失败

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source) ~[na:na]
	at com.hotel.service.impl.CleaningServiceImpl.getAllCleaningRecords(CleaningServiceImpl.java:166) ~[classes/:na]
	at com.hotel.service.impl.CleaningServiceImpl$$FastClassBySpringCGLIB$$81ac99ee.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.CleaningServiceImpl$$EnhancerBySpringCGLIB$$315393ab.getAllCleaningRecords(<generated>) ~[classes/:na]
	at com.hotel.controller.CleaningRecordController.getCleaningRecords(CleaningRecordController.java:64) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:427) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-07 09:09:07.183 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:09:07.183 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=获取清洁记录失败: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.co (truncated)...]
2025-05-07 09:09:07.184 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-07 09:09:07.184 DEBUG 7292 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:10:57.348 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:10:57.349 DEBUG 7292 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:10:57.351  INFO 7292 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:10:57.355  INFO 7292 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:10:57.355  INFO 7292 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:10:57.355 DEBUG 7292 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:10:57.356 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:10:57.356 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:10:57.356 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:10:57.356 DEBUG 7292 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:10:57.362 ERROR 7292 --- [http-nio-8090-exec-2] c.h.controller.CleaningRecordController  : 获取清洁记录失败

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source) ~[na:na]
	at com.hotel.service.impl.CleaningServiceImpl.getAllCleaningRecords(CleaningServiceImpl.java:166) ~[classes/:na]
	at com.hotel.service.impl.CleaningServiceImpl$$FastClassBySpringCGLIB$$81ac99ee.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.CleaningServiceImpl$$EnhancerBySpringCGLIB$$315393ab.getAllCleaningRecords(<generated>) ~[classes/:na]
	at com.hotel.controller.CleaningRecordController.getCleaningRecords(CleaningRecordController.java:64) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:427) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-07 09:10:57.364 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:10:57.364 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=获取清洁记录失败: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.co (truncated)...]
2025-05-07 09:10:57.365 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-07 09:10:57.365 DEBUG 7292 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:11:21.357 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:11:21.358 DEBUG 7292 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:11:21.360  INFO 7292 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:11:21.364  INFO 7292 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:11:21.364  INFO 7292 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:11:21.365 DEBUG 7292 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:11:21.365 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:11:21.365 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:11:21.365 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:11:21.366 DEBUG 7292 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:11:21.373 ERROR 7292 --- [http-nio-8090-exec-1] c.h.controller.CleaningRecordController  : 获取清洁记录失败

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source) ~[na:na]
	at com.hotel.service.impl.CleaningServiceImpl.getAllCleaningRecords(CleaningServiceImpl.java:166) ~[classes/:na]
	at com.hotel.service.impl.CleaningServiceImpl$$FastClassBySpringCGLIB$$81ac99ee.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.CleaningServiceImpl$$EnhancerBySpringCGLIB$$315393ab.getAllCleaningRecords(<generated>) ~[classes/:na]
	at com.hotel.controller.CleaningRecordController.getCleaningRecords(CleaningRecordController.java:64) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:427) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-07 09:11:21.375 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:11:21.375 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=获取清洁记录失败: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.co (truncated)...]
2025-05-07 09:11:21.377 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-07 09:11:21.377 DEBUG 7292 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:13:13.768 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:13:13.768 DEBUG 7292 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:13:13.770  INFO 7292 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:13:13.774  INFO 7292 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:13:13.774  INFO 7292 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:13:13.774 DEBUG 7292 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:13:13.775 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:13:13.775 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:13:13.775 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:13:13.775 DEBUG 7292 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:13:13.816 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:13:13.817 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 09:13:13.818 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:13:13.819 DEBUG 7292 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:13.613 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 09:14:13.614 DEBUG 7292 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:13.615  INFO 7292 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:13.618  INFO 7292 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:13.618  INFO 7292 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:13.618 DEBUG 7292 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:13.618 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 09:14:13.619 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 09:14:13.619 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 09:14:13.619 DEBUG 7292 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 09:14:13.620  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 09:14:13.627  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 找到 3 个需要清洁的房间
2025-05-07 09:14:13.629  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 09:14:13.632  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 房间 302 已存在有效的清洁任务，跳过任务创建
2025-05-07 09:14:13.635  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 房间 408 已存在有效的清洁任务，跳过任务创建
2025-05-07 09:14:13.638  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 房间 414 已存在有效的清洁任务，跳过任务创建
2025-05-07 09:14:13.638  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 09:14:13.646 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:13.646 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=5, roomNumber=505, roomType=家庭 (truncated)...]
2025-05-07 09:14:13.647 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:13.647 DEBUG 7292 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:13.668 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 09:14:13.668 DEBUG 7292 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:13.669  INFO 7292 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:13.672  INFO 7292 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:13.672  INFO 7292 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:13.672 DEBUG 7292 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:13.672 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 09:14:13.673 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 09:14:13.673 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 09:14:13.673 DEBUG 7292 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 09:14:13.673  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 09:14:13.679  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 找到 3 个需要清洁的房间
2025-05-07 09:14:13.681  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 09:14:13.683  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 房间 302 已存在有效的清洁任务，跳过任务创建
2025-05-07 09:14:13.685  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 房间 408 已存在有效的清洁任务，跳过任务创建
2025-05-07 09:14:13.687  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 房间 414 已存在有效的清洁任务，跳过任务创建
2025-05-07 09:14:13.687  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 09:14:13.695 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:13.695 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 09:14:13.696 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:13.696 DEBUG 7292 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:16.618 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/3/start
2025-05-07 09:14:16.618 DEBUG 7292 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:16.628  INFO 7292 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:16.638  INFO 7292 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:16.638  INFO 7292 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:16.638 DEBUG 7292 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:16.638 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/3/start] with attributes [authenticated]
2025-05-07 09:14:16.638 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/3/start
2025-05-07 09:14:16.638 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/3/start", parameters={}
2025-05-07 09:14:16.638 DEBUG 7292 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#startTask(Long)
2025-05-07 09:14:16.688 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:16.688 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Task(id=3, roomNumber=414, roomType=家庭套房, cleaner=清洁人员, priority=medium, status=processing, expected (truncated)...]
2025-05-07 09:14:16.688 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:16.688 DEBUG 7292 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:21.209 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/3/complete
2025-05-07 09:14:21.219 DEBUG 7292 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:21.219  INFO 7292 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:21.219  INFO 7292 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:21.219  INFO 7292 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:21.219 DEBUG 7292 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:21.219 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/3/complete] with attributes [authenticated]
2025-05-07 09:14:21.219 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/3/complete
2025-05-07 09:14:21.219 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/3/complete", parameters={}
2025-05-07 09:14:21.219 DEBUG 7292 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#completeTask(Long, TaskDTO)
2025-05-07 09:14:21.258 DEBUG 7292 --- [http-nio-8090-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, expectedT (truncated)...]
2025-05-07 09:14:21.268  INFO 7292 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 任务完成：ID=3, 房间=414, 实际用时=30分钟
2025-05-07 09:14:21.278  INFO 7292 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 已更新房间状态：房间号=414, 状态=AVAILABLE, 需要清洁=false
2025-05-07 09:14:21.328 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:21.328 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Task(id=3, roomNumber=414, roomType=家庭套房, cleaner=清洁人员, priority=medium, status=completed, expectedT (truncated)...]
2025-05-07 09:14:21.328 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:21.328 DEBUG 7292 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:21.348 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 09:14:21.348 DEBUG 7292 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:21.348  INFO 7292 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:21.348  INFO 7292 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:21.348  INFO 7292 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:21.348 DEBUG 7292 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:21.348 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 09:14:21.348 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 09:14:21.348 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 09:14:21.348 DEBUG 7292 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 09:14:21.348  INFO 7292 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 09:14:21.358  INFO 7292 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 找到 2 个需要清洁的房间
2025-05-07 09:14:21.358  INFO 7292 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 09:14:21.368  INFO 7292 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 房间 302 已存在有效的清洁任务，跳过任务创建
2025-05-07 09:14:21.368  INFO 7292 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 房间 408 已存在有效的清洁任务，跳过任务创建
2025-05-07 09:14:21.368  INFO 7292 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 09:14:21.378 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:21.378 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=5, roomNumber=505, roomType=家庭 (truncated)...]
2025-05-07 09:14:21.378 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:21.378 DEBUG 7292 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:21.408 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 09:14:21.408 DEBUG 7292 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:21.408  INFO 7292 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:21.408  INFO 7292 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:21.408  INFO 7292 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:21.408 DEBUG 7292 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:21.408 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 09:14:21.408 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 09:14:21.408 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 09:14:21.408 DEBUG 7292 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 09:14:21.408  INFO 7292 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 09:14:21.418  INFO 7292 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 找到 2 个需要清洁的房间
2025-05-07 09:14:21.418  INFO 7292 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 09:14:21.418  INFO 7292 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 房间 302 已存在有效的清洁任务，跳过任务创建
2025-05-07 09:14:21.418  INFO 7292 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 房间 408 已存在有效的清洁任务，跳过任务创建
2025-05-07 09:14:21.418  INFO 7292 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 09:14:21.428 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:21.428 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 09:14:21.428 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:21.428 DEBUG 7292 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:24.852 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:14:24.852 DEBUG 7292 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:24.852  INFO 7292 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:24.852  INFO 7292 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:24.852  INFO 7292 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:24.852 DEBUG 7292 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:24.852 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:14:24.852 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:14:24.852 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:14:24.852 DEBUG 7292 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:14:24.879 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:24.879 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 09:14:24.879 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:24.879 DEBUG 7292 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:26.115 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:14:26.115 DEBUG 7292 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:26.125  INFO 7292 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:26.125  INFO 7292 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:26.125  INFO 7292 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:26.125 DEBUG 7292 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:26.125 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:14:26.125 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:14:26.125 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:14:26.125 DEBUG 7292 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:14:26.146 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:26.146 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 09:14:26.146 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:26.146 DEBUG 7292 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:26.626 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:14:26.626 DEBUG 7292 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:26.626  INFO 7292 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:26.626  INFO 7292 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:26.626  INFO 7292 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:26.626 DEBUG 7292 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:26.626 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:14:26.626 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:14:26.626 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:14:26.636 DEBUG 7292 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:14:26.656 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:26.656 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 09:14:26.656 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:26.656 DEBUG 7292 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:28.748 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:14:28.748 DEBUG 7292 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:28.758  INFO 7292 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:28.758  INFO 7292 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:28.758  INFO 7292 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:28.758 DEBUG 7292 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:28.763 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:14:28.763 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:14:28.763 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:14:28.763 DEBUG 7292 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:14:28.778 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:28.778 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 09:14:28.778 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:28.778 DEBUG 7292 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:30.564 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:14:30.564 DEBUG 7292 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:30.564  INFO 7292 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:30.574  INFO 7292 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:30.574  INFO 7292 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:30.574 DEBUG 7292 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:30.574 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:14:30.574 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:14:30.574 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:14:30.574 DEBUG 7292 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:14:30.594 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:30.594 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 09:14:30.594 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:30.594 DEBUG 7292 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:31.157 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:14:31.157 DEBUG 7292 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:31.157  INFO 7292 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:31.167  INFO 7292 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:31.167  INFO 7292 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:31.167 DEBUG 7292 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:31.167 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:14:31.167 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:14:31.167 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:14:31.167 DEBUG 7292 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:14:31.187 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:31.187 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 09:14:31.187 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:31.187 DEBUG 7292 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:31.377 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:14:31.377 DEBUG 7292 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:31.377  INFO 7292 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:31.387  INFO 7292 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:31.387  INFO 7292 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:31.387 DEBUG 7292 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:31.387 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:14:31.387 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:14:31.387 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:14:31.387 DEBUG 7292 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:14:31.397 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:31.397 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 09:14:31.407 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:31.407 DEBUG 7292 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:38.317 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records?status=COMPLETED
2025-05-07 09:14:38.317 DEBUG 7292 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:38.317  INFO 7292 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:38.317  INFO 7292 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:38.317  INFO 7292 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:38.317 DEBUG 7292 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:38.317 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records?status=COMPLETED] with attributes [authenticated]
2025-05-07 09:14:38.317 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records?status=COMPLETED
2025-05-07 09:14:38.317 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records?status=COMPLETED", parameters={masked}
2025-05-07 09:14:38.317 DEBUG 7292 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:14:38.347 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:38.347 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=2, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 09:14:38.347 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:38.347 DEBUG 7292 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:38.795 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records?status=IN_PROGRESS
2025-05-07 09:14:38.795 DEBUG 7292 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:38.795  INFO 7292 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:38.797  INFO 7292 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:38.797  INFO 7292 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:38.797 DEBUG 7292 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:38.797 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records?status=IN_PROGRESS] with attributes [authenticated]
2025-05-07 09:14:38.797 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records?status=IN_PROGRESS
2025-05-07 09:14:38.797 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records?status=IN_PROGRESS", parameters={masked}
2025-05-07 09:14:38.797 DEBUG 7292 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:14:38.807 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:38.807 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=1, records=[{duration=进行中, roomNumber=201, cleaner=清洁人员, startTime=2025-05-01T13:00, id=3, en (truncated)...]
2025-05-07 09:14:38.807 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:38.807 DEBUG 7292 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:39.531 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:14:39.531 DEBUG 7292 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:39.531  INFO 7292 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:39.531  INFO 7292 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:39.531  INFO 7292 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:39.531 DEBUG 7292 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:39.531 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:14:39.531 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:14:39.531 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:14:39.531 DEBUG 7292 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:14:39.550 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:39.550 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 09:14:39.550 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:39.550 DEBUG 7292 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:54.740 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/2/start
2025-05-07 09:14:54.740 DEBUG 7292 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:54.740  INFO 7292 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:54.742  INFO 7292 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:54.742  INFO 7292 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:54.742 DEBUG 7292 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:54.742 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/2/start] with attributes [authenticated]
2025-05-07 09:14:54.742 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/2/start
2025-05-07 09:14:54.742 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/2/start", parameters={}
2025-05-07 09:14:54.742 DEBUG 7292 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#startTask(Long)
2025-05-07 09:14:54.752 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:54.752 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Task(id=2, roomNumber=408, roomType=家庭套房, cleaner=清洁人员, priority=medium, status=processing, expected (truncated)...]
2025-05-07 09:14:54.752 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:54.752 DEBUG 7292 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:08:29.495  INFO 24604 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 24604 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 10:08:29.495 DEBUG 24604 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 10:08:29.495  INFO 24604 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 10:08:30.324  INFO 24604 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 10:08:30.515  INFO 24604 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 182 ms. Found 19 JPA repository interfaces.
2025-05-07 10:08:31.005  INFO 24604 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 10:08:31.005  INFO 24604 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 10:08:31.005  INFO 24604 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 10:08:31.005  INFO 24604 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 10:08:31.015  INFO 24604 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 10:08:31.025  INFO 24604 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 10:08:31.025  INFO 24604 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 10:08:31.145  INFO 24604 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 10:08:31.145  INFO 24604 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1605 ms
2025-05-07 10:08:31.305  INFO 24604 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 10:08:31.345  INFO 24604 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 10:08:31.465  INFO 24604 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 10:08:31.555  INFO 24604 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 10:08:31.795  INFO 24604 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 10:08:31.805  INFO 24604 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 10:08:32.926  INFO 24604 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 10:08:32.936  INFO 24604 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 10:08:33.347 DEBUG 24604 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 10:08:33.347 DEBUG 24604 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 10:08:33.797  WARN 24604 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cleaningRecordController': Resolution of declared constructors on bean Class [com.hotel.controller.CleaningRecordController] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@27c170f0] failed; nested exception is java.lang.NoClassDefFoundError: CleaningService
2025-05-07 10:08:33.807  INFO 24604 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 10:08:33.807  INFO 24604 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 10:08:33.807  INFO 24604 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 10:08:33.817  INFO 24604 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-07 10:08:33.827  INFO 24604 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-05-07 10:08:33.847 ERROR 24604 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cleaningRecordController': Resolution of declared constructors on bean Class [com.hotel.controller.CleaningRecordController] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@27c170f0] failed; nested exception is java.lang.NoClassDefFoundError: CleaningService
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]
	at com.hotel.HotelManagementApplication.main(HotelManagementApplication.java:10) ~[classes/:na]
Caused by: java.lang.NoClassDefFoundError: CleaningService
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3405) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2587) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:304) ~[spring-beans-5.3.20.jar:5.3.20]
	... 18 common frames omitted
Caused by: java.lang.ClassNotFoundException: CleaningService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]
	... 22 common frames omitted

2025-05-07 10:11:28.747  INFO 26900 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 26900 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 10:11:28.752 DEBUG 26900 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 10:11:28.754  INFO 26900 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 10:11:30.453  INFO 26900 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 10:11:30.670  INFO 26900 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 207 ms. Found 19 JPA repository interfaces.
2025-05-07 10:11:31.240  INFO 26900 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 10:11:31.242  INFO 26900 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 10:11:31.242  INFO 26900 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 10:11:31.243  INFO 26900 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 10:11:31.317  INFO 26900 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 10:11:31.326  INFO 26900 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 10:11:31.326  INFO 26900 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 10:11:31.461  INFO 26900 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 10:11:31.461  INFO 26900 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2591 ms
2025-05-07 10:11:31.647  INFO 26900 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 10:11:31.705  INFO 26900 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 10:11:31.890  INFO 26900 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 10:11:32.042  INFO 26900 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 10:11:32.393  INFO 26900 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 10:11:32.405  INFO 26900 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 10:11:33.569  INFO 26900 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 10:11:33.578  INFO 26900 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 10:11:34.018 DEBUG 26900 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 10:11:34.019 DEBUG 26900 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 10:11:34.857 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 10:11:34.865 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 10:11:34.865 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 10:11:34.865 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 10:11:34.866 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 10:11:34.866 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 10:11:34.866 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 10:11:34.866 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 10:11:34.866 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 10:11:34.866 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 10:11:34.866 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 10:11:34.867 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 10:11:34.867 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 10:11:34.867 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 10:11:34.867 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 10:11:34.867 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 10:11:34.868 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 10:11:34.868 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 10:11:34.868 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 10:11:34.868 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 10:11:34.868 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 10:11:34.869 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 10:11:34.869 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 10:11:34.869 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 10:11:34.869 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 10:11:34.869 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 10:11:34.869 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 10:11:34.869 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 10:11:34.869 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 10:11:34.870 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 10:11:34.870 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 10:11:34.870 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 10:11:34.870 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 10:11:34.870 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 10:11:34.870 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 10:11:34.870 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 10:11:34.872 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 10:11:34.872 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 10:11:34.872 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 10:11:34.872 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 10:11:34.873 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 10:11:34.873 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 10:11:34.873 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 10:11:34.874 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 10:11:34.874 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 10:11:34.874 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 10:11:34.874 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 10:11:34.875 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 10:11:34.875 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 10:11:34.875 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 10:11:34.875 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 10:11:34.875 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 10:11:34.875 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 10:11:34.875 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 10:11:34.882  INFO 26900 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1d6ed085, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b18fa79, org.springframework.security.web.context.SecurityContextPersistenceFilter@72ae1007, org.springframework.security.web.header.HeaderWriterFilter@3dedc8b8, org.springframework.web.filter.CorsFilter@4560eb15, org.springframework.security.web.authentication.logout.LogoutFilter@2226fd2b, com.hotel.config.JwtAuthenticationFilter@4ac0fdc7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5cdafb4d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58ca1cad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24347d8b, org.springframework.security.web.session.SessionManagementFilter@3070f59f, org.springframework.security.web.access.ExceptionTranslationFilter@122a6078, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@473c491]
2025-05-07 10:11:34.934  WARN 26900 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 10:11:35.064 DEBUG 26900 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 10:11:35.090  INFO 26900 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 10:11:35.149 DEBUG 26900 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 10:11:35.154 DEBUG 26900 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 10:11:35.170 DEBUG 26900 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 10:11:35.177 DEBUG 26900 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 10:11:35.351  INFO 26900 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 10:11:35.360  INFO 26900 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.648 seconds (JVM running for 8.688)
2025-05-07 10:11:46.436  INFO 26900 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 10:11:46.436  INFO 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 10:11:46.436 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 10:11:46.436 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 10:11:46.437 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 10:11:46.438 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@715ea64a
2025-05-07 10:11:46.439 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1001b435
2025-05-07 10:11:46.439 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 10:11:46.440  INFO 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-07 10:11:46.453 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:11:46.459 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:11:46.523  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:11:46.527  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:11:46.528  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:11:46.530 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:11:46.539 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:11:46.540 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:11:46.543 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:11:46.547 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:11:46.580  INFO 26900 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:11:46.586  INFO 26900 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:11:46.591  INFO 26900 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:11:46.591  INFO 26900 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:11:46.627 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:11:46.634 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=5, roomNumber=505, roomType=家庭 (truncated)...]
2025-05-07 10:11:46.691 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:11:46.692 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:11:46.713 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:11:46.713 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:11:46.715  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:11:46.718  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:11:46.718  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:11:46.719 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:11:46.719 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:11:46.719 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:11:46.719 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:11:46.720 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:11:46.720  INFO 26900 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:11:46.722  INFO 26900 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:11:46.724  INFO 26900 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:11:46.725  INFO 26900 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:11:46.735 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:11:46.742 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:11:46.747 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:11:46.748 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:11:57.363 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:11:57.364 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:11:57.366  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:11:57.370  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:11:57.370  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:11:57.370 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:11:57.371 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:11:57.371 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:11:57.372 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:11:57.372 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:11:57.373  INFO 26900 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:11:57.377  INFO 26900 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:11:57.380  INFO 26900 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:11:57.380  INFO 26900 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:11:57.391 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:11:57.392 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=5, roomNumber=505, roomType=家庭 (truncated)...]
2025-05-07 10:11:57.394 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:11:57.394 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:11:57.487 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:11:57.488 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:11:57.490  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:11:57.493  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:11:57.493  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:11:57.494 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:11:57.494 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:11:57.494 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:11:57.495 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:11:57.495 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:11:57.496  INFO 26900 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:11:57.498  INFO 26900 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:11:57.500  INFO 26900 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:11:57.500  INFO 26900 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:11:57.511 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:11:57.511 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:11:57.512 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:11:57.513 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:04.069 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 10:12:04.069 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:04.069  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:12:04.079  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:12:04.079  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:12:04.079 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:12:04.079 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 10:12:04.079 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 10:12:04.079 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 10:12:04.079 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 10:12:04.159 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:04.159 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 10:12:04.159 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:04.159 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:13.377 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:12:13.377 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:13.377  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:13.377  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:13.377  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:13.387 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:13.387 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:12:13.387 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:12:13.387 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:12:13.387 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:12:13.467 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:13.467 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:12:13.477 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:13.477 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:13.487 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:12:13.487 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:13.497  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:13.497  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:13.497  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:13.497 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:13.507 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:13.507 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:12:13.507 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:12:13.507 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:12:13.525 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:12:13.526 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:13.528  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:13.528  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:13.528  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:13.528 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:13.528 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 10:12:13.528 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:12:13.528 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 10:12:13.528 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:12:13.587 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:13.587 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=421, id=40, floor=4, roomType={name=家庭套房, id (truncated)...]
2025-05-07 10:12:13.587 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:13.587 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:13.627 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:13.627 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:12:13.627 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:13.627 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:13.677 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:12:13.677 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:13.687  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:13.687  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:13.687  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:13.687 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:13.687 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:12:13.687 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:12:13.687 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:12:13.687 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:12:13.707 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:13.707 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:12:13.707 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:13.707 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:15.728 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/reception/checkout/421
2025-05-07 10:12:15.728 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:15.738  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:15.748  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:15.748  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:15.748 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:15.748 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reception/checkout/421] with attributes [authenticated]
2025-05-07 10:12:15.748 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/reception/checkout/421
2025-05-07 10:12:15.748 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/reception/checkout/421", parameters={}
2025-05-07 10:12:15.748 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReceptionController#checkOut(String)
2025-05-07 10:12:15.828 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:15.828 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=退房成功，房间已标记为待清洁}]
2025-05-07 10:12:15.828 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:15.828 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:15.838 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:12:15.838 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:15.838  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:15.848  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:15.848  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:15.848 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:15.848 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:15.848 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:12:15.848 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:12:15.848 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:12:15.908 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:15.908 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:12:15.908 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:15.908 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:16.228 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:12:16.228 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:16.228  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:16.228  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:16.228  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:16.228 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:16.228 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:12:16.228 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:12:16.228 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:12:16.228 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:12:16.248 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:16.248 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:12:16.248 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:16.248 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:16.478 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:12:16.478 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:16.478  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:16.478  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:16.478  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:16.478 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:16.478 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 10:12:16.478 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:12:16.478 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 10:12:16.478 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:12:16.489 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:16.489 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=0, content=[], totalElements=0}]
2025-05-07 10:12:16.489 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:16.489 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:18.564 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 10:12:18.565 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:18.566  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:18.569  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:18.570  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:18.570 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:18.570 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&size=200&page=0] with attributes [authenticated]
2025-05-07 10:12:18.570 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 10:12:18.570 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&size=200&page=0", parameters={masked}
2025-05-07 10:12:18.570 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:12:18.586 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:18.586 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:12:18.588 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:18.588 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:21.232 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:12:21.232 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:12:21.232 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:21.232 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:21.238  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:21.238  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:21.238  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:21.238  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:21.238  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:21.238  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:21.238 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:21.238 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:21.238 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:21.238 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:12:21.238 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:12:21.238 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:12:21.244 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:12:21.244 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:12:21.244 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:12:21.245 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:21.245  INFO 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:21.245 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:12:21.259 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=23, TotalPages=3
2025-05-07 10:12:21.265 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:21.265 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:12:21.265 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:21.265 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:21.265 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:21.272 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:21.286 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:21.286 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:21.502 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:12:21.502 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:21.508  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:21.508  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:21.508  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:21.508 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:21.508 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:21.508 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:12:21.508 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:12:21.508 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:12:21.550 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:21.550 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:12:21.550 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:21.550 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:21.653 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:21.653 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:12:21.653 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:21.653 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:21.654  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:21.654  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:21.654  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:21.654  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:21.654  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:21.654  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:21.654 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:21.654 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:21.654 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:21.654 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:21.654 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:21.654 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:12:21.654 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:12:21.654 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:12:21.654 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:21.654 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:12:21.660  INFO 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:21.660 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:21.661 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=6, TotalPages=6
2025-05-07 10:12:21.668 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:21.668 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 6 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:21.668 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:21.668 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:21.682 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:21.696 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:12:21.710 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:21.710 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:21.720 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:21.720 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:21.724  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:21.724  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:21.724  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:21.724 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:21.724 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:21.724 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:21.724 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:12:21.724 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:21.724  INFO 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:21.724 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:21.730 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=8, TotalPages=8
2025-05-07 10:12:21.730 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:21.730 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 8 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:21.738 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:21.738 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:23.036 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:12:23.036 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07
2025-05-07 10:12:23.036 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:23.036 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:23.042  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:23.042  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:23.043  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:23.043  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:23.043  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:23.043  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07", parameters={masked}
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:23.043  INFO 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:12:23.043  INFO 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:12:23.050 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=8, TotalPages=1
2025-05-07 10:12:23.050 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:23.050 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:23.050 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=23, TotalPages=3
2025-05-07 10:12:23.056 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:23.057 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:23.057 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:23.057 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:23.057 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:23.057 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:23.287 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:12:23.287 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:23.292  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:23.293  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:23.293  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:23.293 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:23.293 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:23.293 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:12:23.293 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:12:23.293 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:12:23.335 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:23.335 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:12:23.341 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:23.342 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:23.412 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:12:23.412 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:23.418 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:23.418 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:23.419  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:23.419  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:23.419  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:23.419  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:23.419  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:23.419  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:23.419  INFO 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:23.426 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=6, TotalPages=6
2025-05-07 10:12:23.426 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:23.431 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 6 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:23.432 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:23.432 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:23.446 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:23.446 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:12:23.446 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:23.446 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:23.460 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:23.460 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:23.460  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:23.460  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:23.460  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:23.460 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:23.460 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:23.460 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:23.460 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:12:23.466 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:23.467  INFO 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:23.467 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:23.473 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=8, TotalPages=8
2025-05-07 10:12:23.473 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:23.473 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 8 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:23.473 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:23.473 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:26.218 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:12:26.218 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:12:26.218 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:26.218 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:26.219  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:26.219  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:26.222  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:26.222  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:26.222  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:26.222  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:26.222 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:26.222 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:26.222 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:26.222 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:12:26.222 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:12:26.223 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:12:26.223 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:12:26.223 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:12:26.223 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:26.223 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:12:26.223  INFO 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:26.223 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:12:26.233 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=23, TotalPages=3
2025-05-07 10:12:26.235 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:26.235 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:26.236 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:26.236 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:26.240 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:26.240 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:12:26.244 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:26.245 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:26.361 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:12:26.361 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:12:26.361 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:26.361 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:26.361 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:26.361 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:26.361  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:26.361  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:26.363  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:26.365  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:26.365  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:26.365  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:26.365  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:26.365 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:26.365 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:26.366  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:12:26.366  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:26.366  INFO 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:26.377 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=6, TotalPages=6
2025-05-07 10:12:26.379 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:26.379 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 6 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:26.381 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:26.381 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:26.391 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:26.393 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:12:26.395 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:26.395 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:26.430 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:26.430 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:12:26.431 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:26.431 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:26.700 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:26.700 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:26.700  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:26.709  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:26.709  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:26.709 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:26.710 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:26.710 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:26.710 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:12:26.710 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:26.711  INFO 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:26.711 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:26.719 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=8, TotalPages=8
2025-05-07 10:12:26.721 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:26.721 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 8 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:26.722 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:26.722 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:30.371 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-07 10:12:30.371 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:30.371 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 10:12:30.371 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-07 10:12:30.371 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-07 10:12:30.371 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-07 10:12:30.371 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-07 10:12:30.371 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-07 10:12:30.398 DEBUG 26900 --- [http-nio-8090-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=18999177256, password=18999177256)]
2025-05-07 10:12:30.468  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:30.468  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:30.468  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:30.539 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-07 10:12:30.551 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:30.554 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=16, username=18999177256, role=RECEPTIONIST, token= (truncated)...]
2025-05-07 10:12:30.555 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:30.555 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:30.952 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:12:30.952 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:12:30.952 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:30.952 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:30.952  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:30.952  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:30.952  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:30.961  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:12:30.961  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:12:30.961  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:30.961  INFO 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=23, TotalPages=3
2025-05-07 10:12:30.971 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:30.971 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:30.971 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:30.971 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:30.981 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:30.981 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:12:30.981 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:30.981 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:31.209 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:12:31.209 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:31.209  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:31.209  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:31.209  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:31.209 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:31.209 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:31.209 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:12:31.209 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:12:31.209 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:12:31.259 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:31.259 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:12:31.259 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:31.259 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:31.319 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:31.319 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:12:31.319 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:31.319 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:31.319  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:31.319  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:31.319  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:31.319  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:31.319  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:31.319  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:31.319 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:31.319 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:31.319 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:31.329 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:31.329 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:31.329 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:12:31.329 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:12:31.329 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:12:31.329 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:31.329 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:12:31.329  INFO 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:31.329 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:31.335 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=6, TotalPages=6
2025-05-07 10:12:31.335 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:31.335 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 6 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:31.335 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:31.335 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:31.345 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:31.345 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:12:31.345 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:31.345 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:31.355 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:31.355 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:31.355  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:31.355  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:31.355  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:31.355 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:31.355 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:31.355 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:31.355 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:12:31.355 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:31.355  INFO 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:31.365 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:31.365 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=8, TotalPages=8
2025-05-07 10:12:31.365 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:31.365 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 8 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:31.365 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:31.365 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:34.190 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:12:34.190 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:12:34.190 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:34.190 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:34.192  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:34.192  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:34.195  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:34.195  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:34.195  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:34.195  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:34.195 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:34.195 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:34.196 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:12:34.196 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:34.196 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:12:34.196 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:12:34.196 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:12:34.196 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:12:34.196 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:12:34.196 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:34.198  INFO 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:34.198 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:12:34.204 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=23, TotalPages=3
2025-05-07 10:12:34.206 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:34.206 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:34.207 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:34.208 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:34.215 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:34.215 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:12:34.216 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:34.217 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:34.281 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:12:34.281 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:12:34.281 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:34.281 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:34.281 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:34.281 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:34.283  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:34.283  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:34.283  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:34.286  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:34.286  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:34.287  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:34.287  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:34.287  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:34.287  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:34.287 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:34.287 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:34.287 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:34.287 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:34.287 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:34.287 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:34.288 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:34.288 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:12:34.288 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:12:34.288 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:12:34.288 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:12:34.288 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:12:34.288 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:12:34.288 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:34.289 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:12:34.289  INFO 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:34.290 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:34.297 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=6, TotalPages=6
2025-05-07 10:12:34.298 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:34.299 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 6 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:34.300 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:34.301 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:34.311 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:34.313 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:12:34.315 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:34.315 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:34.335 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:34.335 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:34.335  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:34.335  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:34.335  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:34.340 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:34.340 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:34.340 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:34.340 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:12:34.341 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:34.342  INFO 26900 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:34.342 DEBUG 26900 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:34.342 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:34.342 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:12:34.342 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:34.342 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:34.350 DEBUG 26900 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=8, TotalPages=8
2025-05-07 10:12:34.353 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:34.353 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 8 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:34.355 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:34.355 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:37.867 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:12:37.867 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:37.867 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:12:37.867 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:37.868  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:37.869  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:37.871  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:37.872  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:37.872 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:37.872 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:37.872 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:12:37.872 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:12:37.873  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:37.873  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:37.873 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:37.873 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:37.873 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:12:37.873 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:12:37.873 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:12:37.874  INFO 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:37.874 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:12:37.874 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:12:37.881 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=23, TotalPages=3
2025-05-07 10:12:37.884 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:37.884 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:37.885 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:37.886 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:37.896 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:37.896 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:12:37.898 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:37.898 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:37.980 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:12:37.980 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:12:37.980 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:37.980 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:37.980 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:37.980 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:37.982  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:37.982  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:37.982  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:37.983  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:37.983  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:37.983  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:37.983  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:37.983  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:37.983  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:12:37.987 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:37.990  INFO 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:37.990 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:37.997 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=6, TotalPages=6
2025-05-07 10:12:38.000 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:38.000 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 6 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:38.001 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:38.001 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:38.009 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:38.012 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:12:38.014 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:38.014 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:38.030 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:38.030 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:38.030  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:38.030  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:38.030  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:38.030 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:38.030 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:38.030 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:38.030 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:12:38.030 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:38.037  INFO 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:38.037 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:38.043 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=8, TotalPages=8
2025-05-07 10:12:38.044 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:38.044 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:38.044 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:12:38.044 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 8 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:38.044 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:38.044 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:38.044 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:38.044 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:49.603 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-07 10:12:49.603 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:49.603 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 10:12:49.606 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-07 10:12:49.606 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-07 10:12:49.606 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-07 10:12:49.606 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-07 10:12:49.606 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-07 10:12:49.607 DEBUG 26900 --- [http-nio-8090-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=18999177256, password=18999177256)]
2025-05-07 10:12:49.607  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:49.610  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:49.610  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:49.684 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-07 10:12:49.690 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:49.690 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=16, username=18999177256, role=RECEPTIONIST, token= (truncated)...]
2025-05-07 10:12:49.690 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:49.690 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:49.807 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:12:49.807 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:12:49.807 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:49.807 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:49.808  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:49.808  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:49.810  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:49.810  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:49.811  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:49.811  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:49.811 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:49.811 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:49.811 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:12:49.811 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:49.811 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:12:49.811 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:12:49.811 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:12:49.811 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:12:49.811 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:12:49.811 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:49.812  INFO 26900 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:49.812 DEBUG 26900 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:12:49.819 DEBUG 26900 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=23, TotalPages=3
2025-05-07 10:12:49.820 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:49.821 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:49.823 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:49.823 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:49.826 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:49.826 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:12:49.826 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:49.826 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:49.886 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:12:49.886 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:12:49.886 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:49.886 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:49.886 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:49.886 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:49.887  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:49.887  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:49.887  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:49.888  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:49.888  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:49.888  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:49.888  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:49.888  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:49.888  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:12:49.888  INFO 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:49.902 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=6, TotalPages=6
2025-05-07 10:12:49.904 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:49.905 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 6 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:49.907 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:49.907 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:49.907 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:49.910 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:12:49.912 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:49.912 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:49.935 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:49.935 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:12:49.935 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:49.935 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:50.232 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:50.232 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:50.232  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:50.232  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:50.232  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:50.232 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:50.232 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:50.232 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:50.232 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:12:50.232 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:50.232  INFO 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:50.232 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:50.242 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=8, TotalPages=8
2025-05-07 10:12:50.242 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:50.242 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 8 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:50.242 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:50.242 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:56.217 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:12:56.217 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:56.224  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:56.224  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:56.224  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:56.224  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:56.224  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:56.224  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07", parameters={masked}
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:56.224  INFO 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:56.224  INFO 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:12:56.231 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=8, TotalPages=1
2025-05-07 10:12:56.231 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=23, TotalPages=3
2025-05-07 10:12:56.231 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:56.238 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:56.238 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:56.238 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:56.238 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:56.238 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:56.238 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:56.238 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:56.472 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:12:56.472 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:56.472  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:56.472  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:56.472  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:56.472 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:56.472 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:56.472 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:12:56.472 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:12:56.472 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:12:56.512 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:56.512 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:12:56.512 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:56.512 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:56.622  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:56.622  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:56.622  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:56.622  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:56.622  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:56.622  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:56.622  INFO 26900 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:56.632 DEBUG 26900 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=6, TotalPages=6
2025-05-07 10:12:56.632 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:56.632 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 6 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:56.632 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:56.632 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:56.642 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:56.642 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:12:56.642 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:56.642 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:56.650 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:56.650 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:56.650  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:56.652  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:56.652  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:56.652 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:56.652 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:56.652 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:56.652 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:12:56.653 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:56.653  INFO 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:56.653 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:56.654 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=8, TotalPages=8
2025-05-07 10:12:56.654 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:56.654 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 8 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:56.654 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:56.654 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:02.227 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:14:02.228 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:02.228  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:02.230  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:02.230  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:02.230 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:02.230 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:02.230 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:14:02.230 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending", parameters={masked}
2025-05-07 10:14:02.231 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:02.231  INFO 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:02.232 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:14:02.233 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=6, TotalPages=1
2025-05-07 10:14:02.233 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:02.233 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:02.240 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:02.240 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:02.473 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:14:02.473 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:02.473  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:02.476  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:02.476  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:02.476 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:02.476 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:02.476 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:14:02.476 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:14:02.477 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:14:02.504 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:02.504 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:14:02.504 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:02.504 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:02.580  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:02.580  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:02.580  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:02.580  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:02.580  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:02.580  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:14:02.580  INFO 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:02.587 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=6, TotalPages=6
2025-05-07 10:14:02.587 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:02.587 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 6 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:02.587 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:02.587 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:02.594 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:02.594 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:14:02.594 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:02.594 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:02.608 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:02.608 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:02.608  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:02.608  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:02.608  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:02.608 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:02.608 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:02.608 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:02.608 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:14:02.608 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:02.608  INFO 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:02.608 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:02.618 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=8, TotalPages=8
2025-05-07 10:14:02.620 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:02.620 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 8 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:02.621 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:02.621 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:05.589 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations/11/confirm
2025-05-07 10:14:05.589 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:05.589  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:05.595  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:05.595  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:05.595 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:05.597 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations/11/confirm] with attributes [authenticated]
2025-05-07 10:14:05.597 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations/11/confirm
2025-05-07 10:14:05.597 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations/11/confirm", parameters={}
2025-05-07 10:14:05.597 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#confirmReservation(Long)
2025-05-07 10:14:05.650 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:05.660 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订确认成功, data=ReservationDTO(id=11, roomTypeName=家庭套房, ro (truncated)...]
2025-05-07 10:14:05.663 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:05.663 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:05.857 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:14:05.857 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:05.858  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:05.859  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:05.859  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:05.859 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:05.859 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:05.859 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:14:05.859 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending", parameters={masked}
2025-05-07 10:14:05.859 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:05.859  INFO 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:05.859 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:14:05.867 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=5, TotalPages=1
2025-05-07 10:14:05.868 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:05.868 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:05.869 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:05.869 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:05.988 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:14:05.988 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:05.989  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:05.991  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:05.991  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:05.991 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:05.991 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:05.991 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:14:05.991 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:14:05.991 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:14:06.026 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:06.026 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:14:06.026 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:06.026 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:06.199 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:06.199 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:14:06.199 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:06.199 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:06.199  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:06.199  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:06.206  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:06.206  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:06.206  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:06.206  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:14:06.206  INFO 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:06.216 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=5, TotalPages=5
2025-05-07 10:14:06.217 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:06.217 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 5 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:06.217 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:06.217 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:06.219 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:06.225 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:14:06.226 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:06.226 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:06.233 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:06.233 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:06.233  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:06.233  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:06.233  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:06.233 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:06.233 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:06.233 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:06.233 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:14:06.233 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:06.241  INFO 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:06.241 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:06.247 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=9, TotalPages=9
2025-05-07 10:14:06.247 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:06.247 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 9 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:06.247 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:06.247 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:07.376 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations/12/confirm
2025-05-07 10:14:07.377 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:07.377  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:07.379  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:07.380  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:07.380 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:07.380 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations/12/confirm] with attributes [authenticated]
2025-05-07 10:14:07.380 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations/12/confirm
2025-05-07 10:14:07.381 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations/12/confirm", parameters={}
2025-05-07 10:14:07.381 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#confirmReservation(Long)
2025-05-07 10:14:07.399 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:07.399 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订确认成功, data=ReservationDTO(id=12, roomTypeName=家庭套房, ro (truncated)...]
2025-05-07 10:14:07.399 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:07.399 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:07.625 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:14:07.625 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:07.627  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:07.628  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:07.628  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:07.629 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:07.629 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:07.629 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:14:07.629 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending", parameters={masked}
2025-05-07 10:14:07.629 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:07.629  INFO 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:07.629 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:14:07.629 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=4, TotalPages=1
2025-05-07 10:14:07.629 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:07.629 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:07.636 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:07.636 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:07.723 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:14:07.723 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:07.724  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:07.726  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:07.727  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:07.727 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:07.727 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:07.727 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:14:07.727 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:14:07.727 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:14:07.760 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:07.760 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:14:07.767 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:07.767 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:07.975 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:14:07.975 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:07.975 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:07.975 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:07.976  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:07.976  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:07.978  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:07.978  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:07.979 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:07.979 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:07.979  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:07.979 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:14:07.979  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:07.979 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:07.979 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:14:07.980 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:07.980 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:14:07.980 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:07.980 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:14:07.980 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:07.981  INFO 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:07.981 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:07.987 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=4, TotalPages=4
2025-05-07 10:14:07.989 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:07.990 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 4 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:07.990 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:07.990 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:07.997 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:07.999 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:14:08.000 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:08.000 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:08.011 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:08.011 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:08.011  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:08.017  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:08.017  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:08.017 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:08.018 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:08.018 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:08.018 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:14:08.018 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:08.018  INFO 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:08.018 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:08.024 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=10, TotalPages=10
2025-05-07 10:14:08.024 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:08.024 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 10 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:14:08.024 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:08.024 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:10.678 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations/13/confirm
2025-05-07 10:14:10.678 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:10.684  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:10.684  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:10.684  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:10.684 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:10.684 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations/13/confirm] with attributes [authenticated]
2025-05-07 10:14:10.684 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations/13/confirm
2025-05-07 10:14:10.684 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations/13/confirm", parameters={}
2025-05-07 10:14:10.684 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#confirmReservation(Long)
2025-05-07 10:14:10.705 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:10.705 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订确认成功, data=ReservationDTO(id=13, roomTypeName=家庭套房, ro (truncated)...]
2025-05-07 10:14:10.705 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:10.708 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:10.946 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:14:10.946 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:10.946  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:10.949  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:10.950  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:10.950 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:10.951 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:10.951 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:14:10.951 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending", parameters={masked}
2025-05-07 10:14:10.951 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:10.952  INFO 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:10.952 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:14:10.956 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=3, TotalPages=1
2025-05-07 10:14:10.958 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:10.959 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:10.959 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:10.960 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:11.025 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:14:11.025 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:11.025  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:11.025  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:11.031  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:11.031 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:11.031 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:11.031 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:14:11.031 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:14:11.031 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:14:11.059 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:11.059 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:14:11.066 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:11.066 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:11.288  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:11.288  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:11.288  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:11.288  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:11.288  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:11.288  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:14:11.295 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:14:11.295 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:11.295  INFO 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:11.295 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:11.295 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=3, TotalPages=3
2025-05-07 10:14:11.302 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:11.302 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:11.303 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:11.303 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:11.307 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:11.309 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:14:11.310 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:11.310 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:11.322 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:11.322 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:11.323  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:11.325  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:11.325  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:11.325 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:11.326 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:11.326 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:11.326 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:14:11.326 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:11.327  INFO 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:11.327 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:11.331 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=11, TotalPages=11
2025-05-07 10:14:11.333 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:11.333 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 11 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:14:11.334 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:11.334 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:12.876 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations/15/confirm
2025-05-07 10:14:12.876 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:12.877  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:12.879  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:12.879  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:12.879 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:12.879 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations/15/confirm] with attributes [authenticated]
2025-05-07 10:14:12.879 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations/15/confirm
2025-05-07 10:14:12.879 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations/15/confirm", parameters={}
2025-05-07 10:14:12.879 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#confirmReservation(Long)
2025-05-07 10:14:12.899 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:12.899 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订确认成功, data=ReservationDTO(id=15, roomTypeName=行政套房, ro (truncated)...]
2025-05-07 10:14:12.900 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:12.900 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:13.140 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:14:13.140 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:13.140  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:13.142  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:13.142  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:13.142 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:13.142 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:13.142 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:14:13.143 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending", parameters={masked}
2025-05-07 10:14:13.143 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:13.144  INFO 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:13.144 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:14:13.147 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=2, TotalPages=1
2025-05-07 10:14:13.149 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:13.150 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:13.151 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:13.151 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:13.217 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:14:13.218 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:13.218  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:13.222  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:13.222  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:13.222 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:13.222 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:13.222 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:14:13.222 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:14:13.222 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:14:13.255 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:13.255 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:14:13.255 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:13.255 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:13.474 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:13.474 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:14:13.475 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:13.475 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:13.475  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:13.475  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:13.477  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:13.477  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:13.478 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:13.478  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:13.478  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:13.478 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:13.478 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:13.478 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:13.478 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:14:13.479 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:13.479 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:14:13.479 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:14:13.479 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:14:13.479 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:13.480  INFO 26900 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:13.480 DEBUG 26900 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:13.486 DEBUG 26900 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=2, TotalPages=2
2025-05-07 10:14:13.487 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:13.487 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:13.489 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:13.490 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:13.495 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:13.497 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:14:13.498 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:13.498 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:13.507 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:13.507 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:13.507  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:13.507  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:13.507  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:13.507 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:13.511 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:13.511 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:13.511 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:14:13.511 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:13.512  INFO 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:13.512 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:13.518 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=12, TotalPages=12
2025-05-07 10:14:13.519 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:13.519 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 12 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:14:13.521 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:13.521 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:15.123 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:14:15.123 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:15.123  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:15.128  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:15.128  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:15.128 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:15.128 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:15.128 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:14:15.130 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:14:15.130 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:15.131  INFO 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:15.131 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:14:15.138 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=23, TotalPages=3
2025-05-07 10:14:15.140 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:15.140 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:15.141 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:15.141 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:15.404 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:14:15.404 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:15.405  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:15.407  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:15.407  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:15.407 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:15.407 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:15.407 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:14:15.407 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:14:15.407 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:14:15.441 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:15.441 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:14:15.441 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:15.441 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:15.504  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:15.504  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:15.504  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:15.504  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:15.504  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:15.504  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:15.504  INFO 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:15.513 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=2, TotalPages=2
2025-05-07 10:14:15.514 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:15.515 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:15.516 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:15.516 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:15.520 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:15.521 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:14:15.521 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:15.522 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:15.526 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:15.531 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:15.531  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:15.533  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:15.533  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:15.533 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:15.533 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:15.534 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:15.534 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:14:15.534 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:15.535  INFO 26900 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:15.535 DEBUG 26900 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:15.539 DEBUG 26900 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=12, TotalPages=12
2025-05-07 10:14:15.541 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:15.541 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 12 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:14:15.542 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:15.542 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:17.075 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=4&size=200
2025-05-07 10:14:17.075 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:17.076  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:17.079  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:17.079  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:17.080 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:17.080 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=4&size=200] with attributes [authenticated]
2025-05-07 10:14:17.080 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=4&size=200
2025-05-07 10:14:17.080 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=4&size=200", parameters={masked}
2025-05-07 10:14:17.080 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:14:17.090 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:17.090 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=303, id=14, floor=3, roomType={name=家庭套房, id (truncated)...]
2025-05-07 10:14:17.090 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:17.090 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:19.194 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:14:19.195 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:19.196  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:19.199  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:19.199  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:19.199 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:19.199 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:19.199 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:14:19.199 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:14:19.199 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:14:19.212 DEBUG 26900 --- [http-nio-8090-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=21, roomNumber=310, roomType=null, guestName=qqq,  (truncated)...]
2025-05-07 10:14:19.233  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.impl.CheckInServiceImpl  : Payment method not provided, defaulting to CASH for CheckInRecord with bookingId: 5
2025-05-07 10:14:19.270  WARN 26900 --- [http-nio-8090-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000
2025-05-07 10:14:19.270 ERROR 26900 --- [http-nio-8090-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'guest_count' cannot be null
2025-05-07 10:14:19.282 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:19.282 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=入住登记失败: could not execute statement; SQL [n/a]; constraint [null]; nested ex (truncated)...]
2025-05-07 10:14:19.282 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-07 10:14:19.282 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:19:20.579 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/occupied
2025-05-07 10:19:20.579 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/stats
2025-05-07 10:19:20.579 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 10:19:20.579 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:19:20.579 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:19:20.579 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:19:20.589  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:19:20.589  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:19:20.589  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:19:20.589  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:19:20.589  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:19:20.589  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:19:20.589  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:19:20.589  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:19:20.589  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/stats
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms/occupied] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms/occupied
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/stats", parameters={}
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=", parameters={masked}
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms/occupied", parameters={}
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getOccupiedRooms()
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutStats()
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutRecords(String, String, String, int, int)
2025-05-07 10:19:20.597  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.impl.CheckInServiceImpl  : Fetching checkout records for current month: 2025-05-01 to 2025-05-07
2025-05-07 10:19:20.600 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:19:20.600 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[], success=true, message=获取成功}]
2025-05-07 10:19:20.600 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:19:20.600 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:19:20.610 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:19:20.610 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={monthlyCheckouts=0, pendingCleanings=0, todayCheckouts=0}, success=true, message=获取 (truncated)...]
2025-05-07 10:19:20.610 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:19:20.610 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, records=[]}, success=true, message=获取退房记录成功}]
2025-05-07 10:19:20.610 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:19:20.610 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:19:20.610 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:19:20.610 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:19:20.924 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:19:20.924 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:19:20.924  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:19:20.925  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:19:20.925  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:19:20.925 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:19:20.927 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:19:20.927 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:19:20.927 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:19:20.927 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:19:20.942 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:19:20.951 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:19:20.952 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:19:20.952 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:19:21.262 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:19:21.262 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:19:21.262  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:19:21.268  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:19:21.268  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:19:21.268 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:19:21.268 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:19:21.268 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:19:21.268 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:19:21.268 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:19:21.305 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:19:21.305 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:19:21.306 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:19:21.306 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:19:21.531 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:19:21.531 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:19:21.531  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:19:21.538  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:19:21.538  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:19:21.538 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:19:21.538 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:19:21.538 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:19:21.538 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:19:21.538 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:19:21.545 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:19:21.545 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:19:21.545 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:19:21.545 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:19:22.530 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:19:22.531 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:19:22.532  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:19:22.534  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:19:22.535  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:19:22.535 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:19:22.535 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:19:22.535 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:19:22.536 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:19:22.536 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:19:22.546 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:19:22.546 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:19:22.547 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:19:22.547 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:23:33.446 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:23:33.447 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:23:33.448  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:23:33.450  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:23:33.450  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:23:33.450 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:23:33.451 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:23:33.451 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:23:33.451 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:23:33.451 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:23:33.460 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:23:33.460 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:23:33.460 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:23:33.461 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:23:49.178 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0
2025-05-07 10:23:49.178 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:23:49.183  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:23:49.185  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:23:49.185  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:23:49.186 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:23:49.186 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0] with attributes [authenticated]
2025-05-07 10:23:49.186 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0
2025-05-07 10:23:49.187 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0", parameters={masked}
2025-05-07 10:23:49.187 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:23:49.194 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:23:49.194 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:23:49.195 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:23:49.195 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:23:54.731 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:23:54.731 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:23:54.733  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:23:54.733  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:23:54.733  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:23:54.733 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:23:54.733 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:23:54.733 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:23:54.733 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:23:54.733 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:23:54.739 DEBUG 26900 --- [http-nio-8090-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=23, roomNumber=null, roomType=null, guestName=afag (truncated)...]
2025-05-07 10:23:54.751  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.impl.CheckInServiceImpl  : 为直接入住创建临时预订: ID=24
2025-05-07 10:23:54.757  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.impl.CheckInServiceImpl  : 入住登记成功: ID=12, 入住单号=CI202505070002, 预订ID=24
2025-05-07 10:23:54.768 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:23:54.768 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=CheckInRecord(id=12, checkInNumber=CI202505070002, roomId=23, roomNumber=403, roomType=豪华大床房,  (truncated)...]
2025-05-07 10:23:54.769 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-07 10:23:54.769 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:23:55.100 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:23:55.100 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:23:55.100  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:23:55.100  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:23:55.100  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:23:55.100 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:23:55.100 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:23:55.100 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:23:55.100 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:23:55.100 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:23:55.135 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:23:55.135 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:23:55.135 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:23:55.135 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:23:55.358 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:23:55.358 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:23:55.358  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:23:55.364  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:23:55.364  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:23:55.364 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:23:55.365 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:23:55.365 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:23:55.365 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:23:55.365 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:23:55.373 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:23:55.373 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:23:55.373 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:23:55.373 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:23:57.734 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:23:57.738 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:23:57.739  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:23:57.740  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:23:57.740  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:23:57.740 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:23:57.740 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 10:23:57.740 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:23:57.740 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 10:23:57.740 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:23:57.747 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:23:57.747 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=403, id=23, floor=4, roomType={name=豪华大床房, i (truncated)...]
2025-05-07 10:23:57.747 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:23:57.747 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:23:59.473 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/reception/checkout/403
2025-05-07 10:23:59.474 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:23:59.475  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:23:59.477  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:23:59.477  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:23:59.477 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:23:59.477 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reception/checkout/403] with attributes [authenticated]
2025-05-07 10:23:59.477 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/reception/checkout/403
2025-05-07 10:23:59.479 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/reception/checkout/403", parameters={}
2025-05-07 10:23:59.479 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReceptionController#checkOut(String)
2025-05-07 10:23:59.498 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:23:59.498 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=退房成功，房间已标记为待清洁}]
2025-05-07 10:23:59.499 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:23:59.499 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:23:59.824 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:23:59.824 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:23:59.824  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:23:59.830  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:23:59.830  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:23:59.830 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:23:59.830 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:23:59.830 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:23:59.830 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:23:59.830 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:23:59.858 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:23:59.858 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:23:59.858 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:23:59.858 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:24:00.069 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:24:00.069 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:24:00.069  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:24:00.069  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:24:00.069  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:24:00.069 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:24:00.069 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:24:00.069 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:24:00.069 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:24:00.069 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:24:00.079 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:24:00.079 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:24:00.079 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:24:00.079 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:24:00.171 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:24:00.171 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:24:00.171  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:24:00.171  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:24:00.171  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:24:00.171 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:24:00.171 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 10:24:00.171 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:24:00.171 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 10:24:00.171 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:24:00.180 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:24:00.180 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=0, content=[], totalElements=0}]
2025-05-07 10:24:00.180 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:24:00.180 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:24:05.267 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:24:05.268 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:24:05.269  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:24:05.272  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:24:05.272  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:24:05.272 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:24:05.273 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:24:05.273 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:24:05.273 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:24:05.274 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:24:05.287 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:24:05.288 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:24:05.289 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:24:05.289 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:24:10.621 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:24:10.622 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:24:10.622  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:24:10.624  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:24:10.624  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:24:10.625 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:24:10.625 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:24:10.625 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:24:10.625 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:24:10.626 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:24:10.627  INFO 26900 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:24:10.629  INFO 26900 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:24:10.631  INFO 26900 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:24:10.631  INFO 26900 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:24:10.638 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:24:10.638 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=5, roomNumber=505, roomType=家庭 (truncated)...]
2025-05-07 10:24:10.639 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:24:10.639 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:24:10.755 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:24:10.755 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:24:10.756  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:24:10.758  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:24:10.758  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:24:10.759 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:24:10.759 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:24:10.760 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:24:10.760 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:24:10.760 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:24:10.760  INFO 26900 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:24:10.762  INFO 26900 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:24:10.764  INFO 26900 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:24:10.764  INFO 26900 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:24:10.769 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:24:10.770 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:24:10.770 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:24:10.771 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:24:14.328 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:24:14.329 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:24:14.330  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:24:14.333  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:24:14.333  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:24:14.333 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:24:14.334 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:24:14.334 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:24:14.334 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:24:14.334 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:24:14.336  INFO 26900 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:24:14.338  INFO 26900 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:24:14.340  INFO 26900 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:24:14.341  INFO 26900 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:24:14.347 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:24:14.347 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=5, roomNumber=505, roomType=家庭 (truncated)...]
2025-05-07 10:24:14.348 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:24:14.348 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:24:14.434 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:24:14.434 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:24:14.436  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:24:14.438  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:24:14.438  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:24:14.438 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:24:14.438 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:24:14.439 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:24:14.439 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:24:14.439 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:24:14.439  INFO 26900 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:24:14.441  INFO 26900 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:24:14.442  INFO 26900 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:24:14.442  INFO 26900 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:24:14.447 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:24:14.447 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:24:14.448 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:24:14.448 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:24:33.657 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:24:33.657 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:24:33.658  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:24:33.660  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:24:33.660  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:24:33.660 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:24:33.660 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:24:33.660 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:24:33.661 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:24:33.661 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:24:33.662  INFO 26900 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:24:33.663  INFO 26900 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:24:33.665  INFO 26900 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:24:33.665  INFO 26900 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:24:33.671 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:24:33.672 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=5, roomNumber=505, roomType=家庭 (truncated)...]
2025-05-07 10:24:33.673 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:24:33.673 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:24:33.796 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:24:33.797 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:24:33.797  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:24:33.799  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:24:33.799  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:24:33.799 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:24:33.799 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:24:33.800 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:24:33.800 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:24:33.800 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:24:33.800  INFO 26900 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:24:33.802  INFO 26900 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:24:33.803  INFO 26900 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:24:33.804  INFO 26900 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:24:33.807 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:24:33.807 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:24:33.808 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:24:33.808 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:26:50.596 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 10:26:50.597 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:26:50.598  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:26:50.601  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:26:50.602  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:26:50.602 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:26:50.603 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 10:26:50.603 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 10:26:50.603 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 10:26:50.603 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 10:26:50.622 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:26:50.622 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 10:26:50.623 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:26:50.624 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:27:09.747 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:27:09.747 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:27:09.748  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:27:09.750  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:27:09.750  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:27:09.750 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:27:09.751 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:27:09.751 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:27:09.752 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:27:09.752 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:27:09.764 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:27:09.764 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:27:09.765 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:27:09.765 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:27:09.857 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:27:09.858 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:27:09.859  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:27:09.861  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:27:09.861  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:27:09.862 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:27:09.862 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:27:09.862 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:27:09.862 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:27:09.862 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:27:09.905 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:27:09.906 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:27:09.906 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:27:09.907 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:27:09.919 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:27:09.919 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:27:09.920  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:27:09.925  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:27:09.925  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:27:09.926 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:27:09.926 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:27:09.927 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:27:09.927 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:27:09.928 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:27:09.942 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:27:09.942 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:27:09.944 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:27:09.944 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:27:11.821 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:27:11.822 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:27:11.824  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:27:11.827  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:27:11.827  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:27:11.828 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:27:11.829 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:27:11.829 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:27:11.829 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:27:11.830 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:27:11.842 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:27:11.842 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:27:11.843 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:27:11.844 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:53.082 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:28:53.082 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:28:53.082 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:53.083 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:53.083  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:53.083  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:53.087  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:53.087  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:53.087  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:53.087  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:53.087 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:53.087 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:53.088 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:53.088 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:28:53.088 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:28:53.088 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:28:53.088 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:28:53.088 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:28:53.089 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:28:53.089 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:28:53.090  INFO 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:28:53.090 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:28:53.096 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=24, TotalPages=3
2025-05-07 10:28:53.098 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:53.098 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:28:53.100 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:53.100 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:53.104 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:53.104 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:28:53.105 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:53.105 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:53.332 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:28:53.332 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:53.333  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:53.335  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:53.335  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:53.335 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:53.336 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:53.336 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:28:53.336 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:28:53.336 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:28:53.370 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:53.371 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:28:53.371 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:53.371 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:53.505 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:28:53.505 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:28:53.505 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:53.505 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:53.506  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:53.506  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:53.507  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:53.507  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:53.507  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:53.507  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:53.507 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:53.508 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:53.508 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:53.508 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:53.508 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:28:53.509 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:28:53.509 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:28:53.509 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:28:53.509 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:28:53.509 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:28:53.510  INFO 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:28:53.510 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:28:53.514 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=2, TotalPages=2
2025-05-07 10:28:53.516 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:53.517 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:28:53.518 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:53.518 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:53.523 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:53.526 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=2, pending=0, completed=2, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:28:53.527 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:53.527 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:53.542 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:28:53.543 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:53.543  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:53.545  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:53.545  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:53.545 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:53.546 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:53.546 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:28:53.546 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:28:53.546 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:28:53.547  INFO 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:28:53.547 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:28:53.554 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=12, TotalPages=12
2025-05-07 10:28:53.555 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:53.555 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 12 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:28:53.556 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:53.557 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:55.658 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07
2025-05-07 10:28:55.658 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:28:55.659 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:55.659 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:55.659  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:55.659  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:55.661  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:55.661  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:55.661  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:55.661  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:55.661 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:55.661 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:55.662 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:55.662 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:55.662 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:28:55.662 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07
2025-05-07 10:28:55.662 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07", parameters={masked}
2025-05-07 10:28:55.662 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:28:55.662 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:28:55.663 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:28:55.663  INFO 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:28:55.663  INFO 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:28:55.663 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:28:55.663 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:28:55.668 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=12, TotalPages=2
2025-05-07 10:28:55.668 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=24, TotalPages=3
2025-05-07 10:28:55.670 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:55.670 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:55.670 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:28:55.670 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:28:55.670 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:55.670 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:55.671 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:55.671 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:55.907 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:28:55.908 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:55.908  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:55.909  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:55.910  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:55.910 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:55.910 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:55.910 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:28:55.910 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:28:55.910 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:28:55.942 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:55.943 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:28:55.943 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:55.943 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:56.033 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:28:56.033 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:28:56.033 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:56.033 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:56.033  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:56.033  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:56.035  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:56.035  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:56.035  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:56.035  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:56.035 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:56.035 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:56.035 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:56.035 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:56.036 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:28:56.036 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:28:56.036 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:28:56.036 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:28:56.036 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:28:56.036 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:28:56.037  INFO 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:28:56.037 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:28:56.042 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=2, TotalPages=2
2025-05-07 10:28:56.044 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:56.044 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:28:56.045 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:56.045 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:56.050 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:56.053 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=2, pending=0, completed=2, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:28:56.054 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:56.055 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:56.066 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:28:56.066 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:56.066  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:56.068  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:56.068  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:56.068 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:56.069 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:56.069 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:28:56.069 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:28:56.069 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:28:56.070  INFO 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:28:56.070 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:28:56.074 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=12, TotalPages=12
2025-05-07 10:28:56.076 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:56.076 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 12 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:28:56.077 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:56.077 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:04.665 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:29:04.665 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:04.665  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:04.667  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:04.667  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:04.667 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:04.667 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:04.667 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:29:04.668 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending", parameters={masked}
2025-05-07 10:29:04.668 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:04.669  INFO 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:04.669 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:29:04.672 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=2, TotalPages=1
2025-05-07 10:29:04.673 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:04.673 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:29:04.674 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:04.674 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:04.902 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:29:04.902 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:04.902  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:04.903  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:04.904  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:04.904 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:04.904 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:04.904 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:29:04.904 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:29:04.905 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:29:04.940 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:04.940 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:29:04.941 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:04.941 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:05.018 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:29:05.018 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:29:05.018 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:05.018 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:05.018  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:05.018  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:05.020  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:05.020  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:05.020  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:05.020  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:05.020 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:05.020 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:05.021 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:05.021 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:05.021 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:29:05.021 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:29:05.021 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:29:05.021 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:29:05.021 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:29:05.021 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:05.022  INFO 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:05.022 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:29:05.028 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=2, TotalPages=2
2025-05-07 10:29:05.029 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:05.030 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:29:05.031 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:05.031 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:05.041 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:05.045 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=2, pending=0, completed=2, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:29:05.046 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:05.047 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:05.061 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:29:05.061 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:05.062  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:05.064  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:05.064  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:05.064 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:05.065 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:05.065 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:29:05.065 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:29:05.065 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:05.066  INFO 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:05.066 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:29:05.071 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=12, TotalPages=12
2025-05-07 10:29:05.073 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:05.073 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 12 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:29:05.074 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:05.074 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:07.721 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations/19/confirm
2025-05-07 10:29:07.721 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:07.722  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:07.724  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:07.725  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:07.725 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:07.725 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations/19/confirm] with attributes [authenticated]
2025-05-07 10:29:07.725 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations/19/confirm
2025-05-07 10:29:07.725 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations/19/confirm", parameters={}
2025-05-07 10:29:07.726 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#confirmReservation(Long)
2025-05-07 10:29:07.745 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:07.746 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订确认成功, data=ReservationDTO(id=19, roomTypeName=豪华大床房, r (truncated)...]
2025-05-07 10:29:07.746 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:07.746 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:07.991 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:29:07.991 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:07.991  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:07.993  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:07.993  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:07.993 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:07.993 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:07.993 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:29:07.993 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending", parameters={masked}
2025-05-07 10:29:07.993 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:07.994  INFO 26900 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:07.994 DEBUG 26900 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:29:07.997 DEBUG 26900 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=1, TotalPages=1
2025-05-07 10:29:07.999 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:07.999 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:29:07.999 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:07.999 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:08.067 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:29:08.068 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:08.068  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:08.069  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:08.069  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:08.069 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:08.070 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:08.070 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:29:08.070 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:29:08.070 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:29:08.096 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:08.096 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:29:08.097 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:08.097 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:08.318 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:29:08.318 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:29:08.318 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:08.318 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:08.319  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:08.319  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:08.320  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:08.320  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:08.320  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:08.320  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:08.320 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:08.320 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:08.320 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:08.320 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:08.321 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:29:08.321 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:29:08.321 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:29:08.321 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:29:08.321 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:29:08.321 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:08.321  INFO 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:08.321 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:29:08.325 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=1, TotalPages=1
2025-05-07 10:29:08.326 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:08.326 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:29:08.327 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:08.327 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:08.331 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:08.334 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=2, pending=0, completed=2, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:29:08.335 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:08.335 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:08.343 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:29:08.343 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:08.343  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:08.345  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:08.345  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:08.345 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:08.345 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:08.345 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:29:08.346 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:29:08.346 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:08.347  INFO 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:08.347 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:29:08.350 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 10:29:08.351 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:08.351 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:29:08.352 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:08.352 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:10.308 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations/20/confirm
2025-05-07 10:29:10.308 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:10.309  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:10.311  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:10.311  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:10.311 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:10.311 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations/20/confirm] with attributes [authenticated]
2025-05-07 10:29:10.311 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations/20/confirm
2025-05-07 10:29:10.311 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations/20/confirm", parameters={}
2025-05-07 10:29:10.312 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#confirmReservation(Long)
2025-05-07 10:29:10.329 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:10.329 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订确认成功, data=ReservationDTO(id=20, roomTypeName=家庭套房, ro (truncated)...]
2025-05-07 10:29:10.329 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:10.330 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:10.561 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:29:10.561 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:10.561  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:10.563  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:10.563  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:10.563 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:10.563 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:10.563 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:29:10.563 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending", parameters={masked}
2025-05-07 10:29:10.563 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:10.564  INFO 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:10.564 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:29:10.566 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-07 10:29:10.567 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:10.567 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 10:29:10.568 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:10.568 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:10.656 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:29:10.656 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:10.656  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:10.658  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:10.658  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:10.658 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:10.658 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:10.658 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:29:10.659 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:29:10.659 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:29:10.687 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:10.687 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:29:10.688 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:10.688 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:10.895 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:29:10.895 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:29:10.895 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:10.895 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:10.896  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:10.896  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:10.897  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:10.897  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:10.898  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:10.898  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:10.898 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:10.898 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:10.898 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:10.898 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:10.898 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:29:10.898 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:29:10.898 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:29:10.898 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:29:10.898 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:10.898 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:29:10.899  INFO 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:10.900 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:29:10.903 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 10:29:10.904 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:10.904 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 10:29:10.905 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:10.906 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:10.913 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:10.916 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=2, pending=0, completed=2, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:29:10.916 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:10.917 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:10.929 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:29:10.929 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:10.930  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:10.933  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:10.933  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:10.933 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:10.934 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:10.934 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:29:10.934 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:29:10.934 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:10.935  INFO 26900 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:10.935 DEBUG 26900 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:29:10.940 DEBUG 26900 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=14, TotalPages=14
2025-05-07 10:29:10.942 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:10.942 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 14 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:29:10.943 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:10.943 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:12.522 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:29:12.523 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:12.523  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:12.525  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:12.525  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:12.525 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:12.526 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:12.526 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:29:12.526 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:29:12.526 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:12.527  INFO 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:12.527 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:29:12.532 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=24, TotalPages=3
2025-05-07 10:29:12.533 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:12.533 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:29:12.534 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:12.534 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:12.781 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:29:12.781 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:12.781  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:12.783  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:12.783  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:12.783 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:12.783 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:12.783 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:29:12.783 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:29:12.784 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:29:12.812 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:12.812 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:29:12.812 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:12.812 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:12.938 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:29:12.938 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:29:12.938 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:12.938 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:12.938  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:12.939  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:12.940  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:12.940  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:12.940  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:12.940  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:12.940 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:12.940 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:12.940 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:12.940 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:12.941 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:29:12.941 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:29:12.941 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:29:12.941 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:29:12.941 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:29:12.941 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:12.942  INFO 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:12.942 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:29:12.944 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 10:29:12.946 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:12.946 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 10:29:12.947 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:12.947 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:12.955 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:12.958 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=2, pending=0, completed=2, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:29:12.958 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:12.958 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:12.967 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:29:12.967 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:12.967  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:12.969  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:12.969  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:12.969 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:12.969 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:12.969 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:29:12.969 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:29:12.969 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:12.970  INFO 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:12.970 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:29:12.975 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=14, TotalPages=14
2025-05-07 10:29:12.976 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:12.976 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 14 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:29:12.977 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:12.977 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:14.550 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:29:14.551 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:14.552  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:14.554  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:14.554  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:14.554 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:14.555 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200] with attributes [authenticated]
2025-05-07 10:29:14.555 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:29:14.555 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200", parameters={masked}
2025-05-07 10:29:14.555 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:29:14.563 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:14.564 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:29:14.565 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:14.566 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:17.880 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:29:17.881 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:17.881  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:17.882  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:17.883  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:17.883 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:17.883 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200] with attributes [authenticated]
2025-05-07 10:29:17.883 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:29:17.884 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200", parameters={masked}
2025-05-07 10:29:17.884 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:29:17.889 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:17.890 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:29:17.891 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:17.891 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:19.892 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:29:19.892 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:19.893  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:19.894  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:19.895  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:19.895 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:19.895 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:19.895 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:29:19.895 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:29:19.895 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:29:19.896 DEBUG 26900 --- [http-nio-8090-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=1, roomNumber=501, roomType=null, guestName=qqq, g (truncated)...]
2025-05-07 10:29:19.901  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.impl.CheckInServiceImpl  : Payment method not provided, defaulting to CASH for CheckInRecord with bookingId: 3
2025-05-07 10:29:19.902  WARN 26900 --- [http-nio-8090-exec-10] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000
2025-05-07 10:29:19.903 ERROR 26900 --- [http-nio-8090-exec-10] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'guest_count' cannot be null
2025-05-07 10:29:19.904 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:19.904 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=入住登记失败: could not execute statement; SQL [n/a]; constraint [null]; nested ex (truncated)...]
2025-05-07 10:29:19.905 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-07 10:29:19.905 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:21.271 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:29:21.272 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:21.272  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:21.274  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:21.274  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:21.274 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:21.275 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200] with attributes [authenticated]
2025-05-07 10:29:21.275 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:29:21.275 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200", parameters={masked}
2025-05-07 10:29:21.275 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:29:21.281 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:21.281 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:29:21.283 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:21.283 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:37.929  INFO 26900 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 10:29:37.931  INFO 26900 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 10:29:37.941  INFO 26900 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 10:29:49.252  INFO 22100 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 22100 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 10:29:49.254 DEBUG 22100 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 10:29:49.254  INFO 22100 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 10:29:50.112  INFO 22100 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 10:29:50.305  INFO 22100 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 183 ms. Found 19 JPA repository interfaces.
2025-05-07 10:29:50.800  INFO 22100 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 10:29:50.802  INFO 22100 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 10:29:50.802  INFO 22100 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 10:29:50.802  INFO 22100 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 10:29:50.810  INFO 22100 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 10:29:50.818  INFO 22100 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 10:29:50.818  INFO 22100 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 10:29:50.953  INFO 22100 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 10:29:50.954  INFO 22100 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1654 ms
2025-05-07 10:29:51.125  INFO 22100 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 10:29:51.180  INFO 22100 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 10:29:51.365  INFO 22100 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 10:29:51.463  INFO 22100 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 10:29:51.772  INFO 22100 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 10:29:51.787  INFO 22100 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 10:29:53.018  INFO 22100 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 10:29:53.027  INFO 22100 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 10:29:53.525 DEBUG 22100 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 10:29:53.526 DEBUG 22100 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 10:29:54.394 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 10:29:54.401 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 10:29:54.402 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 10:29:54.402 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 10:29:54.403 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 10:29:54.403 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 10:29:54.403 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 10:29:54.403 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 10:29:54.404 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 10:29:54.404 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 10:29:54.404 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 10:29:54.404 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 10:29:54.404 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 10:29:54.404 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 10:29:54.405 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 10:29:54.405 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 10:29:54.406 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 10:29:54.406 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 10:29:54.406 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 10:29:54.406 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 10:29:54.407 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 10:29:54.407 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 10:29:54.407 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 10:29:54.407 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 10:29:54.407 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 10:29:54.407 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 10:29:54.408 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 10:29:54.408 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 10:29:54.408 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 10:29:54.408 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 10:29:54.408 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 10:29:54.408 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 10:29:54.408 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 10:29:54.408 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 10:29:54.408 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 10:29:54.408 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 10:29:54.411 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 10:29:54.412 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 10:29:54.412 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 10:29:54.412 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 10:29:54.412 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 10:29:54.413 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 10:29:54.413 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 10:29:54.413 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 10:29:54.413 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 10:29:54.414 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 10:29:54.414 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 10:29:54.414 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 10:29:54.414 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 10:29:54.414 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 10:29:54.415 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 10:29:54.415 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 10:29:54.415 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 10:29:54.415 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 10:29:54.421  INFO 22100 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@23d0f6be, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@48cebb78, org.springframework.security.web.context.SecurityContextPersistenceFilter@f5314bc, org.springframework.security.web.header.HeaderWriterFilter@2ccb8db3, org.springframework.web.filter.CorsFilter@211cf27b, org.springframework.security.web.authentication.logout.LogoutFilter@4d21b505, com.hotel.config.JwtAuthenticationFilter@3ad9fea, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71eead09, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@586af46, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45c10678, org.springframework.security.web.session.SessionManagementFilter@4b718c45, org.springframework.security.web.access.ExceptionTranslationFilter@1b6e32ee, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5e528476]
2025-05-07 10:29:54.464  WARN 22100 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 10:29:54.591 DEBUG 22100 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 10:29:54.614  INFO 22100 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 10:29:54.679 DEBUG 22100 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 10:29:54.685 DEBUG 22100 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 10:29:54.701 DEBUG 22100 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 10:29:54.708 DEBUG 22100 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 10:29:54.892  INFO 22100 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 10:29:54.904  INFO 22100 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.22 seconds (JVM running for 7.089)
2025-05-07 10:30:11.025  INFO 22100 --- [http-nio-8090-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 10:30:11.025  INFO 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 10:30:11.025 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 10:30:11.025 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 10:30:11.025 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 10:30:11.025 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@42c9c0a1
2025-05-07 10:30:11.025 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@608b74f3
2025-05-07 10:30:11.025 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 10:30:11.025  INFO 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-05-07 10:30:11.045 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:30:11.045 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:30:11.055 DEBUG 22100 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:11.055 DEBUG 22100 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:11.196  INFO 22100 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:11.196  INFO 22100 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:11.196  INFO 22100 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:11.196  INFO 22100 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:11.196  INFO 22100 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:11.196  INFO 22100 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:11.196 DEBUG 22100 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:11.196 DEBUG 22100 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:11.216 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:30:11.216 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:30:11.216 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:30:11.216 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:30:11.216 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:30:11.216 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:30:11.226 DEBUG 22100 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:30:11.226 DEBUG 22100 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:30:11.266  INFO 22100 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:30:11.266 DEBUG 22100 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:30:11.336 DEBUG 22100 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=24, TotalPages=3
2025-05-07 10:30:11.406 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:11.406 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:30:11.416 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:11.426 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:30:11.456 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:11.456 DEBUG 22100 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:11.456 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:11.456 DEBUG 22100 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:11.566 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:30:11.566 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:30:11.566 DEBUG 22100 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:11.566 DEBUG 22100 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:11.566 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:30:11.566 DEBUG 22100 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:11.576  INFO 22100 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:11.576  INFO 22100 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:11.576  INFO 22100 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:11.576  INFO 22100 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:11.576  INFO 22100 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:11.576  INFO 22100 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:11.576  INFO 22100 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:30:11.576  INFO 22100 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:30:11.576  INFO 22100 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:30:11.586  INFO 22100 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:30:11.586 DEBUG 22100 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:30:11.596 DEBUG 22100 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 10:30:11.596 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:11.596 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 10:30:11.606 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:11.606 DEBUG 22100 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:11.626 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:11.666 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=2, pending=0, completed=2, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:30:11.676 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:11.676 DEBUG 22100 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:11.686 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:11.696 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:30:11.697 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:11.697 DEBUG 22100 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:11.697 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:30:11.697 DEBUG 22100 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:11.706  INFO 22100 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:11.706  INFO 22100 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:11.706  INFO 22100 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:11.706 DEBUG 22100 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:11.706 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:30:11.706 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:30:11.706 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:30:11.706 DEBUG 22100 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:30:11.706  INFO 22100 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:30:11.706 DEBUG 22100 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:30:11.716 DEBUG 22100 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=14, TotalPages=14
2025-05-07 10:30:11.726 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:11.726 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 14 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:30:11.726 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:11.726 DEBUG 22100 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:15.056 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:30:15.056 DEBUG 22100 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:15.056  INFO 22100 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:15.066  INFO 22100 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:15.066  INFO 22100 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:15.066 DEBUG 22100 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:15.066 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200] with attributes [authenticated]
2025-05-07 10:30:15.066 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:30:15.066 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200", parameters={masked}
2025-05-07 10:30:15.066 DEBUG 22100 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:30:15.095 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:15.095 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:30:15.095 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:15.095 DEBUG 22100 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:16.701 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:30:16.701 DEBUG 22100 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:16.720  INFO 22100 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:16.723  INFO 22100 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:16.724  INFO 22100 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:16.724 DEBUG 22100 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:16.725 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:30:16.725 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:30:16.725 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:30:16.726 DEBUG 22100 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:30:16.761 DEBUG 22100 --- [http-nio-8090-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=6, roomNumber=204, roomType=null, guestName=qqq, g (truncated)...]
2025-05-07 10:30:16.774  INFO 22100 --- [http-nio-8090-exec-8] c.hotel.service.impl.CheckInServiceImpl  : Payment method not provided, defaulting to CASH for CheckInRecord with bookingId: 3
2025-05-07 10:30:16.865  WARN 22100 --- [http-nio-8090-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000
2025-05-07 10:30:16.871 ERROR 22100 --- [http-nio-8090-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'guest_count' cannot be null
2025-05-07 10:30:16.886 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:16.886 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=入住登记失败: could not execute statement; SQL [n/a]; constraint [null]; nested ex (truncated)...]
2025-05-07 10:30:16.886 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-07 10:30:16.886 DEBUG 22100 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:20.997 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:30:20.997 DEBUG 22100 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:20.997  INFO 22100 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:21.004  INFO 22100 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:21.004  INFO 22100 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:21.004 DEBUG 22100 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:21.004 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:30:21.004 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:30:21.004 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:30:21.004 DEBUG 22100 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:30:21.004 DEBUG 22100 --- [http-nio-8090-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=6, roomNumber=204, roomType=null, guestName=qqq, g (truncated)...]
2025-05-07 10:30:21.011  INFO 22100 --- [http-nio-8090-exec-9] c.hotel.service.impl.CheckInServiceImpl  : Payment method not provided, defaulting to CASH for CheckInRecord with bookingId: 3
2025-05-07 10:30:21.018  WARN 22100 --- [http-nio-8090-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000
2025-05-07 10:30:21.018 ERROR 22100 --- [http-nio-8090-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'guest_count' cannot be null
2025-05-07 10:30:21.018 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:21.018 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=入住登记失败: could not execute statement; SQL [n/a]; constraint [null]; nested ex (truncated)...]
2025-05-07 10:30:21.018 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-07 10:30:21.018 DEBUG 22100 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:41.909 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:30:41.910 DEBUG 22100 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:41.911  INFO 22100 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:41.914  INFO 22100 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:41.915  INFO 22100 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:41.915 DEBUG 22100 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:41.916 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:30:41.916 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:30:41.917 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:30:41.917 DEBUG 22100 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:30:41.943 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:41.944 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:30:41.947 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:41.947 DEBUG 22100 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:42.265 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:30:42.265 DEBUG 22100 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:42.265  INFO 22100 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:42.265  INFO 22100 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:42.265  INFO 22100 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:42.265 DEBUG 22100 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:42.265 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:30:42.265 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:30:42.265 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:30:42.265 DEBUG 22100 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:30:42.316 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:42.316 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:30:42.316 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:42.316 DEBUG 22100 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:42.534 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:30:42.534 DEBUG 22100 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:42.534  INFO 22100 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:42.540  INFO 22100 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:42.540  INFO 22100 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:42.540 DEBUG 22100 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:42.540 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:30:42.540 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:30:42.540 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:30:42.540 DEBUG 22100 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:30:42.554 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:42.554 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:30:42.554 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:42.554 DEBUG 22100 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:56.184 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0
2025-05-07 10:30:56.184 DEBUG 22100 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:56.184  INFO 22100 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:56.184  INFO 22100 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:56.184  INFO 22100 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:56.184 DEBUG 22100 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:56.195 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0] with attributes [authenticated]
2025-05-07 10:30:56.195 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0
2025-05-07 10:30:56.195 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0", parameters={masked}
2025-05-07 10:30:56.195 DEBUG 22100 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:30:56.205 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:56.205 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=401, id=2, floor=4, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:30:56.205 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:56.205 DEBUG 22100 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:31:01.485 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:31:01.485 DEBUG 22100 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:31:01.490  INFO 22100 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:31:01.491  INFO 22100 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:31:01.491  INFO 22100 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:31:01.491 DEBUG 22100 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:31:01.491 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:31:01.491 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:31:01.491 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:31:01.491 DEBUG 22100 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:31:01.491 DEBUG 22100 --- [http-nio-8090-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=3, roomNumber=null, roomType=null, guestName=srgrh (truncated)...]
2025-05-07 10:31:01.532  INFO 22100 --- [http-nio-8090-exec-2] c.hotel.service.impl.CheckInServiceImpl  : 为直接入住创建临时预订: ID=25
2025-05-07 10:31:01.542  INFO 22100 --- [http-nio-8090-exec-2] c.hotel.service.impl.CheckInServiceImpl  : 入住登记成功: ID=13, 入住单号=CI202505070003, 预订ID=25
2025-05-07 10:31:01.567 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:31:01.567 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=CheckInRecord(id=13, checkInNumber=CI202505070003, roomId=3, roomNumber=201, roomType=行政套房, gu (truncated)...]
2025-05-07 10:31:01.567 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-07 10:31:01.567 DEBUG 22100 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:31:01.740 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:31:01.740 DEBUG 22100 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:31:01.740  INFO 22100 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:31:01.740  INFO 22100 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:31:01.747  INFO 22100 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:31:01.747 DEBUG 22100 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:31:01.747 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:31:01.747 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:31:01.747 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:31:01.747 DEBUG 22100 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:31:01.787 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:31:01.787 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:31:01.787 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:31:01.787 DEBUG 22100 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:31:01.896 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:31:01.896 DEBUG 22100 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:31:01.896  INFO 22100 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:31:01.896  INFO 22100 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:31:01.896  INFO 22100 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:31:01.896 DEBUG 22100 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:31:01.896 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:31:01.896 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:31:01.906 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:31:01.907 DEBUG 22100 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:31:01.917 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:31:01.917 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:31:01.917 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:31:01.917 DEBUG 22100 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:31:08.282 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:31:08.283 DEBUG 22100 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:31:08.284  INFO 22100 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:31:08.287  INFO 22100 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:31:08.288  INFO 22100 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:31:08.288 DEBUG 22100 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:31:08.288 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200] with attributes [authenticated]
2025-05-07 10:31:08.288 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:31:08.288 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200", parameters={masked}
2025-05-07 10:31:08.288 DEBUG 22100 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:31:08.297 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:31:08.297 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:31:08.298 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:31:08.298 DEBUG 22100 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:31:11.130 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:31:11.130 DEBUG 22100 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:31:11.136  INFO 22100 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:31:11.137  INFO 22100 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:31:11.137  INFO 22100 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:31:11.137 DEBUG 22100 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:31:11.137 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:31:11.137 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:31:11.137 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:31:11.137 DEBUG 22100 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:31:11.137 DEBUG 22100 --- [http-nio-8090-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=6, roomNumber=204, roomType=null, guestName=qqq, g (truncated)...]
2025-05-07 10:31:11.144  INFO 22100 --- [http-nio-8090-exec-8] c.hotel.service.impl.CheckInServiceImpl  : Payment method not provided, defaulting to CASH for CheckInRecord with bookingId: 3
2025-05-07 10:31:11.151  WARN 22100 --- [http-nio-8090-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000
2025-05-07 10:31:11.151 ERROR 22100 --- [http-nio-8090-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'guest_count' cannot be null
2025-05-07 10:31:11.151 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:31:11.151 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=入住登记失败: could not execute statement; SQL [n/a]; constraint [null]; nested ex (truncated)...]
2025-05-07 10:31:11.151 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-07 10:31:11.151 DEBUG 22100 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:31:16.848 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:31:16.848 DEBUG 22100 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:31:16.849  INFO 22100 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:31:16.853  INFO 22100 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:31:16.853  INFO 22100 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:31:16.853 DEBUG 22100 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:31:16.854 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:31:16.854 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:31:16.854 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:31:16.854 DEBUG 22100 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:31:16.855 DEBUG 22100 --- [http-nio-8090-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=6, roomNumber=204, roomType=null, guestName=qqq, g (truncated)...]
2025-05-07 10:31:16.864  INFO 22100 --- [http-nio-8090-exec-9] c.hotel.service.impl.CheckInServiceImpl  : Payment method not provided, defaulting to CASH for CheckInRecord with bookingId: 3
2025-05-07 10:31:16.867  WARN 22100 --- [http-nio-8090-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000
2025-05-07 10:31:16.868 ERROR 22100 --- [http-nio-8090-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'guest_count' cannot be null
2025-05-07 10:31:16.869 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:31:16.869 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=入住登记失败: could not execute statement; SQL [n/a]; constraint [null]; nested ex (truncated)...]
2025-05-07 10:31:16.870 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-07 10:31:16.871 DEBUG 22100 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:32:43.924 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:32:43.924 DEBUG 22100 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:32:43.930  INFO 22100 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:32:43.931  INFO 22100 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:32:43.931  INFO 22100 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:32:43.931 DEBUG 22100 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:32:43.931 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:32:43.931 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:32:43.931 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:32:43.931 DEBUG 22100 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:32:43.931 DEBUG 22100 --- [http-nio-8090-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=6, roomNumber=204, roomType=null, guestName=qqq, g (truncated)...]
2025-05-07 10:32:43.945  INFO 22100 --- [http-nio-8090-exec-10] c.hotel.service.impl.CheckInServiceImpl  : Payment method not provided, defaulting to CASH for CheckInRecord with bookingId: 3
2025-05-07 10:32:43.945  WARN 22100 --- [http-nio-8090-exec-10] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000
2025-05-07 10:32:43.945 ERROR 22100 --- [http-nio-8090-exec-10] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'guest_count' cannot be null
2025-05-07 10:32:43.945 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:32:43.945 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=入住登记失败: could not execute statement; SQL [n/a]; constraint [null]; nested ex (truncated)...]
2025-05-07 10:32:43.950 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-07 10:32:43.950 DEBUG 22100 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:34:35.629  INFO 22100 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 10:34:35.629  INFO 22100 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 10:34:35.649  INFO 22100 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 10:34:44.638  INFO 3572 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 3572 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 10:34:44.641 DEBUG 3572 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 10:34:44.641  INFO 3572 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 10:34:45.747  INFO 3572 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 10:34:45.984  INFO 3572 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 227 ms. Found 19 JPA repository interfaces.
2025-05-07 10:34:46.606  INFO 3572 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 10:34:46.608  INFO 3572 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 10:34:46.608  INFO 3572 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 10:34:46.609  INFO 3572 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 10:34:46.615  INFO 3572 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 10:34:46.625  INFO 3572 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 10:34:46.625  INFO 3572 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 10:34:46.779  INFO 3572 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 10:34:46.780  INFO 3572 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2087 ms
2025-05-07 10:34:46.968  INFO 3572 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 10:34:47.037  INFO 3572 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 10:34:47.275  INFO 3572 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 10:34:47.391  INFO 3572 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 10:34:47.741  INFO 3572 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 10:34:47.756  INFO 3572 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 10:34:48.959  INFO 3572 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 10:34:48.971  INFO 3572 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 10:34:49.481 DEBUG 3572 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 10:34:49.482 DEBUG 3572 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 10:34:50.379 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 10:34:50.385 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 10:34:50.386 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 10:34:50.386 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 10:34:50.386 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 10:34:50.387 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 10:34:50.387 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 10:34:50.387 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 10:34:50.388 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 10:34:50.388 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 10:34:50.388 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 10:34:50.388 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 10:34:50.388 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 10:34:50.388 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 10:34:50.389 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 10:34:50.389 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 10:34:50.389 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 10:34:50.389 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 10:34:50.390 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 10:34:50.390 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 10:34:50.390 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 10:34:50.390 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 10:34:50.390 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 10:34:50.390 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 10:34:50.391 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 10:34:50.391 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 10:34:50.391 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 10:34:50.391 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 10:34:50.391 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 10:34:50.391 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 10:34:50.391 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 10:34:50.391 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 10:34:50.392 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 10:34:50.392 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 10:34:50.392 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 10:34:50.392 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 10:34:50.393 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 10:34:50.393 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 10:34:50.394 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 10:34:50.394 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 10:34:50.394 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 10:34:50.395 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 10:34:50.395 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 10:34:50.395 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 10:34:50.395 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 10:34:50.395 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 10:34:50.395 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 10:34:50.395 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 10:34:50.395 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 10:34:50.396 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 10:34:50.396 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 10:34:50.396 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 10:34:50.396 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 10:34:50.396 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 10:34:50.402  INFO 3572 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@f4aec23, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@713c8cbb, org.springframework.security.web.context.SecurityContextPersistenceFilter@b1e63b5, org.springframework.security.web.header.HeaderWriterFilter@7c045627, org.springframework.web.filter.CorsFilter@32d8e58d, org.springframework.security.web.authentication.logout.LogoutFilter@46d83ec4, com.hotel.config.JwtAuthenticationFilter@5cb32140, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4733662d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25502b1c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7680beac, org.springframework.security.web.session.SessionManagementFilter@3420547, org.springframework.security.web.access.ExceptionTranslationFilter@31887330, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@14af9f51]
2025-05-07 10:34:50.447  WARN 3572 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 10:34:50.587 DEBUG 3572 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 10:34:50.616  INFO 3572 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 10:34:50.692 DEBUG 3572 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 10:34:50.701 DEBUG 3572 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 10:34:50.729 DEBUG 3572 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 10:34:50.750 DEBUG 3572 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 10:34:50.943  INFO 3572 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 10:34:50.957  INFO 3572 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.36 seconds (JVM running for 8.395)
2025-05-07 10:35:07.115  INFO 3572 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 10:35:07.115  INFO 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 10:35:07.116 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 10:35:07.116 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 10:35:07.116 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 10:35:07.116 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2643c33f
2025-05-07 10:35:07.116 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1ef8f7e6
2025-05-07 10:35:07.117 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 10:35:07.117  INFO 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-07 10:35:07.129 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:35:07.133 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:07.197  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:07.200  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:07.200  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:07.201 DEBUG 3572 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:07.210 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200] with attributes [authenticated]
2025-05-07 10:35:07.210 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:35:07.213 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200", parameters={masked}
2025-05-07 10:35:07.216 DEBUG 3572 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:35:07.317 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:07.318 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:35:07.348 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:07.350 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:08.641 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:35:08.642 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:08.650  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:08.653  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:08.654  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:08.654 DEBUG 3572 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:08.660 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:08.660 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:35:08.661 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:35:08.662 DEBUG 3572 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:35:08.714 DEBUG 3572 --- [http-nio-8090-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=6, roomNumber=204, roomType=null, guestName=qqq, g (truncated)...]
2025-05-07 10:35:08.741  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.impl.CheckInServiceImpl  : Payment method not provided, defaulting to CASH for CheckInRecord with bookingId: 3
2025-05-07 10:35:08.799  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.impl.CheckInServiceImpl  : 入住登记成功: ID=14, 入住单号=CI202505070004, 预订ID=3
2025-05-07 10:35:08.835 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:08.835 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=CheckInRecord(id=14, checkInNumber=CI202505070004, roomId=6, roomNumber=204, roomType=豪华大床房, g (truncated)...]
2025-05-07 10:35:08.852 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-07 10:35:08.852 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:09.171 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:35:09.171 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:09.172  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:09.174  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:09.175  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:09.175 DEBUG 3572 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:09.175 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:09.175 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:35:09.175 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:35:09.176 DEBUG 3572 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:35:09.184  INFO 3572 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:35:09.184 DEBUG 3572 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:35:09.201 DEBUG 3572 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=25, TotalPages=3
2025-05-07 10:35:09.207 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:09.209 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:35:09.220 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:09.221 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:09.435 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:35:09.436 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:09.437  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:09.439  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:09.439  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:09.440 DEBUG 3572 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:09.440 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:09.440 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:35:09.441 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:35:09.441 DEBUG 3572 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:35:09.520 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:09.520 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:35:09.522 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:09.522 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:09.581 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:35:09.581 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:35:09.582 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:09.582 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:09.583  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:09.583  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:09.585  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:09.586  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:09.586 DEBUG 3572 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:09.586 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:09.586 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:35:09.587 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:35:09.587  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:09.587  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:09.587 DEBUG 3572 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:09.587 DEBUG 3572 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:35:09.588 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:09.589 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:35:09.589 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:35:09.589 DEBUG 3572 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:35:09.590  INFO 3572 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:35:09.590 DEBUG 3572 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:35:09.596 DEBUG 3572 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 10:35:09.598 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:09.598 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 10:35:09.599 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:09.599 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:09.614 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:09.624 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:35:09.627 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:09.627 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:09.637 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:35:09.637 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:09.640  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:09.643  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:09.644  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:09.644 DEBUG 3572 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:09.644 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:09.644 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:35:09.645 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:35:09.645 DEBUG 3572 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:35:09.646  INFO 3572 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:35:09.646 DEBUG 3572 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:35:09.657 DEBUG 3572 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 10:35:09.659 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:09.660 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:35:09.661 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:09.661 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:13.099 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:35:13.099 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:13.100  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:13.103  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:13.103  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:13.103 DEBUG 3572 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:13.103 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 10:35:13.104 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:35:13.104 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 10:35:13.104 DEBUG 3572 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:35:13.112 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:13.113 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=201, id=3, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:35:13.113 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:13.114 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:16.509 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:35:16.509 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:16.510  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:16.513  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:16.514  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:16.514 DEBUG 3572 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:16.514 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:35:16.514 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:35:16.514 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:35:16.515 DEBUG 3572 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:35:16.544 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:16.545 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:35:16.546 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:16.547 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:16.585 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:35:16.585 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:16.587  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:16.591  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:16.591  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:16.591 DEBUG 3572 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:16.592 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:16.592 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:35:16.592 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:35:16.593 DEBUG 3572 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:35:16.662 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:16.662 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:35:16.664 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:16.664 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:16.681 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:35:16.681 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:16.683  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:16.687  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:16.687  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:16.687 DEBUG 3572 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:16.688 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:35:16.689 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:35:16.690 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:35:16.690 DEBUG 3572 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:35:16.709 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:16.709 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:35:16.711 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:16.711 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:17.313 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:35:17.313 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:17.315  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:17.319  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:17.319  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:17.319 DEBUG 3572 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:17.320 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 10:35:17.320 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:35:17.320 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 10:35:17.320 DEBUG 3572 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:35:17.334 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:17.334 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=201, id=3, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:35:17.334 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:17.335 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:20.348 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/reception/checkout/201
2025-05-07 10:35:20.349 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:20.351  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:20.355  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:20.355  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:20.355 DEBUG 3572 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:20.355 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reception/checkout/201] with attributes [authenticated]
2025-05-07 10:35:20.356 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/reception/checkout/201
2025-05-07 10:35:20.356 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/reception/checkout/201", parameters={}
2025-05-07 10:35:20.356 DEBUG 3572 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReceptionController#checkOut(String)
2025-05-07 10:35:20.379 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:20.379 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=退房成功，房间已标记为待清洁}]
2025-05-07 10:35:20.380 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:20.381 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:20.393 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:35:20.393 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:20.395  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:20.397  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:20.398  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:20.398 DEBUG 3572 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:20.398 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:20.398 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:35:20.398 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:35:20.399 DEBUG 3572 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:35:20.450 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:20.450 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:35:20.451 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:20.451 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:20.772 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:35:20.772 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:20.773  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:20.775  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:20.775  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:20.775 DEBUG 3572 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:20.776 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:35:20.776 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:35:20.776 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:35:20.776 DEBUG 3572 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:35:20.784 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:20.784 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:35:20.785 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:20.785 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:21.035 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:35:21.035 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:21.036  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:21.039  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:21.039  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:21.039 DEBUG 3572 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:21.039 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 10:35:21.039 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:35:21.039 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 10:35:21.040 DEBUG 3572 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:35:21.045 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:21.045 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=204, id=6, floor=2, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:35:21.046 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:21.046 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:26.862 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:35:26.862 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:26.863  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:35:26.867  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:35:26.867  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:35:26.867 DEBUG 3572 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:35:26.868 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:35:26.868 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:35:26.868 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:35:26.868 DEBUG 3572 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:35:26.879  INFO 3572 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:35:26.884  INFO 3572 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:35:26.888  INFO 3572 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:35:26.898  INFO 3572 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 为房间 201 创建了清洁任务，分配给清洁员: 清洁人员
2025-05-07 10:35:26.898  INFO 3572 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 1 个新任务
2025-05-07 10:35:26.909 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:26.916 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=1, currentPage=0, content=[Task(id=8, roomNumber=201, roomType=行政 (truncated)...]
2025-05-07 10:35:26.918 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:26.918 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:26.950 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:35:26.950 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:26.952  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:35:26.954  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:35:26.955  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:35:26.955 DEBUG 3572 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:35:26.956 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:35:26.956 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:35:26.956 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:35:26.956 DEBUG 3572 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:35:26.957  INFO 3572 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:35:26.961  INFO 3572 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:35:26.964  INFO 3572 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:35:26.966  INFO 3572 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 房间 201 已存在有效的清洁任务，跳过任务创建
2025-05-07 10:35:26.966  INFO 3572 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:35:26.977 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:26.987 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:35:26.991 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:26.992 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:30.627 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/8/start
2025-05-07 10:35:30.627 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:30.628  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:35:30.631  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:35:30.631  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:35:30.631 DEBUG 3572 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:35:30.632 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/8/start] with attributes [authenticated]
2025-05-07 10:35:30.632 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/8/start
2025-05-07 10:35:30.632 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/8/start", parameters={}
2025-05-07 10:35:30.632 DEBUG 3572 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#startTask(Long)
2025-05-07 10:35:30.642 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:30.643 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Task(id=8, roomNumber=201, roomType=行政套房, cleaner=清洁人员, priority=medium, status=processing, expected (truncated)...]
2025-05-07 10:35:30.644 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:30.644 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:34.685 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/8/complete
2025-05-07 10:35:34.685 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:34.686  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:35:34.688  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:35:34.688  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:35:34.688 DEBUG 3572 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:35:34.689 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/8/complete] with attributes [authenticated]
2025-05-07 10:35:34.689 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/8/complete
2025-05-07 10:35:34.689 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/8/complete", parameters={}
2025-05-07 10:35:34.690 DEBUG 3572 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#completeTask(Long, TaskDTO)
2025-05-07 10:35:34.700 DEBUG 3572 --- [http-nio-8090-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, expectedT (truncated)...]
2025-05-07 10:35:34.702  INFO 3572 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 任务完成：ID=8, 房间=201, 实际用时=30分钟
2025-05-07 10:35:34.705  INFO 3572 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 已更新房间状态：房间号=201, 状态=AVAILABLE, 需要清洁=false
2025-05-07 10:35:34.717 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:34.717 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Task(id=8, roomNumber=201, roomType=行政套房, cleaner=清洁人员, priority=medium, status=completed, expectedT (truncated)...]
2025-05-07 10:35:34.718 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:34.718 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:34.748 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:35:34.748 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:34.749  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:35:34.751  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:35:34.751  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:35:34.751 DEBUG 3572 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:35:34.752 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:35:34.752 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:35:34.752 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:35:34.752 DEBUG 3572 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:35:34.753  INFO 3572 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:35:34.755  INFO 3572 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:35:34.757  INFO 3572 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:35:34.757  INFO 3572 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:35:34.763 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:34.763 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=8, roomNumber=201, roomType=行政 (truncated)...]
2025-05-07 10:35:34.764 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:34.764 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:34.778 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:35:34.778 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:34.779  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:35:34.781  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:35:34.781  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:35:34.781 DEBUG 3572 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:35:34.782 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:35:34.782 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:35:34.782 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:35:34.782 DEBUG 3572 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:35:34.782  INFO 3572 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:35:34.784  INFO 3572 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:35:34.785  INFO 3572 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:35:34.785  INFO 3572 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:35:34.791 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:34.791 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:35:34.792 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:34.792 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:38.646 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 10:35:38.647 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:38.647  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:35:38.650  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:35:38.650  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:35:38.650 DEBUG 3572 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:35:38.651 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 10:35:38.651 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 10:35:38.651 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 10:35:38.651 DEBUG 3572 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 10:35:38.686 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:38.686 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 10:35:38.687 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:38.687 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:44.996 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:35:44.997 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:44.998  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:45.000  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:45.000  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:45.001 DEBUG 3572 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:45.001 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:45.001 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:35:45.001 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:35:45.002 DEBUG 3572 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:35:45.003  INFO 3572 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:35:45.003 DEBUG 3572 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:35:45.010 DEBUG 3572 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=25, TotalPages=3
2025-05-07 10:35:45.012 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:45.012 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:35:45.013 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:45.013 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:45.307 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:35:45.307 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:45.307  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:45.310  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:45.310  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:45.310 DEBUG 3572 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:45.310 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:35:45.310 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:35:45.310 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:35:45.311 DEBUG 3572 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:35:45.326 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:45.327 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:35:45.328 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:45.328 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:45.450 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:35:45.450 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:35:45.450 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:35:45.450 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:45.450 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:45.450 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:45.451  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:45.451  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:45.451  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:45.452  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:45.452  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:45.453  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:45.453  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:45.453 DEBUG 3572 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:45.453 DEBUG 3572 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:45.453 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:45.453 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:45.453 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:35:45.453 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:35:45.453 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:35:45.453  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:45.453 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:35:45.453  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:45.453 DEBUG 3572 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:35:45.453 DEBUG 3572 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:45.454 DEBUG 3572 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:35:45.454 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:45.454 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:35:45.454 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:35:45.454 DEBUG 3572 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:35:45.455  INFO 3572 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:35:45.455 DEBUG 3572 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:35:45.458 DEBUG 3572 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 10:35:45.460 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:45.460 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 10:35:45.461 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:45.462 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:45.471 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:45.478 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:35:45.478 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:45.479 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:45.494 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:45.494 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:35:45.495 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:45.495 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:45.791 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:35:45.791 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:45.792  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:45.793  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:45.793  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:45.793 DEBUG 3572 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:45.794 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:45.794 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:35:45.794 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:35:45.794 DEBUG 3572 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:35:45.795  INFO 3572 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:35:45.795 DEBUG 3572 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:35:45.800 DEBUG 3572 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 10:35:45.801 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:45.802 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:35:45.803 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:45.804 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:50.117 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07
2025-05-07 10:35:50.117 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:35:50.117 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:50.117 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:50.118  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:50.118  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:50.120  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:50.120  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:50.121  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:50.121  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:50.121 DEBUG 3572 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:50.121 DEBUG 3572 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:50.122 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:50.122 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:50.122 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07
2025-05-07 10:35:50.122 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:35:50.123 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:35:50.123 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07", parameters={masked}
2025-05-07 10:35:50.123 DEBUG 3572 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:35:50.123 DEBUG 3572 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:35:50.124  INFO 3572 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:35:50.124  INFO 3572 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:35:50.124 DEBUG 3572 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:35:50.124 DEBUG 3572 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:35:50.132 DEBUG 3572 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=25, TotalPages=3
2025-05-07 10:35:50.132 DEBUG 3572 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=13, TotalPages=2
2025-05-07 10:35:50.134 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:50.134 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:50.134 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:35:50.134 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:35:50.135 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:50.135 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:50.136 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:50.136 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:50.381 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:35:50.381 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:50.382  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:50.384  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:50.384  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:50.385 DEBUG 3572 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:50.385 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:50.385 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:35:50.385 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:35:50.385 DEBUG 3572 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:35:50.422 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:50.422 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:35:50.422 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:50.423 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:50.539 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:35:50.539 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:35:50.539 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:50.539 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:50.540  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:50.540  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:50.542  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:50.542  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:50.542  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:50.542  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:50.542 DEBUG 3572 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:50.542 DEBUG 3572 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:50.542 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:50.542 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:50.543 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:35:50.543 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:35:50.543 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:35:50.543 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:35:50.543 DEBUG 3572 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:35:50.543 DEBUG 3572 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:35:50.543  INFO 3572 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:35:50.544 DEBUG 3572 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:35:50.547 DEBUG 3572 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 10:35:50.548 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:50.549 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 10:35:50.550 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:50.550 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:50.561 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:50.568 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:35:50.569 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:50.569 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:50.577 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:35:50.577 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:50.578  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:50.580  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:50.580  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:50.580 DEBUG 3572 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:50.580 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:50.581 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:35:50.581 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:35:50.581 DEBUG 3572 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:35:50.582  INFO 3572 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:35:50.582 DEBUG 3572 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:35:50.589 DEBUG 3572 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 10:35:50.590 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:50.591 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:35:50.591 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:50.592 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:54.132 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 10:35:54.132 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/stats
2025-05-07 10:35:54.132 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/occupied
2025-05-07 10:35:54.132 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:54.133 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:54.133 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:54.133  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:54.133  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:54.133  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:54.135  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:54.135  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:54.135  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:54.136  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:54.136  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:54.136  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:54.136 DEBUG 3572 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:54.136 DEBUG 3572 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/stats
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/stats", parameters={}
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=", parameters={masked}
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms/occupied] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutRecords(String, String, String, int, int)
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutStats()
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms/occupied
2025-05-07 10:35:54.138 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms/occupied", parameters={}
2025-05-07 10:35:54.138 DEBUG 3572 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getOccupiedRooms()
2025-05-07 10:35:54.141  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.impl.CheckInServiceImpl  : Fetching checkout records for current month: 2025-05-01 to 2025-05-07
2025-05-07 10:35:54.151 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:54.151 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:54.152 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={monthlyCheckouts=0, pendingCleanings=0, todayCheckouts=0}, success=true, message=获取 (truncated)...]
2025-05-07 10:35:54.152 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, records=[]}, success=true, message=获取退房记录成功}]
2025-05-07 10:35:54.152 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:54.152 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:54.152 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:54.152 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:54.155 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:54.155 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{roomNumber=204, floor=2, roomType=豪华大床房}], success=true, message=获取成功}]
2025-05-07 10:35:54.156 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:54.156 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:55.730 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-07 10:35:55.730 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:55.731  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:55.733  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:55.733  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:55.733 DEBUG 3572 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:55.734 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-07 10:35:55.734 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-07 10:35:55.734 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-07 10:35:55.734 DEBUG 3572 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitorRecordsPageable(String, String, String, LocalDateTime, LocalDateTime, int, int, String[])
2025-05-07 10:35:55.748 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:55.748 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing com.hotel.entity.VisitorRecord instances]
2025-05-07 10:35:55.809 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:55.809 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:56.034 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/count/today
2025-05-07 10:35:56.034 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:56.034  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:56.036  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:56.036  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:56.036 DEBUG 3572 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:56.036 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/count/today] with attributes [authenticated]
2025-05-07 10:35:56.037 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/count/today
2025-05-07 10:35:56.037 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/count/today", parameters={}
2025-05-07 10:35:56.037 DEBUG 3572 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#countTodayVisitors()
2025-05-07 10:35:56.042 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:56.042 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [0]
2025-05-07 10:35:56.043 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:56.043 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:02.372 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing PUT /api/visitor/record/2/leave
2025-05-07 10:36:02.372 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:02.374  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:02.376  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:02.376  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:02.376 DEBUG 3572 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:02.376 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [PUT /api/visitor/record/2/leave] with attributes [authenticated]
2025-05-07 10:36:02.376 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured PUT /api/visitor/record/2/leave
2025-05-07 10:36:02.377 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : PUT "/api/visitor/record/2/leave", parameters={}
2025-05-07 10:36:02.377 DEBUG 3572 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#recordVisitorRecordLeave(Long)
2025-05-07 10:36:02.401 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:02.401 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [VisitorRecord(id=2, visitorName=居然是突然今天, phone=18876776544, idCard=234543446575333222, purpose=发我发的发 (truncated)...]
2025-05-07 10:36:02.402 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:02.402 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:02.638 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-07 10:36:02.638 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:02.639  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:02.641  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:02.641  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:02.641 DEBUG 3572 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:02.641 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-07 10:36:02.641 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-07 10:36:02.642 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-07 10:36:02.642 DEBUG 3572 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitorRecordsPageable(String, String, String, LocalDateTime, LocalDateTime, int, int, String[])
2025-05-07 10:36:02.649 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:02.649 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing com.hotel.entity.VisitorRecord instances]
2025-05-07 10:36:02.695 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:02.696 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:04.686 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /api/visitor/record/1/leave
2025-05-07 10:36:04.686 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:04.687  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:04.690  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:04.691  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:04.691 DEBUG 3572 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:04.691 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [PUT /api/visitor/record/1/leave] with attributes [authenticated]
2025-05-07 10:36:04.691 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /api/visitor/record/1/leave
2025-05-07 10:36:04.692 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : PUT "/api/visitor/record/1/leave", parameters={}
2025-05-07 10:36:04.692 DEBUG 3572 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#recordVisitorRecordLeave(Long)
2025-05-07 10:36:04.701 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:04.701 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [VisitorRecord(id=1, visitorName=啥然后还是短发无法, phone=15965656632, idCard=456789455656552314, purpose=啊无法 (truncated)...]
2025-05-07 10:36:04.703 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:04.703 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:05.034 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-07 10:36:05.034 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:05.035  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:05.036  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:05.037  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:05.037 DEBUG 3572 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:05.037 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-07 10:36:05.037 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-07 10:36:05.037 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-07 10:36:05.037 DEBUG 3572 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitorRecordsPageable(String, String, String, LocalDateTime, LocalDateTime, int, int, String[])
2025-05-07 10:36:05.042 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:05.042 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing com.hotel.entity.VisitorRecord instances]
2025-05-07 10:36:05.084 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:05.085 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:22.985 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0
2025-05-07 10:36:22.985 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:22.986  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:22.988  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:22.988  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:22.988 DEBUG 3572 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:22.989 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0] with attributes [authenticated]
2025-05-07 10:36:22.989 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0
2025-05-07 10:36:22.990 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0", parameters={masked}
2025-05-07 10:36:22.990 DEBUG 3572 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:36:22.999 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:22.999 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=401, id=2, floor=4, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:36:23.000 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:23.000 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:28.545 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:36:28.545 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:28.547  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:28.549  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:28.549  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:28.549 DEBUG 3572 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:28.549 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:36:28.549 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:36:28.549 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:36:28.549 DEBUG 3572 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:36:28.551 DEBUG 3572 --- [http-nio-8090-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=25, roomNumber=null, roomType=null, guestName=jars (truncated)...]
2025-05-07 10:36:28.558  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.impl.CheckInServiceImpl  : 为直接入住创建临时预订: ID=26
2025-05-07 10:36:28.564  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.impl.CheckInServiceImpl  : 入住登记成功: ID=15, 入住单号=CI202505070005, 预订ID=26
2025-05-07 10:36:28.570 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:28.570 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=CheckInRecord(id=15, checkInNumber=CI202505070005, roomId=25, roomNumber=406, roomType=行政套房, g (truncated)...]
2025-05-07 10:36:28.571 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-07 10:36:28.571 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:28.812 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:36:28.813 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:28.813  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:28.815  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:28.815  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:28.815 DEBUG 3572 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:28.815 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:36:28.815 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:36:28.815 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:36:28.816 DEBUG 3572 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:36:28.853 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:28.853 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:36:28.854 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:28.854 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:28.906 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:36:28.906 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:28.907  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:28.910  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:28.910  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:28.910 DEBUG 3572 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:28.910 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:36:28.910 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:36:28.910 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:36:28.910 DEBUG 3572 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:36:28.919 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:28.919 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:36:28.920 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:28.920 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:31.395 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:36:31.396 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:31.397  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:31.399  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:31.400  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:31.400 DEBUG 3572 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:31.401 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 10:36:31.401 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:36:31.401 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 10:36:31.401 DEBUG 3572 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:36:31.410 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:31.411 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=204, id=6, floor=2, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:36:31.411 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:31.412 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:34.751 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:36:34.751 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:34.752  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:34.754  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:34.755  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:34.755 DEBUG 3572 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:34.755 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:36:34.756 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:36:34.756 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:36:34.757 DEBUG 3572 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:36:34.772 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:34.772 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:36:34.772 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:34.773 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:34.826 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:36:34.826 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:34.828  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:34.831  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:34.832  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:34.832 DEBUG 3572 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:34.832 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:36:34.833 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:36:34.833 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:36:34.834 DEBUG 3572 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:36:34.874 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:34.875 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:36:34.875 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:34.875 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:34.913 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:36:34.913 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:34.914  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:34.917  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:34.917  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:34.917 DEBUG 3572 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:34.917 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:36:34.917 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:36:34.918 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:36:34.918 DEBUG 3572 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:36:34.929 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:34.929 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:36:34.930 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:34.930 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:37:33.678 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:37:33.678 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:37:33.679  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:37:33.682  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:37:33.682  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:37:33.683 DEBUG 3572 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:37:33.683 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:37:33.683 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:37:33.684 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:37:33.684 DEBUG 3572 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:37:33.685  INFO 3572 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:37:33.687  INFO 3572 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:37:33.688  INFO 3572 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:37:33.689  INFO 3572 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:37:33.694 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:37:33.695 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=8, roomNumber=201, roomType=行政 (truncated)...]
2025-05-07 10:37:33.696 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:37:33.696 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:37:33.719 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:37:33.719 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:37:33.720  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:37:33.722  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:37:33.722  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:37:33.722 DEBUG 3572 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:37:33.722 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:37:33.722 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:37:33.722 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:37:33.722 DEBUG 3572 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:37:33.723  INFO 3572 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:37:33.724  INFO 3572 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:37:33.726  INFO 3572 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:37:33.726  INFO 3572 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:37:33.732 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:37:33.732 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:37:33.732 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:37:33.733 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:37:44.622 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 10:37:44.623 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:37:44.625  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:37:44.627  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:37:44.628  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:37:44.628 DEBUG 3572 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:37:44.628 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 10:37:44.628 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 10:37:44.628 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 10:37:44.629 DEBUG 3572 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 10:37:44.647 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:37:44.647 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 10:37:44.648 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:37:44.648 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:37:57.834 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records?status=COMPLETED
2025-05-07 10:37:57.835 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:37:57.835  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:37:57.838  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:37:57.838  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:37:57.838 DEBUG 3572 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:37:57.839 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records?status=COMPLETED] with attributes [authenticated]
2025-05-07 10:37:57.839 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records?status=COMPLETED
2025-05-07 10:37:57.839 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records?status=COMPLETED", parameters={masked}
2025-05-07 10:37:57.839 DEBUG 3572 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 10:37:57.853 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:37:57.853 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=2, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 10:37:57.854 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:37:57.854 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:42:11.909 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:42:11.910 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:42:11.910  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:42:11.913  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:42:11.913  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:42:11.913 DEBUG 3572 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:42:11.914 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:42:11.914 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:42:11.914 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:42:11.914 DEBUG 3572 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:42:11.923 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:42:11.923 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:42:11.924 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:42:11.924 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:42:15.559 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:42:15.559 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:42:15.560  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:42:15.563  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:42:15.563  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:42:15.563 DEBUG 3572 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:42:15.563 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:42:15.565 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:42:15.565 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:42:15.565 DEBUG 3572 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:42:15.581 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:42:15.581 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:42:15.582 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:42:15.582 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:42:15.635 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:42:15.636 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:42:15.639  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:42:15.645  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:42:15.645  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:42:15.645 DEBUG 3572 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:42:15.646 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:42:15.646 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:42:15.646 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:42:15.647 DEBUG 3572 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:42:15.708 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:42:15.708 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:42:15.710 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:42:15.710 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:42:15.746 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:42:15.746 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:42:15.747  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:42:15.750  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:42:15.751  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:42:15.751 DEBUG 3572 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:42:15.751 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:42:15.751 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:42:15.752 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:42:15.752 DEBUG 3572 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:42:15.767 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:42:15.767 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:42:15.768 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:42:15.768 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:42:17.602 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:42:17.603 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:42:17.604  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:42:17.606  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:42:17.607  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:42:17.607 DEBUG 3572 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:42:17.608 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:42:17.609 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:42:17.609 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:42:17.609 DEBUG 3572 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:42:17.621 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:42:17.622 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:42:17.623 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:42:17.623 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:42:19.014 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:42:19.014 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:42:19.014  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:42:19.016  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:42:19.016  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:42:19.016 DEBUG 3572 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:42:19.017 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:42:19.017 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:42:19.017 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:42:19.017 DEBUG 3572 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:42:19.026 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:42:19.026 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:42:19.027 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:42:19.027 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:42:26.123 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:42:26.124 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:42:26.125  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:42:26.128  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:42:26.128  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:42:26.129 DEBUG 3572 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:42:26.130 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:42:26.130 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:42:26.130 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:42:26.131 DEBUG 3572 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:42:26.146 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:42:26.146 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:42:26.147 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:42:26.147 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:42:30.638 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:42:30.639 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:42:30.640  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:42:30.642  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:42:30.642  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:42:30.642 DEBUG 3572 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:42:30.643 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:42:30.643 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:42:30.643 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:42:30.644 DEBUG 3572 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:42:30.651 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:42:30.652 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:42:30.653 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:42:30.653 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:51:05.568  INFO 3572 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 10:51:05.570  INFO 3572 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 10:51:05.583  INFO 3572 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 10:51:15.489  INFO 25024 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 25024 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 10:51:15.492 DEBUG 25024 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 10:51:15.493  INFO 25024 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 10:51:16.349  INFO 25024 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 10:51:16.535  INFO 25024 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 177 ms. Found 19 JPA repository interfaces.
2025-05-07 10:51:17.001  INFO 25024 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 10:51:17.002  INFO 25024 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 10:51:17.002  INFO 25024 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 10:51:17.002  INFO 25024 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 10:51:17.009  INFO 25024 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 10:51:17.018  INFO 25024 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 10:51:17.019  INFO 25024 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 10:51:17.152  INFO 25024 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 10:51:17.152  INFO 25024 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1614 ms
2025-05-07 10:51:17.307  INFO 25024 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 10:51:17.361  INFO 25024 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 10:51:17.551  INFO 25024 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 10:51:17.665  INFO 25024 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 10:51:18.012  INFO 25024 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 10:51:18.026  INFO 25024 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 10:51:19.174  INFO 25024 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 10:51:19.184  INFO 25024 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 10:51:19.623 DEBUG 25024 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 10:51:19.624 DEBUG 25024 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 10:51:20.485 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 10:51:20.491 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 10:51:20.492 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 10:51:20.492 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 10:51:20.492 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 10:51:20.493 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 10:51:20.493 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 10:51:20.493 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 10:51:20.493 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 10:51:20.494 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 10:51:20.494 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 10:51:20.494 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 10:51:20.494 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 10:51:20.495 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 10:51:20.495 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 10:51:20.495 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 10:51:20.496 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 10:51:20.496 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 10:51:20.496 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 10:51:20.496 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 10:51:20.496 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 10:51:20.496 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 10:51:20.496 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 10:51:20.497 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 10:51:20.497 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 10:51:20.497 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 10:51:20.497 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 10:51:20.497 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 10:51:20.497 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 10:51:20.497 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 10:51:20.497 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 10:51:20.498 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 10:51:20.498 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 10:51:20.498 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 10:51:20.498 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 10:51:20.498 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 10:51:20.500 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 10:51:20.500 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 10:51:20.500 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 10:51:20.500 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 10:51:20.501 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 10:51:20.501 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 10:51:20.501 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 10:51:20.501 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 10:51:20.501 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 10:51:20.501 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 10:51:20.502 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 10:51:20.502 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 10:51:20.502 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 10:51:20.502 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 10:51:20.502 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 10:51:20.502 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 10:51:20.502 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 10:51:20.502 DEBUG 25024 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 10:51:20.508  INFO 25024 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@313a3af8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19240b9, org.springframework.security.web.context.SecurityContextPersistenceFilter@5b9ca528, org.springframework.security.web.header.HeaderWriterFilter@76929266, org.springframework.web.filter.CorsFilter@20cf3ab3, org.springframework.security.web.authentication.logout.LogoutFilter@5ff12345, com.hotel.config.JwtAuthenticationFilter@30a1b2ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77afdbc5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@757ad227, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5471342, org.springframework.security.web.session.SessionManagementFilter@642b2176, org.springframework.security.web.access.ExceptionTranslationFilter@2e93f91d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@569b3009]
2025-05-07 10:51:20.556  WARN 25024 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 10:51:20.678 DEBUG 25024 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 10:51:20.698  INFO 25024 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 10:51:20.764 DEBUG 25024 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 10:51:20.769 DEBUG 25024 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 10:51:20.784 DEBUG 25024 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 10:51:20.791 DEBUG 25024 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 10:51:20.966  INFO 25024 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 10:51:20.976  INFO 25024 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 5.937 seconds (JVM running for 6.753)
2025-05-07 10:52:12.409  INFO 25024 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 10:52:12.410  INFO 25024 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 10:52:12.410 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 10:52:12.410 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 10:52:12.410 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 10:52:12.411 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@78762e87
2025-05-07 10:52:12.411 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@73ab649f
2025-05-07 10:52:12.411 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 10:52:12.411  INFO 25024 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-07 10:52:12.423 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:52:12.427 DEBUG 25024 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:12.482  INFO 25024 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:52:12.485  INFO 25024 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:52:12.485  INFO 25024 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:52:12.487 DEBUG 25024 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:52:12.494 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 10:52:12.495 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:52:12.497 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 10:52:12.501 DEBUG 25024 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:52:12.592 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:12.592 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=204, id=6, floor=2, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:52:12.618 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:12.620 DEBUG 25024 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:14.480 DEBUG 25024 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/reception/checkout/204
2025-05-07 10:52:14.480 DEBUG 25024 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:14.489  INFO 25024 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:52:14.493  INFO 25024 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:52:14.493  INFO 25024 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:52:14.493 DEBUG 25024 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:52:14.494 DEBUG 25024 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reception/checkout/204] with attributes [authenticated]
2025-05-07 10:52:14.494 DEBUG 25024 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/reception/checkout/204
2025-05-07 10:52:14.494 DEBUG 25024 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/reception/checkout/204", parameters={}
2025-05-07 10:52:14.495 DEBUG 25024 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReceptionController#checkOut(String)
2025-05-07 10:52:14.570 DEBUG 25024 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:14.570 DEBUG 25024 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=退房成功，房间已标记为待清洁}]
2025-05-07 10:52:14.571 DEBUG 25024 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:14.571 DEBUG 25024 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:14.898 DEBUG 25024 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:52:14.898 DEBUG 25024 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:14.899  INFO 25024 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:52:14.903  INFO 25024 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:52:14.903  INFO 25024 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:52:14.903 DEBUG 25024 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:52:14.908 DEBUG 25024 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:52:14.908 DEBUG 25024 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:52:14.908 DEBUG 25024 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:52:14.908 DEBUG 25024 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:52:14.987 DEBUG 25024 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:14.987 DEBUG 25024 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:52:15.005 DEBUG 25024 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:15.006 DEBUG 25024 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:15.151 DEBUG 25024 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:52:15.151 DEBUG 25024 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:15.152  INFO 25024 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:52:15.154  INFO 25024 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:52:15.154  INFO 25024 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:52:15.154 DEBUG 25024 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:52:15.155 DEBUG 25024 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:52:15.155 DEBUG 25024 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:52:15.155 DEBUG 25024 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:52:15.155 DEBUG 25024 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:52:15.166 DEBUG 25024 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:15.166 DEBUG 25024 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:52:15.167 DEBUG 25024 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:15.167 DEBUG 25024 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:15.322 DEBUG 25024 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:52:15.322 DEBUG 25024 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:15.324  INFO 25024 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:52:15.326  INFO 25024 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:52:15.326  INFO 25024 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:52:15.326 DEBUG 25024 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:52:15.327 DEBUG 25024 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 10:52:15.327 DEBUG 25024 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:52:15.327 DEBUG 25024 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 10:52:15.328 DEBUG 25024 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:52:15.335 DEBUG 25024 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:15.336 DEBUG 25024 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=406, id=25, floor=4, roomType={name=行政套房, id (truncated)...]
2025-05-07 10:52:15.336 DEBUG 25024 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:15.337 DEBUG 25024 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:17.998 DEBUG 25024 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:52:17.998 DEBUG 25024 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:18.000  INFO 25024 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:52:18.003  INFO 25024 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:52:18.003  INFO 25024 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:52:18.004 DEBUG 25024 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:52:18.005 DEBUG 25024 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:52:18.005 DEBUG 25024 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:52:18.005 DEBUG 25024 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:52:18.006 DEBUG 25024 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:52:18.014  INFO 25024 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:52:18.022  INFO 25024 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:52:18.026  INFO 25024 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:52:18.044  INFO 25024 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 为房间 204 创建了清洁任务，分配给清洁员: 清洁人员
2025-05-07 10:52:18.044  INFO 25024 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 1 个新任务
2025-05-07 10:52:18.057 DEBUG 25024 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:18.065 DEBUG 25024 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=1, currentPage=0, content=[Task(id=9, roomNumber=204, roomType=豪华 (truncated)...]
2025-05-07 10:52:18.081 DEBUG 25024 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:18.081 DEBUG 25024 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:18.127 DEBUG 25024 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:52:18.127 DEBUG 25024 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:18.129  INFO 25024 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:52:18.132  INFO 25024 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:52:18.132  INFO 25024 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:52:18.133 DEBUG 25024 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:52:18.134 DEBUG 25024 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:52:18.134 DEBUG 25024 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:52:18.134 DEBUG 25024 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:52:18.135 DEBUG 25024 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:52:18.135  INFO 25024 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:52:18.141  INFO 25024 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:52:18.143  INFO 25024 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:52:18.146  INFO 25024 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 房间 204 已存在有效的清洁任务，跳过任务创建
2025-05-07 10:52:18.146  INFO 25024 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:52:18.158 DEBUG 25024 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:18.166 DEBUG 25024 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:52:18.169 DEBUG 25024 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:18.170 DEBUG 25024 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:20.983 DEBUG 25024 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/9/start
2025-05-07 10:52:20.984 DEBUG 25024 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:20.985  INFO 25024 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:52:20.988  INFO 25024 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:52:20.988  INFO 25024 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:52:20.988 DEBUG 25024 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:52:20.989 DEBUG 25024 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/9/start] with attributes [authenticated]
2025-05-07 10:52:20.989 DEBUG 25024 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/9/start
2025-05-07 10:52:20.989 DEBUG 25024 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/9/start", parameters={}
2025-05-07 10:52:20.989 DEBUG 25024 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#startTask(Long)
2025-05-07 10:52:21.008 ERROR 25024 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 为任务 ID 9 创建清洁记录失败: 清洁员不存在: 清洁人员

com.hotel.exception.BusinessException: 清洁员不存在: 清洁人员
	at com.hotel.service.impl.TaskServiceImpl.lambda$startTask$1(TaskServiceImpl.java:80) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at com.hotel.service.impl.TaskServiceImpl.startTask(TaskServiceImpl.java:80) ~[classes/:na]
	at com.hotel.service.impl.TaskServiceImpl$$FastClassBySpringCGLIB$$a3228ee2.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.TaskServiceImpl$$EnhancerBySpringCGLIB$$f7c57c1b.startTask(<generated>) ~[classes/:na]
	at com.hotel.controller.CleaningTaskController.startTask(CleaningTaskController.java:141) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-07 10:52:21.018 DEBUG 25024 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:21.018 DEBUG 25024 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Task(id=9, roomNumber=204, roomType=豪华大床房, cleaner=清洁人员, priority=medium, status=processing, expecte (truncated)...]
2025-05-07 10:52:21.020 DEBUG 25024 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:21.020 DEBUG 25024 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:24.383 DEBUG 25024 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/9/complete
2025-05-07 10:52:24.384 DEBUG 25024 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:24.386  INFO 25024 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:52:24.389  INFO 25024 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:52:24.390  INFO 25024 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:52:24.390 DEBUG 25024 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:52:24.390 DEBUG 25024 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/9/complete] with attributes [authenticated]
2025-05-07 10:52:24.390 DEBUG 25024 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/9/complete
2025-05-07 10:52:24.391 DEBUG 25024 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/9/complete", parameters={}
2025-05-07 10:52:24.392 DEBUG 25024 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#completeTask(Long, TaskDTO)
2025-05-07 10:52:24.420 DEBUG 25024 --- [http-nio-8090-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, expectedT (truncated)...]
2025-05-07 10:52:24.424  INFO 25024 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 任务完成：ID=9, 房间=204, 实际用时=30分钟, 问题: null
2025-05-07 10:52:24.429  WARN 25024 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 未找到任务 ID 9 对应的进行中清洁记录以标记为完成。
2025-05-07 10:52:24.434  INFO 25024 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 已更新房间状态：房间号=204, 状态=AVAILABLE, 需要清洁=false
2025-05-07 10:52:24.451 DEBUG 25024 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:24.451 DEBUG 25024 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Task(id=9, roomNumber=204, roomType=豪华大床房, cleaner=清洁人员, priority=medium, status=completed, expected (truncated)...]
2025-05-07 10:52:24.452 DEBUG 25024 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:24.452 DEBUG 25024 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:24.470 DEBUG 25024 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:52:24.470 DEBUG 25024 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:24.473  INFO 25024 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:52:24.476  INFO 25024 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:52:24.476  INFO 25024 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:52:24.476 DEBUG 25024 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:52:24.477 DEBUG 25024 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:52:24.477 DEBUG 25024 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:52:24.477 DEBUG 25024 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:52:24.478 DEBUG 25024 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:52:24.479  INFO 25024 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:52:24.481  INFO 25024 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:52:24.483  INFO 25024 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:52:24.483  INFO 25024 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:52:24.491 DEBUG 25024 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:24.492 DEBUG 25024 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=9, roomNumber=204, roomType=豪华 (truncated)...]
2025-05-07 10:52:24.494 DEBUG 25024 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:24.494 DEBUG 25024 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:24.509 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:52:24.509 DEBUG 25024 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:24.510  INFO 25024 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:52:24.513  INFO 25024 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:52:24.514  INFO 25024 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:52:24.514 DEBUG 25024 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:52:24.514 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:52:24.514 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:52:24.514 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:52:24.514 DEBUG 25024 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:52:24.515  INFO 25024 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:52:24.516  INFO 25024 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:52:24.518  INFO 25024 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:52:24.518  INFO 25024 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:52:24.528 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:24.528 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:52:24.529 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:24.529 DEBUG 25024 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:26.980 DEBUG 25024 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 10:52:26.981 DEBUG 25024 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:26.982  INFO 25024 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:52:26.986  INFO 25024 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:52:26.986  INFO 25024 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:52:26.986 DEBUG 25024 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:52:26.986 DEBUG 25024 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 10:52:26.986 DEBUG 25024 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 10:52:26.986 DEBUG 25024 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 10:52:26.987 DEBUG 25024 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 10:52:27.011 DEBUG 25024 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:27.011 DEBUG 25024 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 10:52:27.013 DEBUG 25024 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:27.013 DEBUG 25024 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:31.658 DEBUG 25024 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 10:52:31.658 DEBUG 25024 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:31.660  INFO 25024 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:52:31.663  INFO 25024 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:52:31.663  INFO 25024 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:52:31.663 DEBUG 25024 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:52:31.663 DEBUG 25024 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 10:52:31.663 DEBUG 25024 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 10:52:31.664 DEBUG 25024 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 10:52:31.664 DEBUG 25024 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 10:52:31.685 DEBUG 25024 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:31.685 DEBUG 25024 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 10:52:31.686 DEBUG 25024 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:31.687 DEBUG 25024 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:35.813 DEBUG 25024 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:52:35.813 DEBUG 25024 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:35.815  INFO 25024 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:52:35.818  INFO 25024 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:52:35.818  INFO 25024 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:52:35.818 DEBUG 25024 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:52:35.818 DEBUG 25024 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:52:35.818 DEBUG 25024 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:52:35.818 DEBUG 25024 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:52:35.819 DEBUG 25024 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:52:35.821  INFO 25024 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:52:35.823  INFO 25024 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:52:35.826  INFO 25024 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:52:35.827  INFO 25024 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:52:35.834 DEBUG 25024 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:35.835 DEBUG 25024 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=9, roomNumber=204, roomType=豪华 (truncated)...]
2025-05-07 10:52:35.836 DEBUG 25024 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:35.836 DEBUG 25024 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:35.911 DEBUG 25024 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:52:35.912 DEBUG 25024 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:35.913  INFO 25024 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:52:35.916  INFO 25024 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:52:35.916  INFO 25024 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:52:35.916 DEBUG 25024 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:52:35.916 DEBUG 25024 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:52:35.916 DEBUG 25024 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:52:35.916 DEBUG 25024 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:52:35.916 DEBUG 25024 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:52:35.917  INFO 25024 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:52:35.919  INFO 25024 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:52:35.921  INFO 25024 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:52:35.921  INFO 25024 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:52:35.929 DEBUG 25024 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:35.929 DEBUG 25024 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:52:35.930 DEBUG 25024 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:35.930 DEBUG 25024 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:42.489 DEBUG 25024 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/reception/checkout/406
2025-05-07 10:52:42.490 DEBUG 25024 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:42.492  INFO 25024 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:52:42.495  INFO 25024 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:52:42.495  INFO 25024 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:52:42.495 DEBUG 25024 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:52:42.496 DEBUG 25024 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reception/checkout/406] with attributes [authenticated]
2025-05-07 10:52:42.496 DEBUG 25024 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/reception/checkout/406
2025-05-07 10:52:42.496 DEBUG 25024 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/reception/checkout/406", parameters={}
2025-05-07 10:52:42.497 DEBUG 25024 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReceptionController#checkOut(String)
2025-05-07 10:52:42.517 DEBUG 25024 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:42.518 DEBUG 25024 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=退房成功，房间已标记为待清洁}]
2025-05-07 10:52:42.519 DEBUG 25024 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:42.519 DEBUG 25024 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:42.836 DEBUG 25024 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:52:42.836 DEBUG 25024 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:42.837  INFO 25024 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:52:42.839  INFO 25024 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:52:42.840  INFO 25024 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:52:42.840 DEBUG 25024 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:52:42.840 DEBUG 25024 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:52:42.840 DEBUG 25024 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:52:42.840 DEBUG 25024 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:52:42.840 DEBUG 25024 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:52:42.882 DEBUG 25024 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:42.882 DEBUG 25024 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:52:42.883 DEBUG 25024 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:42.883 DEBUG 25024 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:43.103 DEBUG 25024 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:52:43.104 DEBUG 25024 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:43.105  INFO 25024 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:52:43.107  INFO 25024 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:52:43.107  INFO 25024 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:52:43.107 DEBUG 25024 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:52:43.107 DEBUG 25024 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:52:43.107 DEBUG 25024 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:52:43.108 DEBUG 25024 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:52:43.108 DEBUG 25024 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:52:43.118 DEBUG 25024 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:43.118 DEBUG 25024 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:52:43.118 DEBUG 25024 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:43.119 DEBUG 25024 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:43.198 DEBUG 25024 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:52:43.198 DEBUG 25024 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:43.199  INFO 25024 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:52:43.201  INFO 25024 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:52:43.202  INFO 25024 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:52:43.202 DEBUG 25024 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:52:43.203 DEBUG 25024 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 10:52:43.203 DEBUG 25024 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:52:43.203 DEBUG 25024 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 10:52:43.203 DEBUG 25024 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:52:43.209 DEBUG 25024 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:43.209 DEBUG 25024 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=0, content=[], totalElements=0}]
2025-05-07 10:52:43.210 DEBUG 25024 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:43.211 DEBUG 25024 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:48.435 DEBUG 25024 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:52:48.436 DEBUG 25024 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:48.437  INFO 25024 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:52:48.440  INFO 25024 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:52:48.440  INFO 25024 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:52:48.440 DEBUG 25024 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:52:48.441 DEBUG 25024 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:52:48.442 DEBUG 25024 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:52:48.442 DEBUG 25024 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:52:48.442 DEBUG 25024 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:52:48.443  INFO 25024 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:52:48.447  INFO 25024 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:52:48.449  INFO 25024 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:52:48.454  INFO 25024 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 为房间 406 创建了清洁任务，分配给清洁员: 清洁人员
2025-05-07 10:52:48.454  INFO 25024 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 1 个新任务
2025-05-07 10:52:48.463 DEBUG 25024 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:48.464 DEBUG 25024 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=1, currentPage=0, content=[Task(id=10, roomNumber=406, roomType=行 (truncated)...]
2025-05-07 10:52:48.465 DEBUG 25024 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:48.465 DEBUG 25024 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:48.483 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:52:48.483 DEBUG 25024 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:48.484  INFO 25024 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:52:48.487  INFO 25024 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:52:48.487  INFO 25024 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:52:48.487 DEBUG 25024 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:52:48.488 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:52:48.488 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:52:48.488 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:52:48.488 DEBUG 25024 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:52:48.488  INFO 25024 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:52:48.492  INFO 25024 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:52:48.494  INFO 25024 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:52:48.496  INFO 25024 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 10:52:48.496  INFO 25024 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:52:48.504 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:48.504 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:52:48.505 DEBUG 25024 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:48.505 DEBUG 25024 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:51.544 DEBUG 25024 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/10/start
2025-05-07 10:52:51.545 DEBUG 25024 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:51.546  INFO 25024 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:52:51.549  INFO 25024 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:52:51.549  INFO 25024 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:52:51.549 DEBUG 25024 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:52:51.549 DEBUG 25024 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/10/start] with attributes [authenticated]
2025-05-07 10:52:51.549 DEBUG 25024 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/10/start
2025-05-07 10:52:51.550 DEBUG 25024 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/10/start", parameters={}
2025-05-07 10:52:51.550 DEBUG 25024 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#startTask(Long)
2025-05-07 10:52:51.558 ERROR 25024 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 为任务 ID 10 创建清洁记录失败: 清洁员不存在: 清洁人员

com.hotel.exception.BusinessException: 清洁员不存在: 清洁人员
	at com.hotel.service.impl.TaskServiceImpl.lambda$startTask$1(TaskServiceImpl.java:80) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at com.hotel.service.impl.TaskServiceImpl.startTask(TaskServiceImpl.java:80) ~[classes/:na]
	at com.hotel.service.impl.TaskServiceImpl$$FastClassBySpringCGLIB$$a3228ee2.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.TaskServiceImpl$$EnhancerBySpringCGLIB$$f7c57c1b.startTask(<generated>) ~[classes/:na]
	at com.hotel.controller.CleaningTaskController.startTask(CleaningTaskController.java:141) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-07 10:52:51.570 DEBUG 25024 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:51.571 DEBUG 25024 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Task(id=10, roomNumber=406, roomType=行政套房, cleaner=清洁人员, priority=medium, status=processing, expecte (truncated)...]
2025-05-07 10:52:51.571 DEBUG 25024 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:51.571 DEBUG 25024 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:53.084 DEBUG 25024 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 10:52:53.084 DEBUG 25024 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:53.085  INFO 25024 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:52:53.087  INFO 25024 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:52:53.087  INFO 25024 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:52:53.088 DEBUG 25024 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:52:53.088 DEBUG 25024 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 10:52:53.088 DEBUG 25024 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 10:52:53.088 DEBUG 25024 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 10:52:53.088 DEBUG 25024 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 10:52:53.104 DEBUG 25024 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:53.104 DEBUG 25024 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 10:52:53.105 DEBUG 25024 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:53.105 DEBUG 25024 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:52:57.443 DEBUG 25024 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records?status=COMPLETED
2025-05-07 10:52:57.443 DEBUG 25024 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:52:57.445  INFO 25024 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:52:57.447  INFO 25024 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:52:57.447  INFO 25024 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:52:57.447 DEBUG 25024 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:52:57.447 DEBUG 25024 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records?status=COMPLETED] with attributes [authenticated]
2025-05-07 10:52:57.447 DEBUG 25024 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records?status=COMPLETED
2025-05-07 10:52:57.447 DEBUG 25024 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records?status=COMPLETED", parameters={masked}
2025-05-07 10:52:57.447 DEBUG 25024 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 10:52:57.461 DEBUG 25024 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:52:57.461 DEBUG 25024 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=2, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 10:52:57.462 DEBUG 25024 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:52:57.462 DEBUG 25024 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:55:39.750 DEBUG 25024 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:55:39.750 DEBUG 25024 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:55:39.750  INFO 25024 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:55:39.750  INFO 25024 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:55:39.750  INFO 25024 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:55:39.750 DEBUG 25024 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:55:39.750 DEBUG 25024 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:55:39.750 DEBUG 25024 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:55:39.750 DEBUG 25024 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:55:39.750 DEBUG 25024 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:55:39.787 DEBUG 25024 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:55:39.787 DEBUG 25024 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:55:39.787 DEBUG 25024 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:55:39.787 DEBUG 25024 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:55:39.800 DEBUG 25024 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:55:39.800 DEBUG 25024 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:55:39.800  INFO 25024 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:55:39.800  INFO 25024 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:55:39.800  INFO 25024 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:55:39.800 DEBUG 25024 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:55:39.800 DEBUG 25024 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:55:39.808 DEBUG 25024 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:55:39.808 DEBUG 25024 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:55:39.808 DEBUG 25024 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:55:39.862 DEBUG 25024 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:55:39.863 DEBUG 25024 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:55:39.864 DEBUG 25024 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:55:39.864 DEBUG 25024 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:55:39.878 DEBUG 25024 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:55:39.878 DEBUG 25024 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:55:39.878  INFO 25024 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:55:39.878  INFO 25024 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:55:39.878  INFO 25024 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:55:39.878 DEBUG 25024 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:55:39.878 DEBUG 25024 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:55:39.878 DEBUG 25024 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:55:39.878 DEBUG 25024 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:55:39.878 DEBUG 25024 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:55:39.888 DEBUG 25024 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:55:39.888 DEBUG 25024 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:55:39.888 DEBUG 25024 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:55:39.888 DEBUG 25024 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:57:01.922 DEBUG 25024 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:57:01.922 DEBUG 25024 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:57:01.923  INFO 25024 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:57:01.926  INFO 25024 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:57:01.926  INFO 25024 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:57:01.926 DEBUG 25024 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:57:01.926 DEBUG 25024 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:57:01.927 DEBUG 25024 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:57:01.927 DEBUG 25024 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:57:01.927 DEBUG 25024 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:57:01.941 DEBUG 25024 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:57:01.941 DEBUG 25024 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:57:01.941 DEBUG 25024 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:57:01.941 DEBUG 25024 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:57:01.951 DEBUG 25024 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:57:01.951 DEBUG 25024 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:57:01.951  INFO 25024 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:57:01.961  INFO 25024 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:57:01.961  INFO 25024 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:57:01.961 DEBUG 25024 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:57:01.961 DEBUG 25024 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:57:01.961 DEBUG 25024 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:57:01.961 DEBUG 25024 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:57:01.961 DEBUG 25024 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:57:01.995 DEBUG 25024 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:57:01.995 DEBUG 25024 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:57:02.005 DEBUG 25024 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:57:02.005 DEBUG 25024 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:57:02.015 DEBUG 25024 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:57:02.015 DEBUG 25024 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:57:02.015  INFO 25024 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:57:02.015  INFO 25024 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:57:02.015  INFO 25024 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:57:02.015 DEBUG 25024 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:57:02.015 DEBUG 25024 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:57:02.015 DEBUG 25024 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:57:02.015 DEBUG 25024 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:57:02.015 DEBUG 25024 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:57:02.033 DEBUG 25024 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:57:02.033 DEBUG 25024 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:57:02.033 DEBUG 25024 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:57:02.033 DEBUG 25024 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:57:07.500  INFO 25024 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 10:57:07.510  INFO 25024 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 10:57:07.520  INFO 25024 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 10:57:11.762  INFO 29352 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 29352 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 10:57:11.764 DEBUG 29352 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 10:57:11.765  INFO 29352 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 10:57:12.657  INFO 29352 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 10:57:12.892  INFO 29352 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 225 ms. Found 19 JPA repository interfaces.
2025-05-07 10:57:13.451  INFO 29352 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 10:57:13.452  INFO 29352 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 10:57:13.452  INFO 29352 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 10:57:13.453  INFO 29352 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 10:57:13.456  INFO 29352 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 10:57:13.465  INFO 29352 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 10:57:13.465  INFO 29352 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 10:57:13.598  INFO 29352 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 10:57:13.599  INFO 29352 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1791 ms
2025-05-07 10:57:13.754  INFO 29352 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 10:57:13.796  INFO 29352 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 10:57:13.918  INFO 29352 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 10:57:14.022  INFO 29352 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 10:57:14.277  INFO 29352 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 10:57:14.290  INFO 29352 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 10:57:15.507  INFO 29352 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 10:57:15.515  INFO 29352 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 10:57:15.930 DEBUG 29352 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 10:57:15.930 DEBUG 29352 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 10:57:16.850 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 10:57:16.856 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 10:57:16.857 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 10:57:16.857 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 10:57:16.858 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 10:57:16.858 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 10:57:16.858 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 10:57:16.858 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 10:57:16.859 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 10:57:16.859 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 10:57:16.860 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 10:57:16.860 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 10:57:16.860 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 10:57:16.860 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 10:57:16.860 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 10:57:16.860 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 10:57:16.861 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 10:57:16.861 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 10:57:16.862 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 10:57:16.862 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 10:57:16.862 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 10:57:16.862 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 10:57:16.862 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 10:57:16.862 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 10:57:16.863 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 10:57:16.863 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 10:57:16.863 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 10:57:16.863 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 10:57:16.863 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 10:57:16.864 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 10:57:16.864 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 10:57:16.864 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 10:57:16.864 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 10:57:16.864 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 10:57:16.864 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 10:57:16.864 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 10:57:16.866 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 10:57:16.867 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 10:57:16.867 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 10:57:16.867 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 10:57:16.868 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 10:57:16.868 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 10:57:16.868 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 10:57:16.869 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 10:57:16.869 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 10:57:16.869 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 10:57:16.869 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 10:57:16.870 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 10:57:16.870 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 10:57:16.870 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 10:57:16.870 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 10:57:16.870 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 10:57:16.871 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 10:57:16.871 DEBUG 29352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 10:57:16.878  INFO 29352 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@fdfd984, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45e49d3d, org.springframework.security.web.context.SecurityContextPersistenceFilter@66011fbc, org.springframework.security.web.header.HeaderWriterFilter@20331c8e, org.springframework.web.filter.CorsFilter@1f7b1d6a, org.springframework.security.web.authentication.logout.LogoutFilter@5e445ffe, com.hotel.config.JwtAuthenticationFilter@43c20142, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@757ad227, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4b718c45, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@72e5206, org.springframework.security.web.session.SessionManagementFilter@3985175e, org.springframework.security.web.access.ExceptionTranslationFilter@1a899fcd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4f2a0909]
2025-05-07 10:57:16.928  WARN 29352 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 10:57:17.052 DEBUG 29352 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 10:57:17.075  INFO 29352 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 10:57:17.149 DEBUG 29352 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 10:57:17.154 DEBUG 29352 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 10:57:17.170 DEBUG 29352 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 10:57:17.180 DEBUG 29352 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 10:57:17.361  INFO 29352 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 10:57:17.371  INFO 29352 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.093 seconds (JVM running for 7.045)
2025-05-07 10:57:33.284  INFO 29352 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 10:57:33.284  INFO 29352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 10:57:33.284 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 10:57:33.284 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 10:57:33.285 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 10:57:33.285 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2e268c19
2025-05-07 10:57:33.286 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1de83be1
2025-05-07 10:57:33.286 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 10:57:33.287  INFO 29352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-07 10:57:33.303 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:57:33.309 DEBUG 29352 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:57:33.400  INFO 29352 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:57:33.404  INFO 29352 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:57:33.405  INFO 29352 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:57:33.407 DEBUG 29352 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:57:33.418 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:57:33.418 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:57:33.421 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:57:33.427 DEBUG 29352 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:57:33.469  INFO 29352 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:57:33.497  INFO 29352 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:57:33.524  INFO 29352 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:57:33.529  INFO 29352 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 10:57:33.530  INFO 29352 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:57:33.578 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:57:33.590 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=10, roomNumber=406, roomType=行 (truncated)...]
2025-05-07 10:57:33.654 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:57:33.656 DEBUG 29352 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:57:33.675 DEBUG 29352 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:57:33.675 DEBUG 29352 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:57:33.677  INFO 29352 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:57:33.680  INFO 29352 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:57:33.680  INFO 29352 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:57:33.681 DEBUG 29352 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:57:33.681 DEBUG 29352 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:57:33.682 DEBUG 29352 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:57:33.682 DEBUG 29352 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:57:33.682 DEBUG 29352 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:57:33.683  INFO 29352 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:57:33.688  INFO 29352 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:57:33.691  INFO 29352 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:57:33.694  INFO 29352 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 10:57:33.694  INFO 29352 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:57:33.704 DEBUG 29352 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:57:33.710 DEBUG 29352 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:57:33.716 DEBUG 29352 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:57:33.717 DEBUG 29352 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:57:38.165 DEBUG 29352 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 10:57:38.165 DEBUG 29352 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:57:38.165  INFO 29352 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:57:38.165  INFO 29352 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:57:38.175  INFO 29352 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:57:38.175 DEBUG 29352 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:57:38.175 DEBUG 29352 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&size=200&page=0] with attributes [authenticated]
2025-05-07 10:57:38.175 DEBUG 29352 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 10:57:38.175 DEBUG 29352 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&size=200&page=0", parameters={masked}
2025-05-07 10:57:38.175 DEBUG 29352 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:57:38.225 DEBUG 29352 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:57:38.225 DEBUG 29352 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:57:38.225 DEBUG 29352 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:57:38.225 DEBUG 29352 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:57:51.996 DEBUG 29352 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0
2025-05-07 10:57:51.997 DEBUG 29352 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:57:51.998  INFO 29352 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:57:52.002  INFO 29352 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:57:52.002  INFO 29352 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:57:52.002 DEBUG 29352 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:57:52.002 DEBUG 29352 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0] with attributes [authenticated]
2025-05-07 10:57:52.002 DEBUG 29352 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0
2025-05-07 10:57:52.003 DEBUG 29352 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0", parameters={masked}
2025-05-07 10:57:52.004 DEBUG 29352 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:57:52.017 DEBUG 29352 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:57:52.018 DEBUG 29352 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:57:52.018 DEBUG 29352 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:57:52.018 DEBUG 29352 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:58:01.416 DEBUG 29352 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:58:01.416 DEBUG 29352 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:58:01.429  INFO 29352 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:58:01.429  INFO 29352 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:58:01.429  INFO 29352 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:58:01.429 DEBUG 29352 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:58:01.436 DEBUG 29352 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:58:01.436 DEBUG 29352 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:58:01.436 DEBUG 29352 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:58:01.436 DEBUG 29352 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:58:01.479 DEBUG 29352 --- [http-nio-8090-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=6, roomNumber=null, roomType=null, guestName=aafqf (truncated)...]
2025-05-07 10:58:01.562  INFO 29352 --- [http-nio-8090-exec-9] c.hotel.service.impl.CheckInServiceImpl  : 为直接入住创建临时预订: ID=27
2025-05-07 10:58:01.588  INFO 29352 --- [http-nio-8090-exec-9] c.hotel.service.impl.CheckInServiceImpl  : 入住登记成功: ID=16, 入住单号=CI202505070006, 预订ID=27
2025-05-07 10:58:01.617 DEBUG 29352 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:58:01.617 DEBUG 29352 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=CheckInRecord(id=16, checkInNumber=CI202505070006, roomId=6, roomNumber=204, roomType=豪华大床房, g (truncated)...]
2025-05-07 10:58:01.628 DEBUG 29352 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-07 10:58:01.629 DEBUG 29352 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:58:01.682 DEBUG 29352 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:58:01.682 DEBUG 29352 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:58:01.683  INFO 29352 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:58:01.685  INFO 29352 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:58:01.685  INFO 29352 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:58:01.685 DEBUG 29352 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:58:01.685 DEBUG 29352 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:58:01.685 DEBUG 29352 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:58:01.685 DEBUG 29352 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:58:01.685 DEBUG 29352 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:58:01.771 DEBUG 29352 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:58:01.771 DEBUG 29352 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:58:01.777 DEBUG 29352 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:58:01.777 DEBUG 29352 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:58:01.956 DEBUG 29352 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:58:01.956 DEBUG 29352 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:58:01.962  INFO 29352 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:58:01.962  INFO 29352 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:58:01.962  INFO 29352 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:58:01.962 DEBUG 29352 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:58:01.962 DEBUG 29352 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:58:01.962 DEBUG 29352 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:58:01.962 DEBUG 29352 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:58:01.962 DEBUG 29352 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:58:01.977 DEBUG 29352 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:58:01.977 DEBUG 29352 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:58:01.977 DEBUG 29352 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:58:01.977 DEBUG 29352 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:58:03.440 DEBUG 29352 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:58:03.441 DEBUG 29352 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:58:03.442  INFO 29352 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:58:03.445  INFO 29352 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:58:03.445  INFO 29352 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:58:03.445 DEBUG 29352 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:58:03.446 DEBUG 29352 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 10:58:03.446 DEBUG 29352 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:58:03.446 DEBUG 29352 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 10:58:03.447 DEBUG 29352 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:58:03.457 DEBUG 29352 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:58:03.457 DEBUG 29352 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=204, id=6, floor=2, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:58:03.457 DEBUG 29352 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:58:03.457 DEBUG 29352 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:58:05.207 DEBUG 29352 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/reception/checkout/204
2025-05-07 10:58:05.207 DEBUG 29352 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:58:05.213  INFO 29352 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:58:05.215  INFO 29352 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:58:05.215  INFO 29352 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:58:05.215 DEBUG 29352 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:58:05.215 DEBUG 29352 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reception/checkout/204] with attributes [authenticated]
2025-05-07 10:58:05.215 DEBUG 29352 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/reception/checkout/204
2025-05-07 10:58:05.215 DEBUG 29352 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/reception/checkout/204", parameters={}
2025-05-07 10:58:05.215 DEBUG 29352 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReceptionController#checkOut(String)
2025-05-07 10:58:05.241 DEBUG 29352 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:58:05.241 DEBUG 29352 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=退房成功，房间已标记为待清洁}]
2025-05-07 10:58:05.241 DEBUG 29352 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:58:05.241 DEBUG 29352 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:58:05.478 DEBUG 29352 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:58:05.478 DEBUG 29352 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:58:05.478  INFO 29352 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:58:05.484  INFO 29352 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:58:05.484  INFO 29352 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:58:05.484 DEBUG 29352 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:58:05.484 DEBUG 29352 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:58:05.484 DEBUG 29352 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:58:05.484 DEBUG 29352 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:58:05.484 DEBUG 29352 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:58:05.533 DEBUG 29352 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:58:05.533 DEBUG 29352 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:58:05.537 DEBUG 29352 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:58:05.537 DEBUG 29352 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:58:05.560 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:58:05.560 DEBUG 29352 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:58:05.562  INFO 29352 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:58:05.564  INFO 29352 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:58:05.564  INFO 29352 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:58:05.564 DEBUG 29352 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:58:05.565 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:58:05.565 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:58:05.565 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:58:05.565 DEBUG 29352 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:58:05.574 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:58:05.574 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:58:05.580 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:58:05.580 DEBUG 29352 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:58:05.860 DEBUG 29352 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:58:05.860 DEBUG 29352 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:58:05.865  INFO 29352 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:58:05.866  INFO 29352 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:58:05.866  INFO 29352 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:58:05.866 DEBUG 29352 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:58:05.866 DEBUG 29352 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 10:58:05.866 DEBUG 29352 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:58:05.866 DEBUG 29352 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 10:58:05.866 DEBUG 29352 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:58:05.873 DEBUG 29352 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:58:05.873 DEBUG 29352 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=0, content=[], totalElements=0}]
2025-05-07 10:58:05.873 DEBUG 29352 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:58:05.873 DEBUG 29352 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:58:09.468 DEBUG 29352 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:58:09.469 DEBUG 29352 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:58:09.471  INFO 29352 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:58:09.474  INFO 29352 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:58:09.475  INFO 29352 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:58:09.475 DEBUG 29352 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:58:09.475 DEBUG 29352 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:58:09.475 DEBUG 29352 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:58:09.475 DEBUG 29352 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:58:09.476 DEBUG 29352 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:58:09.478  INFO 29352 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:58:09.486  INFO 29352 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 找到 2 个需要清洁的房间
2025-05-07 10:58:09.489  INFO 29352 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:58:09.492  INFO 29352 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 已更新房间 204 状态为可用，跳过任务创建
2025-05-07 10:58:09.495  INFO 29352 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 10:58:09.495  INFO 29352 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:58:09.507 DEBUG 29352 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:58:09.507 DEBUG 29352 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=10, roomNumber=406, roomType=行 (truncated)...]
2025-05-07 10:58:09.509 DEBUG 29352 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:58:09.509 DEBUG 29352 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:58:09.577 DEBUG 29352 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:58:09.577 DEBUG 29352 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:58:09.579  INFO 29352 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:58:09.582  INFO 29352 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:58:09.582  INFO 29352 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:58:09.582 DEBUG 29352 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:58:09.582 DEBUG 29352 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:58:09.583 DEBUG 29352 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:58:09.583 DEBUG 29352 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:58:09.583 DEBUG 29352 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:58:09.583  INFO 29352 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:58:09.587  INFO 29352 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:58:09.589  INFO 29352 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:58:09.592  INFO 29352 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 10:58:09.592  INFO 29352 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:58:09.599 DEBUG 29352 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:58:09.599 DEBUG 29352 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:58:09.599 DEBUG 29352 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:58:09.600 DEBUG 29352 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:58:14.281 DEBUG 29352 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:58:14.282 DEBUG 29352 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:58:14.283  INFO 29352 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:58:14.288  INFO 29352 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:58:14.288  INFO 29352 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:58:14.288 DEBUG 29352 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:58:14.288 DEBUG 29352 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:58:14.288 DEBUG 29352 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:58:14.289 DEBUG 29352 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:58:14.289 DEBUG 29352 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:58:14.291  INFO 29352 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:58:14.295  INFO 29352 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:58:14.298  INFO 29352 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:58:14.302  INFO 29352 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 10:58:14.302  INFO 29352 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:58:14.311 DEBUG 29352 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:58:14.311 DEBUG 29352 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=10, roomNumber=406, roomType=行 (truncated)...]
2025-05-07 10:58:14.313 DEBUG 29352 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:58:14.313 DEBUG 29352 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:58:14.429 DEBUG 29352 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:58:14.429 DEBUG 29352 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:58:14.431  INFO 29352 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:58:14.433  INFO 29352 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:58:14.433  INFO 29352 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:58:14.433 DEBUG 29352 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:58:14.433 DEBUG 29352 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:58:14.434 DEBUG 29352 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:58:14.434 DEBUG 29352 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:58:14.434 DEBUG 29352 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:58:14.434  INFO 29352 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:58:14.439  INFO 29352 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:58:14.440  INFO 29352 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:58:14.443  INFO 29352 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 10:58:14.443  INFO 29352 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:58:14.450 DEBUG 29352 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:58:14.451 DEBUG 29352 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:58:14.451 DEBUG 29352 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:58:14.452 DEBUG 29352 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:58:20.951 DEBUG 29352 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:58:20.952 DEBUG 29352 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:58:20.953  INFO 29352 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:58:20.956  INFO 29352 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:58:20.956  INFO 29352 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:58:20.957 DEBUG 29352 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:58:20.957 DEBUG 29352 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:58:20.957 DEBUG 29352 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:58:20.958 DEBUG 29352 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:58:20.958 DEBUG 29352 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:58:20.959  INFO 29352 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:58:20.965  INFO 29352 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:58:20.967  INFO 29352 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:58:20.970  INFO 29352 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 10:58:20.970  INFO 29352 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:58:20.978 DEBUG 29352 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:58:20.979 DEBUG 29352 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=10, roomNumber=406, roomType=行 (truncated)...]
2025-05-07 10:58:20.980 DEBUG 29352 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:58:20.980 DEBUG 29352 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:58:21.062 DEBUG 29352 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:58:21.063 DEBUG 29352 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:58:21.064  INFO 29352 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:58:21.066  INFO 29352 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:58:21.066  INFO 29352 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:58:21.066 DEBUG 29352 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:58:21.066 DEBUG 29352 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:58:21.067 DEBUG 29352 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:58:21.067 DEBUG 29352 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:58:21.067 DEBUG 29352 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:58:21.068  INFO 29352 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:58:21.072  INFO 29352 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:58:21.074  INFO 29352 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:58:21.077  INFO 29352 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 10:58:21.077  INFO 29352 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:58:21.085 DEBUG 29352 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:58:21.085 DEBUG 29352 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:58:21.086 DEBUG 29352 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:58:21.086 DEBUG 29352 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:58:42.522 DEBUG 29352 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:58:42.522 DEBUG 29352 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:58:42.524  INFO 29352 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:58:42.527  INFO 29352 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:58:42.528  INFO 29352 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:58:42.528 DEBUG 29352 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:58:42.528 DEBUG 29352 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:58:42.529 DEBUG 29352 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:58:42.529 DEBUG 29352 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:58:42.529 DEBUG 29352 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:58:42.531  INFO 29352 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:58:42.536  INFO 29352 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:58:42.537  INFO 29352 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:58:42.540  INFO 29352 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 10:58:42.540  INFO 29352 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:58:42.549 DEBUG 29352 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:58:42.550 DEBUG 29352 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=10, roomNumber=406, roomType=行 (truncated)...]
2025-05-07 10:58:42.551 DEBUG 29352 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:58:42.552 DEBUG 29352 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:58:42.640 DEBUG 29352 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:58:42.641 DEBUG 29352 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:58:42.642  INFO 29352 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:58:42.646  INFO 29352 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:58:42.647  INFO 29352 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:58:42.648 DEBUG 29352 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:58:42.648 DEBUG 29352 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:58:42.649 DEBUG 29352 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:58:42.649 DEBUG 29352 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:58:42.649 DEBUG 29352 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:58:42.649  INFO 29352 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:58:42.655  INFO 29352 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:58:42.658  INFO 29352 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:58:42.661  INFO 29352 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 10:58:42.662  INFO 29352 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:58:42.671 DEBUG 29352 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:58:42.671 DEBUG 29352 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:58:42.673 DEBUG 29352 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:58:42.673 DEBUG 29352 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:58:45.067 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:58:45.068 DEBUG 29352 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:58:45.071  INFO 29352 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:58:45.075  INFO 29352 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:58:45.076  INFO 29352 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:58:45.076 DEBUG 29352 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:58:45.076 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:58:45.076 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:58:45.077 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:58:45.077 DEBUG 29352 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:58:45.079  INFO 29352 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:58:45.084  INFO 29352 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:58:45.086  INFO 29352 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:58:45.088  INFO 29352 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 10:58:45.088  INFO 29352 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:58:45.097 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:58:45.098 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=10, roomNumber=406, roomType=行 (truncated)...]
2025-05-07 10:58:45.100 DEBUG 29352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:58:45.100 DEBUG 29352 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:58:45.193 DEBUG 29352 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:58:45.193 DEBUG 29352 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:58:45.195  INFO 29352 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:58:45.198  INFO 29352 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:58:45.198  INFO 29352 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:58:45.199 DEBUG 29352 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:58:45.199 DEBUG 29352 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:58:45.199 DEBUG 29352 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:58:45.199 DEBUG 29352 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:58:45.200 DEBUG 29352 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:58:45.200  INFO 29352 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:58:45.205  INFO 29352 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:58:45.207  INFO 29352 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:58:45.211  INFO 29352 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 10:58:45.211  INFO 29352 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:58:45.221 DEBUG 29352 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:58:45.222 DEBUG 29352 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:58:45.224 DEBUG 29352 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:58:45.224 DEBUG 29352 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:58:48.066  INFO 29352 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 10:58:48.070  INFO 29352 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 10:58:48.092  INFO 29352 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 10:58:57.261  INFO 27000 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 27000 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 10:58:57.264 DEBUG 27000 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 10:58:57.265  INFO 27000 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 10:58:58.356  INFO 27000 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 10:58:58.547  INFO 27000 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 182 ms. Found 19 JPA repository interfaces.
2025-05-07 10:58:59.052  INFO 27000 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 10:58:59.053  INFO 27000 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 10:58:59.053  INFO 27000 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 10:58:59.054  INFO 27000 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 10:58:59.058  INFO 27000 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 10:58:59.067  INFO 27000 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 10:58:59.068  INFO 27000 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 10:58:59.205  INFO 27000 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 10:58:59.205  INFO 27000 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1896 ms
2025-05-07 10:58:59.375  INFO 27000 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 10:58:59.417  INFO 27000 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 10:58:59.557  INFO 27000 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 10:58:59.655  INFO 27000 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 10:58:59.914  INFO 27000 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 10:58:59.925  INFO 27000 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 10:59:00.994  INFO 27000 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 10:59:01.004  INFO 27000 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 10:59:01.469 DEBUG 27000 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 10:59:01.470 DEBUG 27000 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 10:59:02.376 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 10:59:02.382 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 10:59:02.383 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 10:59:02.383 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 10:59:02.383 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 10:59:02.383 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 10:59:02.383 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 10:59:02.383 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 10:59:02.384 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 10:59:02.384 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 10:59:02.384 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 10:59:02.384 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 10:59:02.384 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 10:59:02.385 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 10:59:02.385 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 10:59:02.385 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 10:59:02.385 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 10:59:02.385 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 10:59:02.386 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 10:59:02.386 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 10:59:02.386 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 10:59:02.386 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 10:59:02.386 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 10:59:02.386 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 10:59:02.386 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 10:59:02.387 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 10:59:02.387 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 10:59:02.387 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 10:59:02.387 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 10:59:02.387 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 10:59:02.387 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 10:59:02.387 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 10:59:02.388 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 10:59:02.388 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 10:59:02.388 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 10:59:02.388 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 10:59:02.390 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 10:59:02.390 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 10:59:02.390 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 10:59:02.390 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 10:59:02.392 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 10:59:02.392 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 10:59:02.392 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 10:59:02.392 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 10:59:02.393 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 10:59:02.393 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 10:59:02.393 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 10:59:02.393 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 10:59:02.393 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 10:59:02.393 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 10:59:02.393 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 10:59:02.394 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 10:59:02.394 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 10:59:02.394 DEBUG 27000 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 10:59:02.400  INFO 27000 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@671c71e8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d5176d6, org.springframework.security.web.context.SecurityContextPersistenceFilter@44bb6856, org.springframework.security.web.header.HeaderWriterFilter@106c73ed, org.springframework.web.filter.CorsFilter@13edc1bc, org.springframework.security.web.authentication.logout.LogoutFilter@d79a69b, com.hotel.config.JwtAuthenticationFilter@5aefdb9e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57d0c779, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3070f59f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31d791c0, org.springframework.security.web.session.SessionManagementFilter@74471600, org.springframework.security.web.access.ExceptionTranslationFilter@7e9d171c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1e14ed59]
2025-05-07 10:59:02.451  WARN 27000 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 10:59:02.584 DEBUG 27000 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 10:59:02.612  INFO 27000 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 10:59:02.689 DEBUG 27000 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 10:59:02.697 DEBUG 27000 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 10:59:02.719 DEBUG 27000 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 10:59:02.733 DEBUG 27000 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 10:59:02.970  INFO 27000 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 10:59:02.980  INFO 27000 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.189 seconds (JVM running for 7.293)
2025-05-07 10:59:05.619  INFO 27000 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 10:59:05.619  INFO 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 10:59:05.620 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 10:59:05.620 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 10:59:05.620 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 10:59:05.621 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@12d33d7a
2025-05-07 10:59:05.622 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1abb719a
2025-05-07 10:59:05.622 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 10:59:05.622  INFO 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-07 10:59:05.638 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:59:05.645 DEBUG 27000 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:59:05.723  INFO 27000 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:59:05.727  INFO 27000 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:59:05.727  INFO 27000 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:59:05.729 DEBUG 27000 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:59:05.737 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:59:05.738 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:59:05.739 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:59:05.745 DEBUG 27000 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:59:05.776  INFO 27000 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:59:05.798  INFO 27000 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:59:05.820  INFO 27000 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:59:05.825  INFO 27000 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 10:59:05.825  INFO 27000 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:59:05.867 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:59:05.877 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=10, roomNumber=406, roomType=行 (truncated)...]
2025-05-07 10:59:05.938 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:59:05.940 DEBUG 27000 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:59:05.965 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:59:05.966 DEBUG 27000 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:59:05.968  INFO 27000 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:59:05.970  INFO 27000 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:59:05.970  INFO 27000 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:59:05.970 DEBUG 27000 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:59:05.971 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:59:05.971 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:59:05.971 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:59:05.972 DEBUG 27000 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:59:05.972  INFO 27000 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:59:05.977  INFO 27000 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:59:05.981  INFO 27000 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:59:05.984  INFO 27000 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 10:59:05.984  INFO 27000 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:59:05.996 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:59:06.002 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:59:06.008 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:59:06.008 DEBUG 27000 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:59:28.737 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:59:28.738 DEBUG 27000 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:59:28.739  INFO 27000 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:59:28.744  INFO 27000 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:59:28.744  INFO 27000 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:59:28.744 DEBUG 27000 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:59:28.744 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:59:28.744 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:59:28.744 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:59:28.744 DEBUG 27000 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:59:28.746  INFO 27000 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:59:28.751  INFO 27000 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:59:28.754  INFO 27000 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:59:28.758  INFO 27000 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 10:59:28.758  INFO 27000 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:59:28.766 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:59:28.766 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=10, roomNumber=406, roomType=行 (truncated)...]
2025-05-07 10:59:28.768 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:59:28.769 DEBUG 27000 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:59:28.827 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:59:28.827 DEBUG 27000 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:59:28.828  INFO 27000 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:59:28.831  INFO 27000 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:59:28.831  INFO 27000 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:59:28.831 DEBUG 27000 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:59:28.833 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:59:28.833 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:59:28.833 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:59:28.835 DEBUG 27000 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:59:28.835  INFO 27000 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:59:28.838  INFO 27000 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:59:28.840  INFO 27000 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:59:28.843  INFO 27000 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 10:59:28.843  INFO 27000 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:59:28.851 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:59:28.851 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:59:28.852 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:59:28.852 DEBUG 27000 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:01:26.377 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 11:01:26.378 DEBUG 27000 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:01:26.380  INFO 27000 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:01:26.386  INFO 27000 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:01:26.386  INFO 27000 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:01:26.386 DEBUG 27000 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:01:26.387 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 11:01:26.387 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 11:01:26.387 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 11:01:26.388 DEBUG 27000 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 11:01:26.433 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:01:26.433 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 11:01:26.436 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:01:26.436 DEBUG 27000 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:02:47.517 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:02:47.518 DEBUG 27000 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:02:47.520  INFO 27000 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:02:47.524  INFO 27000 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:02:47.524  INFO 27000 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:02:47.525 DEBUG 27000 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:02:47.526 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:02:47.526 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:02:47.527 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:02:47.527 DEBUG 27000 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:02:47.594 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:02:47.595 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:02:47.603 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:02:47.604 DEBUG 27000 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:02:47.620 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:02:47.620 DEBUG 27000 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:02:47.622  INFO 27000 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:02:47.625  INFO 27000 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:02:47.625  INFO 27000 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:02:47.625 DEBUG 27000 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:02:47.631 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:02:47.632 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:02:47.632 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:02:47.632 DEBUG 27000 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:02:47.746 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:02:47.747 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:02:47.750 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:02:47.750 DEBUG 27000 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:02:48.078 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:02:48.079 DEBUG 27000 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:02:48.082  INFO 27000 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:02:48.085  INFO 27000 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:02:48.086  INFO 27000 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:02:48.086 DEBUG 27000 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:02:48.086 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:02:48.087 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:02:48.087 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:02:48.088 DEBUG 27000 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:02:48.147 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:02:48.147 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:02:48.152 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:02:48.152 DEBUG 27000 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:02:52.972 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 11:02:52.973 DEBUG 27000 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:02:52.974  INFO 27000 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:02:52.978  INFO 27000 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:02:52.979  INFO 27000 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:02:52.979 DEBUG 27000 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:02:52.979 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 11:02:52.979 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 11:02:52.979 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 11:02:52.979 DEBUG 27000 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 11:02:52.981  INFO 27000 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:02:52.986  INFO 27000 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 11:02:52.988  INFO 27000 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:02:52.991  INFO 27000 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 11:02:52.991  INFO 27000 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:02:53.000 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:02:53.000 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=10, roomNumber=406, roomType=行 (truncated)...]
2025-05-07 11:02:53.002 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:02:53.002 DEBUG 27000 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:02:53.099 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 11:02:53.099 DEBUG 27000 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:02:53.100  INFO 27000 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:02:53.104  INFO 27000 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:02:53.104  INFO 27000 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:02:53.104 DEBUG 27000 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:02:53.105 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 11:02:53.105 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 11:02:53.106 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 11:02:53.106 DEBUG 27000 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 11:02:53.107  INFO 27000 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:02:53.113  INFO 27000 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 11:02:53.115  INFO 27000 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:02:53.118  INFO 27000 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 11:02:53.118  INFO 27000 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:02:53.127 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:02:53.127 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 11:02:53.128 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:02:53.128 DEBUG 27000 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:03:05.705 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:03:05.706 DEBUG 27000 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:03:05.707  INFO 27000 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:03:05.710  INFO 27000 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:03:05.710  INFO 27000 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:03:05.711 DEBUG 27000 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:03:05.711 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:03:05.711 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:03:05.711 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:03:05.712 DEBUG 27000 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:03:05.737 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:03:05.737 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:03:05.738 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:03:05.738 DEBUG 27000 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:03:05.789 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:03:05.790 DEBUG 27000 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:03:05.792  INFO 27000 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:03:05.796  INFO 27000 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:03:05.797  INFO 27000 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:03:05.797 DEBUG 27000 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:03:05.797 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:03:05.798 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:03:05.798 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:03:05.798 DEBUG 27000 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:03:05.874 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:03:05.875 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:03:05.875 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:03:05.876 DEBUG 27000 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:03:05.890 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:03:05.891 DEBUG 27000 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:03:05.893  INFO 27000 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:03:05.896  INFO 27000 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:03:05.896  INFO 27000 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:03:05.897 DEBUG 27000 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:03:05.897 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:03:05.897 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:03:05.897 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:03:05.898 DEBUG 27000 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:03:05.912 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:03:05.912 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:03:05.914 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:03:05.915 DEBUG 27000 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:03:06.898 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:03:06.898 DEBUG 27000 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:03:06.900  INFO 27000 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:03:06.903  INFO 27000 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:03:06.904  INFO 27000 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:03:06.904 DEBUG 27000 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:03:06.904 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:03:06.904 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:03:06.904 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:03:06.904 DEBUG 27000 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:03:06.916 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:03:06.916 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:03:06.917 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:03:06.917 DEBUG 27000 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:04:37.161 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:04:37.162 DEBUG 27000 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:04:37.163  INFO 27000 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:04:37.165  INFO 27000 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:04:37.165  INFO 27000 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:04:37.166 DEBUG 27000 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:04:37.166 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:04:37.166 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:04:37.166 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:04:37.167 DEBUG 27000 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:04:37.183 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:04:37.183 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:04:37.184 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:04:37.185 DEBUG 27000 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:04:37.236 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:04:37.237 DEBUG 27000 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:04:37.240  INFO 27000 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:04:37.244  INFO 27000 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:04:37.244  INFO 27000 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:04:37.244 DEBUG 27000 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:04:37.245 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:04:37.245 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:04:37.246 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:04:37.246 DEBUG 27000 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:04:37.303 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:04:37.303 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:04:37.303 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:04:37.304 DEBUG 27000 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:04:37.316 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:04:37.317 DEBUG 27000 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:04:37.319  INFO 27000 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:04:37.322  INFO 27000 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:04:37.322  INFO 27000 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:04:37.322 DEBUG 27000 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:04:37.323 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:04:37.323 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:04:37.323 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:04:37.323 DEBUG 27000 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:04:37.336 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:04:37.337 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:04:37.337 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:04:37.338 DEBUG 27000 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:04:37.881 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:04:37.881 DEBUG 27000 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:04:37.882  INFO 27000 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:04:37.883  INFO 27000 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:04:37.883  INFO 27000 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:04:37.884 DEBUG 27000 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:04:37.884 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:04:37.884 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:04:37.884 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:04:37.885 DEBUG 27000 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:04:37.895 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:04:37.895 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:04:37.896 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:04:37.896 DEBUG 27000 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:04:40.872 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 11:04:40.872 DEBUG 27000 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:04:40.874  INFO 27000 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:04:40.877  INFO 27000 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:04:40.877  INFO 27000 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:04:40.877 DEBUG 27000 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:04:40.878 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 11:04:40.878 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 11:04:40.878 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 11:04:40.878 DEBUG 27000 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 11:04:40.880  INFO 27000 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:04:40.885  INFO 27000 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 11:04:40.886  INFO 27000 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:04:40.889  INFO 27000 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 11:04:40.889  INFO 27000 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:04:40.893 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:04:40.894 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=10, roomNumber=406, roomType=行 (truncated)...]
2025-05-07 11:04:40.895 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:04:40.896 DEBUG 27000 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:04:40.906 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks
2025-05-07 11:04:40.906 DEBUG 27000 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:04:40.914  INFO 27000 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:04:40.917  INFO 27000 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:04:40.917  INFO 27000 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:04:40.917 DEBUG 27000 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:04:40.917 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 11:04:40.917 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks
2025-05-07 11:04:40.917 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks", parameters={}
2025-05-07 11:04:40.917 DEBUG 27000 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#createTask(TaskDTO)
2025-05-07 11:04:40.942 DEBUG 27000 --- [http-nio-8090-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TaskDTO(id=null, roomNumber=202, roomType=null, cleaner=null, priority=medium, status=null, expected (truncated)...]
2025-05-07 11:04:40.983  WARN 27000 --- [http-nio-8090-exec-10] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000
2025-05-07 11:04:40.983 ERROR 27000 --- [http-nio-8090-exec-10] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'cleaner' cannot be null
2025-05-07 11:04:40.996 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:04:40.996 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=任务创建失败: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org. (truncated)...]
2025-05-07 11:04:40.997 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-07 11:04:40.997 DEBUG 27000 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:04:45.696 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:04:45.696 DEBUG 27000 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:04:45.697  INFO 27000 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:04:45.699  INFO 27000 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:04:45.699  INFO 27000 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:04:45.699 DEBUG 27000 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:04:45.699 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:04:45.699 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:04:45.699 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:04:45.699 DEBUG 27000 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:04:45.708 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:04:45.708 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:04:45.708 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:04:45.709 DEBUG 27000 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:04:48.573 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:04:48.573 DEBUG 27000 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:04:48.575  INFO 27000 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:04:48.578  INFO 27000 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:04:48.578  INFO 27000 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:04:48.578 DEBUG 27000 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:04:48.579 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:04:48.579 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:04:48.579 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:04:48.579 DEBUG 27000 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:04:48.597 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:04:48.598 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:04:48.598 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:04:48.599 DEBUG 27000 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:04:48.648 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:04:48.649 DEBUG 27000 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:04:48.651  INFO 27000 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:04:48.654  INFO 27000 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:04:48.654  INFO 27000 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:04:48.654 DEBUG 27000 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:04:48.655 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:04:48.655 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:04:48.655 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:04:48.656 DEBUG 27000 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:04:48.718 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:04:48.719 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:04:48.720 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:04:48.720 DEBUG 27000 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:04:48.744 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:04:48.745 DEBUG 27000 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:04:48.746  INFO 27000 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:04:48.749  INFO 27000 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:04:48.750  INFO 27000 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:04:48.750 DEBUG 27000 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:04:48.750 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:04:48.750 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:04:48.750 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:04:48.751 DEBUG 27000 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:04:48.767 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:04:48.768 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:04:48.769 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:04:48.770 DEBUG 27000 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:04:49.510 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:04:49.511 DEBUG 27000 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:04:49.512  INFO 27000 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:04:49.515  INFO 27000 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:04:49.515  INFO 27000 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:04:49.516 DEBUG 27000 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:04:49.516 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:04:49.516 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:04:49.516 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:04:49.517 DEBUG 27000 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:04:49.532 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:04:49.532 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:04:49.533 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:04:49.533 DEBUG 27000 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:05:38.924 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:05:38.925 DEBUG 27000 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:05:38.926  INFO 27000 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:05:38.931  INFO 27000 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:05:38.931  INFO 27000 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:05:38.931 DEBUG 27000 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:05:38.932 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:05:38.932 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:05:38.932 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:05:38.932 DEBUG 27000 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:05:38.943 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:05:38.944 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:05:38.946 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:05:38.946 DEBUG 27000 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:06:56.238 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:06:56.238 DEBUG 27000 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:06:56.239  INFO 27000 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:06:56.242  INFO 27000 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:06:56.242  INFO 27000 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:06:56.242 DEBUG 27000 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:06:56.243 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:06:56.243 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:06:56.243 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:06:56.243 DEBUG 27000 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:06:56.266 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:06:56.267 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:06:56.268 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:06:56.269 DEBUG 27000 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:06:56.314 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:06:56.314 DEBUG 27000 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:06:56.315  INFO 27000 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:06:56.318  INFO 27000 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:06:56.319  INFO 27000 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:06:56.319 DEBUG 27000 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:06:56.319 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:06:56.319 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:06:56.319 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:06:56.319 DEBUG 27000 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:06:56.367 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:06:56.368 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:06:56.369 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:06:56.369 DEBUG 27000 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:06:56.598 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:06:56.599 DEBUG 27000 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:06:56.600  INFO 27000 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:06:56.604  INFO 27000 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:06:56.604  INFO 27000 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:06:56.604 DEBUG 27000 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:06:56.605 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:06:56.605 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:06:56.605 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:06:56.606 DEBUG 27000 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:06:56.621 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:06:56.622 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:06:56.623 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:06:56.623 DEBUG 27000 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:02.770 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:07:02.770 DEBUG 27000 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:02.771  INFO 27000 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:02.774  INFO 27000 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:02.774  INFO 27000 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:02.774 DEBUG 27000 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:02.775 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:07:02.775 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:07:02.775 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:07:02.775 DEBUG 27000 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:07:02.794 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:02.794 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:07:02.795 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:02.795 DEBUG 27000 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:02.845 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:07:02.845 DEBUG 27000 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:02.848  INFO 27000 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:02.850  INFO 27000 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:02.851  INFO 27000 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:02.851 DEBUG 27000 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:02.852 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:07:02.853 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:07:02.853 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:07:02.853 DEBUG 27000 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:07:02.913 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:02.913 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:07:02.914 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:02.914 DEBUG 27000 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:02.932 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:07:02.933 DEBUG 27000 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:02.934  INFO 27000 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:02.937  INFO 27000 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:02.937  INFO 27000 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:02.937 DEBUG 27000 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:02.937 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:07:02.938 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:07:02.939 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:07:02.939 DEBUG 27000 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:07:02.955 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:02.955 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:07:02.956 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:02.956 DEBUG 27000 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:03.906 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:07:03.907 DEBUG 27000 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:03.907  INFO 27000 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:03.909  INFO 27000 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:03.910  INFO 27000 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:03.910 DEBUG 27000 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:03.910 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:07:03.910 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:07:03.910 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:07:03.911 DEBUG 27000 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:07:03.921 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:03.921 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:07:03.922 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:03.922 DEBUG 27000 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:05.719 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 11:07:05.719 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:07:05.720 DEBUG 27000 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:05.720 DEBUG 27000 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:05.721  INFO 27000 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:05.721  INFO 27000 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:05.724  INFO 27000 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:05.724  INFO 27000 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:05.724  INFO 27000 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:05.724  INFO 27000 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:05.724 DEBUG 27000 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:05.724 DEBUG 27000 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:05.725 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:07:05.725 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:07:05.726 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 11:07:05.726 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:07:05.726 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 11:07:05.726 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:07:05.726 DEBUG 27000 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:07:05.726 DEBUG 27000 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 11:07:05.731  INFO 27000 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 11:07:05.731 DEBUG 27000 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 11:07:05.741 DEBUG 27000 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=27, TotalPages=3
2025-05-07 11:07:05.741 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:05.741 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:07:05.742 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:05.742 DEBUG 27000 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:05.746 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:05.748 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 11:07:05.762 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:05.762 DEBUG 27000 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:06.154 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 11:07:06.154 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 11:07:06.154 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:07:06.154 DEBUG 27000 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:06.154 DEBUG 27000 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:06.154 DEBUG 27000 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:06.155  INFO 27000 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:06.155  INFO 27000 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:06.155  INFO 27000 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:06.157  INFO 27000 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:06.157  INFO 27000 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:06.157  INFO 27000 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:06.157  INFO 27000 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:06.158  INFO 27000 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:06.158 DEBUG 27000 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:06.158 DEBUG 27000 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:06.158  INFO 27000 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:06.158 DEBUG 27000 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:06.158 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:07:06.158 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:07:06.158 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:07:06.158 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:07:06.158 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 11:07:06.158 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 11:07:06.158 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:07:06.159 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 11:07:06.159 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 11:07:06.159 DEBUG 27000 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:07:06.159 DEBUG 27000 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 11:07:06.159 DEBUG 27000 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 11:07:06.160  INFO 27000 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 11:07:06.160 DEBUG 27000 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 11:07:06.165 DEBUG 27000 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 11:07:06.167 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:06.167 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 11:07:06.175 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:06.176 DEBUG 27000 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:06.192 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:06.211 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:06.211 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:07:06.212 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:06.212 DEBUG 27000 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:06.216 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=6, pending=0, completed=6, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 11:07:06.224 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:06.225 DEBUG 27000 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:06.417 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 11:07:06.417 DEBUG 27000 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:06.417  INFO 27000 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:06.419  INFO 27000 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:06.419  INFO 27000 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:06.419 DEBUG 27000 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:06.420 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:07:06.420 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 11:07:06.420 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 11:07:06.420 DEBUG 27000 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 11:07:06.420  INFO 27000 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 11:07:06.420 DEBUG 27000 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 11:07:06.425 DEBUG 27000 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 11:07:06.427 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:06.427 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 11:07:06.427 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:06.427 DEBUG 27000 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:11.311 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:07:11.311 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 11:07:11.311 DEBUG 27000 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:11.311 DEBUG 27000 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:11.312  INFO 27000 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:11.312  INFO 27000 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:11.315  INFO 27000 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:11.315  INFO 27000 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:11.315  INFO 27000 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:11.315  INFO 27000 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:11.315 DEBUG 27000 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:11.315 DEBUG 27000 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:11.315 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:07:11.316 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:07:11.316 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:07:11.316 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 11:07:11.316 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:07:11.316 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 11:07:11.316 DEBUG 27000 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 11:07:11.316 DEBUG 27000 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:07:11.317  INFO 27000 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 11:07:11.317 DEBUG 27000 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 11:07:11.326 DEBUG 27000 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=27, TotalPages=3
2025-05-07 11:07:11.328 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:11.329 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 11:07:11.331 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:11.332 DEBUG 27000 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:11.339 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:11.339 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:07:11.340 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:11.340 DEBUG 27000 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:11.490 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 11:07:11.490 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:07:11.490 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 11:07:11.490 DEBUG 27000 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:11.490 DEBUG 27000 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:11.490 DEBUG 27000 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:11.492  INFO 27000 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:11.492  INFO 27000 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:11.492  INFO 27000 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:11.494  INFO 27000 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:11.494  INFO 27000 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:11.494  INFO 27000 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:11.495  INFO 27000 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:11.495 DEBUG 27000 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:11.495 DEBUG 27000 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:11.495 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:07:11.495  INFO 27000 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:11.495 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 11:07:11.496  INFO 27000 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:11.496 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:07:11.496 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 11:07:11.496 DEBUG 27000 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:11.496 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:07:11.496 DEBUG 27000 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 11:07:11.496 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:07:11.496 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:07:11.496 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 11:07:11.496 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 11:07:11.496 DEBUG 27000 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:07:11.497 DEBUG 27000 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 11:07:11.498  INFO 27000 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 11:07:11.498 DEBUG 27000 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 11:07:11.503 DEBUG 27000 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 11:07:11.505 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:11.505 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 11:07:11.507 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:11.507 DEBUG 27000 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:11.520 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:11.531 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=6, pending=0, completed=6, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 11:07:11.533 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:11.533 DEBUG 27000 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:11.550 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:11.550 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:07:11.551 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:11.551 DEBUG 27000 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:11.574 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 11:07:11.574 DEBUG 27000 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:11.577  INFO 27000 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:11.581  INFO 27000 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:11.581  INFO 27000 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:11.581 DEBUG 27000 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:11.582 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:07:11.582 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 11:07:11.582 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 11:07:11.582 DEBUG 27000 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 11:07:11.584  INFO 27000 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 11:07:11.584 DEBUG 27000 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 11:07:11.592 DEBUG 27000 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 11:07:11.595 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:11.595 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 11:07:11.597 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:11.597 DEBUG 27000 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:17.584 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:07:17.584 DEBUG 27000 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:17.585  INFO 27000 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:17.587  INFO 27000 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:17.587  INFO 27000 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:17.588 DEBUG 27000 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:17.588 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:07:17.588 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:07:17.588 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:07:17.588 DEBUG 27000 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:07:17.603 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:17.603 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:07:17.604 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:17.605 DEBUG 27000 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:17.619 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:07:17.619 DEBUG 27000 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:17.621  INFO 27000 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:17.625  INFO 27000 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:17.626  INFO 27000 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:17.626 DEBUG 27000 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:17.626 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:07:17.626 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:07:17.627 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:07:17.627 DEBUG 27000 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:07:17.668 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:17.668 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:07:17.669 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:17.669 DEBUG 27000 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:17.983 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:07:17.983 DEBUG 27000 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:17.984  INFO 27000 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:17.986  INFO 27000 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:17.986  INFO 27000 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:17.986 DEBUG 27000 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:17.986 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:07:17.986 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:07:17.986 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:07:17.987 DEBUG 27000 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:07:17.997 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:17.997 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:07:17.998 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:17.998 DEBUG 27000 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:20.407 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:07:20.407 DEBUG 27000 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:20.408  INFO 27000 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:20.410  INFO 27000 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:20.410  INFO 27000 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:20.410 DEBUG 27000 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:20.410 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:07:20.411 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:07:20.411 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:07:20.411 DEBUG 27000 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:07:20.424 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:20.424 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:07:20.425 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:20.425 DEBUG 27000 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:20.469 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:07:20.469 DEBUG 27000 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:20.470  INFO 27000 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:20.473  INFO 27000 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:20.473  INFO 27000 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:20.473 DEBUG 27000 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:20.473 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:07:20.474 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:07:20.474 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:07:20.475 DEBUG 27000 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:07:20.521 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:20.521 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:07:20.522 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:20.522 DEBUG 27000 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:20.534 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:07:20.534 DEBUG 27000 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:20.535  INFO 27000 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:20.539  INFO 27000 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:20.539  INFO 27000 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:20.539 DEBUG 27000 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:20.539 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:07:20.540 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:07:20.540 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:07:20.540 DEBUG 27000 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:07:20.548 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:20.549 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:07:20.549 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:20.550 DEBUG 27000 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:33.334 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:07:33.334 DEBUG 27000 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:33.335  INFO 27000 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:33.337  INFO 27000 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:33.338  INFO 27000 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:33.338 DEBUG 27000 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:33.338 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:07:33.338 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:07:33.338 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:07:33.338 DEBUG 27000 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:07:33.351 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:33.351 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:07:33.352 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:33.353 DEBUG 27000 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:33.404 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:07:33.405 DEBUG 27000 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:33.407  INFO 27000 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:33.411  INFO 27000 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:33.411  INFO 27000 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:33.411 DEBUG 27000 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:33.412 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:07:33.412 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:07:33.412 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:07:33.412 DEBUG 27000 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:07:33.468 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:33.468 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:07:33.469 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:33.469 DEBUG 27000 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:33.493 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:07:33.493 DEBUG 27000 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:33.495  INFO 27000 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:33.498  INFO 27000 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:33.498  INFO 27000 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:33.498 DEBUG 27000 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:33.499 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:07:33.499 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:07:33.499 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:07:33.500 DEBUG 27000 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:07:33.514 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:33.514 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:07:33.515 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:33.515 DEBUG 27000 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:34.007 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:07:34.007 DEBUG 27000 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:34.007  INFO 27000 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:34.009  INFO 27000 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:34.010  INFO 27000 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:34.010 DEBUG 27000 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:34.010 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:07:34.010 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:07:34.010 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:07:34.010 DEBUG 27000 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:07:34.020 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:34.020 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:07:34.021 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:34.021 DEBUG 27000 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:35.544 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:07:35.545 DEBUG 27000 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:35.546  INFO 27000 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:35.547  INFO 27000 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:35.548  INFO 27000 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:35.548 DEBUG 27000 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:35.548 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:07:35.548 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:07:35.549 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:07:35.549 DEBUG 27000 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:07:35.558 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:35.559 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:07:35.560 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:35.560 DEBUG 27000 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:42.095 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:07:42.096 DEBUG 27000 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:42.096  INFO 27000 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:42.099  INFO 27000 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:42.099  INFO 27000 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:42.099 DEBUG 27000 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:42.099 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:07:42.100 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:07:42.100 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:07:42.100 DEBUG 27000 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:07:42.119 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:42.119 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:07:42.120 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:42.121 DEBUG 27000 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:42.454 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:07:42.454 DEBUG 27000 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:42.455  INFO 27000 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:42.457  INFO 27000 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:42.457  INFO 27000 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:42.457 DEBUG 27000 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:42.457 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:07:42.457 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:07:42.458 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:07:42.458 DEBUG 27000 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:07:42.492 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:42.492 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:07:42.493 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:42.493 DEBUG 27000 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:07:42.719 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:07:42.719 DEBUG 27000 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:07:42.720  INFO 27000 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:07:42.721  INFO 27000 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:07:42.721  INFO 27000 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:07:42.721 DEBUG 27000 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:07:42.722 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:07:42.722 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:07:42.722 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:07:42.722 DEBUG 27000 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:07:42.730 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:07:42.731 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:07:42.732 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:07:42.732 DEBUG 27000 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:09:56.825 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:09:56.826 DEBUG 27000 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:09:56.827  INFO 27000 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:09:56.830  INFO 27000 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:09:56.831  INFO 27000 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:09:56.831 DEBUG 27000 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:09:56.832 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:09:56.832 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:09:56.832 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:09:56.832 DEBUG 27000 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:09:56.859 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:09:56.859 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:09:56.860 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:09:56.861 DEBUG 27000 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:09:56.904 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:09:56.904 DEBUG 27000 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:09:56.906  INFO 27000 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:09:56.909  INFO 27000 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:09:56.909  INFO 27000 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:09:56.910 DEBUG 27000 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:09:56.910 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:09:56.910 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:09:56.910 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:09:56.911 DEBUG 27000 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:09:56.958 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:09:56.958 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:09:56.959 DEBUG 27000 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:09:56.960 DEBUG 27000 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:09:57.287 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:09:57.288 DEBUG 27000 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:09:57.288  INFO 27000 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:09:57.291  INFO 27000 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:09:57.291  INFO 27000 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:09:57.291 DEBUG 27000 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:09:57.291 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:09:57.291 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:09:57.291 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:09:57.292 DEBUG 27000 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:09:57.302 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:09:57.302 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:09:57.303 DEBUG 27000 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:09:57.303 DEBUG 27000 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:10:34.929 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:10:34.930 DEBUG 27000 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:10:34.932  INFO 27000 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:10:34.935  INFO 27000 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:10:34.935  INFO 27000 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:10:34.935 DEBUG 27000 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:10:34.935 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:10:34.935 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:10:34.935 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:10:34.935 DEBUG 27000 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:10:34.954 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:10:34.955 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:10:34.956 DEBUG 27000 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:10:34.957 DEBUG 27000 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:10:35.285 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:10:35.285 DEBUG 27000 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:10:35.286  INFO 27000 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:10:35.288  INFO 27000 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:10:35.289  INFO 27000 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:10:35.289 DEBUG 27000 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:10:35.290 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:10:35.290 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:10:35.290 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:10:35.290 DEBUG 27000 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:10:35.326 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:10:35.326 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:10:35.327 DEBUG 27000 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:10:35.328 DEBUG 27000 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:10:35.540 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:10:35.540 DEBUG 27000 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:10:35.541  INFO 27000 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:10:35.544  INFO 27000 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:10:35.544  INFO 27000 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:10:35.544 DEBUG 27000 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:10:35.544 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:10:35.545 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:10:35.545 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:10:35.545 DEBUG 27000 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:10:35.556 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:10:35.556 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:10:35.557 DEBUG 27000 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:10:35.557 DEBUG 27000 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:11:07.209 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:11:07.210 DEBUG 27000 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:11:07.211  INFO 27000 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:11:07.213  INFO 27000 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:11:07.214  INFO 27000 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:11:07.214 DEBUG 27000 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:11:07.215 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:11:07.215 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:11:07.215 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:11:07.216 DEBUG 27000 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:11:07.237 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:11:07.238 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:11:07.239 DEBUG 27000 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:11:07.240 DEBUG 27000 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:11:07.560 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:11:07.560 DEBUG 27000 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:11:07.562  INFO 27000 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:11:07.565  INFO 27000 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:11:07.565  INFO 27000 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:11:07.565 DEBUG 27000 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:11:07.566 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:11:07.566 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:11:07.566 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:11:07.567 DEBUG 27000 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:11:07.613 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:11:07.614 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:11:07.615 DEBUG 27000 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:11:07.615 DEBUG 27000 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:11:07.832 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:11:07.832 DEBUG 27000 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:11:07.833  INFO 27000 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:11:07.834  INFO 27000 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:11:07.834  INFO 27000 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:11:07.834 DEBUG 27000 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:11:07.834 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:11:07.834 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:11:07.834 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:11:07.834 DEBUG 27000 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:11:07.841 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:11:07.841 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:11:07.841 DEBUG 27000 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:11:07.841 DEBUG 27000 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:11:28.658 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 11:11:28.659 DEBUG 27000 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:11:28.659  INFO 27000 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:11:28.662  INFO 27000 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:11:28.663  INFO 27000 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:11:28.663 DEBUG 27000 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:11:28.663 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 11:11:28.663 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 11:11:28.664 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 11:11:28.664 DEBUG 27000 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 11:11:28.665  INFO 27000 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:11:28.670  INFO 27000 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 11:11:28.671  INFO 27000 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:11:28.672  INFO 27000 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 11:11:28.672  INFO 27000 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:11:28.678 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:11:28.679 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=10, roomNumber=406, roomType=行 (truncated)...]
2025-05-07 11:11:28.679 DEBUG 27000 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:11:28.680 DEBUG 27000 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:11:28.774 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 11:11:28.775 DEBUG 27000 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:11:28.775  INFO 27000 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:11:28.777  INFO 27000 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:11:28.777  INFO 27000 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:11:28.777 DEBUG 27000 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:11:28.777 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 11:11:28.777 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 11:11:28.777 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 11:11:28.777 DEBUG 27000 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 11:11:28.778  INFO 27000 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:11:28.781  INFO 27000 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 11:11:28.782  INFO 27000 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:11:28.783  INFO 27000 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在有效的清洁任务，跳过任务创建
2025-05-07 11:11:28.783  INFO 27000 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:11:28.788 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:11:28.788 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 11:11:28.789 DEBUG 27000 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:11:28.789 DEBUG 27000 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:11:33.814  INFO 27000 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 11:11:33.814  INFO 27000 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 11:11:33.834  INFO 27000 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 11:11:40.787  INFO 21064 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 21064 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 11:11:40.795 DEBUG 21064 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 11:11:40.795  INFO 21064 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 11:11:41.658  INFO 21064 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 11:11:41.868  INFO 21064 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 197 ms. Found 19 JPA repository interfaces.
2025-05-07 11:11:42.427  INFO 21064 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 11:11:42.427  INFO 21064 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 11:11:42.427  INFO 21064 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 11:11:42.437  INFO 21064 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 11:11:42.437  INFO 21064 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 11:11:42.447  INFO 21064 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 11:11:42.447  INFO 21064 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 11:11:42.580  INFO 21064 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 11:11:42.580  INFO 21064 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1743 ms
2025-05-07 11:11:42.740  INFO 21064 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 11:11:42.790  INFO 21064 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 11:11:42.940  INFO 21064 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 11:11:43.030  INFO 21064 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 11:11:43.340  INFO 21064 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 11:11:43.360  INFO 21064 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 11:11:44.563  INFO 21064 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 11:11:44.573  INFO 21064 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 11:11:45.065 DEBUG 21064 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 11:11:45.065 DEBUG 21064 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 11:11:45.945 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 11:11:45.956 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 11:11:45.956 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 11:11:45.956 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 11:11:45.961 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 11:11:45.961 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 11:11:45.961 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 11:11:45.961 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 11:11:45.961 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 11:11:45.961 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 11:11:45.961 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 11:11:45.961 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 11:11:45.961 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 11:11:45.961 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 11:11:45.963 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 11:11:45.963 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 11:11:45.964 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 11:11:45.964 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 11:11:45.964 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 11:11:45.964 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 11:11:45.964 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 11:11:45.964 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 11:11:45.964 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 11:11:45.964 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 11:11:45.965 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 11:11:45.965 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 11:11:45.965 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 11:11:45.965 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 11:11:45.965 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 11:11:45.965 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 11:11:45.965 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 11:11:45.965 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 11:11:45.965 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 11:11:45.965 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 11:11:45.965 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 11:11:45.965 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 11:11:45.965 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 11:11:45.965 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 11:11:45.965 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 11:11:45.965 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 11:11:45.970 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 11:11:45.970 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 11:11:45.970 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 11:11:45.971 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 11:11:45.971 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 11:11:45.971 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 11:11:45.972 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 11:11:45.972 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 11:11:45.972 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 11:11:45.972 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 11:11:45.972 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 11:11:45.972 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 11:11:45.972 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 11:11:45.972 DEBUG 21064 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 11:11:45.976  INFO 21064 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@103a1ad3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d6ed085, org.springframework.security.web.context.SecurityContextPersistenceFilter@2314f013, org.springframework.security.web.header.HeaderWriterFilter@7c855ef0, org.springframework.web.filter.CorsFilter@5ae67f05, org.springframework.security.web.authentication.logout.LogoutFilter@19bad88, com.hotel.config.JwtAuthenticationFilter@3398ed12, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4545cfc0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5cdafb4d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1b18fa79, org.springframework.security.web.session.SessionManagementFilter@57d0c779, org.springframework.security.web.access.ExceptionTranslationFilter@6cd1ee, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@27f8f1cc]
2025-05-07 11:11:46.026  WARN 21064 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 11:11:46.166 DEBUG 21064 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 11:11:46.186  INFO 21064 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 11:11:46.247 DEBUG 21064 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 11:11:46.247 DEBUG 21064 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 11:11:46.266 DEBUG 21064 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 11:11:46.276 DEBUG 21064 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 11:11:46.470  INFO 21064 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 11:11:46.488  INFO 21064 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.153 seconds (JVM running for 6.973)
2025-05-07 11:12:19.463  INFO 21064 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 11:12:19.463  INFO 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 11:12:19.463 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 11:12:19.464 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 11:12:19.464 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 11:12:19.465 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@163cd4a6
2025-05-07 11:12:19.465 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@515b7335
2025-05-07 11:12:19.465 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 11:12:19.466  INFO 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-07 11:12:19.485 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 11:12:19.490 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:12:19.562  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:12:19.567  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:12:19.567  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:12:19.568 DEBUG 21064 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:12:19.576 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 11:12:19.576 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 11:12:19.578 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 11:12:19.583 DEBUG 21064 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 11:12:19.616  INFO 21064 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:12:19.640  INFO 21064 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 11:12:19.662  INFO 21064 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:12:19.666  INFO 21064 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在未完成的清洁任务，跳过任务创建
2025-05-07 11:12:19.667  INFO 21064 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:12:19.711 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:12:19.721 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=10, roomNumber=406, roomType=行 (truncated)...]
2025-05-07 11:12:19.780 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:12:19.782 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:12:19.810 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 11:12:19.810 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:12:19.812  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:12:19.815  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:12:19.816  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:12:19.816 DEBUG 21064 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:12:19.816 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 11:12:19.817 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 11:12:19.817 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 11:12:19.818 DEBUG 21064 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 11:12:19.818  INFO 21064 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:12:19.824  INFO 21064 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 11:12:19.827  INFO 21064 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:12:19.830  INFO 21064 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在未完成的清洁任务，跳过任务创建
2025-05-07 11:12:19.831  INFO 21064 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:12:19.842 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:12:19.849 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 11:12:19.856 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:12:19.856 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:12:37.652 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0
2025-05-07 11:12:37.653 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:12:37.655  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:12:37.659  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:12:37.659  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:12:37.659 DEBUG 21064 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:12:37.660 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0] with attributes [authenticated]
2025-05-07 11:12:37.660 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0
2025-05-07 11:12:37.660 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0", parameters={masked}
2025-05-07 11:12:37.662 DEBUG 21064 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:12:37.705 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:12:37.705 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 11:12:37.706 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:12:37.706 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:12:41.044 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0
2025-05-07 11:12:41.044 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:12:41.044  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:12:41.050  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:12:41.050  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:12:41.050 DEBUG 21064 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:12:41.051 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0] with attributes [authenticated]
2025-05-07 11:12:41.051 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0
2025-05-07 11:12:41.051 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0", parameters={masked}
2025-05-07 11:12:41.051 DEBUG 21064 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:12:41.065 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:12:41.065 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=401, id=2, floor=4, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:12:41.065 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:12:41.065 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:12:51.063 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:12:51.063 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:12:51.065  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:12:51.068  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:12:51.068  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:12:51.069 DEBUG 21064 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:12:51.070 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:12:51.070 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:12:51.070 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:12:51.071 DEBUG 21064 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:12:51.129 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:12:51.129 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:12:51.139 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:12:51.141 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:12:51.163 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:12:51.168 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:12:51.171  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:12:51.171  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:12:51.171  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:12:51.171 DEBUG 21064 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:12:51.178 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:12:51.178 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:12:51.182 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:12:51.182 DEBUG 21064 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:12:51.304 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:12:51.304 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:12:51.304 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:12:51.304 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:12:51.459 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:12:51.460 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:12:51.462  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:12:51.464  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:12:51.464  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:12:51.465 DEBUG 21064 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:12:51.465 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:12:51.465 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:12:51.465 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:12:51.466 DEBUG 21064 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:12:51.475 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:12:51.475 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:12:51.481 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:12:51.482 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:13:11.687 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&roomTypeId=4&size=200&page=0
2025-05-07 11:13:11.688 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:13:11.689  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:13:11.690  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:13:11.690  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:13:11.690 DEBUG 21064 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:13:11.690 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&roomTypeId=4&size=200&page=0] with attributes [authenticated]
2025-05-07 11:13:11.690 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&roomTypeId=4&size=200&page=0
2025-05-07 11:13:11.690 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&roomTypeId=4&size=200&page=0", parameters={masked}
2025-05-07 11:13:11.690 DEBUG 21064 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:13:11.704 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:13:11.704 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=303, id=14, floor=3, roomType={name=家庭套房, id (truncated)...]
2025-05-07 11:13:11.704 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:13:11.704 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:13:14.505 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0
2025-05-07 11:13:14.506 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:13:14.507  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:13:14.510  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:13:14.510  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:13:14.510 DEBUG 21064 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:13:14.510 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0] with attributes [authenticated]
2025-05-07 11:13:14.510 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0
2025-05-07 11:13:14.510 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0", parameters={masked}
2025-05-07 11:13:14.510 DEBUG 21064 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:13:14.517 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:13:14.523 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=401, id=2, floor=4, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:13:14.524 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:13:14.524 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:13:17.825 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0
2025-05-07 11:13:17.826 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:13:17.827  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:13:17.829  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:13:17.829  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:13:17.829 DEBUG 21064 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:13:17.829 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0] with attributes [authenticated]
2025-05-07 11:13:17.829 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0
2025-05-07 11:13:17.829 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0", parameters={masked}
2025-05-07 11:13:17.829 DEBUG 21064 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:13:17.836 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:13:17.836 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 11:13:17.836 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:13:17.836 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:13:24.628 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 11:13:24.628 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:13:24.643  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:13:24.643  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:13:24.643  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:13:24.643 DEBUG 21064 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:13:24.643 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:13:24.643 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 11:13:24.643 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 11:13:24.648 DEBUG 21064 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 11:13:24.701 DEBUG 21064 --- [http-nio-8090-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=6, roomNumber=null, roomType=null, guestName=dtdtf (truncated)...]
2025-05-07 11:13:24.795  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.impl.CheckInServiceImpl  : 为直接入住创建临时预订: ID=28
2025-05-07 11:13:24.817  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.impl.CheckInServiceImpl  : 入住登记成功: ID=17, 入住单号=CI202505070007, 预订ID=28
2025-05-07 11:13:24.845 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:13:24.845 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=CheckInRecord(id=17, checkInNumber=CI202505070007, roomId=6, roomNumber=204, roomType=豪华大床房, g (truncated)...]
2025-05-07 11:13:24.855 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-07 11:13:24.855 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:13:24.891 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:13:24.891 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:13:24.893  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:13:24.895  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:13:24.895  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:13:24.895 DEBUG 21064 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:13:24.895 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:13:24.895 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:13:24.896 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:13:24.897 DEBUG 21064 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:13:24.941 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:13:24.941 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:13:24.941 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:13:24.941 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:13:25.184 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:13:25.184 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:13:25.184  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:13:25.190  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:13:25.190  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:13:25.190 DEBUG 21064 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:13:25.190 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:13:25.190 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:13:25.190 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:13:25.190 DEBUG 21064 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:13:25.204 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:13:25.204 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:13:25.206 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:13:25.206 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:13:26.195 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 11:13:26.195 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:13:26.198  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:13:26.200  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:13:26.200  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:13:26.200 DEBUG 21064 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:13:26.200 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 11:13:26.200 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 11:13:26.200 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 11:13:26.200 DEBUG 21064 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:13:26.210 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:13:26.211 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=204, id=6, floor=2, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 11:13:26.212 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:13:26.212 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:13:27.997 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/reception/checkout/204
2025-05-07 11:13:27.997 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:13:28.003  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:13:28.004  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:13:28.004  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:13:28.004 DEBUG 21064 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:13:28.004 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reception/checkout/204] with attributes [authenticated]
2025-05-07 11:13:28.004 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/reception/checkout/204
2025-05-07 11:13:28.004 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/reception/checkout/204", parameters={}
2025-05-07 11:13:28.004 DEBUG 21064 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReceptionController#checkOut(String)
2025-05-07 11:13:28.031 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:13:28.031 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=退房成功，房间已标记为待清洁}]
2025-05-07 11:13:28.031 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:13:28.031 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:13:28.213 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:13:28.213 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:13:28.213  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:13:28.213  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:13:28.213  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:13:28.213 DEBUG 21064 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:13:28.213 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:13:28.213 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:13:28.213 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:13:28.213 DEBUG 21064 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:13:28.284 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:13:28.284 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:13:28.285 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:13:28.286 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:13:28.362 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:13:28.362 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:13:28.364  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:13:28.366  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:13:28.366  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:13:28.366 DEBUG 21064 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:13:28.367 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:13:28.367 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:13:28.367 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:13:28.367 DEBUG 21064 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:13:28.389 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:13:28.390 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:13:28.391 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:13:28.391 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:13:28.401 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:13:28.401 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:13:28.403  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:13:28.406  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:13:28.407  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:13:28.407 DEBUG 21064 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:13:28.408 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:13:28.408 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:13:28.408 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:13:28.408 DEBUG 21064 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:13:28.425 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:13:28.425 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:13:28.426 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:13:28.426 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:13:28.713 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:13:28.713 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:13:28.713  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:13:28.719  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:13:28.719  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:13:28.719 DEBUG 21064 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:13:28.720 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:13:28.720 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:13:28.720 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:13:28.720 DEBUG 21064 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:13:28.746 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 11:13:28.746 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:13:28.747  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:13:28.748  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:13:28.748  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:13:28.748 DEBUG 21064 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:13:28.748 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 11:13:28.748 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 11:13:28.748 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 11:13:28.748 DEBUG 21064 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:13:28.755 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:13:28.755 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=0, content=[], totalElements=0}]
2025-05-07 11:13:28.760 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:13:28.760 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:13:28.761 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:13:28.761 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:13:28.761 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:13:28.761 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:13:29.085 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:13:29.085 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:13:29.085  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:13:29.085  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:13:29.085  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:13:29.085 DEBUG 21064 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:13:29.085 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:13:29.085 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:13:29.085 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:13:29.085 DEBUG 21064 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:13:29.095 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:13:29.095 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:13:29.095 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:13:29.095 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:13:33.431 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 11:13:33.431 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:13:33.431  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:13:33.431  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:13:33.431  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:13:33.431 DEBUG 21064 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:13:33.431 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 11:13:33.431 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 11:13:33.431 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 11:13:33.431 DEBUG 21064 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 11:13:33.441  INFO 21064 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:13:33.441  INFO 21064 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 找到 2 个需要清洁的房间
2025-05-07 11:13:33.441  INFO 21064 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:13:33.451  INFO 21064 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 为房间 204 创建了清洁任务，分配给清洁员: 清洁人员
2025-05-07 11:13:33.461  INFO 21064 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在未完成的清洁任务，跳过任务创建
2025-05-07 11:13:33.461  INFO 21064 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 1 个新任务
2025-05-07 11:13:33.461 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:13:33.461 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=1, currentPage=0, content=[Task(id=11, roomNumber=204, roomType=豪 (truncated)...]
2025-05-07 11:13:33.461 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:13:33.461 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:13:33.531 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 11:13:33.541 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:13:33.541  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:13:33.541  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:13:33.541  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:13:33.541 DEBUG 21064 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:13:33.541 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 11:13:33.541 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 11:13:33.541 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 11:13:33.541 DEBUG 21064 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 11:13:33.541  INFO 21064 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:13:33.541  INFO 21064 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 找到 2 个需要清洁的房间
2025-05-07 11:13:33.551  INFO 21064 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:13:33.551  INFO 21064 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 房间 204 已存在未完成的清洁任务，跳过任务创建
2025-05-07 11:13:33.551  INFO 21064 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在未完成的清洁任务，跳过任务创建
2025-05-07 11:13:33.551  INFO 21064 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:13:33.561 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:13:33.561 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 11:13:33.561 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:13:33.561 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:09.631 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 11:14:09.632 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:09.633  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:14:09.635  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:14:09.636  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:14:09.636 DEBUG 21064 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:14:09.636 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 11:14:09.636 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 11:14:09.636 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 11:14:09.637 DEBUG 21064 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 11:14:09.638  INFO 21064 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:14:09.643  INFO 21064 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 找到 2 个需要清洁的房间
2025-05-07 11:14:09.645  INFO 21064 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:14:09.646  INFO 21064 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 房间 204 已存在未完成的清洁任务，跳过任务创建
2025-05-07 11:14:09.648  INFO 21064 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在未完成的清洁任务，跳过任务创建
2025-05-07 11:14:09.648  INFO 21064 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:14:09.654 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:09.655 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=11, roomNumber=204, roomType=豪 (truncated)...]
2025-05-07 11:14:09.656 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:09.657 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:09.749 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 11:14:09.749 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:09.750  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:14:09.752  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:14:09.752  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:14:09.752 DEBUG 21064 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:14:09.753 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 11:14:09.753 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 11:14:09.753 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 11:14:09.753 DEBUG 21064 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 11:14:09.754  INFO 21064 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:14:09.759  INFO 21064 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 找到 2 个需要清洁的房间
2025-05-07 11:14:09.760  INFO 21064 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:14:09.762  INFO 21064 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 房间 204 已存在未完成的清洁任务，跳过任务创建
2025-05-07 11:14:09.764  INFO 21064 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在未完成的清洁任务，跳过任务创建
2025-05-07 11:14:09.764  INFO 21064 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:14:09.772 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:09.772 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 11:14:09.773 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:09.774 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:14.108 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:14:14.108 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:14.110  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:14.112  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:14.113  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:14.113 DEBUG 21064 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:14.113 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:14:14.113 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:14:14.113 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:14:14.114 DEBUG 21064 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:14:14.132 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:14.133 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:14:14.134 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:14.134 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:14.194 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:14:14.195 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:14.197  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:14.201  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:14.201  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:14.201 DEBUG 21064 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:14.202 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:14:14.202 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:14:14.202 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:14:14.202 DEBUG 21064 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:14:14.264 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:14.265 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:14:14.265 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:14.266 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:14.282 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:14:14.282 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:14.284  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:14.286  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:14.287  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:14.287 DEBUG 21064 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:14.287 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:14:14.287 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:14:14.288 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:14:14.288 DEBUG 21064 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:14:14.300 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:14.301 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:14:14.302 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:14.302 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:14.976 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 11:14:14.976 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:14.976  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:14.986  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:14.986  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:14.986 DEBUG 21064 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:14.986 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&size=200&page=0] with attributes [authenticated]
2025-05-07 11:14:14.986 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 11:14:14.986 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&size=200&page=0", parameters={masked}
2025-05-07 11:14:14.986 DEBUG 21064 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:14:14.996 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:14.996 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 11:14:14.996 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:14.996 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:15.006 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 11:14:15.006 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:15.006  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:15.006  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:15.016  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:15.016 DEBUG 21064 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:15.016 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 11:14:15.016 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 11:14:15.016 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 11:14:15.016 DEBUG 21064 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:14:15.016 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:15.016 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=0, content=[], totalElements=0}]
2025-05-07 11:14:15.016 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:15.016 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:15.036 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:14:15.036 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:15.036  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:15.036  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:15.036  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:15.036 DEBUG 21064 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:15.036 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:14:15.036 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:14:15.036 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:14:15.036 DEBUG 21064 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:14:15.046 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:15.046 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:14:15.046 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:15.046 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:15.887 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 11:14:15.887 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:15.887  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:15.893  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:15.893  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:15.893 DEBUG 21064 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:15.893 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&size=200&page=0] with attributes [authenticated]
2025-05-07 11:14:15.893 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 11:14:15.893 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&size=200&page=0", parameters={masked}
2025-05-07 11:14:15.893 DEBUG 21064 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:14:15.907 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:15.907 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 11:14:15.907 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:15.907 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:16.138 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 11:14:16.138 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:16.138  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:16.144  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:16.144  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:16.145 DEBUG 21064 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:16.145 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 11:14:16.145 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 11:14:16.145 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 11:14:16.145 DEBUG 21064 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:14:16.151 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:16.151 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=0, content=[], totalElements=0}]
2025-05-07 11:14:16.151 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:16.151 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:16.233 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:14:16.233 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:16.234  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:16.235  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:16.235  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:16.235 DEBUG 21064 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:16.235 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:14:16.235 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:14:16.235 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:14:16.235 DEBUG 21064 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:14:16.248 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:16.248 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:14:16.249 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:16.249 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:18.868 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 11:14:18.868 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:18.870  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:18.873  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:18.873  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:18.873 DEBUG 21064 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:18.876 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&size=200&page=0] with attributes [authenticated]
2025-05-07 11:14:18.876 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 11:14:18.876 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&size=200&page=0", parameters={masked}
2025-05-07 11:14:18.876 DEBUG 21064 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:14:18.894 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:18.894 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 11:14:18.894 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:18.894 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:19.214 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 11:14:19.214 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:19.214  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:19.214  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:19.214  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:19.214 DEBUG 21064 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:19.220 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 11:14:19.220 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 11:14:19.220 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 11:14:19.220 DEBUG 21064 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:14:19.220 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:19.220 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=0, content=[], totalElements=0}]
2025-05-07 11:14:19.220 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:19.220 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:19.465 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:14:19.465 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:19.465  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:19.471  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:19.471  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:19.471 DEBUG 21064 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:19.471 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:14:19.471 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:14:19.471 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:14:19.471 DEBUG 21064 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:14:19.478 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:19.478 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:14:19.478 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:19.478 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:21.386 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:14:21.386 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:21.387  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:21.390  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:21.390  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:21.391 DEBUG 21064 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:21.391 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:14:21.391 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:14:21.391 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:14:21.392 DEBUG 21064 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:14:21.403 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:21.403 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:14:21.404 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:21.404 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:25.068 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 11:14:25.068 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:14:25.068 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:25.068 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:25.073  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:25.074  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:25.074  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:25.074  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:25.074 DEBUG 21064 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:25.074 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:14:25.074 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:14:25.074 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:14:25.074 DEBUG 21064 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:14:25.074  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:25.074  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:25.074 DEBUG 21064 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:25.074 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:14:25.074 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 11:14:25.074 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 11:14:25.074 DEBUG 21064 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 11:14:25.081  INFO 21064 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 11:14:25.081 DEBUG 21064 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 11:14:25.095 DEBUG 21064 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=28, TotalPages=3
2025-05-07 11:14:25.095 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:25.095 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:14:25.095 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:25.095 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:25.095 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:25.102 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 11:14:25.109 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:25.115 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:25.338 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:14:25.338 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:25.338  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:25.338  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:25.338  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:25.338 DEBUG 21064 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:25.344 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:14:25.345 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:14:25.345 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:14:25.345 DEBUG 21064 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:14:25.388 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:25.388 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:14:25.388 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:25.388 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:25.484 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 11:14:25.484 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:25.484 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 11:14:25.484 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:25.484  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:25.484  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:25.484  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:25.484  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:25.484  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:25.484  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:25.484 DEBUG 21064 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:25.484 DEBUG 21064 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:25.484 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:14:25.484 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:14:25.484 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 11:14:25.484 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 11:14:25.484 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 11:14:25.484 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 11:14:25.484 DEBUG 21064 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 11:14:25.490 DEBUG 21064 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 11:14:25.490  INFO 21064 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 11:14:25.490 DEBUG 21064 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 11:14:25.490 DEBUG 21064 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 11:14:25.490 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:25.490 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 11:14:25.497 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:25.497 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:25.511 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:25.521 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=7, pending=0, completed=7, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 11:14:25.523 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:25.523 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:25.527 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 11:14:25.527 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:25.532  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:25.534  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:25.534  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:25.534 DEBUG 21064 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:25.534 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:14:25.534 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 11:14:25.534 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 11:14:25.534 DEBUG 21064 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 11:14:25.534  INFO 21064 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 11:14:25.534 DEBUG 21064 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 11:14:25.542 DEBUG 21064 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 11:14:25.543 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:25.543 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 11:14:25.544 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:25.544 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:28.425 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 11:14:28.425 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:14:28.426 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:28.426 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:28.427  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:28.427  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:28.429  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:28.429  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:28.429  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:28.429  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:28.430 DEBUG 21064 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:28.430 DEBUG 21064 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:28.430 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:14:28.430 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:14:28.430 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 11:14:28.430 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:14:28.431 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 11:14:28.431 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:14:28.431 DEBUG 21064 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 11:14:28.431 DEBUG 21064 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:14:28.432  INFO 21064 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 11:14:28.432 DEBUG 21064 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 11:14:28.439 DEBUG 21064 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=28, TotalPages=3
2025-05-07 11:14:28.442 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:28.443 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 11:14:28.445 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:28.445 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:28.452 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:28.452 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:14:28.453 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:28.453 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:28.590 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:14:28.591 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 11:14:28.591 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:28.591 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:28.591 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 11:14:28.591 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:28.592  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:28.592  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:28.592  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:28.594  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:28.594  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:28.594  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:28.594  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:28.594  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:28.594  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:28.595 DEBUG 21064 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:28.595 DEBUG 21064 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:28.595 DEBUG 21064 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:28.595 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:14:28.595 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:14:28.595 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:14:28.595 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 11:14:28.595 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 11:14:28.595 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:14:28.595 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:14:28.595 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 11:14:28.595 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 11:14:28.596 DEBUG 21064 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 11:14:28.596 DEBUG 21064 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 11:14:28.596 DEBUG 21064 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:14:28.597  INFO 21064 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 11:14:28.597 DEBUG 21064 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 11:14:28.601 DEBUG 21064 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 11:14:28.602 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:28.603 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 11:14:28.604 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:28.604 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:28.615 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:28.626 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=7, pending=0, completed=7, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 11:14:28.627 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:28.628 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:28.642 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:28.642 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:14:28.644 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:28.644 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:28.709 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 11:14:28.709 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:28.710  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:28.713  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:28.714  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:28.714 DEBUG 21064 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:28.714 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:14:28.714 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 11:14:28.714 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 11:14:28.714 DEBUG 21064 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 11:14:28.714  INFO 21064 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 11:14:28.714 DEBUG 21064 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 11:14:28.721 DEBUG 21064 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 11:14:28.721 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:28.721 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 11:14:28.726 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:28.726 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:30.221 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:14:30.222 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:30.223  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:30.226  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:30.226  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:30.227 DEBUG 21064 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:30.227 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:14:30.227 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:14:30.227 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:14:30.227 DEBUG 21064 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:14:30.246 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:30.247 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:14:30.249 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:30.249 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:30.576 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:14:30.576 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:30.580  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:30.582  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:30.582  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:30.582 DEBUG 21064 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:30.582 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:14:30.582 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:14:30.582 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:14:30.582 DEBUG 21064 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:14:30.623 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:30.623 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:14:30.624 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:30.624 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:30.838 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:14:30.838 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:30.839  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:30.842  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:30.842  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:30.842 DEBUG 21064 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:30.843 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:14:30.843 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:14:30.843 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:14:30.843 DEBUG 21064 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:14:30.855 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:30.855 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:14:30.856 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:30.856 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:30.942 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/stats
2025-05-07 11:14:30.942 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:30.943  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:30.946  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:30.946  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:30.946 DEBUG 21064 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:30.946 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:14:30.947 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/stats
2025-05-07 11:14:30.947 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/stats", parameters={}
2025-05-07 11:14:30.947 DEBUG 21064 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutStats()
2025-05-07 11:14:30.957 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:30.957 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={monthlyCheckouts=0, pendingCleanings=2, todayCheckouts=0}, success=true, message=获取 (truncated)...]
2025-05-07 11:14:30.957 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:30.957 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:31.195 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 11:14:31.195 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/occupied
2025-05-07 11:14:31.195 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:31.195 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:31.195  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:31.195  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:31.195  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:31.195  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:31.195 DEBUG 21064 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:31.195  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:31.195 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:14:31.195  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:31.205 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 11:14:31.205 DEBUG 21064 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:31.205 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=", parameters={masked}
2025-05-07 11:14:31.205 DEBUG 21064 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutRecords(String, String, String, int, int)
2025-05-07 11:14:31.205 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms/occupied] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:14:31.205 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms/occupied
2025-05-07 11:14:31.205 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms/occupied", parameters={}
2025-05-07 11:14:31.205 DEBUG 21064 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getOccupiedRooms()
2025-05-07 11:14:31.205  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.impl.CheckInServiceImpl  : Fetching checkout records for current month: 2025-05-01 to 2025-05-07
2025-05-07 11:14:31.205 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:31.205 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[], success=true, message=获取成功}]
2025-05-07 11:14:31.205 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:31.205 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:31.220 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:31.220 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, records=[]}, success=true, message=获取退房记录成功}]
2025-05-07 11:14:31.221 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:31.221 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:31.528 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-07 11:14:31.528 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:31.528  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:31.530  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:31.530  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:31.531 DEBUG 21064 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:31.531 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-07 11:14:31.531 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-07 11:14:31.531 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-07 11:14:31.531 DEBUG 21064 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitorRecordsPageable(String, String, String, LocalDateTime, LocalDateTime, int, int, String[])
2025-05-07 11:14:31.548 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:31.548 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing com.hotel.entity.VisitorRecord instances]
2025-05-07 11:14:31.618 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:31.618 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:31.831 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/count/today
2025-05-07 11:14:31.831 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:31.831  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:31.831  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:31.831  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:31.831 DEBUG 21064 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:31.831 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/count/today] with attributes [authenticated]
2025-05-07 11:14:31.831 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/count/today
2025-05-07 11:14:31.831 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/count/today", parameters={}
2025-05-07 11:14:31.831 DEBUG 21064 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#countTodayVisitors()
2025-05-07 11:14:31.841 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:31.841 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [0]
2025-05-07 11:14:31.841 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:31.841 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:40.289 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:14:40.289 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:40.289  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:40.289  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:40.289  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:40.289 DEBUG 21064 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:40.289 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:14:40.289 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:14:40.289 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:14:40.289 DEBUG 21064 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:14:40.299 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:40.299 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:14:40.299 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:40.299 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:45.798 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 11:14:45.799 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:45.800  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:45.803  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:45.803  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:45.804 DEBUG 21064 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:45.804 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&size=200&page=0] with attributes [authenticated]
2025-05-07 11:14:45.804 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 11:14:45.805 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&size=200&page=0", parameters={masked}
2025-05-07 11:14:45.805 DEBUG 21064 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:14:45.816 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:45.816 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 11:14:45.817 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:45.818 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:46.130 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 11:14:46.130 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:46.130  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:46.137  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:46.137  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:46.137 DEBUG 21064 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:46.137 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 11:14:46.137 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 11:14:46.137 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 11:14:46.137 DEBUG 21064 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:14:46.137 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:46.137 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=0, content=[], totalElements=0}]
2025-05-07 11:14:46.143 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:46.143 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:46.384 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:14:46.384 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:46.384  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:46.384  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:46.384  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:46.384 DEBUG 21064 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:46.384 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:14:46.384 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:14:46.384 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:14:46.384 DEBUG 21064 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:14:46.394 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:46.394 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:14:46.394 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:46.394 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:58.970 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:14:58.970 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:58.971  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:58.974  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:58.974  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:58.974 DEBUG 21064 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:58.974 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:14:58.974 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:14:58.974 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:14:58.975 DEBUG 21064 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:14:58.990 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:58.990 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:14:58.991 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:58.991 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:59.043 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:14:59.043 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:59.045  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:59.046  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:59.046  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:59.046 DEBUG 21064 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:59.046 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:14:59.046 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:14:59.046 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:14:59.046 DEBUG 21064 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:14:59.093 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:59.093 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:14:59.094 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:59.095 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:14:59.143 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:14:59.143 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:14:59.146  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:14:59.149  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:14:59.150  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:14:59.150 DEBUG 21064 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:14:59.150 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:14:59.151 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:14:59.151 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:14:59.152 DEBUG 21064 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:14:59.166 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:14:59.166 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:14:59.168 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:14:59.168 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:00.692 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/stats
2025-05-07 11:15:00.692 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 11:15:00.692 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/occupied
2025-05-07 11:15:00.693 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:00.693 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:00.693 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:00.694  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:15:00.694  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:15:00.694  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:15:00.697  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:15:00.697  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:15:00.697  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:15:00.697  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:15:00.697 DEBUG 21064 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:15:00.697 DEBUG 21064 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:15:00.697 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms/occupied] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:15:00.697 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:15:00.697 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms/occupied
2025-05-07 11:15:00.697  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:15:00.697 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 11:15:00.698  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:15:00.698 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms/occupied", parameters={}
2025-05-07 11:15:00.698 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=", parameters={masked}
2025-05-07 11:15:00.698 DEBUG 21064 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:15:00.698 DEBUG 21064 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutRecords(String, String, String, int, int)
2025-05-07 11:15:00.698 DEBUG 21064 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getOccupiedRooms()
2025-05-07 11:15:00.698 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:15:00.699 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/stats
2025-05-07 11:15:00.699 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/stats", parameters={}
2025-05-07 11:15:00.699 DEBUG 21064 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutStats()
2025-05-07 11:15:00.700  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.impl.CheckInServiceImpl  : Fetching checkout records for current month: 2025-05-01 to 2025-05-07
2025-05-07 11:15:00.702 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:15:00.702 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[], success=true, message=获取成功}]
2025-05-07 11:15:00.703 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:15:00.704 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:00.706 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:15:00.707 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, records=[]}, success=true, message=获取退房记录成功}]
2025-05-07 11:15:00.707 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:15:00.707 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:00.707 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:15:00.708 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={monthlyCheckouts=0, pendingCleanings=2, todayCheckouts=0}, success=true, message=获取 (truncated)...]
2025-05-07 11:15:00.708 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:15:00.708 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:04.764 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 11:15:04.764 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:04.764  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:15:04.770  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:15:04.771  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:15:04.771 DEBUG 21064 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:15:04.771 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&size=200&page=0] with attributes [authenticated]
2025-05-07 11:15:04.771 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 11:15:04.771 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&size=200&page=0", parameters={masked}
2025-05-07 11:15:04.771 DEBUG 21064 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:15:04.782 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:15:04.783 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 11:15:04.783 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:15:04.783 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:05.021 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 11:15:05.021 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:05.021  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:15:05.026  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:15:05.026  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:15:05.026 DEBUG 21064 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:15:05.027 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 11:15:05.027 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 11:15:05.027 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 11:15:05.027 DEBUG 21064 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:15:05.027 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:15:05.027 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=0, content=[], totalElements=0}]
2025-05-07 11:15:05.027 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:15:05.027 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:05.098 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:15:05.098 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:05.098  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:15:05.103  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:15:05.103  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:15:05.103 DEBUG 21064 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:15:05.103 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:15:05.103 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:15:05.103 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:15:05.103 DEBUG 21064 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:15:05.110 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:15:05.110 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:15:05.110 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:15:05.110 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:20.686 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:15:20.687 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:20.689 ERROR 21064 --- [http-nio-8090-exec-3] com.hotel.util.JwtTokenProvider          : Expired JWT token
2025-05-07 11:15:20.690  WARN 21064 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : JWT Token 无效: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsInVzZXJJZCI6MSwicm9sZXMiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ2MzU4ODg2LCJleHAiOjE3NDY0NDUyODZ9.ddFpxSNGSLnaMxB-jv3-MgQSEIJtQur63q3EMwh5IA8kaAMg8j-pmGlF-CVb-VFFgBV74K7rAPtjwGPMQkey9Q
2025-05-07 11:15:20.690 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 11:15:20.690 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-07 11:15:20.691 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:15:20.692 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-07 11:15:20.692 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:20.694 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 11:15:20.694 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:20.694 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 11:15:20.694 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 11:15:20.698 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 11:15:20.698 DEBUG 21064 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 11:15:20.700 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:15:20.700 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-07 11:15:20.701 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-07 11:15:20.702 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:25.911 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:15:25.911 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:25.912 ERROR 21064 --- [http-nio-8090-exec-5] com.hotel.util.JwtTokenProvider          : Expired JWT token
2025-05-07 11:15:25.912  WARN 21064 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : JWT Token 无效: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsInVzZXJJZCI6MSwicm9sZXMiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ2MzU4ODg2LCJleHAiOjE3NDY0NDUyODZ9.ddFpxSNGSLnaMxB-jv3-MgQSEIJtQur63q3EMwh5IA8kaAMg8j-pmGlF-CVb-VFFgBV74K7rAPtjwGPMQkey9Q
2025-05-07 11:15:25.912 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 11:15:25.912 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-07 11:15:25.912 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:15:25.912 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-07 11:15:25.912 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:25.913 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 11:15:25.913 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:25.913 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 11:15:25.913 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 11:15:25.913 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 11:15:25.913 DEBUG 21064 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 11:15:25.914 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:15:25.914 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-07 11:15:25.915 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-07 11:15:25.915 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:28.162 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:15:28.162 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:28.163 ERROR 21064 --- [http-nio-8090-exec-4] com.hotel.util.JwtTokenProvider          : Expired JWT token
2025-05-07 11:15:28.163  WARN 21064 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : JWT Token 无效: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsInVzZXJJZCI6MSwicm9sZXMiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ2MzU4ODg2LCJleHAiOjE3NDY0NDUyODZ9.ddFpxSNGSLnaMxB-jv3-MgQSEIJtQur63q3EMwh5IA8kaAMg8j-pmGlF-CVb-VFFgBV74K7rAPtjwGPMQkey9Q
2025-05-07 11:15:28.163 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 11:15:28.163 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-07 11:15:28.165 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:15:28.165 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-07 11:15:28.165 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:28.165 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 11:15:28.166 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:28.166 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 11:15:28.166 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 11:15:28.167 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 11:15:28.168 DEBUG 21064 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 11:15:28.169 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:15:28.169 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-07 11:15:28.169 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-07 11:15:28.169 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:28.599 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-07 11:15:28.599 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:28.600 ERROR 21064 --- [http-nio-8090-exec-6] com.hotel.util.JwtTokenProvider          : Expired JWT token
2025-05-07 11:15:28.600  WARN 21064 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : JWT Token 无效: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsInVzZXJJZCI6MSwicm9sZXMiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ2MzU4ODg2LCJleHAiOjE3NDY0NDUyODZ9.ddFpxSNGSLnaMxB-jv3-MgQSEIJtQur63q3EMwh5IA8kaAMg8j-pmGlF-CVb-VFFgBV74K7rAPtjwGPMQkey9Q
2025-05-07 11:15:28.600 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 11:15:28.600 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-07 11:15:28.601 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/users?page=1&pageSize=10&username=&phone=&status=] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 11:15:28.601 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-07 11:15:28.601 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:28.601 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10&username=&phone=&status=
2025-05-07 11:15:28.601 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:28.602 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 11:15:28.602 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10&username=&phone=&status=
2025-05-07 11:15:28.603 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10&username=&phone=&status=", parameters={masked}
2025-05-07 11:15:28.603 DEBUG 21064 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 11:15:28.603 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:15:28.603 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-07 11:15:28.604 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-07 11:15:28.604 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:30.093 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/staff?page=0&pageSize=10
2025-05-07 11:15:30.094 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:30.094 ERROR 21064 --- [http-nio-8090-exec-8] com.hotel.util.JwtTokenProvider          : Expired JWT token
2025-05-07 11:15:30.094  WARN 21064 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : JWT Token 无效: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsInVzZXJJZCI6MSwicm9sZXMiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ2MzU4ODg2LCJleHAiOjE3NDY0NDUyODZ9.ddFpxSNGSLnaMxB-jv3-MgQSEIJtQur63q3EMwh5IA8kaAMg8j-pmGlF-CVb-VFFgBV74K7rAPtjwGPMQkey9Q
2025-05-07 11:15:30.095 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 11:15:30.095 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-07 11:15:30.095 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/users/staff?page=0&pageSize=10] with attributes [authenticated]
2025-05-07 11:15:30.095 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-07 11:15:30.096 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:30.096 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error?page=0&pageSize=10
2025-05-07 11:15:30.096 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:30.096 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 11:15:30.096 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /error?page=0&pageSize=10
2025-05-07 11:15:30.097 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=0&pageSize=10", parameters={masked}
2025-05-07 11:15:30.097 DEBUG 21064 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 11:15:30.098 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:15:30.098 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-07 11:15:30.098 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-07 11:15:30.098 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:39.773 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:15:39.773 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:39.774  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:15:39.776  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:15:39.776  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:15:39.777 DEBUG 21064 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:15:39.777 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:15:39.778 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:15:39.778 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:15:39.778 DEBUG 21064 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:15:39.798 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:15:39.798 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:15:39.799 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:15:39.800 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:39.892 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:15:39.892 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:39.893  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:15:39.896  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:15:39.896  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:15:39.896 DEBUG 21064 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:15:39.896 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:15:39.897 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:15:39.897 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:15:39.897 DEBUG 21064 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:15:39.953 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:15:39.953 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:15:39.954 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:15:39.954 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:40.124 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:15:40.124 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:40.124  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:15:40.126  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:15:40.126  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:15:40.126 DEBUG 21064 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:15:40.126 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:15:40.127 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:15:40.127 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:15:40.127 DEBUG 21064 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:15:40.139 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:15:40.139 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:15:40.139 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:15:40.139 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:45.224 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/stats
2025-05-07 11:15:45.225 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:45.226 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 11:15:45.226 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/occupied
2025-05-07 11:15:45.226  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:15:45.227 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:45.227 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:45.228  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:15:45.228  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:15:45.230  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:15:45.230  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:15:45.230  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:15:45.230  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:15:45.230  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:15:45.230 DEBUG 21064 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:15:45.230  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:15:45.231 DEBUG 21064 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:15:45.231 DEBUG 21064 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:15:45.231 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:15:45.231 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms/occupied] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:15:45.231 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/stats
2025-05-07 11:15:45.231 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:15:45.231 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms/occupied
2025-05-07 11:15:45.231 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 11:15:45.231 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/stats", parameters={}
2025-05-07 11:15:45.231 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms/occupied", parameters={}
2025-05-07 11:15:45.231 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=", parameters={masked}
2025-05-07 11:15:45.232 DEBUG 21064 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getOccupiedRooms()
2025-05-07 11:15:45.232 DEBUG 21064 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutStats()
2025-05-07 11:15:45.232 DEBUG 21064 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutRecords(String, String, String, int, int)
2025-05-07 11:15:45.233  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.impl.CheckInServiceImpl  : Fetching checkout records for current month: 2025-05-01 to 2025-05-07
2025-05-07 11:15:45.235 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:15:45.235 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[], success=true, message=获取成功}]
2025-05-07 11:15:45.236 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:15:45.236 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:45.240 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:15:45.241 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, records=[]}, success=true, message=获取退房记录成功}]
2025-05-07 11:15:45.241 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:15:45.241 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={monthlyCheckouts=0, pendingCleanings=2, todayCheckouts=0}, success=true, message=获取 (truncated)...]
2025-05-07 11:15:45.241 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:15:45.241 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:15:45.241 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:45.241 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:46.667 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:15:46.668 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:46.668  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:15:46.671  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:15:46.671  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:15:46.671 DEBUG 21064 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:15:46.672 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:15:46.672 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:15:46.672 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:15:46.672 DEBUG 21064 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:15:46.689 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:15:46.690 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:15:46.690 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:15:46.691 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:46.709 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:15:46.709 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:46.711  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:15:46.711  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:15:46.711  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:15:46.711 DEBUG 21064 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:15:46.714 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:15:46.714 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:15:46.714 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:15:46.714 DEBUG 21064 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:15:46.756 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:15:46.757 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:15:46.758 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:15:46.758 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:15:46.768 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:15:46.768 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:15:46.769  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:15:46.771  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:15:46.772  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:15:46.772 DEBUG 21064 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:15:46.772 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:15:46.772 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:15:46.772 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:15:46.772 DEBUG 21064 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:15:46.782 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:15:46.783 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:15:46.783 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:15:46.783 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:16:38.097 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-07 11:16:38.097 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:16:38.098 ERROR 21064 --- [http-nio-8090-exec-8] com.hotel.util.JwtTokenProvider          : Expired JWT token
2025-05-07 11:16:38.098  WARN 21064 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : JWT Token 无效: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsInVzZXJJZCI6MSwicm9sZXMiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ2MzU4ODg2LCJleHAiOjE3NDY0NDUyODZ9.ddFpxSNGSLnaMxB-jv3-MgQSEIJtQur63q3EMwh5IA8kaAMg8j-pmGlF-CVb-VFFgBV74K7rAPtjwGPMQkey9Q
2025-05-07 11:16:38.098 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 11:16:38.098 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-07 11:16:38.099 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/users?page=1&pageSize=10&username=&phone=&status=] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 11:16:38.099 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-07 11:16:38.100 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:16:38.100 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10&username=&phone=&status=
2025-05-07 11:16:38.100 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:16:38.100 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 11:16:38.100 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10&username=&phone=&status=
2025-05-07 11:16:38.101 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10&username=&phone=&status=", parameters={masked}
2025-05-07 11:16:38.102 DEBUG 21064 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 11:16:38.102 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:16:38.103 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-07 11:16:38.104 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-07 11:16:38.105 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:16:40.269 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:16:40.270 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:16:40.271 ERROR 21064 --- [http-nio-8090-exec-9] com.hotel.util.JwtTokenProvider          : Expired JWT token
2025-05-07 11:16:40.271  WARN 21064 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : JWT Token 无效: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJhZG1pbiIsInVzZXJJZCI6MSwicm9sZXMiOiJST0xFX0FETUlOIiwiaWF0IjoxNzQ2MzU4ODg2LCJleHAiOjE3NDY0NDUyODZ9.ddFpxSNGSLnaMxB-jv3-MgQSEIJtQur63q3EMwh5IA8kaAMg8j-pmGlF-CVb-VFFgBV74K7rAPtjwGPMQkey9Q
2025-05-07 11:16:40.271 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 11:16:40.271 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-07 11:16:40.271 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:16:40.271 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-07 11:16:40.272 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:16:40.272 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 11:16:40.272 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:16:40.273 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 11:16:40.273 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 11:16:40.273 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 11:16:40.273 DEBUG 21064 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 11:16:40.274 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:16:40.274 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-07 11:16:40.274 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-07 11:16:40.275 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:16:45.301 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-07 11:16:45.301 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:16:45.301 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 11:16:45.301 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-07 11:16:45.301 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-07 11:16:45.301 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-07 11:16:45.301 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-07 11:16:45.301 DEBUG 21064 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-07 11:16:45.306 DEBUG 21064 --- [http-nio-8090-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=admin, password=admin123)]
2025-05-07 11:16:45.383  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 11:16:45.383  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 11:16:45.383  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 11:16:45.460 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-07 11:16:45.473 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:16:45.473 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=1, username=admin, role=ADMIN, token=eyJhbGciOiJIUz (truncated)...]
2025-05-07 11:16:45.473 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:16:45.473 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:16:45.587 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:16:45.587 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:16:45.588  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 11:16:45.589  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 11:16:45.589  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 11:16:45.589 DEBUG 21064 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 11:16:45.590 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:16:45.590 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:16:45.590 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:16:45.590 DEBUG 21064 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:16:45.622 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:16:45.622 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:16:45.622 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:16:45.622 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:16:47.785 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-07 11:16:47.785 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:16:47.785  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 11:16:47.788  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 11:16:47.788  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 11:16:47.788 DEBUG 21064 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 11:16:47.788 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users?page=1&pageSize=10&username=&phone=&status=] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 11:16:47.788 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-07 11:16:47.788 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users?page=1&pageSize=10&username=&phone=&status=", parameters={masked}
2025-05-07 11:16:47.788 DEBUG 21064 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllUsers(int, int, String, String, String, String)
2025-05-07 11:16:47.802 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:16:47.802 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=21, users=[UserDTO(id=21, username=晚安福福, (truncated)...]
2025-05-07 11:16:47.804 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:16:47.805 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:16:49.858 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/staff?page=0&pageSize=10
2025-05-07 11:16:49.859 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:16:49.860  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 11:16:49.863  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 11:16:49.863  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 11:16:49.863 DEBUG 21064 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 11:16:49.863 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/staff?page=0&pageSize=10] with attributes [authenticated]
2025-05-07 11:16:49.864 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/staff?page=0&pageSize=10
2025-05-07 11:16:49.864 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/staff?page=0&pageSize=10", parameters={masked}
2025-05-07 11:16:49.864 DEBUG 21064 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllStaffPaginated(int, int, String, String, String)
2025-05-07 11:16:49.874 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:16:49.875 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=6, users=[UserDTO(id=19, username=前台妹妹00 (truncated)...]
2025-05-07 11:16:49.876 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:16:49.876 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:16:51.738 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=0&size=10
2025-05-07 11:16:51.738 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:16:51.738  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 11:16:51.738  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 11:16:51.743  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 11:16:51.744 DEBUG 21064 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 11:16:51.744 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:16:51.744 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=0&size=10
2025-05-07 11:16:51.744 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=0&size=10", parameters={masked}
2025-05-07 11:16:51.744 DEBUG 21064 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 11:16:51.751 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:16:51.751 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=501, lastCleanTime=2025-05-01T15:04:43, notes=, needCle (truncated)...]
2025-05-07 11:16:51.751 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:16:51.757 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:16:52.002 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/roomtypes
2025-05-07 11:16:52.002 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:16:52.002  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 11:16:52.002  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 11:16:52.002  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 11:16:52.002 DEBUG 21064 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 11:16:52.002 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/roomtypes] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 11:16:52.002 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/roomtypes
2025-05-07 11:16:52.002 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/roomtypes", parameters={}
2025-05-07 11:16:52.002 DEBUG 21064 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getAllRoomTypes()
2025-05-07 11:16:52.012 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:16:52.012 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{amenities=无限量矿泉水、咖啡、茶叶等, createTime=2025-04-28T11:22:57, name=行政套房, description=高端 (truncated)...]
2025-05-07 11:16:52.012 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:16:52.012 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:16:53.448 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/invitation-codes/all
2025-05-07 11:16:53.449 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:16:53.449  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 11:16:53.451  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 11:16:53.451  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 11:16:53.451 DEBUG 21064 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 11:16:53.452 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/invitation-codes/all] with attributes [authenticated]
2025-05-07 11:16:53.452 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/invitation-codes/all
2025-05-07 11:16:53.452 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/invitation-codes/all", parameters={}
2025-05-07 11:16:53.452 DEBUG 21064 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.InvitationCodeController#getAllInvitationCodes()
2025-05-07 11:16:53.469 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:16:53.469 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[InvitationCode(id=12, code=L1R1O7TC, role=CLEANER, maxUses=1, currentUses=0, expiryDate=2025-06-01T (truncated)...]
2025-05-07 11:16:53.471 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:16:53.471 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:22:42.277 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:22:42.277 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:22:42.278  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:22:42.281  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:22:42.282  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:22:42.282 DEBUG 21064 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:22:42.282 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:22:42.282 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:22:42.282 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:22:42.282 DEBUG 21064 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:22:42.298 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:22:42.298 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:22:42.299 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:22:42.299 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:22:42.361 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:22:42.361 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:22:42.363  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:22:42.366  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:22:42.366  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:22:42.366 DEBUG 21064 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:22:42.366 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:22:42.367 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:22:42.367 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:22:42.367 DEBUG 21064 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:22:42.425 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:22:42.425 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:22:42.426 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:22:42.426 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:22:42.446 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:22:42.446 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:22:42.447  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:22:42.449  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:22:42.449  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:22:42.449 DEBUG 21064 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:22:42.450 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:22:42.450 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:22:42.450 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:22:42.450 DEBUG 21064 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:22:42.461 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:22:42.461 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:22:42.461 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:22:42.461 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:23:08.014 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 11:23:08.014 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:23:08.014  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:23:08.024  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:23:08.024  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:23:08.024 DEBUG 21064 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:23:08.024 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 11:23:08.024 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 11:23:08.024 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 11:23:08.024 DEBUG 21064 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 11:23:08.024  INFO 21064 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:23:08.024  INFO 21064 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 找到 2 个需要清洁的房间
2025-05-07 11:23:08.024  INFO 21064 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:23:08.034  INFO 21064 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 房间 204 已存在未完成的清洁任务，跳过任务创建
2025-05-07 11:23:08.034  INFO 21064 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在未完成的清洁任务，跳过任务创建
2025-05-07 11:23:08.034  INFO 21064 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:23:08.034 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:23:08.034 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=11, roomNumber=204, roomType=豪 (truncated)...]
2025-05-07 11:23:08.034 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:23:08.034 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:23:08.144 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 11:23:08.144 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:23:08.144  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:23:08.144  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:23:08.144  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:23:08.144 DEBUG 21064 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:23:08.144 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 11:23:08.144 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 11:23:08.144 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 11:23:08.144 DEBUG 21064 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 11:23:08.144  INFO 21064 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:23:08.154  INFO 21064 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 找到 2 个需要清洁的房间
2025-05-07 11:23:08.154  INFO 21064 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:23:08.154  INFO 21064 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 房间 204 已存在未完成的清洁任务，跳过任务创建
2025-05-07 11:23:08.164  INFO 21064 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在未完成的清洁任务，跳过任务创建
2025-05-07 11:23:08.164  INFO 21064 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:23:08.164 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:23:08.164 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 11:23:08.164 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:23:08.164 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:23:11.353 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:23:11.353 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:23:11.353  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:23:11.355  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:23:11.355  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:23:11.355 DEBUG 21064 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:23:11.356 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:23:11.356 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:23:11.356 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:23:11.356 DEBUG 21064 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:23:11.371 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:23:11.371 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:23:11.372 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:23:11.372 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:23:11.411 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:23:11.412 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:23:11.413  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:23:11.416  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:23:11.417  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:23:11.417 DEBUG 21064 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:23:11.417 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:23:11.417 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:23:11.418 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:23:11.418 DEBUG 21064 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:23:11.464 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:23:11.465 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:23:11.465 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:23:11.465 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:23:11.482 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:23:11.482 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:23:11.483  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:23:11.485  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:23:11.485  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:23:11.486 DEBUG 21064 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:23:11.486 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:23:11.486 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:23:11.486 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:23:11.486 DEBUG 21064 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:23:11.497 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:23:11.498 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:23:11.499 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:23:11.500 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:23:12.356 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:23:12.357 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:23:12.358  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:23:12.360  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:23:12.360  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:23:12.360 DEBUG 21064 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:23:12.360 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:23:12.361 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:23:12.361 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:23:12.361 DEBUG 21064 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:23:12.371 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:23:12.371 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:23:12.371 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:23:12.371 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:23:14.065 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:23:14.065 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:23:14.065  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:23:14.071  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:23:14.071  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:23:14.071 DEBUG 21064 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:23:14.072 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:23:14.072 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:23:14.072 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:23:14.072 DEBUG 21064 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:23:14.082 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:23:14.082 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:23:14.083 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:23:14.083 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:23:17.123 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:23:17.124 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:23:17.124  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:23:17.127  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:23:17.127  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:23:17.127 DEBUG 21064 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:23:17.127 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:23:17.127 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:23:17.127 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:23:17.127 DEBUG 21064 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:23:17.139 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:23:17.139 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:23:17.140 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:23:17.140 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:23:20.422 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:23:20.422 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:23:20.423  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:23:20.426  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:23:20.426  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:23:20.426 DEBUG 21064 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:23:20.427 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:23:20.427 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:23:20.427 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:23:20.427 DEBUG 21064 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:23:20.445 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:23:20.445 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:23:20.446 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:23:20.447 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:23:20.492 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:23:20.492 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:23:20.502  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:23:20.502  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:23:20.502  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:23:20.502 DEBUG 21064 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:23:20.502 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:23:20.502 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:23:20.502 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:23:20.502 DEBUG 21064 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:23:20.559 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:23:20.560 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:23:20.561 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:23:20.561 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:23:20.584 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:23:20.584 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:23:20.586  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:23:20.589  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:23:20.589  INFO 21064 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:23:20.589 DEBUG 21064 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:23:20.590 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:23:20.590 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:23:20.591 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:23:20.591 DEBUG 21064 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:23:20.605 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:23:20.605 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:23:20.605 DEBUG 21064 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:23:20.607 DEBUG 21064 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:23:33.027 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:23:33.027 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:23:33.028  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:23:33.031  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:23:33.031  INFO 21064 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:23:33.031 DEBUG 21064 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:23:33.031 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:23:33.031 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:23:33.032 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:23:33.032 DEBUG 21064 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:23:33.045 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:23:33.045 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:23:33.046 DEBUG 21064 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:23:33.046 DEBUG 21064 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:23:33.085 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:23:33.085 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:23:33.085  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:23:33.095  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:23:33.095  INFO 21064 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:23:33.095 DEBUG 21064 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:23:33.095 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:23:33.095 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:23:33.095 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:23:33.095 DEBUG 21064 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:23:33.143 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:23:33.143 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:23:33.143 DEBUG 21064 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:23:33.143 DEBUG 21064 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:23:33.162 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:23:33.162 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:23:33.163  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:23:33.165  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:23:33.166  INFO 21064 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:23:33.166 DEBUG 21064 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:23:33.166 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:23:33.166 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:23:33.166 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:23:33.166 DEBUG 21064 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:23:33.176 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:23:33.176 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:23:33.176 DEBUG 21064 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:23:33.176 DEBUG 21064 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:23:52.229 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/invitation-codes/all
2025-05-07 11:23:52.230 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:23:52.231  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 11:23:52.233  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 11:23:52.233  INFO 21064 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 11:23:52.233 DEBUG 21064 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 11:23:52.234 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/invitation-codes/all] with attributes [authenticated]
2025-05-07 11:23:52.234 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/invitation-codes/all
2025-05-07 11:23:52.234 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/invitation-codes/all", parameters={}
2025-05-07 11:23:52.234 DEBUG 21064 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.InvitationCodeController#getAllInvitationCodes()
2025-05-07 11:23:52.239 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:23:52.239 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[InvitationCode(id=12, code=L1R1O7TC, role=CLEANER, maxUses=1, currentUses=0, expiryDate=2025-06-01T (truncated)...]
2025-05-07 11:23:52.240 DEBUG 21064 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:23:52.240 DEBUG 21064 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:23:52.660 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=0&size=10
2025-05-07 11:23:52.660 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:23:52.661  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 11:23:52.663  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 11:23:52.663  INFO 21064 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 11:23:52.663 DEBUG 21064 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 11:23:52.663 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:23:52.663 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=0&size=10
2025-05-07 11:23:52.664 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=0&size=10", parameters={masked}
2025-05-07 11:23:52.664 DEBUG 21064 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 11:23:52.674 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:23:52.675 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=501, lastCleanTime=2025-05-01T15:04:43, notes=, needCle (truncated)...]
2025-05-07 11:23:52.676 DEBUG 21064 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:23:52.676 DEBUG 21064 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:23:52.785 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/roomtypes
2025-05-07 11:23:52.785 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:23:52.785  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 11:23:52.787  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 11:23:52.787  INFO 21064 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 11:23:52.788 DEBUG 21064 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 11:23:52.788 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/roomtypes] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 11:23:52.788 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/roomtypes
2025-05-07 11:23:52.788 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/roomtypes", parameters={}
2025-05-07 11:23:52.789 DEBUG 21064 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getAllRoomTypes()
2025-05-07 11:23:52.792 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:23:52.793 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{amenities=无限量矿泉水、咖啡、茶叶等, createTime=2025-04-28T11:22:57, name=行政套房, description=高端 (truncated)...]
2025-05-07 11:23:52.794 DEBUG 21064 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:23:52.794 DEBUG 21064 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:23:55.281 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/staff?page=0&pageSize=10
2025-05-07 11:23:55.281 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:23:55.281  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 11:23:55.288  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 11:23:55.288  INFO 21064 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 11:23:55.288 DEBUG 21064 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 11:23:55.288 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/staff?page=0&pageSize=10] with attributes [authenticated]
2025-05-07 11:23:55.288 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/staff?page=0&pageSize=10
2025-05-07 11:23:55.288 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/staff?page=0&pageSize=10", parameters={masked}
2025-05-07 11:23:55.288 DEBUG 21064 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllStaffPaginated(int, int, String, String, String)
2025-05-07 11:23:55.295 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:23:55.295 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=6, users=[UserDTO(id=19, username=前台妹妹00 (truncated)...]
2025-05-07 11:23:55.295 DEBUG 21064 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:23:55.295 DEBUG 21064 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:23:56.384 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-07 11:23:56.385 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:23:56.385  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 11:23:56.387  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 11:23:56.388  INFO 21064 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 11:23:56.388 DEBUG 21064 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 11:23:56.389 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users?page=1&pageSize=10&username=&phone=&status=] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 11:23:56.389 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-07 11:23:56.389 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users?page=1&pageSize=10&username=&phone=&status=", parameters={masked}
2025-05-07 11:23:56.390 DEBUG 21064 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllUsers(int, int, String, String, String, String)
2025-05-07 11:23:56.400 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:23:56.400 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=21, users=[UserDTO(id=21, username=晚安福福, (truncated)...]
2025-05-07 11:23:56.401 DEBUG 21064 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:23:56.402 DEBUG 21064 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:23:58.022 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:23:58.023 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:23:58.024  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 11:23:58.024  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 11:23:58.024  INFO 21064 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 11:23:58.024 DEBUG 21064 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 11:23:58.024 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:23:58.024 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:23:58.024 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:23:58.024 DEBUG 21064 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:23:58.079 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:23:58.080 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:23:58.080 DEBUG 21064 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:23:58.080 DEBUG 21064 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:25:24.165  INFO 21064 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 11:25:24.167  INFO 21064 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 11:25:24.177  INFO 21064 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 11:25:33.902  INFO 26204 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 26204 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 11:25:33.910 DEBUG 26204 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 11:25:33.910  INFO 26204 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 11:25:34.739  INFO 26204 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 11:25:34.949  INFO 26204 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 207 ms. Found 19 JPA repository interfaces.
2025-05-07 11:25:35.429  INFO 26204 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 11:25:35.429  INFO 26204 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 11:25:35.429  INFO 26204 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 11:25:35.429  INFO 26204 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 11:25:35.439  INFO 26204 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 11:25:35.449  INFO 26204 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 11:25:35.449  INFO 26204 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 11:25:35.579  INFO 26204 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 11:25:35.579  INFO 26204 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1628 ms
2025-05-07 11:25:35.730  INFO 26204 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 11:25:35.789  INFO 26204 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 11:25:35.950  INFO 26204 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 11:25:36.059  INFO 26204 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 11:25:36.389  INFO 26204 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 11:25:36.399  INFO 26204 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 11:25:37.516  INFO 26204 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 11:25:37.526  INFO 26204 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 11:25:37.936 DEBUG 26204 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 11:25:37.936 DEBUG 26204 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 11:25:38.766 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 11:25:38.776 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 11:25:38.786 DEBUG 26204 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 11:25:38.796  INFO 26204 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7aa62a90, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23ee31b8, org.springframework.security.web.context.SecurityContextPersistenceFilter@7b5e5fa, org.springframework.security.web.header.HeaderWriterFilter@698394bf, org.springframework.web.filter.CorsFilter@4c941d19, org.springframework.security.web.authentication.logout.LogoutFilter@20331c8e, com.hotel.config.JwtAuthenticationFilter@139b3a29, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3420547, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44d36b56, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5fc42998, org.springframework.security.web.session.SessionManagementFilter@b21cbbf, org.springframework.security.web.access.ExceptionTranslationFilter@54a7d1b9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1315d910]
2025-05-07 11:25:38.836  WARN 26204 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 11:25:38.957 DEBUG 26204 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 11:25:38.977  INFO 26204 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 11:25:39.036 DEBUG 26204 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 11:25:39.036 DEBUG 26204 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 11:25:39.056 DEBUG 26204 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 11:25:39.056 DEBUG 26204 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 11:25:39.256  INFO 26204 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 11:25:39.256  INFO 26204 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 5.821 seconds (JVM running for 6.654)
2025-05-07 11:25:47.647  INFO 26204 --- [http-nio-8090-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 11:25:47.647  INFO 26204 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 11:25:47.647 DEBUG 26204 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 11:25:47.647 DEBUG 26204 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 11:25:47.647 DEBUG 26204 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 11:25:47.647 DEBUG 26204 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2e268c19
2025-05-07 11:25:47.647 DEBUG 26204 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6a35cccf
2025-05-07 11:25:47.647 DEBUG 26204 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 11:25:47.657  INFO 26204 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 10 ms
2025-05-07 11:25:47.667 DEBUG 26204 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/11/start
2025-05-07 11:25:47.667 DEBUG 26204 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:25:47.728  INFO 26204 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:25:47.738  INFO 26204 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:25:47.738  INFO 26204 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:25:47.738 DEBUG 26204 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:25:47.747 DEBUG 26204 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/11/start] with attributes [authenticated]
2025-05-07 11:25:47.747 DEBUG 26204 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/11/start
2025-05-07 11:25:47.747 DEBUG 26204 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/11/start", parameters={}
2025-05-07 11:25:47.757 DEBUG 26204 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#startTask(Long)
2025-05-07 11:25:47.877 DEBUG 26204 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:25:47.887 DEBUG 26204 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Task(id=11, roomNumber=204, roomType=豪华大床房, cleaner=清洁人员, priority=medium, status=processing, expect (truncated)...]
2025-05-07 11:25:47.897 DEBUG 26204 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:25:47.897 DEBUG 26204 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:25:50.480 DEBUG 26204 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/11/complete
2025-05-07 11:25:50.480 DEBUG 26204 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:25:50.489  INFO 26204 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:25:50.490  INFO 26204 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:25:50.490  INFO 26204 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:25:50.490 DEBUG 26204 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:25:50.490 DEBUG 26204 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/11/complete] with attributes [authenticated]
2025-05-07 11:25:50.490 DEBUG 26204 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/11/complete
2025-05-07 11:25:50.490 DEBUG 26204 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/11/complete", parameters={}
2025-05-07 11:25:50.490 DEBUG 26204 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#completeTask(Long, TaskDTO)
2025-05-07 11:25:50.540 DEBUG 26204 --- [http-nio-8090-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, expectedT (truncated)...]
2025-05-07 11:25:50.550  INFO 26204 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 任务完成：ID=11, 房间=204, 实际用时=30分钟
2025-05-07 11:25:50.570  INFO 26204 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 已更新房间状态：房间号=204, 状态=AVAILABLE, 需要清洁=false
2025-05-07 11:25:50.641  WARN 26204 --- [http-nio-8090-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000
2025-05-07 11:25:50.641 ERROR 26204 --- [http-nio-8090-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'staff_id' cannot be null
2025-05-07 11:25:50.651 ERROR 26204 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 创建清洁记录失败

org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy151.save(Unknown Source) ~[na:na]
	at com.hotel.service.impl.CleaningServiceImpl.createCleaningRecord(CleaningServiceImpl.java:34) ~[classes/:na]
	at com.hotel.service.impl.CleaningServiceImpl$$FastClassBySpringCGLIB$$81ac99ee.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.CleaningServiceImpl$$EnhancerBySpringCGLIB$$ab0dc8b3.createCleaningRecord(<generated>) ~[classes/:na]
	at com.hotel.service.impl.TaskServiceImpl.completeTask(TaskServiceImpl.java:136) ~[classes/:na]
	at com.hotel.service.impl.TaskServiceImpl$$FastClassBySpringCGLIB$$a3228ee2.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.TaskServiceImpl$$EnhancerBySpringCGLIB$$f06600f.completeTask(<generated>) ~[classes/:na]
	at com.hotel.controller.CleaningTaskController.completeTask(CleaningTaskController.java:154) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy130.persist(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy130.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 132 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'staff_id' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-java-8.0.29.jar:8.0.29]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.29.jar:8.0.29]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-java-8.0.29.jar:8.0.29]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061) ~[mysql-connector-java-8.0.29.jar:8.0.29]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009) ~[mysql-connector-java-8.0.29.jar:8.0.29]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320) ~[mysql-connector-java-8.0.29.jar:8.0.29]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994) ~[mysql-connector-java-8.0.29.jar:8.0.29]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	... 179 common frames omitted

2025-05-07 11:25:50.661 DEBUG 26204 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:25:50.661 DEBUG 26204 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-05-07 11:25:50.671 DEBUG 26204 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-07 11:25:50.671 DEBUG 26204 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:26:32.869 DEBUG 26204 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:26:32.870 DEBUG 26204 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:26:32.871  INFO 26204 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:26:32.875  INFO 26204 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:26:32.875  INFO 26204 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:26:32.876 DEBUG 26204 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:26:32.877 DEBUG 26204 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:26:32.877 DEBUG 26204 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:26:32.877 DEBUG 26204 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:26:32.878 DEBUG 26204 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:26:32.950 DEBUG 26204 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:26:32.950 DEBUG 26204 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:26:32.958 DEBUG 26204 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:26:32.958 DEBUG 26204 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:26:32.978 DEBUG 26204 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:26:32.978 DEBUG 26204 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:26:32.980  INFO 26204 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:26:32.983  INFO 26204 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:26:32.983  INFO 26204 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:26:32.983 DEBUG 26204 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:26:32.990 DEBUG 26204 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:26:32.991 DEBUG 26204 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:26:32.991 DEBUG 26204 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:26:32.991 DEBUG 26204 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:26:33.107 DEBUG 26204 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:26:33.107 DEBUG 26204 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:26:33.109 DEBUG 26204 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:26:33.110 DEBUG 26204 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:26:33.428 DEBUG 26204 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:26:33.429 DEBUG 26204 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:26:33.430  INFO 26204 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:26:33.433  INFO 26204 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:26:33.433  INFO 26204 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:26:33.433 DEBUG 26204 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:26:33.434 DEBUG 26204 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:26:33.434 DEBUG 26204 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:26:33.434 DEBUG 26204 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:26:33.434 DEBUG 26204 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:26:33.469 DEBUG 26204 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:26:33.469 DEBUG 26204 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:26:33.473 DEBUG 26204 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:26:33.473 DEBUG 26204 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:26:59.457 DEBUG 26204 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/11/complete
2025-05-07 11:26:59.457 DEBUG 26204 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:26:59.457  INFO 26204 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:26:59.457  INFO 26204 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:26:59.467  INFO 26204 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:26:59.467 DEBUG 26204 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:26:59.467 DEBUG 26204 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/11/complete] with attributes [authenticated]
2025-05-07 11:26:59.467 DEBUG 26204 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/11/complete
2025-05-07 11:26:59.467 DEBUG 26204 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/11/complete", parameters={}
2025-05-07 11:26:59.467 DEBUG 26204 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#completeTask(Long, TaskDTO)
2025-05-07 11:26:59.467 DEBUG 26204 --- [http-nio-8090-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, expectedT (truncated)...]
2025-05-07 11:26:59.467  INFO 26204 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 任务完成：ID=11, 房间=204, 实际用时=30分钟
2025-05-07 11:26:59.477  INFO 26204 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 已更新房间状态：房间号=204, 状态=AVAILABLE, 需要清洁=false
2025-05-07 11:26:59.477  WARN 26204 --- [http-nio-8090-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000
2025-05-07 11:26:59.477 ERROR 26204 --- [http-nio-8090-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'staff_id' cannot be null
2025-05-07 11:26:59.477 ERROR 26204 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 创建清洁记录失败

org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy151.save(Unknown Source) ~[na:na]
	at com.hotel.service.impl.CleaningServiceImpl.createCleaningRecord(CleaningServiceImpl.java:34) ~[classes/:na]
	at com.hotel.service.impl.CleaningServiceImpl$$FastClassBySpringCGLIB$$81ac99ee.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.CleaningServiceImpl$$EnhancerBySpringCGLIB$$ab0dc8b3.createCleaningRecord(<generated>) ~[classes/:na]
	at com.hotel.service.impl.TaskServiceImpl.completeTask(TaskServiceImpl.java:136) ~[classes/:na]
	at com.hotel.service.impl.TaskServiceImpl$$FastClassBySpringCGLIB$$a3228ee2.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.TaskServiceImpl$$EnhancerBySpringCGLIB$$f06600f.completeTask(<generated>) ~[classes/:na]
	at com.hotel.controller.CleaningTaskController.completeTask(CleaningTaskController.java:154) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:37) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy130.persist(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy130.persist(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 132 common frames omitted
Caused by: java.sql.SQLIntegrityConstraintViolationException: Column 'staff_id' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117) ~[mysql-connector-java-8.0.29.jar:8.0.29]
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-java-8.0.29.jar:8.0.29]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916) ~[mysql-connector-java-8.0.29.jar:8.0.29]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061) ~[mysql-connector-java-8.0.29.jar:8.0.29]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009) ~[mysql-connector-java-8.0.29.jar:8.0.29]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320) ~[mysql-connector-java-8.0.29.jar:8.0.29]
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994) ~[mysql-connector-java-8.0.29.jar:8.0.29]
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61) ~[HikariCP-4.0.3.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java) ~[HikariCP-4.0.3.jar:na]
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	... 179 common frames omitted

2025-05-07 11:26:59.487 DEBUG 26204 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:26:59.487 DEBUG 26204 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-05-07 11:26:59.487 DEBUG 26204 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-07 11:26:59.487 DEBUG 26204 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:27:08.068 DEBUG 26204 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:27:08.069 DEBUG 26204 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:27:08.071  INFO 26204 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:27:08.076  INFO 26204 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:27:08.077  INFO 26204 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:27:08.077 DEBUG 26204 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:27:08.077 DEBUG 26204 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:27:08.078 DEBUG 26204 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:27:08.079 DEBUG 26204 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:27:08.079 DEBUG 26204 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:27:08.115 DEBUG 26204 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:27:08.115 DEBUG 26204 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:27:08.118 DEBUG 26204 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:27:08.118 DEBUG 26204 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:27:08.135 DEBUG 26204 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:27:08.136 DEBUG 26204 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:27:08.139  INFO 26204 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:27:08.142  INFO 26204 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:27:08.142  INFO 26204 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:27:08.142 DEBUG 26204 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:27:08.143 DEBUG 26204 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:27:08.143 DEBUG 26204 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:27:08.143 DEBUG 26204 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:27:08.143 DEBUG 26204 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:27:08.212 DEBUG 26204 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:27:08.212 DEBUG 26204 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:27:08.212 DEBUG 26204 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:27:08.212 DEBUG 26204 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:27:08.236 DEBUG 26204 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:27:08.237 DEBUG 26204 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:27:08.239  INFO 26204 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:27:08.244  INFO 26204 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:27:08.245  INFO 26204 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:27:08.245 DEBUG 26204 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:27:08.246 DEBUG 26204 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:27:08.246 DEBUG 26204 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:27:08.246 DEBUG 26204 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:27:08.247 DEBUG 26204 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:27:08.268 DEBUG 26204 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:27:08.268 DEBUG 26204 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:27:08.269 DEBUG 26204 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:27:08.269 DEBUG 26204 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:33:57.972 DEBUG 26204 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:33:57.972 DEBUG 26204 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:33:57.974  INFO 26204 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:33:57.976  INFO 26204 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:33:57.977  INFO 26204 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:33:57.977 DEBUG 26204 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:33:57.978 DEBUG 26204 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:33:57.978 DEBUG 26204 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:33:57.978 DEBUG 26204 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:33:57.978 DEBUG 26204 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:33:57.989 DEBUG 26204 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:33:57.989 DEBUG 26204 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:33:57.989 DEBUG 26204 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:33:57.989 DEBUG 26204 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:34:23.102  INFO 26204 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 11:34:23.102  INFO 26204 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 11:34:23.112  INFO 26204 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 11:34:30.251  INFO 31544 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 31544 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 11:34:30.254 DEBUG 31544 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 11:34:30.255  INFO 31544 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 11:34:31.198  INFO 31544 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 11:34:31.402  INFO 31544 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 190 ms. Found 19 JPA repository interfaces.
2025-05-07 11:34:31.918  INFO 31544 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 11:34:31.918  INFO 31544 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 11:34:31.918  INFO 31544 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 11:34:31.918  INFO 31544 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 11:34:31.918  INFO 31544 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 11:34:31.928  INFO 31544 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 11:34:31.928  INFO 31544 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 11:34:32.083  INFO 31544 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 11:34:32.083  INFO 31544 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1774 ms
2025-05-07 11:34:32.253  INFO 31544 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 11:34:32.323  INFO 31544 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 11:34:32.519  INFO 31544 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 11:34:32.626  INFO 31544 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 11:34:32.969  INFO 31544 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 11:34:32.989  INFO 31544 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 11:34:34.156  INFO 31544 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 11:34:34.165  INFO 31544 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 11:34:34.589 DEBUG 31544 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 11:34:34.589 DEBUG 31544 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 11:34:35.411 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 11:34:35.421 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 11:34:35.431 DEBUG 31544 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 11:34:35.441  INFO 31544 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@569b3009, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23d0f6be, org.springframework.security.web.context.SecurityContextPersistenceFilter@2c1b10f2, org.springframework.security.web.header.HeaderWriterFilter@46d83ec4, org.springframework.web.filter.CorsFilter@601e7c97, org.springframework.security.web.authentication.logout.LogoutFilter@19ce597a, com.hotel.config.JwtAuthenticationFilter@74267ece, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4807b2b7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71eead09, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48cebb78, org.springframework.security.web.session.SessionManagementFilter@757ad227, org.springframework.security.web.access.ExceptionTranslationFilter@1a13b5c1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@568e2d65]
2025-05-07 11:34:35.481  WARN 31544 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 11:34:35.582 DEBUG 31544 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 11:34:35.602  INFO 31544 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 11:34:35.662 DEBUG 31544 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 11:34:35.673 DEBUG 31544 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 11:34:35.682 DEBUG 31544 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 11:34:35.693 DEBUG 31544 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 11:34:35.853  INFO 31544 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 11:34:35.863  INFO 31544 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.167 seconds (JVM running for 7.046)
2025-05-07 11:34:42.486  INFO 31544 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 11:34:42.486  INFO 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 11:34:42.486 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 11:34:42.486 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 11:34:42.486 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 11:34:42.486 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5fc76532
2025-05-07 11:34:42.486 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@139da216
2025-05-07 11:34:42.486 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 11:34:42.486  INFO 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-05-07 11:34:42.515 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/11/complete
2025-05-07 11:34:42.521 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:34:42.609  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:34:42.612  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:34:42.613  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:34:42.616 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:34:42.626 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/11/complete] with attributes [authenticated]
2025-05-07 11:34:42.627 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/11/complete
2025-05-07 11:34:42.630 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/11/complete", parameters={}
2025-05-07 11:34:42.635 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#completeTask(Long, TaskDTO)
2025-05-07 11:34:42.726 DEBUG 31544 --- [http-nio-8090-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, expectedT (truncated)...]
2025-05-07 11:34:42.765  INFO 31544 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 任务完成：ID=11, 房间=204, 实际用时=30分钟
2025-05-07 11:34:42.805  INFO 31544 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 已更新房间状态：房间号=204, 状态=AVAILABLE, 需要清洁=false
2025-05-07 11:34:42.875  INFO 31544 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 已创建清洁记录：ID=4, 房间号=204, 保洁员=清洁人员
2025-05-07 11:34:42.936 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:34:42.945 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Task(id=11, roomNumber=204, roomType=豪华大床房, cleaner=清洁人员, priority=medium, status=completed, expecte (truncated)...]
2025-05-07 11:34:42.955 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:34:42.965 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:34:42.985 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 11:34:42.985 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:34:42.985  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:34:42.985  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:34:42.985  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:34:42.985 DEBUG 31544 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:34:42.985 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 11:34:42.985 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 11:34:42.985 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 11:34:42.985 DEBUG 31544 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 11:34:42.995  INFO 31544 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:34:42.995  INFO 31544 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 11:34:43.006  INFO 31544 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:34:43.012  INFO 31544 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在未完成的清洁任务，跳过任务创建
2025-05-07 11:34:43.012  INFO 31544 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:34:43.023 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:34:43.023 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=11, roomNumber=204, roomType=豪 (truncated)...]
2025-05-07 11:34:43.033 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:34:43.033 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:34:43.066 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 11:34:43.066 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:34:43.068  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:34:43.070  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:34:43.070  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:34:43.070 DEBUG 31544 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:34:43.070 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 11:34:43.071 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 11:34:43.071 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 11:34:43.071 DEBUG 31544 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 11:34:43.071  INFO 31544 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:34:43.076  INFO 31544 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 11:34:43.078  INFO 31544 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:34:43.081  INFO 31544 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 房间 406 已存在未完成的清洁任务，跳过任务创建
2025-05-07 11:34:43.081  INFO 31544 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:34:43.091 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:34:43.091 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 11:34:43.096 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:34:43.096 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:34:44.964 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 11:34:44.964 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:34:44.964  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:34:44.964  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:34:44.964  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:34:44.964 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:34:44.974 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 11:34:44.974 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 11:34:44.974 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 11:34:44.974 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 11:34:45.012 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:34:45.012 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=4, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 11:34:45.014 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:34:45.014 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:34:52.335 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/10/complete
2025-05-07 11:34:52.335 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:34:52.345  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:34:52.345  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:34:52.345  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:34:52.345 DEBUG 31544 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:34:52.345 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/10/complete] with attributes [authenticated]
2025-05-07 11:34:52.345 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/10/complete
2025-05-07 11:34:52.345 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/10/complete", parameters={}
2025-05-07 11:34:52.345 DEBUG 31544 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#completeTask(Long, TaskDTO)
2025-05-07 11:34:52.355 DEBUG 31544 --- [http-nio-8090-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, expectedT (truncated)...]
2025-05-07 11:34:52.355  INFO 31544 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 任务完成：ID=10, 房间=406, 实际用时=30分钟
2025-05-07 11:34:52.365  INFO 31544 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 已更新房间状态：房间号=406, 状态=AVAILABLE, 需要清洁=false
2025-05-07 11:34:52.377  INFO 31544 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 已创建清洁记录：ID=5, 房间号=406, 保洁员=清洁人员
2025-05-07 11:34:52.396 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:34:52.396 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Task(id=10, roomNumber=406, roomType=行政套房, cleaner=清洁人员, priority=medium, status=completed, expected (truncated)...]
2025-05-07 11:34:52.396 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:34:52.396 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:34:52.436 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 11:34:52.436 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:34:52.436  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:34:52.436  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:34:52.436  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:34:52.436 DEBUG 31544 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:34:52.436 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 11:34:52.436 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 11:34:52.436 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 11:34:52.436 DEBUG 31544 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 11:34:52.446  INFO 31544 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:34:52.446  INFO 31544 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 11:34:52.446  INFO 31544 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:34:52.446  INFO 31544 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:34:52.456 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:34:52.456 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=11, roomNumber=204, roomType=豪 (truncated)...]
2025-05-07 11:34:52.456 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:34:52.456 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:34:52.476 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 11:34:52.476 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:34:52.476  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:34:52.486  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:34:52.486  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:34:52.486 DEBUG 31544 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:34:52.486 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 11:34:52.486 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 11:34:52.486 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 11:34:52.486 DEBUG 31544 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 11:34:52.486  INFO 31544 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:34:52.486  INFO 31544 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 11:34:52.494  INFO 31544 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:34:52.494  INFO 31544 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:34:52.497 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:34:52.497 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 11:34:52.497 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:34:52.497 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:34:57.197 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 11:34:57.198 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:34:57.199  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:34:57.203  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:34:57.203  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:34:57.203 DEBUG 31544 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:34:57.204 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 11:34:57.204 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 11:34:57.204 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 11:34:57.205 DEBUG 31544 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 11:34:57.239 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:34:57.239 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=5, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 11:34:57.241 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:34:57.242 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:35:56.226 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 11:35:56.226 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:35:56.226  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:35:56.226  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:35:56.226  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:35:56.226 DEBUG 31544 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:35:56.226 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 11:35:56.226 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 11:35:56.226 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 11:35:56.226 DEBUG 31544 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 11:35:56.236  INFO 31544 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:35:56.236  INFO 31544 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 11:35:56.236  INFO 31544 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:35:56.236  INFO 31544 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:35:56.246 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:35:56.246 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=11, roomNumber=204, roomType=豪 (truncated)...]
2025-05-07 11:35:56.246 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:35:56.246 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:35:56.361 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 11:35:56.361 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:35:56.363  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:35:56.365  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:35:56.365  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:35:56.365 DEBUG 31544 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:35:56.365 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 11:35:56.365 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 11:35:56.365 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 11:35:56.365 DEBUG 31544 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 11:35:56.365  INFO 31544 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:35:56.373  INFO 31544 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 11:35:56.375  INFO 31544 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:35:56.376  INFO 31544 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:35:56.384 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:35:56.385 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 11:35:56.386 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:35:56.386 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:36:02.407 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/2
2025-05-07 11:36:02.407 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:36:02.413  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:36:02.414  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:36:02.414  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:36:02.414 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:36:02.414 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/2] with attributes [authenticated]
2025-05-07 11:36:02.414 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/2
2025-05-07 11:36:02.414 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/2", parameters={}
2025-05-07 11:36:02.414 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 11:36:02.433 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:36:02.433 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=1.0小时, roomNumber=401, cleaner=清洁人员, startTime=2025-05-01T10:00, id= (truncated)...]
2025-05-07 11:36:02.434 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:36:02.435 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:36:07.082 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/4
2025-05-07 11:36:07.083 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:36:07.085  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:36:07.089  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:36:07.089  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:36:07.089 DEBUG 31544 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:36:07.090 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/4] with attributes [authenticated]
2025-05-07 11:36:07.090 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/4
2025-05-07 11:36:07.090 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/4", parameters={}
2025-05-07 11:36:07.091 DEBUG 31544 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 11:36:07.100 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:36:07.101 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.0小时, roomNumber=204, cleaner=清洁人员, startTime=2025-05-07T11:25:48,  (truncated)...]
2025-05-07 11:36:07.101 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:36:07.101 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:36:09.414 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/5
2025-05-07 11:36:09.414 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:36:09.414  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:36:09.422  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:36:09.422  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:36:09.422 DEBUG 31544 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:36:09.422 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/5] with attributes [authenticated]
2025-05-07 11:36:09.422 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/5
2025-05-07 11:36:09.422 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/5", parameters={}
2025-05-07 11:36:09.422 DEBUG 31544 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 11:36:09.435 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:36:09.435 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.5小时, roomNumber=406, cleaner=清洁人员, startTime=2025-05-07T10:52:52,  (truncated)...]
2025-05-07 11:36:09.435 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:36:09.435 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:36:16.196 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/4
2025-05-07 11:36:16.196 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:36:16.196  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:36:16.202  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:36:16.202  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:36:16.202 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:36:16.202 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/4] with attributes [authenticated]
2025-05-07 11:36:16.202 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/4
2025-05-07 11:36:16.202 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/4", parameters={}
2025-05-07 11:36:16.202 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 11:36:16.213 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:36:16.213 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.0小时, roomNumber=204, cleaner=清洁人员, startTime=2025-05-07T11:25:48,  (truncated)...]
2025-05-07 11:36:16.213 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:36:16.213 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:36:17.865 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/5
2025-05-07 11:36:17.866 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:36:17.868  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:36:17.873  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:36:17.873  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:36:17.874 DEBUG 31544 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:36:17.875 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/5] with attributes [authenticated]
2025-05-07 11:36:17.875 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/5
2025-05-07 11:36:17.875 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/5", parameters={}
2025-05-07 11:36:17.876 DEBUG 31544 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 11:36:17.892 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:36:17.893 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.5小时, roomNumber=406, cleaner=清洁人员, startTime=2025-05-07T10:52:52,  (truncated)...]
2025-05-07 11:36:17.894 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:36:17.894 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:36:40.887 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:36:40.887 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:36:40.888  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:36:40.891  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:36:40.891  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:36:40.891 DEBUG 31544 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:36:40.892 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:36:40.892 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:36:40.892 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:36:40.892 DEBUG 31544 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:36:40.932 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:36:40.934 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:36:40.941 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:36:40.941 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:36:40.998 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:36:40.998 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:36:41.000  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:36:41.004  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:36:41.004  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:36:41.004 DEBUG 31544 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:36:41.015 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:36:41.016 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:36:41.016 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:36:41.016 DEBUG 31544 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:36:41.126 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:36:41.126 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:36:41.128 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:36:41.129 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:36:41.172 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:36:41.172 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:36:41.174  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:36:41.176  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:36:41.176  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:36:41.176 DEBUG 31544 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:36:41.176 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:36:41.176 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:36:41.179 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:36:41.179 DEBUG 31544 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:36:41.215 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:36:41.215 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:36:41.219 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:36:41.219 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:36:41.931 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:36:41.931 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:36:41.936  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:36:41.938  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:36:41.938  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:36:41.938 DEBUG 31544 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:36:41.938 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:36:41.938 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:36:41.938 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:36:41.938 DEBUG 31544 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:36:41.958 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:36:41.958 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:36:41.958 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:36:41.958 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:36:45.269 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:36:45.269 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:36:45.269  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:36:45.278  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:36:45.278  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:36:45.278 DEBUG 31544 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:36:45.278 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:36:45.278 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:36:45.278 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:36:45.280 DEBUG 31544 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:36:45.289 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:36:45.289 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:36:45.289 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:36:45.289 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:36:45.420 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:36:45.420 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:36:45.421  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:36:45.425  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:36:45.425  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:36:45.426 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:36:45.426 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:36:45.426 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:36:45.426 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:36:45.427 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:36:45.442 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:36:45.442 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:36:45.443 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:36:45.444 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:36:50.495 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:36:50.497 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:36:50.498  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:36:50.503  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:36:50.503  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:36:50.503 DEBUG 31544 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:36:50.504 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:36:50.505 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:36:50.505 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:36:50.505 DEBUG 31544 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:36:50.530 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:36:50.530 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:36:50.531 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:36:50.531 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:36:50.547 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:36:50.547 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:36:50.548  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:36:50.551  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:36:50.551  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:36:50.551 DEBUG 31544 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:36:50.551 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:36:50.551 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:36:50.551 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:36:50.552 DEBUG 31544 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:36:50.603 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:36:50.603 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:36:50.604 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:36:50.604 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:36:50.617 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:36:50.617 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:36:50.619  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:36:50.622  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:36:50.622  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:36:50.622 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:36:50.622 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:36:50.622 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:36:50.623 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:36:50.623 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:36:50.636 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:36:50.636 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:36:50.637 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:36:50.638 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:36:55.764 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:36:55.764 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:36:55.764  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:36:55.771  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:36:55.771  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:36:55.771 DEBUG 31544 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:36:55.771 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:36:55.771 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:36:55.771 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:36:55.771 DEBUG 31544 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:36:55.797 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:36:55.797 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:36:55.798 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:36:55.799 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:36:55.810 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:36:55.810 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:36:55.810  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:36:55.810  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:36:55.810  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:36:55.810 DEBUG 31544 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:36:55.810 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:36:55.817 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:36:55.817 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:36:55.817 DEBUG 31544 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:36:55.852 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:36:55.852 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:36:55.862 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:36:55.862 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:36:55.872 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:36:55.872 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:36:55.872  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:36:55.872  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:36:55.872  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:36:55.872 DEBUG 31544 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:36:55.872 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:36:55.872 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:36:55.872 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:36:55.872 DEBUG 31544 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:36:55.880 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:36:55.880 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:36:55.880 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:36:55.880 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:37:29.737 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 11:37:29.738 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:37:29.739  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:37:29.742  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:37:29.742  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:37:29.742 DEBUG 31544 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:37:29.743 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 11:37:29.743 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 11:37:29.743 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 11:37:29.743 DEBUG 31544 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 11:37:29.775 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:37:29.776 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=5, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 11:37:29.778 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:37:29.778 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:37:33.591 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 11:37:33.592 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:37:33.593  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:37:33.596  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:37:33.596  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:37:33.597 DEBUG 31544 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:37:33.598 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 11:37:33.598 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 11:37:33.598 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 11:37:33.599 DEBUG 31544 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 11:37:33.600  INFO 31544 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:37:33.602  INFO 31544 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 11:37:33.604  INFO 31544 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:37:33.604  INFO 31544 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:37:33.612 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:37:33.613 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=11, roomNumber=204, roomType=豪 (truncated)...]
2025-05-07 11:37:33.614 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:37:33.614 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:37:33.719 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 11:37:33.719 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:37:33.720  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:37:33.724  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:37:33.724  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:37:33.724 DEBUG 31544 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:37:33.724 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 11:37:33.724 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 11:37:33.725 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 11:37:33.725 DEBUG 31544 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 11:37:33.725  INFO 31544 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:37:33.727  INFO 31544 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 11:37:33.730  INFO 31544 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:37:33.730  INFO 31544 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:37:33.740 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:37:33.741 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 11:37:33.742 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:37:33.742 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:37:42.720 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/invitation-codes/all
2025-05-07 11:37:42.720 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:37:42.720  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 11:37:42.725  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 11:37:42.725  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 11:37:42.725 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 11:37:42.725 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/invitation-codes/all] with attributes [authenticated]
2025-05-07 11:37:42.725 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/invitation-codes/all
2025-05-07 11:37:42.725 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/invitation-codes/all", parameters={}
2025-05-07 11:37:42.725 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.InvitationCodeController#getAllInvitationCodes()
2025-05-07 11:37:42.735 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:37:42.735 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[InvitationCode(id=12, code=L1R1O7TC, role=CLEANER, maxUses=1, currentUses=0, expiryDate=2025-06-01T (truncated)...]
2025-05-07 11:37:42.745 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:37:42.745 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:37:48.888 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:37:48.889 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:37:48.891  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 11:37:48.894  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 11:37:48.894  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 11:37:48.895 DEBUG 31544 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 11:37:48.895 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:37:48.895 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:37:48.895 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:37:48.896 DEBUG 31544 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:37:48.951 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:37:48.952 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:37:48.953 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:37:48.954 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:06.574 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/1
2025-05-07 11:38:06.574 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:06.574  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:38:06.574  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:38:06.574  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:38:06.574 DEBUG 31544 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:38:06.574 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/1] with attributes [authenticated]
2025-05-07 11:38:06.574 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/1
2025-05-07 11:38:06.574 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/1", parameters={}
2025-05-07 11:38:06.574 DEBUG 31544 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 11:38:06.584 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:06.594 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id= (truncated)...]
2025-05-07 11:38:06.594 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:06.594 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:09.338 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/5
2025-05-07 11:38:09.338 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:09.338  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:38:09.338  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:38:09.338  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:38:09.338 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:38:09.338 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/5] with attributes [authenticated]
2025-05-07 11:38:09.348 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/5
2025-05-07 11:38:09.348 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/5", parameters={}
2025-05-07 11:38:09.348 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 11:38:09.348 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:09.358 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.5小时, roomNumber=406, cleaner=清洁人员, startTime=2025-05-07T10:52:52,  (truncated)...]
2025-05-07 11:38:09.358 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:09.358 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:11.490 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 11:38:11.490 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:11.491  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:38:11.494  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:38:11.494  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:38:11.495 DEBUG 31544 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:38:11.495 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 11:38:11.495 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 11:38:11.495 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 11:38:11.496 DEBUG 31544 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 11:38:11.526 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:11.526 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=5, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 11:38:11.527 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:11.527 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:12.656 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/5
2025-05-07 11:38:12.657 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:12.657  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:38:12.661  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:38:12.661  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:38:12.661 DEBUG 31544 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:38:12.662 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/5] with attributes [authenticated]
2025-05-07 11:38:12.662 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/5
2025-05-07 11:38:12.662 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/5", parameters={}
2025-05-07 11:38:12.663 DEBUG 31544 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 11:38:12.672 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:12.673 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.5小时, roomNumber=406, cleaner=清洁人员, startTime=2025-05-07T10:52:52,  (truncated)...]
2025-05-07 11:38:12.674 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:12.674 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:14.769 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/4
2025-05-07 11:38:14.769 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:14.770  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:38:14.773  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:38:14.773  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:38:14.774 DEBUG 31544 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:38:14.774 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/4] with attributes [authenticated]
2025-05-07 11:38:14.774 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/4
2025-05-07 11:38:14.774 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/4", parameters={}
2025-05-07 11:38:14.775 DEBUG 31544 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 11:38:14.782 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:14.783 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.0小时, roomNumber=204, cleaner=清洁人员, startTime=2025-05-07T11:25:48,  (truncated)...]
2025-05-07 11:38:14.783 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:14.785 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:18.499 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/5
2025-05-07 11:38:18.499 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:18.500  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:38:18.504  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:38:18.504  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:38:18.504 DEBUG 31544 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:38:18.504 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/5] with attributes [authenticated]
2025-05-07 11:38:18.505 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/5
2025-05-07 11:38:18.505 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/5", parameters={}
2025-05-07 11:38:18.506 DEBUG 31544 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 11:38:18.514 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:18.514 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.5小时, roomNumber=406, cleaner=清洁人员, startTime=2025-05-07T10:52:52,  (truncated)...]
2025-05-07 11:38:18.515 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:18.515 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:21.969 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/1
2025-05-07 11:38:21.969 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:21.969  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:38:21.969  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:38:21.969  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:38:21.969 DEBUG 31544 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:38:21.969 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/1] with attributes [authenticated]
2025-05-07 11:38:21.969 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/1
2025-05-07 11:38:21.969 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/1", parameters={}
2025-05-07 11:38:21.969 DEBUG 31544 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 11:38:21.979 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:21.979 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id= (truncated)...]
2025-05-07 11:38:21.979 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:21.979 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:24.052 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records?status=COMPLETED
2025-05-07 11:38:24.053 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:24.054  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:38:24.057  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:38:24.057  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:38:24.057 DEBUG 31544 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:38:24.057 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records?status=COMPLETED] with attributes [authenticated]
2025-05-07 11:38:24.057 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records?status=COMPLETED
2025-05-07 11:38:24.057 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records?status=COMPLETED", parameters={masked}
2025-05-07 11:38:24.057 DEBUG 31544 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 11:38:24.067 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:24.067 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=2, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 11:38:24.067 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:24.067 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:25.836 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records?status=IN_PROGRESS
2025-05-07 11:38:25.836 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:25.836  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:38:25.836  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:38:25.836  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:38:25.836 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:38:25.836 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records?status=IN_PROGRESS] with attributes [authenticated]
2025-05-07 11:38:25.836 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records?status=IN_PROGRESS
2025-05-07 11:38:25.836 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records?status=IN_PROGRESS", parameters={masked}
2025-05-07 11:38:25.836 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 11:38:25.846 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:25.846 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=1, records=[{duration=进行中, roomNumber=201, cleaner=清洁人员, startTime=2025-05-01T13:00, id=3, en (truncated)...]
2025-05-07 11:38:25.846 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:25.846 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:27.565 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/3
2025-05-07 11:38:27.565 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:27.566  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:38:27.569  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:38:27.569  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:38:27.569 DEBUG 31544 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:38:27.569 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/3] with attributes [authenticated]
2025-05-07 11:38:27.570 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/3
2025-05-07 11:38:27.570 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/3", parameters={}
2025-05-07 11:38:27.570 DEBUG 31544 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 11:38:27.579 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:27.579 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=进行中, roomNumber=201, cleaner=清洁人员, startTime=2025-05-01T13:00, id=3, (truncated)...]
2025-05-07 11:38:27.580 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:27.580 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:28.920 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records?status=COMPLETED
2025-05-07 11:38:28.920 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:28.920  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:38:28.920  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:38:28.920  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:38:28.920 DEBUG 31544 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:38:28.920 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records?status=COMPLETED] with attributes [authenticated]
2025-05-07 11:38:28.920 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records?status=COMPLETED
2025-05-07 11:38:28.920 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records?status=COMPLETED", parameters={masked}
2025-05-07 11:38:28.920 DEBUG 31544 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 11:38:28.940 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:28.940 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=2, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 11:38:28.940 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:28.940 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:29.282 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 11:38:29.282 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:29.282  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:38:29.282  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:38:29.282  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:38:29.282 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:38:29.282 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 11:38:29.282 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 11:38:29.282 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 11:38:29.282 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 11:38:29.312 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:29.312 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=5, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 11:38:29.312 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:29.312 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:30.927 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/5
2025-05-07 11:38:30.927 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:30.928  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:38:30.930  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:38:30.931  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:38:30.931 DEBUG 31544 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:38:30.932 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/5] with attributes [authenticated]
2025-05-07 11:38:30.932 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/5
2025-05-07 11:38:30.932 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/5", parameters={}
2025-05-07 11:38:30.932 DEBUG 31544 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 11:38:30.932 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:30.932 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.5小时, roomNumber=406, cleaner=清洁人员, startTime=2025-05-07T10:52:52,  (truncated)...]
2025-05-07 11:38:30.942 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:30.942 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:40.056 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 11:38:40.056 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:40.057  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:38:40.060  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:38:40.060  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:38:40.060 DEBUG 31544 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:38:40.060 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 11:38:40.061 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 11:38:40.061 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 11:38:40.061 DEBUG 31544 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 11:38:40.089 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:40.089 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=5, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 11:38:40.090 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:40.090 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:41.772 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 11:38:41.773 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:41.773  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:38:41.776  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:38:41.776  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:38:41.776 DEBUG 31544 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:38:41.776 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 11:38:41.777 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 11:38:41.777 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 11:38:41.777 DEBUG 31544 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 11:38:41.798 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:41.798 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=5, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 11:38:41.799 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:41.799 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:43.014 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/5
2025-05-07 11:38:43.015 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:43.016  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:38:43.018  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:38:43.018  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:38:43.019 DEBUG 31544 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:38:43.019 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/5] with attributes [authenticated]
2025-05-07 11:38:43.019 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/5
2025-05-07 11:38:43.019 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/5", parameters={}
2025-05-07 11:38:43.020 DEBUG 31544 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 11:38:43.028 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:43.028 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.5小时, roomNumber=406, cleaner=清洁人员, startTime=2025-05-07T10:52:52,  (truncated)...]
2025-05-07 11:38:43.029 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:43.029 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:44.800 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 11:38:44.801 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:44.802  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:38:44.804  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:38:44.804  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:38:44.805 DEBUG 31544 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:38:44.805 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 11:38:44.805 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 11:38:44.805 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 11:38:44.805 DEBUG 31544 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 11:38:44.807  INFO 31544 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:38:44.809  INFO 31544 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 11:38:44.810  INFO 31544 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:38:44.811  INFO 31544 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:38:44.817 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:44.818 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=11, roomNumber=204, roomType=豪 (truncated)...]
2025-05-07 11:38:44.819 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:44.819 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:44.882 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 11:38:44.882 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:44.883  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:38:44.887  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:38:44.887  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:38:44.887 DEBUG 31544 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:38:44.887 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 11:38:44.887 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 11:38:44.887 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 11:38:44.888 DEBUG 31544 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 11:38:44.888  INFO 31544 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 11:38:44.890  INFO 31544 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 11:38:44.893  INFO 31544 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 11:38:44.893  INFO 31544 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 11:38:44.900 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:44.901 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 11:38:44.902 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:44.902 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:53.676 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/4
2025-05-07 11:38:53.676 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:53.676  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:38:53.686  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:38:53.686  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:38:53.686 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:38:53.686 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/4] with attributes [authenticated]
2025-05-07 11:38:53.686 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/4
2025-05-07 11:38:53.686 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/4", parameters={}
2025-05-07 11:38:53.686 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 11:38:53.696 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:53.696 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.0小时, roomNumber=204, cleaner=清洁人员, startTime=2025-05-07T11:25:48,  (truncated)...]
2025-05-07 11:38:53.696 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:53.696 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:55.648 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:38:55.648 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:55.648  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:38:55.648  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:38:55.648  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:38:55.648 DEBUG 31544 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:38:55.648 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:38:55.648 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:38:55.648 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:38:55.648 DEBUG 31544 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:38:55.669 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:55.669 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:38:55.669 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:55.669 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:55.989 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:38:55.989 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:55.989  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:38:55.989  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:38:55.989  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:38:55.989 DEBUG 31544 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:38:55.989 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:38:55.989 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:38:55.989 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:38:55.989 DEBUG 31544 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:38:56.028 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:56.028 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:38:56.028 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:56.028 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:56.242 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:38:56.242 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:56.242  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:38:56.242  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:38:56.242  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:38:56.242 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:38:56.242 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:38:56.242 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:38:56.242 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:38:56.242 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:38:56.252 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:56.252 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:38:56.252 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:56.252 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:38:58.311 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/5
2025-05-07 11:38:58.311 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:38:58.311  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:38:58.311  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:38:58.311  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:38:58.311 DEBUG 31544 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:38:58.311 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/5] with attributes [authenticated]
2025-05-07 11:38:58.311 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/5
2025-05-07 11:38:58.311 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/5", parameters={}
2025-05-07 11:38:58.311 DEBUG 31544 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 11:38:58.321 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:38:58.321 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.5小时, roomNumber=406, cleaner=清洁人员, startTime=2025-05-07T10:52:52,  (truncated)...]
2025-05-07 11:38:58.321 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:38:58.321 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:39:01.734 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/1
2025-05-07 11:39:01.734 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:39:01.734  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:39:01.744  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:39:01.744  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:39:01.744 DEBUG 31544 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:39:01.744 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/1] with attributes [authenticated]
2025-05-07 11:39:01.744 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/1
2025-05-07 11:39:01.744 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/1", parameters={}
2025-05-07 11:39:01.744 DEBUG 31544 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 11:39:01.754 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:39:01.754 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id= (truncated)...]
2025-05-07 11:39:01.754 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:39:01.754 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:39:03.752 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/1
2025-05-07 11:39:03.752 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:39:03.752  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:39:03.752  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:39:03.752  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:39:03.752 DEBUG 31544 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:39:03.752 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/1] with attributes [authenticated]
2025-05-07 11:39:03.752 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/1
2025-05-07 11:39:03.752 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/1", parameters={}
2025-05-07 11:39:03.752 DEBUG 31544 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 11:39:03.762 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:39:03.762 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id= (truncated)...]
2025-05-07 11:39:03.762 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:39:03.762 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:39:05.591 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/1
2025-05-07 11:39:05.591 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:39:05.591  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:39:05.591  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:39:05.591  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:39:05.591 DEBUG 31544 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:39:05.591 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/1] with attributes [authenticated]
2025-05-07 11:39:05.591 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/1
2025-05-07 11:39:05.591 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/1", parameters={}
2025-05-07 11:39:05.601 DEBUG 31544 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 11:39:05.601 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:39:05.601 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id= (truncated)...]
2025-05-07 11:39:05.601 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:39:05.601 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:39:10.303 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:39:10.304 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:39:10.304  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:39:10.307  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:39:10.307  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:39:10.307 DEBUG 31544 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:39:10.308 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:39:10.308 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:39:10.308 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:39:10.308 DEBUG 31544 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:39:10.323 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:39:10.324 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:39:10.324 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:39:10.324 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:39:10.634 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:39:10.634 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:39:10.634  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:39:10.634  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:39:10.634  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:39:10.634 DEBUG 31544 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:39:10.634 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:39:10.634 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:39:10.634 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:39:10.634 DEBUG 31544 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:39:10.689 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:39:10.689 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:39:10.690 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:39:10.690 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:39:10.906 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:39:10.906 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:39:10.906  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:39:10.916  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:39:10.916  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:39:10.916 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:39:10.916 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:39:10.916 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:39:10.918 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:39:10.918 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:39:10.927 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:39:10.927 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:39:10.927 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:39:10.927 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:39:27.152 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:39:27.152 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:39:27.153  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:39:27.155  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:39:27.156  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:39:27.156 DEBUG 31544 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:39:27.156 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:39:27.156 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:39:27.156 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:39:27.157 DEBUG 31544 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:39:27.193 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:39:27.194 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:39:27.194 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:39:27.195 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:39:27.412 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:39:27.412 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:39:27.413  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:39:27.415  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:39:27.415  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:39:27.415 DEBUG 31544 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:39:27.415 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:39:27.415 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:39:27.415 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:39:27.416 DEBUG 31544 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:39:27.428 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:39:27.428 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:39:27.429 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:39:27.429 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:39:38.303 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:39:38.307 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:39:38.310  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:39:38.310  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:39:38.310  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:39:38.310 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:39:38.314 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:39:38.314 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:39:38.314 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:39:38.314 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:39:38.328 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:39:38.328 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:39:38.328 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:39:38.328 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:39:38.645 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:39:38.645 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:39:38.645  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:39:38.645  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:39:38.645  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:39:38.645 DEBUG 31544 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:39:38.645 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:39:38.645 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:39:38.645 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:39:38.645 DEBUG 31544 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:39:38.697 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:39:38.698 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:39:38.698 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:39:38.698 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:39:41.858 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:39:41.859 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:39:41.859  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:39:41.862  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:39:41.862  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:39:41.862 DEBUG 31544 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:39:41.862 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:39:41.863 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:39:41.863 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:39:41.863 DEBUG 31544 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:39:41.901 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:39:41.901 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:39:41.901 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:39:41.901 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:39:42.233 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:39:42.234 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:39:42.234  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:39:42.236  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:39:42.236  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:39:42.236 DEBUG 31544 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:39:42.237 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:39:42.237 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:39:42.237 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:39:42.237 DEBUG 31544 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:39:42.247 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:39:42.247 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:39:42.248 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:39:42.248 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:39:50.210 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:39:50.211 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:39:50.212  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:39:50.214  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:39:50.214  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:39:50.214 DEBUG 31544 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:39:50.215 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:39:50.215 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:39:50.215 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:39:50.215 DEBUG 31544 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:39:50.234 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:39:50.235 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:39:50.236 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:39:50.236 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:39:50.547 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:39:50.547 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:39:50.548  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:39:50.549  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:39:50.550  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:39:50.550 DEBUG 31544 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:39:50.551 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:39:50.551 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:39:50.551 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:39:50.551 DEBUG 31544 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:39:50.587 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:39:50.587 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:39:50.587 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:39:50.587 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:39:56.273 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:39:56.274 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:39:56.275  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:39:56.277  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:39:56.278  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:39:56.278 DEBUG 31544 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:39:56.278 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:39:56.278 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:39:56.279 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:39:56.279 DEBUG 31544 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:39:56.313 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:39:56.313 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:39:56.314 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:39:56.314 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:39:56.633 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:39:56.634 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:39:56.634  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:39:56.636  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:39:56.636  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:39:56.636 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:39:56.636 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:39:56.636 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:39:56.636 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:39:56.637 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:39:56.649 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:39:56.649 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:39:56.649 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:39:56.649 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:39:58.575 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:39:58.575 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:39:58.576  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:39:58.578  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:39:58.579  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:39:58.579 DEBUG 31544 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:39:58.579 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:39:58.579 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:39:58.579 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:39:58.580 DEBUG 31544 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:39:58.595 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:39:58.595 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:39:58.596 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:39:58.596 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:39:58.646 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:39:58.646 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:39:58.648  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:39:58.651  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:39:58.651  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:39:58.651 DEBUG 31544 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:39:58.652 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:39:58.652 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:39:58.652 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:39:58.653 DEBUG 31544 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:39:58.702 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:39:58.702 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:39:58.703 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:39:58.704 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:39:59.291 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:39:59.292 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:39:59.292  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:39:59.295  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:39:59.295  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:39:59.295 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:39:59.296 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:39:59.296 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:39:59.296 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:39:59.296 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:39:59.307 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:39:59.308 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:39:59.309 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:39:59.309 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:40:00.893 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:40:00.894 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:40:00.894  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:40:00.897  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:40:00.897  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:40:00.897 DEBUG 31544 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:40:00.897 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:40:00.897 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:40:00.897 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:40:00.898 DEBUG 31544 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:40:00.912 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:40:00.913 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:40:00.914 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:40:00.914 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:40:02.516 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:40:02.516 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:40:02.518  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:40:02.520  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:40:02.520  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:40:02.520 DEBUG 31544 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:40:02.521 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:40:02.521 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:40:02.521 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:40:02.521 DEBUG 31544 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:40:02.530 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:40:02.530 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:40:02.531 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:40:02.531 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:40:11.453 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:40:11.453 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:40:11.454  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:40:11.457  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:40:11.457  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:40:11.457 DEBUG 31544 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:40:11.458 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:40:11.458 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:40:11.458 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:40:11.458 DEBUG 31544 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:40:11.468 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:40:11.468 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:40:11.469 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:40:11.470 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:40:13.377 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:40:13.377 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:40:13.377  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:40:13.380  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:40:13.380  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:40:13.381 DEBUG 31544 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:40:13.381 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:40:13.382 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:40:13.382 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:40:13.383 DEBUG 31544 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:40:13.391 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:40:13.391 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:40:13.392 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:40:13.392 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:40:17.758 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:40:17.759 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:40:17.760  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:40:17.763  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:40:17.763  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:40:17.764 DEBUG 31544 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:40:17.764 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 11:40:17.764 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 11:40:17.764 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 11:40:17.765 DEBUG 31544 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:40:17.776 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:40:17.776 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:40:17.777 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:40:17.777 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:40:29.030 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:40:29.031 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:40:29.031  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:40:29.034  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:40:29.034  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:40:29.034 DEBUG 31544 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:40:29.035 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:40:29.035 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:40:29.035 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:40:29.035 DEBUG 31544 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:40:29.071 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:40:29.072 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:40:29.073 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:40:29.073 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:40:58.726 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:40:58.726 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:40:58.727  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:40:58.729  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:40:58.729  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:40:58.729 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:40:58.730 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:40:58.730 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:40:58.730 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:40:58.730 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:40:58.767 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:40:58.767 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:40:58.767 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:40:58.768 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:41:26.867 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:41:26.867 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:41:26.867  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:41:26.867  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:41:26.867  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:41:26.867 DEBUG 31544 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:41:26.867 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:41:26.867 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:41:26.867 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:41:26.867 DEBUG 31544 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:41:26.887 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:41:26.887 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:41:26.887 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:41:26.887 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:41:26.977 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:41:26.977 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:41:26.977  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:41:26.977  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:41:26.977  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:41:26.977 DEBUG 31544 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:41:26.977 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:41:26.977 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:41:26.977 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:41:26.977 DEBUG 31544 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:41:27.019 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:41:27.020 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:41:27.020 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:41:27.020 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:41:28.842 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:41:28.842 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:41:28.842  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:41:28.842  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:41:28.851  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:41:28.851 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:41:28.851 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:41:28.851 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:41:28.851 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:41:28.851 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:41:28.875 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:41:28.875 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:41:28.875 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:41:28.875 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:41:38.750 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/21
2025-05-07 11:41:38.750 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:41:38.750 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:41:38.750 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:41:38.751 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 11:41:38.751  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 晚安福福
2025-05-07 11:41:38.752 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:41:38.752 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:41:38.752 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:41:38.752 DEBUG 31544 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:41:38.754  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 晚安福福, Role: CUSTOMER
2025-05-07 11:41:38.754  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CUSTOMER]
2025-05-07 11:41:38.754 DEBUG 31544 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '晚安福福' 认证成功, 设置 SecurityContext
2025-05-07 11:41:38.755 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/21] with attributes [authenticated]
2025-05-07 11:41:38.755 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/21
2025-05-07 11:41:38.755 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/21", parameters={}
2025-05-07 11:41:38.756 DEBUG 31544 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-07 11:41:38.760 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:41:38.760 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=21, username=晚安福福, name=发而且, phone=1 (truncated)...]
2025-05-07 11:41:38.770 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:41:38.770 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:41:38.770 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:41:38.770 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:41:38.770 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:41:38.770 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:41:58.146 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:41:58.146 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:41:58.146  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:41:58.146  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:41:58.146  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:41:58.146 DEBUG 31544 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:41:58.146 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:41:58.146 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:41:58.146 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:41:58.146 DEBUG 31544 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:41:58.182 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:41:58.182 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:41:58.183 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:41:58.183 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:41:58.843 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:41:58.843 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:41:58.843  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:41:58.843  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:41:58.843  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:41:58.843 DEBUG 31544 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:41:58.843 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:41:58.843 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:41:58.853 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:41:58.854 DEBUG 31544 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:41:58.881 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:41:58.881 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:41:58.881 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:41:58.881 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:42:28.155 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:42:28.155 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:42:28.155  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:42:28.155  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:42:28.155  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:42:28.155 DEBUG 31544 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:42:28.155 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:42:28.155 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:42:28.155 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:42:28.155 DEBUG 31544 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:42:28.195 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:42:28.195 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:42:28.195 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:42:28.195 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:42:28.844 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:42:28.844 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:42:28.844  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:42:28.854  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:42:28.854  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:42:28.854 DEBUG 31544 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:42:28.854 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:42:28.854 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:42:28.859 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:42:28.859 DEBUG 31544 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:42:28.885 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:42:28.885 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:42:28.885 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:42:28.885 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:42:58.148 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:42:58.149 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:42:58.149  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:42:58.152  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:42:58.152  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:42:58.153 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:42:58.153 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:42:58.153 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:42:58.153 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:42:58.154 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:42:58.187 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:42:58.187 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:42:58.188 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:42:58.188 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:42:58.846 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:42:58.846 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:42:58.847  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:42:58.849  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:42:58.849  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:42:58.849 DEBUG 31544 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:42:58.850 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:42:58.850 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:42:58.850 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:42:58.850 DEBUG 31544 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:42:58.875 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:42:58.876 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:42:58.876 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:42:58.876 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:43:28.161 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:43:28.161 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:43:28.162  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:43:28.166  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:43:28.166  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:43:28.166 DEBUG 31544 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:43:28.167 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:43:28.167 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:43:28.168 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:43:28.168 DEBUG 31544 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:43:28.194 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:43:28.194 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:43:28.194 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:43:28.194 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:43:40.846 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:43:40.847 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:43:40.848  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:43:40.848  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:43:40.848  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:43:40.848 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:43:40.848 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:43:40.848 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:43:40.848 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:43:40.848 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:43:40.881 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:43:40.881 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:43:40.882 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:43:40.882 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:43:58.148 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:43:58.149 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:43:58.149  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:43:58.151  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:43:58.152  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:43:58.152 DEBUG 31544 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:43:58.152 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:43:58.152 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:43:58.152 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:43:58.153 DEBUG 31544 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:43:58.185 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:43:58.185 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:43:58.186 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:43:58.186 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:44:27.847 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:44:27.847 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:44:27.847  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:44:27.847  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:44:27.847  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:44:27.847 DEBUG 31544 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:44:27.857 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:44:27.857 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:44:27.857 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:44:27.857 DEBUG 31544 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:44:27.887 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:44:27.887 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:44:27.887 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:44:27.887 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:44:41.160 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:44:41.161 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:44:41.161  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:44:41.162  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:44:41.162  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:44:41.162 DEBUG 31544 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:44:41.162 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:44:41.162 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:44:41.162 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:44:41.162 DEBUG 31544 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:44:41.207 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:44:41.207 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:44:41.209 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:44:41.209 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:45:12.334 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/5
2025-05-07 11:45:12.334 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:45:12.344  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 11:45:12.344  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 11:45:12.344  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 11:45:12.344 DEBUG 31544 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 11:45:12.344 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/5] with attributes [authenticated]
2025-05-07 11:45:12.344 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/5
2025-05-07 11:45:12.344 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/5", parameters={}
2025-05-07 11:45:12.344 DEBUG 31544 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 11:45:12.354 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:45:12.354 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.5小时, roomNumber=406, cleaner=清洁人员, startTime=2025-05-07T10:52:52,  (truncated)...]
2025-05-07 11:45:12.354 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:45:12.354 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:45:21.620 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:45:21.620 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:45:21.621  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:45:21.624  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:45:21.625  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:45:21.625 DEBUG 31544 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:45:21.626 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:45:21.626 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:45:21.626 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:45:21.627 DEBUG 31544 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:45:21.678 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:45:21.678 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:45:21.679 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:45:21.679 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:45:22.000 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:45:22.000 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:45:22.000  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:45:22.000  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:45:22.000  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:45:22.000 DEBUG 31544 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:45:22.000 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:45:22.000 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:45:22.000 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:45:22.000 DEBUG 31544 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:45:22.035 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:45:22.035 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:45:22.035 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:45:22.035 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:45:24.300 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:45:24.300 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:45:24.301  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:45:24.303  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:45:24.304  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:45:24.304 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:45:24.304 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:45:24.304 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:45:24.305 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:45:24.305 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:45:24.319 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:45:24.319 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:45:24.320 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:45:24.320 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:45:24.369 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:45:24.369 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:45:24.370  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:45:24.372  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:45:24.372  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:45:24.372 DEBUG 31544 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:45:24.373 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:45:24.373 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:45:24.373 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:45:24.373 DEBUG 31544 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:45:24.412 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:45:24.412 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:45:24.413 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:45:24.413 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:45:34.920 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:45:34.921 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:45:34.922  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:45:34.924  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:45:34.925  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:45:34.925 DEBUG 31544 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:45:34.925 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:45:34.925 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:45:34.925 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:45:34.926 DEBUG 31544 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:45:34.942 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:45:34.942 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:45:34.943 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:45:34.943 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:45:35.054 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:45:35.055 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:45:35.055  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:45:35.057  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:45:35.057  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:45:35.057 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:45:35.057 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:45:35.057 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:45:35.058 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:45:35.058 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:45:35.099 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:45:35.099 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:45:35.100 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:45:35.100 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:45:48.633 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0
2025-05-07 11:45:48.633 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:45:48.634  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:45:48.637  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:45:48.637  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:45:48.637 DEBUG 31544 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:45:48.638 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0] with attributes [authenticated]
2025-05-07 11:45:48.638 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0
2025-05-07 11:45:48.638 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0", parameters={masked}
2025-05-07 11:45:48.639 DEBUG 31544 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:45:48.656 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:45:48.656 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=401, id=2, floor=4, roomType={name=行政套房, id= (truncated)...]
2025-05-07 11:45:48.656 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:45:48.662 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:45:53.667 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 11:45:53.667 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:45:53.669  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:45:53.671  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:45:53.672  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:45:53.672 DEBUG 31544 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:45:53.672 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:45:53.673 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 11:45:53.673 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 11:45:53.673 DEBUG 31544 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 11:45:53.693 DEBUG 31544 --- [http-nio-8090-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=31, roomNumber=null, roomType=null, guestName=ehte (truncated)...]
2025-05-07 11:45:53.732  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.impl.CheckInServiceImpl  : 为直接入住创建临时预订: ID=29
2025-05-07 11:45:53.742  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.impl.CheckInServiceImpl  : 入住登记成功: ID=18, 入住单号=CI202505070008, 预订ID=29
2025-05-07 11:45:53.752 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:45:53.752 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=CheckInRecord(id=18, checkInNumber=CI202505070008, roomId=31, roomNumber=412, roomType=行政套房, g (truncated)...]
2025-05-07 11:45:53.766 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-07 11:45:53.766 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:45:54.092 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:45:54.092 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:45:54.092  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:45:54.092  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:45:54.092  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:45:54.092 DEBUG 31544 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:45:54.092 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:45:54.092 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:45:54.092 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:45:54.100 DEBUG 31544 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:45:54.127 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:45:54.127 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:45:54.127 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:45:54.127 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:45:55.305 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 11:45:55.305 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:45:55.306  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:45:55.308  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:45:55.309  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:45:55.309 DEBUG 31544 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:45:55.309 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 11:45:55.309 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 11:45:55.309 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 11:45:55.309 DEBUG 31544 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:45:55.316 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:45:55.316 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=412, id=31, floor=4, roomType={name=行政套房, id (truncated)...]
2025-05-07 11:45:55.317 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:45:55.317 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:45:57.115 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/reception/checkout/412
2025-05-07 11:45:57.115 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:45:57.119  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:45:57.122  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:45:57.122  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:45:57.122 DEBUG 31544 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:45:57.123 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reception/checkout/412] with attributes [authenticated]
2025-05-07 11:45:57.123 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/reception/checkout/412
2025-05-07 11:45:57.123 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/reception/checkout/412", parameters={}
2025-05-07 11:45:57.123 DEBUG 31544 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReceptionController#checkOut(String)
2025-05-07 11:45:57.138 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:45:57.138 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=退房成功，房间已标记为待清洁}]
2025-05-07 11:45:57.139 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:45:57.139 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:45:57.377 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:45:57.377 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:45:57.377  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:45:57.379  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:45:57.379  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:45:57.379 DEBUG 31544 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:45:57.380 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:45:57.380 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:45:57.380 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:45:57.380 DEBUG 31544 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:45:57.408 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:45:57.408 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:45:57.408 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:45:57.408 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:45:57.472 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 11:45:57.472 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:45:57.472  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:45:57.474  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:45:57.474  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:45:57.474 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:45:57.474 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 11:45:57.474 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 11:45:57.474 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 11:45:57.475 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 11:45:57.480 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:45:57.480 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=0, content=[], totalElements=0}]
2025-05-07 11:45:57.480 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:45:57.480 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:46:02.243 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:46:02.243 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:46:02.244  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:46:02.246  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:46:02.246  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:46:02.246 DEBUG 31544 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:46:02.247 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:46:02.247 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:46:02.247 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:46:02.248 DEBUG 31544 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:46:02.261 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:46:02.262 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:46:02.262 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:46:02.263 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:46:02.313 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:46:02.313 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:46:02.314  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:46:02.317  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:46:02.317  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:46:02.317 DEBUG 31544 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:46:02.318 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:46:02.318 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:46:02.318 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:46:02.318 DEBUG 31544 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:46:02.358 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:46:02.358 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:46:02.359 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:46:02.360 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:46:32.385 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:46:32.385 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:46:32.386  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:46:32.387  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:46:32.387  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:46:32.387 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:46:32.388 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:46:32.388 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:46:32.388 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:46:32.388 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:46:32.423 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:46:32.445 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:46:32.445 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:46:32.446 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:47:03.160 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:47:03.161 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:47:03.162  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:47:03.164  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:47:03.164  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:47:03.164 DEBUG 31544 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:47:03.164 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:47:03.164 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:47:03.164 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:47:03.165 DEBUG 31544 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:47:03.192 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:47:03.192 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:47:03.192 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:47:03.192 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:47:32.855 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:47:32.856 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:47:32.856  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:47:32.859  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:47:32.859  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:47:32.859 DEBUG 31544 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:47:32.860 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:47:32.860 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:47:32.860 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:47:32.860 DEBUG 31544 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:47:32.883 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:47:32.883 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:47:32.883 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:47:32.883 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:48:02.546 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 11:48:02.546 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:48:02.546  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:48:02.546  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:48:02.546  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:48:02.546 DEBUG 31544 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:48:02.546 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 11:48:02.546 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 11:48:02.546 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 11:48:02.546 DEBUG 31544 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 11:48:02.566 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:48:02.566 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 11:48:02.566 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:48:02.566 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:48:02.606 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:48:02.606 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:48:02.606  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:48:02.606  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:48:02.606  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:48:02.606 DEBUG 31544 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:48:02.606 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:48:02.606 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:48:02.606 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:48:02.606 DEBUG 31544 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:48:02.646 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:48:02.646 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:48:02.646 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:48:02.646 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:48:02.890 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:48:02.890 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:48:02.890  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:48:02.890  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:48:02.890  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:48:02.890 DEBUG 31544 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:48:02.890 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:48:02.890 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:48:02.890 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:48:02.890 DEBUG 31544 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:48:02.920 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:48:02.920 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:48:02.930 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:48:02.930 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:48:32.847 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:48:32.847 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:48:32.847  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:48:32.847  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:48:32.847  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:48:32.847 DEBUG 31544 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:48:32.857 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:48:32.857 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:48:32.857 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:48:32.857 DEBUG 31544 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:48:32.877 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:48:32.877 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:48:32.877 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:48:32.877 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:48:33.192 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:48:33.192 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:48:33.192  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:48:33.192  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:48:33.192  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:48:33.192 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:48:33.192 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:48:33.192 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:48:33.192 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:48:33.192 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:48:33.225 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:48:33.225 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:48:33.225 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:48:33.225 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:49:02.845 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:49:02.845 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:49:02.845  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:49:02.845  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:49:02.845  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:49:02.845 DEBUG 31544 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:49:02.845 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:49:02.845 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:49:02.855 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:49:02.856 DEBUG 31544 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:49:02.885 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:49:02.885 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:49:02.885 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:49:02.885 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:49:03.208 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:49:03.208 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:49:03.208  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:49:03.208  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:49:03.208  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:49:03.208 DEBUG 31544 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:49:03.208 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:49:03.208 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:49:03.208 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:49:03.208 DEBUG 31544 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:49:03.248 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:49:03.248 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:49:03.248 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:49:03.248 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:49:32.844 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:49:32.844 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:49:32.844  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:49:32.844  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:49:32.844  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:49:32.844 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:49:32.844 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:49:32.844 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:49:32.844 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:49:32.844 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:49:32.874 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:49:32.874 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:49:32.874 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:49:32.874 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:49:41.160 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:49:41.160 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:49:41.160  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:49:41.160  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:49:41.160  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:49:41.160 DEBUG 31544 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:49:41.160 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:49:41.160 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:49:41.160 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:49:41.160 DEBUG 31544 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:49:41.190 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:49:41.190 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:49:41.190 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:49:41.190 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:50:02.848 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:50:02.849 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:50:02.849  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:50:02.852  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:50:02.852  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:50:02.852 DEBUG 31544 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:50:02.853 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:50:02.853 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:50:02.853 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:50:02.854 DEBUG 31544 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:50:02.885 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:50:02.885 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:50:02.885 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:50:02.885 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:50:33.158 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:50:33.158 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:50:33.158  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:50:33.158  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:50:33.158  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:50:33.158 DEBUG 31544 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:50:33.158 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:50:33.158 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:50:33.158 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:50:33.158 DEBUG 31544 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:50:33.188 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:50:33.188 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:50:33.188 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:50:33.188 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:50:40.843 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:50:40.843 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:50:40.853  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:50:40.853  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:50:40.853  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:50:40.853 DEBUG 31544 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:50:40.853 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:50:40.853 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:50:40.853 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:50:40.853 DEBUG 31544 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:50:40.883 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:50:40.883 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:50:40.883 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:50:40.883 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:51:03.145 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:51:03.145 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:51:03.145  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:51:03.145  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:51:03.145  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:51:03.145 DEBUG 31544 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:51:03.145 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:51:03.145 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:51:03.145 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:51:03.145 DEBUG 31544 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:51:03.175 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:51:03.175 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:51:03.175 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:51:03.175 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:51:40.839 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:51:40.839 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:51:40.839  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:51:40.839  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:51:40.839  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:51:40.839 DEBUG 31544 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:51:40.839 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:51:40.839 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:51:40.839 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:51:40.839 DEBUG 31544 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:51:40.869 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:51:40.869 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:51:40.869 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:51:40.869 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:51:41.190 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:51:41.190 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:51:41.190  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:51:41.190  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:51:41.190  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:51:41.190 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:51:41.190 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:51:41.190 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:51:41.190 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:51:41.190 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:51:41.220 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:51:41.220 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:51:41.220 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:51:41.220 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:52:40.844 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:52:40.844 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:52:40.844  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:52:40.854  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:52:40.854  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:52:40.854 DEBUG 31544 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:52:40.854 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:52:40.854 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:52:40.854 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:52:40.854 DEBUG 31544 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:52:40.880 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:52:40.881 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:52:40.881 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:52:40.881 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:52:41.184 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:52:41.184 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:52:41.184  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:52:41.184  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:52:41.184  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:52:41.184 DEBUG 31544 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:52:41.184 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:52:41.184 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:52:41.184 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:52:41.184 DEBUG 31544 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:52:41.214 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:52:41.214 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:52:41.214 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:52:41.214 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:53:40.838 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:53:40.838 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:53:40.838  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:53:40.848  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:53:40.848  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:53:40.848 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:53:40.848 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:53:40.848 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:53:40.848 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:53:40.848 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:53:40.868 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:53:40.868 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:53:40.868 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:53:40.868 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:53:41.181 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:53:41.181 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:53:41.181  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:53:41.181  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:53:41.181  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:53:41.181 DEBUG 31544 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:53:41.181 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:53:41.181 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:53:41.181 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:53:41.181 DEBUG 31544 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:53:41.211 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:53:41.211 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:53:41.211 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:53:41.211 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:54:40.847 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:54:40.847 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:54:40.847  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:54:40.857  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:54:40.857  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:54:40.857 DEBUG 31544 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:54:40.857 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:54:40.857 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:54:40.857 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:54:40.857 DEBUG 31544 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:54:40.877 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:54:40.877 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:54:40.877 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:54:40.877 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:54:41.188 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:54:41.188 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:54:41.188  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:54:41.188  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:54:41.188  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:54:41.188 DEBUG 31544 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:54:41.188 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:54:41.188 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:54:41.188 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:54:41.188 DEBUG 31544 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:54:41.218 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:54:41.218 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:54:41.218 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:54:41.218 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:55:40.843 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:55:40.843 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:55:40.843  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:55:40.852  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:55:40.852  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:55:40.852 DEBUG 31544 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:55:40.852 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:55:40.852 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:55:40.852 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:55:40.852 DEBUG 31544 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:55:40.879 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:55:40.879 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:55:40.879 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:55:40.879 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:55:41.191 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:55:41.191 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:55:41.191  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:55:41.191  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:55:41.191  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:55:41.191 DEBUG 31544 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:55:41.191 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:55:41.191 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:55:41.191 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:55:41.191 DEBUG 31544 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:55:41.221 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:55:41.221 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:55:41.221 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:55:41.221 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:56:41.158 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:56:41.158 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:56:41.158  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:56:41.158  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:56:41.158  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:56:41.158 DEBUG 31544 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:56:41.158 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:56:41.158 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:56:41.158 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:56:41.158 DEBUG 31544 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:56:41.195 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:56:41.195 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:56:41.196 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:56:41.196 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:56:41.410 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:56:41.410 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:56:41.410  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:56:41.410  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:56:41.410  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:56:41.410 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:56:41.410 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:56:41.410 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:56:41.410 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:56:41.410 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:56:41.445 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:56:41.445 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:56:41.445 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:56:41.446 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:57:40.846 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:57:40.847 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:57:40.847  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:57:40.849  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:57:40.850  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:57:40.850 DEBUG 31544 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:57:40.850 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:57:40.850 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:57:40.850 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:57:40.851 DEBUG 31544 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:57:40.875 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:57:40.875 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:57:40.875 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:57:40.875 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:57:41.187 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:57:41.187 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:57:41.187  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:57:41.187  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:57:41.187  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:57:41.187 DEBUG 31544 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:57:41.187 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:57:41.187 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:57:41.187 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:57:41.187 DEBUG 31544 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:57:41.217 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:57:41.217 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:57:41.217 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:57:41.217 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:58:40.849 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:58:40.850 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:58:40.850  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:58:40.852  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:58:40.852  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:58:40.852 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:58:40.853 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:58:40.854 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:58:40.854 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:58:40.854 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:58:40.884 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:58:40.884 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:58:40.884 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:58:40.884 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:58:41.203 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:58:41.203 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:58:41.204  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:58:41.205  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:58:41.205  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:58:41.205 DEBUG 31544 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:58:41.205 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:58:41.205 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:58:41.205 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:58:41.206 DEBUG 31544 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:58:41.224 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:58:41.224 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:58:41.224 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:58:41.224 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:59:40.838 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:59:40.838 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:59:40.838  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:59:40.848  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:59:40.848  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:59:40.848 DEBUG 31544 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:59:40.848 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:59:40.848 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:59:40.848 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:59:40.848 DEBUG 31544 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:59:40.868 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:59:40.868 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:59:40.868 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:59:40.868 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 11:59:41.182 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 11:59:41.182 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 11:59:41.182  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 11:59:41.182  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 11:59:41.182  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 11:59:41.182 DEBUG 31544 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 11:59:41.182 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 11:59:41.182 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 11:59:41.182 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 11:59:41.182 DEBUG 31544 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 11:59:41.219 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 11:59:41.219 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 11:59:41.219 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 11:59:41.219 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:00:41.156 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:00:41.157 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:00:41.157  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:00:41.160  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:00:41.160  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:00:41.160 DEBUG 31544 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:00:41.160 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:00:41.161 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:00:41.161 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:00:41.161 DEBUG 31544 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:00:41.187 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:00:41.187 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:00:41.187 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:00:41.187 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:00:41.409 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:00:41.409 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:00:41.409  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:00:41.409  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:00:41.409  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:00:41.409 DEBUG 31544 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:00:41.409 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:00:41.409 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:00:41.409 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:00:41.409 DEBUG 31544 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:00:41.438 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:00:41.438 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:00:41.438 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:00:41.438 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:01:40.841 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:01:40.841 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:01:40.841  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:01:40.841  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:01:40.841  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:01:40.841 DEBUG 31544 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:01:40.851 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:01:40.851 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:01:40.851 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:01:40.851 DEBUG 31544 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:01:40.871 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:01:40.871 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:01:40.871 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:01:40.871 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:01:41.187 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:01:41.187 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:01:41.187  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:01:41.187  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:01:41.187  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:01:41.187 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:01:41.187 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:01:41.187 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:01:41.187 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:01:41.187 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:01:41.220 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:01:41.220 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:01:41.220 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:01:41.220 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:02:41.155 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:02:41.155 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:02:41.155  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:02:41.155  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:02:41.155  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:02:41.155 DEBUG 31544 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:02:41.155 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:02:41.155 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:02:41.155 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:02:41.155 DEBUG 31544 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:02:41.185 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:02:41.185 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:02:41.185 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:02:41.185 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:02:41.409 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:02:41.409 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:02:41.409  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:02:41.409  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:02:41.409  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:02:41.409 DEBUG 31544 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:02:41.409 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:02:41.409 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:02:41.409 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:02:41.409 DEBUG 31544 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:02:41.447 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:02:41.447 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:02:41.447 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:02:41.448 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:03:40.845 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:03:40.845 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:03:40.845  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:03:40.855  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:03:40.855  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:03:40.855 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:03:40.855 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:03:40.855 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:03:40.855 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:03:40.855 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:03:40.883 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:03:40.884 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:03:40.884 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:03:40.884 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:03:41.196 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:03:41.196 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:03:41.196  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:03:41.196  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:03:41.196  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:03:41.196 DEBUG 31544 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:03:41.196 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:03:41.196 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:03:41.196 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:03:41.196 DEBUG 31544 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:03:41.226 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:03:41.226 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:03:41.226 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:03:41.226 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:04:41.166 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:04:41.167 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:04:41.167  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:04:41.167  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:04:41.167  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:04:41.167 DEBUG 31544 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:04:41.167 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:04:41.167 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:04:41.167 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:04:41.167 DEBUG 31544 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:04:41.196 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:04:41.196 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:04:41.196 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:04:41.196 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:04:41.426 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:04:41.426 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:04:41.426  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:04:41.426  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:04:41.426  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:04:41.426 DEBUG 31544 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:04:41.426 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:04:41.426 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:04:41.426 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:04:41.426 DEBUG 31544 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:04:41.456 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:04:41.456 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:04:41.466 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:04:41.466 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:05:40.847 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:05:40.847 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:05:40.847  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:05:40.857  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:05:40.857  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:05:40.857 DEBUG 31544 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:05:40.857 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:05:40.857 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:05:40.857 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:05:40.857 DEBUG 31544 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:05:40.877 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:05:40.877 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:05:40.877 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:05:40.877 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:05:41.194 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:05:41.194 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:05:41.194  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:05:41.194  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:05:41.194  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:05:41.194 DEBUG 31544 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:05:41.194 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:05:41.194 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:05:41.194 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:05:41.194 DEBUG 31544 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:05:41.224 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:05:41.224 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:05:41.224 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:05:41.224 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:06:40.838 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:06:40.838 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:06:40.838  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:06:40.848  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:06:40.848  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:06:40.848 DEBUG 31544 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:06:40.848 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:06:40.848 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:06:40.848 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:06:40.848 DEBUG 31544 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:06:40.868 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:06:40.868 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:06:40.868 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:06:40.868 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:06:41.181 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:06:41.181 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:06:41.181  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:06:41.181  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:06:41.181  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:06:41.181 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:06:41.181 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:06:41.181 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:06:41.181 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:06:41.181 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:06:41.217 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:06:41.217 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:06:41.218 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:06:41.218 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:07:40.843 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:07:40.843 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:07:40.843  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:07:40.853  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:07:40.853  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:07:40.853 DEBUG 31544 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:07:40.853 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:07:40.853 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:07:40.853 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:07:40.853 DEBUG 31544 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:07:40.873 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:07:40.873 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:07:40.883 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:07:40.883 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:07:41.186 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:07:41.186 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:07:41.186  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:07:41.186  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:07:41.186  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:07:41.186 DEBUG 31544 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:07:41.186 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:07:41.186 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:07:41.186 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:07:41.186 DEBUG 31544 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:07:41.207 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:07:41.207 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:07:41.217 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:07:41.217 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:08:41.151 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:08:41.151 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:08:41.151  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:08:41.151  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:08:41.151  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:08:41.151 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:08:41.151 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:08:41.151 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:08:41.151 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:08:41.151 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:08:41.181 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:08:41.181 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:08:41.181 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:08:41.181 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:08:41.412 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:08:41.413 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:08:41.413  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:08:41.414  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:08:41.414  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:08:41.415 DEBUG 31544 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:08:41.416 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:08:41.416 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:08:41.416 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:08:41.416 DEBUG 31544 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:08:41.432 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:08:41.432 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:08:41.432 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:08:41.432 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:09:29.110 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:09:29.110 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:09:29.111  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:09:29.114  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:09:29.114  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:09:29.114 DEBUG 31544 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:09:29.114 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:09:29.115 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:09:29.115 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:09:29.116 DEBUG 31544 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:09:29.150 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:09:29.150 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:09:29.150 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:09:29.150 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:09:29.454 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:09:29.454 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:09:29.454  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:09:29.454  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:09:29.454  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:09:29.454 DEBUG 31544 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:09:29.454 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:09:29.454 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:09:29.454 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:09:29.454 DEBUG 31544 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:09:29.484 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:09:29.484 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:09:29.484 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:09:29.484 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:09:31.977 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:09:31.978 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:09:31.979  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:09:31.979  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:09:31.979  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:09:31.979 DEBUG 31544 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:09:31.979 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 12:09:31.979 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:09:31.979 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 12:09:31.979 DEBUG 31544 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:09:31.989 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:09:31.989 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 12:09:31.989 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:09:31.989 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:09:32.690 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:09:32.690 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:09:32.690  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:09:32.690  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:09:32.690  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:09:32.690 DEBUG 31544 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:09:32.690 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:09:32.690 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:09:32.690 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:09:32.690 DEBUG 31544 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:09:32.713 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:09:32.713 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:09:32.723 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:09:32.723 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:09:32.943 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:09:32.943 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:09:32.943  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:09:32.943  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:09:32.943  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:09:32.943 DEBUG 31544 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:09:32.943 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:09:32.943 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:09:32.943 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:09:32.943 DEBUG 31544 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:09:32.973 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:09:32.973 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:09:32.973 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:09:32.973 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:09:33.721 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:09:33.721 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:09:33.721  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:09:33.721  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:09:33.721  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:09:33.731 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:09:33.732 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 12:09:33.732 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:09:33.732 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 12:09:33.732 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:09:33.740 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:09:33.741 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 12:09:33.741 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:09:33.741 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:09:54.781 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 12:09:54.781 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:09:54.781  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:09:54.781  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:09:54.781  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:09:54.781 DEBUG 31544 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:09:54.785 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:09:54.785 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 12:09:54.786 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=", parameters={masked}
2025-05-07 12:09:54.786 DEBUG 31544 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutRecords(String, String, String, int, int)
2025-05-07 12:09:54.787 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/occupied
2025-05-07 12:09:54.787 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/stats
2025-05-07 12:09:54.788 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:09:54.788 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:09:54.788  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:09:54.788  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:09:54.790  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:09:54.790  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:09:54.790 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:09:54.791  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.impl.CheckInServiceImpl  : Fetching checkout records for current month: 2025-05-01 to 2025-05-07
2025-05-07 12:09:54.791 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms/occupied] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:09:54.792 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms/occupied
2025-05-07 12:09:54.792 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms/occupied", parameters={}
2025-05-07 12:09:54.792 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getOccupiedRooms()
2025-05-07 12:09:54.793  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:09:54.793  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:09:54.794 DEBUG 31544 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:09:54.794 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:09:54.794 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/stats
2025-05-07 12:09:54.794 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/stats", parameters={}
2025-05-07 12:09:54.794 DEBUG 31544 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutStats()
2025-05-07 12:09:54.798 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:09:54.798 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[], success=true, message=获取成功}]
2025-05-07 12:09:54.799 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:09:54.799 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:09:54.804 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:09:54.805 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, records=[]}, success=true, message=获取退房记录成功}]
2025-05-07 12:09:54.806 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:09:54.806 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:09:54.807 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:09:54.807 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={monthlyCheckouts=0, pendingCleanings=1, todayCheckouts=0}, success=true, message=获取 (truncated)...]
2025-05-07 12:09:54.808 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:09:54.808 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:09:55.224 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 12:09:55.224 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:09:55.224  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:09:55.226  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:09:55.226  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:09:55.226 DEBUG 31544 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:09:55.226 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:09:55.226 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 12:09:55.227 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 12:09:55.227 DEBUG 31544 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 12:09:55.232  INFO 31544 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 12:09:55.232 DEBUG 31544 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 12:09:55.242 DEBUG 31544 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=29, TotalPages=3
2025-05-07 12:09:55.244 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:09:55.245 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 12:09:55.257 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:09:55.257 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:09:55.534 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 12:09:55.535 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:09:55.535  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:09:55.537  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:09:55.537  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:09:55.537 DEBUG 31544 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:09:55.537 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 12:09:55.537 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 12:09:55.537 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 12:09:55.537 DEBUG 31544 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 12:09:55.551 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:09:55.551 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 12:09:55.551 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:09:55.551 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:09:55.647 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 12:09:55.647 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 12:09:55.647 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:09:55.647 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:09:55.647 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:09:55.647 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:09:55.647  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:09:55.647  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:09:55.647  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:09:55.649  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:09:55.649  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:09:55.649  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:09:55.649  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:09:55.649 DEBUG 31544 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:09:55.649 DEBUG 31544 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:09:55.649 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:09:55.649 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:09:55.650 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 12:09:55.650  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:09:55.650 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:09:55.650  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:09:55.650 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:09:55.650 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 12:09:55.650 DEBUG 31544 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:09:55.650 DEBUG 31544 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 12:09:55.650 DEBUG 31544 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:09:55.651 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:09:55.651 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 12:09:55.651 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 12:09:55.651  INFO 31544 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 12:09:55.651 DEBUG 31544 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 12:09:55.651 DEBUG 31544 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 12:09:55.655 DEBUG 31544 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 12:09:55.656 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:09:55.656 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 12:09:55.656 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:09:55.657 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:09:55.676 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:09:55.683 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:09:55.684 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:09:55.684 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:09:55.685 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:09:55.691 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=8, pending=0, completed=8, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 12:09:55.693 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:09:55.693 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:09:56.018 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 12:09:56.018 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:09:56.019  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:09:56.020  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:09:56.020  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:09:56.020 DEBUG 31544 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:09:56.021 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:09:56.021 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 12:09:56.021 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 12:09:56.021 DEBUG 31544 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 12:09:56.022  INFO 31544 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 12:09:56.022 DEBUG 31544 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 12:09:56.026 DEBUG 31544 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 12:09:56.028 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:09:56.028 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 12:09:56.029 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:09:56.029 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:10:02.085 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:10:02.086 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:10:02.086  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:10:02.088  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:10:02.088  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:10:02.088 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:10:02.088 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 12:10:02.088 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:10:02.089 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 12:10:02.089 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:10:02.098 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:10:02.098 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 12:10:02.099 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:10:02.099 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:10:02.680 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:10:02.680 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:10:02.680  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:10:02.680  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:10:02.680  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:10:02.680 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:10:02.680 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:10:02.680 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:10:02.680 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:10:02.686 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:10:02.714 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:10:02.714 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:10:02.714 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:10:02.714 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:10:02.940 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:10:02.941 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:10:02.941  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:10:02.943  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:10:02.943  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:10:02.943 DEBUG 31544 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:10:02.944 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:10:02.944 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:10:02.944 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:10:02.945 DEBUG 31544 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:10:02.976 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:10:02.977 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:10:02.977 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:10:02.977 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:10:11.358 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-07 12:10:11.358 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:10:11.359  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:10:11.361  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:10:11.361  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:10:11.361 DEBUG 31544 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:10:11.361 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-07 12:10:11.361 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-07 12:10:11.361 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-07 12:10:11.361 DEBUG 31544 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitorRecordsPageable(String, String, String, LocalDateTime, LocalDateTime, int, int, String[])
2025-05-07 12:10:11.374 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:10:11.374 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing com.hotel.entity.VisitorRecord instances]
2025-05-07 12:10:11.423 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:10:11.423 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:10:11.661 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/count/today
2025-05-07 12:10:11.661 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:10:11.662  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:10:11.664  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:10:11.664  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:10:11.664 DEBUG 31544 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:10:11.664 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/count/today] with attributes [authenticated]
2025-05-07 12:10:11.664 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/count/today
2025-05-07 12:10:11.665 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/count/today", parameters={}
2025-05-07 12:10:11.665 DEBUG 31544 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#countTodayVisitors()
2025-05-07 12:10:11.675 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:10:11.675 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [0]
2025-05-07 12:10:11.675 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:10:11.675 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:10:17.731 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 12:10:17.731 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 12:10:17.731 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:10:17.731 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:10:17.732  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:10:17.732  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:10:17.734  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:10:17.734  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:10:17.734  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:10:17.734  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:10:17.735 DEBUG 31544 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:10:17.735 DEBUG 31544 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:10:17.735 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:10:17.735 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 12:10:17.735 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 12:10:17.735 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 12:10:17.735 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 12:10:17.735 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 12:10:17.737 DEBUG 31544 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 12:10:17.737 DEBUG 31544 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 12:10:17.737  INFO 31544 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 12:10:17.738 DEBUG 31544 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 12:10:17.752 DEBUG 31544 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=29, TotalPages=3
2025-05-07 12:10:17.752 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:10:17.752 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 12:10:17.753 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:10:17.753 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:10:17.754 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:10:17.754 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 12:10:17.755 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:10:17.755 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:10:17.917 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 12:10:17.917 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:10:17.917 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 12:10:17.917 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:10:17.917 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:10:17.917 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:10:17.918  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:10:17.918  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:10:17.919  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:10:17.920  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:10:17.920  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:10:17.920  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:10:17.920  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:10:17.920 DEBUG 31544 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:10:17.920 DEBUG 31544 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:10:17.920  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:10:17.920  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:10:17.920 DEBUG 31544 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:10:17.920 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:10:17.920 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:10:17.921 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:10:17.921 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 12:10:17.921 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:10:17.921 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:10:17.921 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 12:10:17.921 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 12:10:17.921 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 12:10:17.921 DEBUG 31544 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:10:17.921 DEBUG 31544 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 12:10:17.921 DEBUG 31544 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 12:10:17.922  INFO 31544 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 12:10:17.922 DEBUG 31544 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 12:10:17.926 DEBUG 31544 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 12:10:17.927 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:10:17.928 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 12:10:17.929 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:10:17.929 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:10:17.933 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:10:17.947 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=8, pending=0, completed=8, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 12:10:17.948 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:10:17.948 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:10:17.961 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:10:17.962 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:10:17.962 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:10:17.962 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:10:18.005 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 12:10:18.005 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:10:18.005  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:10:18.008  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:10:18.008  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:10:18.008 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:10:18.008 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:10:18.008 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 12:10:18.009 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 12:10:18.009 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 12:10:18.010  INFO 31544 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 12:10:18.010 DEBUG 31544 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 12:10:18.019 DEBUG 31544 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 12:10:18.021 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:10:18.021 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 12:10:18.022 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:10:18.023 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:10:24.337 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/4
2025-05-07 12:10:24.337 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:10:24.337  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:10:24.337  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:10:24.337  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:10:24.337 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:10:24.337 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/4] with attributes [authenticated]
2025-05-07 12:10:24.337 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/4
2025-05-07 12:10:24.347 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/4", parameters={}
2025-05-07 12:10:24.347 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 12:10:24.347 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:10:24.347 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.0小时, roomNumber=204, cleaner=清洁人员, startTime=2025-05-07T11:25:48,  (truncated)...]
2025-05-07 12:10:24.347 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:10:24.357 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:10:26.262 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:10:26.262 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:10:26.264  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:10:26.267  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:10:26.267  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:10:26.267 DEBUG 31544 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:10:26.268 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:10:26.268 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:10:26.268 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:10:26.268 DEBUG 31544 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:10:26.285 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:10:26.285 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=5, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:10:26.285 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:10:26.285 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:10:27.047 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:10:27.047 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:10:27.047  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:10:27.047  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:10:27.047  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:10:27.047 DEBUG 31544 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:10:27.047 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:10:27.047 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:10:27.047 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:10:27.047 DEBUG 31544 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:10:27.067 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:10:27.067 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=5, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:10:27.067 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:10:27.067 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:10:27.197 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:10:27.197 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:10:27.197  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:10:27.197  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:10:27.197  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:10:27.197 DEBUG 31544 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:10:27.197 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:10:27.197 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:10:27.207 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:10:27.207 DEBUG 31544 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:10:27.217 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:10:27.217 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=5, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:10:27.217 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:10:27.217 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:10:27.359 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:10:27.359 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:10:27.359  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:10:27.359  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:10:27.359  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:10:27.359 DEBUG 31544 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:10:27.359 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:10:27.359 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:10:27.359 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:10:27.359 DEBUG 31544 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:10:27.377 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:10:27.377 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=5, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:10:27.379 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:10:27.379 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:11:43.124 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:11:43.124 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:11:43.134  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:11:43.134  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:11:43.134  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:11:43.134 DEBUG 31544 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:11:43.134 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:11:43.134 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:11:43.134 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:11:43.134 DEBUG 31544 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:11:43.162 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:11:43.162 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=5, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:11:43.163 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:11:43.164 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:11:45.716 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:11:45.716 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:11:45.717  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:11:45.719  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:11:45.720  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:11:45.720 DEBUG 31544 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:11:45.720 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:11:45.720 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:11:45.720 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:11:45.720 DEBUG 31544 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:11:45.737 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:11:45.738 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=5, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:11:45.739 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:11:45.739 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:11:46.538 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:11:46.538 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:11:46.538  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:11:46.540  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:11:46.541  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:11:46.541 DEBUG 31544 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:11:46.542 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:11:46.542 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:11:46.543 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:11:46.543 DEBUG 31544 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:11:46.561 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:11:46.561 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=5, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:11:46.562 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:11:46.562 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:11:47.334 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 12:11:47.334 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:11:47.334  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:11:47.336  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:11:47.336  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:11:47.336 DEBUG 31544 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:11:47.337 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 12:11:47.337 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 12:11:47.338 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 12:11:47.338 DEBUG 31544 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 12:11:47.339  INFO 31544 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:11:47.343  INFO 31544 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 12:11:47.345  INFO 31544 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:11:47.356  INFO 31544 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 为房间 412 创建了清洁任务，分配给清洁员: 清洁人员
2025-05-07 12:11:47.356  INFO 31544 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 1 个新任务
2025-05-07 12:11:47.367 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:11:47.367 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=1, currentPage=0, content=[Task(id=12, roomNumber=412, roomType=行 (truncated)...]
2025-05-07 12:11:47.368 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:11:47.368 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:11:47.440 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 12:11:47.440 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:11:47.441  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:11:47.443  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:11:47.443  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:11:47.443 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:11:47.444 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 12:11:47.444 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 12:11:47.444 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 12:11:47.444 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 12:11:47.445  INFO 31544 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:11:47.448  INFO 31544 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 12:11:47.450  INFO 31544 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:11:47.453  INFO 31544 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 房间 412 已存在未完成的清洁任务，跳过任务创建
2025-05-07 12:11:47.453  INFO 31544 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 12:11:47.459 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:11:47.459 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 12:11:47.460 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:11:47.460 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:11:50.249 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/12/start
2025-05-07 12:11:50.249 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:11:50.249  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:11:50.249  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:11:50.249  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:11:50.249 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:11:50.249 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/12/start] with attributes [authenticated]
2025-05-07 12:11:50.249 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/12/start
2025-05-07 12:11:50.249 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/12/start", parameters={}
2025-05-07 12:11:50.255 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#startTask(Long)
2025-05-07 12:11:50.269 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:11:50.269 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Task(id=12, roomNumber=412, roomType=行政套房, cleaner=清洁人员, priority=medium, status=processing, expecte (truncated)...]
2025-05-07 12:11:50.269 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:11:50.269 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:11:53.269 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/12/complete
2025-05-07 12:11:53.270 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:11:53.270  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:11:53.271  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:11:53.272  INFO 31544 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:11:53.272 DEBUG 31544 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:11:53.272 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/12/complete] with attributes [authenticated]
2025-05-07 12:11:53.272 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/12/complete
2025-05-07 12:11:53.272 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/12/complete", parameters={}
2025-05-07 12:11:53.272 DEBUG 31544 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#completeTask(Long, TaskDTO)
2025-05-07 12:11:53.273 DEBUG 31544 --- [http-nio-8090-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, expectedT (truncated)...]
2025-05-07 12:11:53.275  INFO 31544 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 任务完成：ID=12, 房间=412, 实际用时=30分钟
2025-05-07 12:11:53.278  INFO 31544 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 已更新房间状态：房间号=412, 状态=AVAILABLE, 需要清洁=false
2025-05-07 12:11:53.291  INFO 31544 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 已创建清洁记录：ID=6, 房间号=412, 保洁员=清洁人员
2025-05-07 12:11:53.296 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:11:53.296 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Task(id=12, roomNumber=412, roomType=行政套房, cleaner=清洁人员, priority=medium, status=completed, expected (truncated)...]
2025-05-07 12:11:53.296 DEBUG 31544 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:11:53.296 DEBUG 31544 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:11:53.329 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 12:11:53.329 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:11:53.329  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:11:53.335  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:11:53.335  INFO 31544 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:11:53.335 DEBUG 31544 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:11:53.335 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 12:11:53.335 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 12:11:53.335 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 12:11:53.335 DEBUG 31544 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 12:11:53.335  INFO 31544 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:11:53.335  INFO 31544 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 12:11:53.335  INFO 31544 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:11:53.335  INFO 31544 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 12:11:53.345 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:11:53.345 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=12, roomNumber=412, roomType=行 (truncated)...]
2025-05-07 12:11:53.345 DEBUG 31544 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:11:53.345 DEBUG 31544 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:11:53.368 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 12:11:53.368 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:11:53.368  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:11:53.368  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:11:53.368  INFO 31544 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:11:53.368 DEBUG 31544 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:11:53.368 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 12:11:53.368 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 12:11:53.368 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 12:11:53.368 DEBUG 31544 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 12:11:53.368  INFO 31544 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:11:53.368  INFO 31544 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 12:11:53.368  INFO 31544 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:11:53.368  INFO 31544 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 12:11:53.378 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:11:53.378 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 12:11:53.378 DEBUG 31544 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:11:53.378 DEBUG 31544 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:12:01.235 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:12:01.236 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:12:01.236  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:12:01.238  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:12:01.239  INFO 31544 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:12:01.239 DEBUG 31544 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:12:01.239 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:12:01.239 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:12:01.239 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:12:01.239 DEBUG 31544 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:12:01.264 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:12:01.264 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=6, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:12:01.264 DEBUG 31544 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:12:01.265 DEBUG 31544 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:12:08.750 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/6
2025-05-07 12:12:08.750 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:12:08.750  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:12:08.757  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:12:08.757  INFO 31544 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:12:08.757 DEBUG 31544 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:12:08.757 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/6] with attributes [authenticated]
2025-05-07 12:12:08.757 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/6
2025-05-07 12:12:08.757 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/6", parameters={}
2025-05-07 12:12:08.757 DEBUG 31544 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 12:12:08.760 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:12:08.760 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.0小时, roomNumber=412, cleaner=清洁人员, startTime=2025-05-07T12:11:50,  (truncated)...]
2025-05-07 12:12:08.760 DEBUG 31544 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:12:08.760 DEBUG 31544 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:16:43.114 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:16:43.114 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:16:43.116  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:16:43.118  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:16:43.118  INFO 31544 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:16:43.118 DEBUG 31544 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:16:43.118 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:16:43.118 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:16:43.118 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:16:43.118 DEBUG 31544 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:16:43.135 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:16:43.135 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=6, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:16:43.135 DEBUG 31544 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:16:43.135 DEBUG 31544 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:16:48.018 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:16:48.022 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:16:48.026  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:16:48.030  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:16:48.030  INFO 31544 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:16:48.030 DEBUG 31544 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:16:48.030 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:16:48.030 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:16:48.030 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:16:48.030 DEBUG 31544 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:16:48.046 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:16:48.046 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=6, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:16:48.046 DEBUG 31544 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:16:48.046 DEBUG 31544 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:17:48.099 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:17:48.099 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:17:48.103  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:17:48.103  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:17:48.103  INFO 31544 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:17:48.103 DEBUG 31544 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:17:48.103 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:17:48.103 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:17:48.103 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:17:48.103 DEBUG 31544 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:17:48.123 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:17:48.123 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=6, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:17:48.123 DEBUG 31544 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:17:48.124 DEBUG 31544 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:17:49.159 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 12:17:49.159 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:17:49.160  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:17:49.162  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:17:49.163  INFO 31544 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:17:49.163 DEBUG 31544 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:17:49.163 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 12:17:49.163 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 12:17:49.164 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 12:17:49.164 DEBUG 31544 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 12:17:49.165  INFO 31544 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:17:49.167  INFO 31544 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 12:17:49.167  INFO 31544 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:17:49.167  INFO 31544 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 12:17:49.175 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:17:49.175 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=12, roomNumber=412, roomType=行 (truncated)...]
2025-05-07 12:17:49.176 DEBUG 31544 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:17:49.176 DEBUG 31544 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:17:49.259 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 12:17:49.259 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:17:49.259  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:17:49.261  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:17:49.262  INFO 31544 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:17:49.262 DEBUG 31544 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:17:49.262 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 12:17:49.263 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 12:17:49.263 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 12:17:49.263 DEBUG 31544 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 12:17:49.263  INFO 31544 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:17:49.264  INFO 31544 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 12:17:49.265  INFO 31544 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:17:49.265  INFO 31544 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 12:17:49.271 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:17:49.271 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 12:17:49.272 DEBUG 31544 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:17:49.272 DEBUG 31544 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:17:56.812  INFO 31544 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 12:17:56.815  INFO 31544 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 12:17:56.822  INFO 31544 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 12:18:03.615  INFO 15032 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 15032 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 12:18:03.615 DEBUG 15032 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 12:18:03.615  INFO 15032 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 12:18:04.641  INFO 15032 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 12:18:04.908  INFO 15032 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 254 ms. Found 19 JPA repository interfaces.
2025-05-07 12:18:05.466  INFO 15032 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 12:18:05.468  INFO 15032 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 12:18:05.468  INFO 15032 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 12:18:05.469  INFO 15032 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 12:18:05.475  INFO 15032 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 12:18:05.487  INFO 15032 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 12:18:05.487  INFO 15032 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 12:18:05.652  INFO 15032 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 12:18:05.652  INFO 15032 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1986 ms
2025-05-07 12:18:05.828  INFO 15032 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 12:18:05.885  INFO 15032 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 12:18:06.055  INFO 15032 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 12:18:06.187  INFO 15032 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 12:18:06.572  INFO 15032 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 12:18:06.593  INFO 15032 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 12:18:07.856  INFO 15032 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 12:18:07.864  INFO 15032 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 12:18:08.361 DEBUG 15032 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 12:18:08.361 DEBUG 15032 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 12:18:09.217 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 12:18:09.225 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 12:18:09.225 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 12:18:09.225 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 12:18:09.225 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 12:18:09.225 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 12:18:09.225 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 12:18:09.225 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 12:18:09.225 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 12:18:09.225 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 12:18:09.225 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 12:18:09.225 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 12:18:09.225 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 12:18:09.225 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 12:18:09.225 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 12:18:09.225 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 12:18:09.225 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 12:18:09.225 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 12:18:09.229 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 12:18:09.233 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 12:18:09.233 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 12:18:09.233 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 12:18:09.233 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 12:18:09.233 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 12:18:09.233 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 12:18:09.233 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 12:18:09.233 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 12:18:09.233 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 12:18:09.233 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 12:18:09.233 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 12:18:09.233 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 12:18:09.233 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 12:18:09.233 DEBUG 15032 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 12:18:09.237  INFO 15032 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5a106b26, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@445d878c, org.springframework.security.web.context.SecurityContextPersistenceFilter@65528bcf, org.springframework.security.web.header.HeaderWriterFilter@329a27ae, org.springframework.web.filter.CorsFilter@4bc39640, org.springframework.security.web.authentication.logout.LogoutFilter@22decfa2, com.hotel.config.JwtAuthenticationFilter@c555e1e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@ee7a538, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c045627, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16eca98a, org.springframework.security.web.session.SessionManagementFilter@3c3a767, org.springframework.security.web.access.ExceptionTranslationFilter@58ca1cad, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4dfe56dc]
2025-05-07 12:18:09.283  WARN 15032 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 12:18:09.413 DEBUG 15032 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 12:18:09.433  INFO 15032 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 12:18:09.500 DEBUG 15032 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 12:18:09.504 DEBUG 15032 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 12:18:09.520 DEBUG 15032 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 12:18:09.528 DEBUG 15032 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 12:18:09.693  INFO 15032 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 12:18:09.710  INFO 15032 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.559 seconds (JVM running for 7.438)
2025-05-07 12:21:48.995  INFO 15032 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 12:21:48.995  INFO 15032 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 12:21:48.996 DEBUG 15032 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 12:21:48.996 DEBUG 15032 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 12:21:48.996 DEBUG 15032 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 12:21:48.997 DEBUG 15032 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7af5ce66
2025-05-07 12:21:48.997 DEBUG 15032 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@c4bb119
2025-05-07 12:21:48.998 DEBUG 15032 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 12:21:48.998  INFO 15032 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-07 12:21:49.021 DEBUG 15032 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:21:49.030 DEBUG 15032 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:21:49.119  INFO 15032 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:21:49.124  INFO 15032 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:21:49.124  INFO 15032 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:21:49.127 DEBUG 15032 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:21:49.137 DEBUG 15032 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:21:49.137 DEBUG 15032 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:21:49.140 DEBUG 15032 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:21:49.147 DEBUG 15032 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:21:49.309 DEBUG 15032 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:21:49.310 DEBUG 15032 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=6, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:21:49.343 DEBUG 15032 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:21:49.345 DEBUG 15032 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:24:20.983 DEBUG 15032 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:24:20.983 DEBUG 15032 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:24:20.983  INFO 15032 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:24:20.990  INFO 15032 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:24:20.990  INFO 15032 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:24:20.990 DEBUG 15032 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:24:20.990 DEBUG 15032 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:24:20.990 DEBUG 15032 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:24:20.990 DEBUG 15032 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:24:20.990 DEBUG 15032 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:24:21.045 DEBUG 15032 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:24:21.045 DEBUG 15032 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=6, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:24:21.046 DEBUG 15032 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:24:21.046 DEBUG 15032 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:25:28.804 DEBUG 15032 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:25:28.805 DEBUG 15032 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:25:28.806  INFO 15032 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:25:28.811  INFO 15032 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:25:28.812  INFO 15032 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:25:28.812 DEBUG 15032 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:25:28.812 DEBUG 15032 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:25:28.812 DEBUG 15032 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:25:28.813 DEBUG 15032 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:25:28.813 DEBUG 15032 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:25:28.855 DEBUG 15032 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:25:28.855 DEBUG 15032 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=6, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:25:28.857 DEBUG 15032 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:25:28.857 DEBUG 15032 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:25:30.300 DEBUG 15032 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/6
2025-05-07 12:25:30.301 DEBUG 15032 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:25:30.303  INFO 15032 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:25:30.306  INFO 15032 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:25:30.306  INFO 15032 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:25:30.307 DEBUG 15032 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:25:30.308 DEBUG 15032 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/6] with attributes [authenticated]
2025-05-07 12:25:30.308 DEBUG 15032 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/6
2025-05-07 12:25:30.308 DEBUG 15032 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/6", parameters={}
2025-05-07 12:25:30.309 DEBUG 15032 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 12:25:30.325 DEBUG 15032 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:25:30.325 DEBUG 15032 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.0小时, roomNumber=412, cleaner=清洁人员, startTime=2025-05-07T12:11:50,  (truncated)...]
2025-05-07 12:25:30.327 DEBUG 15032 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:25:30.327 DEBUG 15032 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:25:43.549 DEBUG 15032 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 12:25:43.550 DEBUG 15032 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:25:43.551  INFO 15032 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:25:43.556  INFO 15032 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:25:43.556  INFO 15032 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:25:43.556 DEBUG 15032 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:25:43.557 DEBUG 15032 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 12:25:43.558 DEBUG 15032 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 12:25:43.558 DEBUG 15032 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 12:25:43.558 DEBUG 15032 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 12:25:43.568  INFO 15032 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:25:43.576  INFO 15032 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 12:25:43.581  INFO 15032 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:25:43.581  INFO 15032 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 12:25:43.602 DEBUG 15032 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:25:43.614 DEBUG 15032 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=12, roomNumber=412, roomType=行 (truncated)...]
2025-05-07 12:25:43.666 DEBUG 15032 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:25:43.670 DEBUG 15032 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:25:43.698 DEBUG 15032 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 12:25:43.698 DEBUG 15032 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:25:43.698  INFO 15032 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:25:43.702  INFO 15032 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:25:43.702  INFO 15032 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:25:43.702 DEBUG 15032 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:25:43.702 DEBUG 15032 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 12:25:43.706 DEBUG 15032 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 12:25:43.706 DEBUG 15032 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 12:25:43.707 DEBUG 15032 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 12:25:43.707  INFO 15032 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:25:43.710  INFO 15032 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 12:25:43.710  INFO 15032 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:25:43.710  INFO 15032 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 12:25:43.722 DEBUG 15032 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:25:43.730 DEBUG 15032 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 12:25:43.738 DEBUG 15032 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:25:43.738 DEBUG 15032 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:25:46.361 DEBUG 15032 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/2
2025-05-07 12:25:46.361 DEBUG 15032 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:25:46.363  INFO 15032 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:25:46.368  INFO 15032 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:25:46.368  INFO 15032 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:25:46.368 DEBUG 15032 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:25:46.369 DEBUG 15032 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/2] with attributes [authenticated]
2025-05-07 12:25:46.369 DEBUG 15032 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/2
2025-05-07 12:25:46.369 DEBUG 15032 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/2", parameters={}
2025-05-07 12:25:46.370 DEBUG 15032 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 12:25:46.378 DEBUG 15032 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:25:46.378 DEBUG 15032 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=1.0小时, roomNumber=401, cleaner=清洁人员, startTime=2025-05-01T10:00, id= (truncated)...]
2025-05-07 12:25:46.382 DEBUG 15032 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:25:46.382 DEBUG 15032 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:25:57.553 DEBUG 15032 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records?status=COMPLETED
2025-05-07 12:25:57.553 DEBUG 15032 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:25:57.557  INFO 15032 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:25:57.557  INFO 15032 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:25:57.557  INFO 15032 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:25:57.557 DEBUG 15032 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:25:57.561 DEBUG 15032 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records?status=COMPLETED] with attributes [authenticated]
2025-05-07 12:25:57.561 DEBUG 15032 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records?status=COMPLETED
2025-05-07 12:25:57.561 DEBUG 15032 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records?status=COMPLETED", parameters={masked}
2025-05-07 12:25:57.561 DEBUG 15032 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:25:57.586 DEBUG 15032 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:25:57.586 DEBUG 15032 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=2, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:25:57.587 DEBUG 15032 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:25:57.587 DEBUG 15032 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:25:58.066 DEBUG 15032 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records?status=IN_PROGRESS
2025-05-07 12:25:58.066 DEBUG 15032 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:25:58.066  INFO 15032 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:25:58.070  INFO 15032 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:25:58.070  INFO 15032 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:25:58.070 DEBUG 15032 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:25:58.070 DEBUG 15032 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records?status=IN_PROGRESS] with attributes [authenticated]
2025-05-07 12:25:58.070 DEBUG 15032 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records?status=IN_PROGRESS
2025-05-07 12:25:58.070 DEBUG 15032 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records?status=IN_PROGRESS", parameters={masked}
2025-05-07 12:25:58.070 DEBUG 15032 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:25:58.086 DEBUG 15032 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:25:58.086 DEBUG 15032 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=1, records=[{duration=进行中, roomNumber=201, cleaner=清洁人员, startTime=2025-05-01T13:00, id=3, en (truncated)...]
2025-05-07 12:25:58.086 DEBUG 15032 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:25:58.086 DEBUG 15032 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:25:58.520 DEBUG 15032 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records?status=COMPLETED
2025-05-07 12:25:58.520 DEBUG 15032 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:25:58.520  INFO 15032 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:25:58.524  INFO 15032 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:25:58.524  INFO 15032 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:25:58.524 DEBUG 15032 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:25:58.524 DEBUG 15032 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records?status=COMPLETED] with attributes [authenticated]
2025-05-07 12:25:58.524 DEBUG 15032 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records?status=COMPLETED
2025-05-07 12:25:58.524 DEBUG 15032 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records?status=COMPLETED", parameters={masked}
2025-05-07 12:25:58.524 DEBUG 15032 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:25:58.544 DEBUG 15032 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:25:58.544 DEBUG 15032 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=2, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:25:58.544 DEBUG 15032 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:25:58.544 DEBUG 15032 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:25:59.222 DEBUG 15032 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records?status=IN_PROGRESS
2025-05-07 12:25:59.222 DEBUG 15032 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:25:59.223  INFO 15032 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:25:59.226  INFO 15032 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:25:59.227  INFO 15032 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:25:59.227 DEBUG 15032 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:25:59.227 DEBUG 15032 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records?status=IN_PROGRESS] with attributes [authenticated]
2025-05-07 12:25:59.227 DEBUG 15032 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records?status=IN_PROGRESS
2025-05-07 12:25:59.227 DEBUG 15032 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records?status=IN_PROGRESS", parameters={masked}
2025-05-07 12:25:59.227 DEBUG 15032 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:25:59.239 DEBUG 15032 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:25:59.240 DEBUG 15032 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=1, records=[{duration=进行中, roomNumber=201, cleaner=清洁人员, startTime=2025-05-01T13:00, id=3, en (truncated)...]
2025-05-07 12:25:59.241 DEBUG 15032 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:25:59.242 DEBUG 15032 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:25:59.926 DEBUG 15032 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:25:59.926 DEBUG 15032 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:25:59.930  INFO 15032 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:25:59.930  INFO 15032 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:25:59.930  INFO 15032 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:25:59.930 DEBUG 15032 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:25:59.934 DEBUG 15032 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:25:59.934 DEBUG 15032 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:25:59.934 DEBUG 15032 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:25:59.934 DEBUG 15032 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:25:59.967 DEBUG 15032 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:25:59.967 DEBUG 15032 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=6, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:25:59.967 DEBUG 15032 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:25:59.971 DEBUG 15032 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:26:25.220 DEBUG 15032 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/1
2025-05-07 12:26:25.220 DEBUG 15032 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:26:25.220  INFO 15032 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:26:25.224  INFO 15032 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:26:25.224  INFO 15032 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:26:25.224 DEBUG 15032 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:26:25.228 DEBUG 15032 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/1] with attributes [authenticated]
2025-05-07 12:26:25.228 DEBUG 15032 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/1
2025-05-07 12:26:25.228 DEBUG 15032 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/1", parameters={}
2025-05-07 12:26:25.228 DEBUG 15032 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 12:26:25.238 DEBUG 15032 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:26:25.239 DEBUG 15032 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id= (truncated)...]
2025-05-07 12:26:25.240 DEBUG 15032 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:26:25.240 DEBUG 15032 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:26:28.105 DEBUG 15032 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/6
2025-05-07 12:26:28.105 DEBUG 15032 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:26:28.105  INFO 15032 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:26:28.109  INFO 15032 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:26:28.109  INFO 15032 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:26:28.109 DEBUG 15032 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:26:28.109 DEBUG 15032 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/6] with attributes [authenticated]
2025-05-07 12:26:28.109 DEBUG 15032 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/6
2025-05-07 12:26:28.109 DEBUG 15032 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/6", parameters={}
2025-05-07 12:26:28.113 DEBUG 15032 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 12:26:28.121 DEBUG 15032 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:26:28.121 DEBUG 15032 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.0小时, roomNumber=412, cleaner=清洁人员, startTime=2025-05-07T12:11:50,  (truncated)...]
2025-05-07 12:26:28.121 DEBUG 15032 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:26:28.121 DEBUG 15032 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:29:20.692 DEBUG 15032 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:29:20.693 DEBUG 15032 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:29:20.694  INFO 15032 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:29:20.698  INFO 15032 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:29:20.698  INFO 15032 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:29:20.698 DEBUG 15032 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:29:20.699 DEBUG 15032 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:29:20.699 DEBUG 15032 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:29:20.699 DEBUG 15032 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:29:20.699 DEBUG 15032 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:29:20.736 DEBUG 15032 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:29:20.737 DEBUG 15032 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=6, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:29:20.738 DEBUG 15032 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:29:20.738 DEBUG 15032 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:29:26.122  INFO 15032 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 12:29:26.124  INFO 15032 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 12:29:26.130  INFO 15032 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 12:29:32.365  INFO 17844 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 17844 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 12:29:32.368 DEBUG 17844 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 12:29:32.368  INFO 17844 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 12:29:33.259  INFO 17844 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 12:29:33.448  INFO 17844 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 179 ms. Found 19 JPA repository interfaces.
2025-05-07 12:29:33.897  INFO 17844 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 12:29:33.901  INFO 17844 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 12:29:33.901  INFO 17844 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 12:29:33.901  INFO 17844 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 12:29:33.905  INFO 17844 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 12:29:33.913  INFO 17844 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 12:29:33.913  INFO 17844 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 12:29:34.034  INFO 17844 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 12:29:34.034  INFO 17844 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1622 ms
2025-05-07 12:29:34.189  INFO 17844 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 12:29:34.234  INFO 17844 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 12:29:34.388  INFO 17844 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 12:29:34.481  INFO 17844 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 12:29:34.762  INFO 17844 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 12:29:34.774  INFO 17844 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 12:29:35.898  INFO 17844 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 12:29:35.906  INFO 17844 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 12:29:36.334 DEBUG 17844 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 12:29:36.334 DEBUG 17844 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 12:29:37.257 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 12:29:37.261 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 12:29:37.265 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 12:29:37.265 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 12:29:37.265 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 12:29:37.265 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 12:29:37.265 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 12:29:37.265 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 12:29:37.265 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 12:29:37.265 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 12:29:37.265 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 12:29:37.265 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 12:29:37.265 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 12:29:37.265 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 12:29:37.265 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 12:29:37.265 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 12:29:37.265 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 12:29:37.269 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 12:29:37.269 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 12:29:37.269 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 12:29:37.269 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 12:29:37.269 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 12:29:37.269 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 12:29:37.269 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 12:29:37.269 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 12:29:37.269 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 12:29:37.269 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 12:29:37.269 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 12:29:37.269 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 12:29:37.269 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 12:29:37.269 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 12:29:37.269 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 12:29:37.269 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 12:29:37.269 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 12:29:37.269 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 12:29:37.269 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 12:29:37.273 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 12:29:37.273 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 12:29:37.273 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 12:29:37.273 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 12:29:37.273 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 12:29:37.273 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 12:29:37.273 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 12:29:37.273 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 12:29:37.273 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 12:29:37.273 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 12:29:37.273 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 12:29:37.273 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 12:29:37.273 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 12:29:37.273 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 12:29:37.277 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 12:29:37.277 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 12:29:37.277 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 12:29:37.277 DEBUG 17844 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 12:29:37.281  INFO 17844 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62ad5f35, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e6ad84c, org.springframework.security.web.context.SecurityContextPersistenceFilter@1e387974, org.springframework.security.web.header.HeaderWriterFilter@7baea18b, org.springframework.web.filter.CorsFilter@3cfab56d, org.springframework.security.web.authentication.logout.LogoutFilter@137db13f, com.hotel.config.JwtAuthenticationFilter@50d6af87, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c6557da, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@642b2176, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4117e0c9, org.springframework.security.web.session.SessionManagementFilter@3941bdd7, org.springframework.security.web.access.ExceptionTranslationFilter@4d50f682, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@e9947af]
2025-05-07 12:29:37.327  WARN 17844 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 12:29:37.471 DEBUG 17844 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 12:29:37.487  INFO 17844 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 12:29:37.566 DEBUG 17844 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 12:29:37.571 DEBUG 17844 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 12:29:37.585 DEBUG 17844 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 12:29:37.589 DEBUG 17844 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 12:29:37.770  INFO 17844 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 12:29:37.785  INFO 17844 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 5.835 seconds (JVM running for 6.643)
2025-05-07 12:30:01.829  INFO 17844 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 12:30:01.830  INFO 17844 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 12:30:01.830 DEBUG 17844 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 12:30:01.830 DEBUG 17844 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 12:30:01.830 DEBUG 17844 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 12:30:01.832 DEBUG 17844 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@64c79b69
2025-05-07 12:30:01.833 DEBUG 17844 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@225b460a
2025-05-07 12:30:01.833 DEBUG 17844 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 12:30:01.834  INFO 17844 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-07 12:30:01.847 DEBUG 17844 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:30:01.853 DEBUG 17844 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:30:01.924  INFO 17844 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:30:01.927  INFO 17844 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:30:01.927  INFO 17844 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:30:01.930 DEBUG 17844 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:30:01.937 DEBUG 17844 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:30:01.938 DEBUG 17844 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:30:01.939 DEBUG 17844 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:30:01.944 DEBUG 17844 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:30:02.063 DEBUG 17844 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:30:02.064 DEBUG 17844 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=6, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:30:02.085 DEBUG 17844 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:30:02.086 DEBUG 17844 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:30:06.287 DEBUG 17844 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:30:06.288 DEBUG 17844 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:30:06.289  INFO 17844 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:30:06.293  INFO 17844 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:30:06.293  INFO 17844 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:30:06.293 DEBUG 17844 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:30:06.293 DEBUG 17844 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:30:06.294 DEBUG 17844 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:30:06.294 DEBUG 17844 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:30:06.295 DEBUG 17844 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:30:06.339 DEBUG 17844 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:30:06.340 DEBUG 17844 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=6, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:30:06.342 DEBUG 17844 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:30:06.342 DEBUG 17844 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:30:21.822 DEBUG 17844 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:30:21.823 DEBUG 17844 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:30:21.824  INFO 17844 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:30:21.829  INFO 17844 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:30:21.829  INFO 17844 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:30:21.829 DEBUG 17844 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:30:21.830 DEBUG 17844 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:30:21.830 DEBUG 17844 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:30:21.830 DEBUG 17844 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:30:21.831 DEBUG 17844 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:30:21.871 DEBUG 17844 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:30:21.872 DEBUG 17844 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=6, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:30:21.874 DEBUG 17844 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:30:21.874 DEBUG 17844 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:30:23.503 DEBUG 17844 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 12:30:23.503 DEBUG 17844 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:30:23.505  INFO 17844 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:30:23.508  INFO 17844 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:30:23.508  INFO 17844 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:30:23.509 DEBUG 17844 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:30:23.510 DEBUG 17844 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 12:30:23.510 DEBUG 17844 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 12:30:23.510 DEBUG 17844 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 12:30:23.510 DEBUG 17844 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 12:30:23.517  INFO 17844 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:30:23.524  INFO 17844 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 12:30:23.530  INFO 17844 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:30:23.530  INFO 17844 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 12:30:23.551 DEBUG 17844 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:30:23.562 DEBUG 17844 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=12, roomNumber=412, roomType=行 (truncated)...]
2025-05-07 12:30:23.600 DEBUG 17844 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:30:23.600 DEBUG 17844 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:30:23.637 DEBUG 17844 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 12:30:23.637 DEBUG 17844 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:30:23.639  INFO 17844 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:30:23.642  INFO 17844 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:30:23.642  INFO 17844 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:30:23.642 DEBUG 17844 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:30:23.643 DEBUG 17844 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 12:30:23.643 DEBUG 17844 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 12:30:23.643 DEBUG 17844 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 12:30:23.644 DEBUG 17844 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 12:30:23.645  INFO 17844 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:30:23.647  INFO 17844 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 12:30:23.649  INFO 17844 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:30:23.649  INFO 17844 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 12:30:23.661 DEBUG 17844 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:30:23.673 DEBUG 17844 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 12:30:23.681 DEBUG 17844 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:30:23.681 DEBUG 17844 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:30:36.989 DEBUG 17844 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:30:36.990 DEBUG 17844 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:30:36.992  INFO 17844 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:30:36.996  INFO 17844 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:30:36.996  INFO 17844 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:30:36.996 DEBUG 17844 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:30:36.997 DEBUG 17844 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:30:36.997 DEBUG 17844 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:30:36.997 DEBUG 17844 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:30:36.997 DEBUG 17844 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:30:37.040 DEBUG 17844 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:30:37.040 DEBUG 17844 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=6, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:30:37.043 DEBUG 17844 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:30:37.043 DEBUG 17844 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:30:38.272 DEBUG 17844 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/6
2025-05-07 12:30:38.273 DEBUG 17844 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:30:38.275  INFO 17844 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:30:38.279  INFO 17844 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:30:38.280  INFO 17844 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:30:38.280 DEBUG 17844 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:30:38.280 DEBUG 17844 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/6] with attributes [authenticated]
2025-05-07 12:30:38.280 DEBUG 17844 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/6
2025-05-07 12:30:38.281 DEBUG 17844 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/6", parameters={}
2025-05-07 12:30:38.282 DEBUG 17844 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 12:30:38.294 DEBUG 17844 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:30:38.295 DEBUG 17844 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.0小时, roomNumber=412, cleaner=清洁人员, startTime=2025-05-07T12:11:50,  (truncated)...]
2025-05-07 12:30:38.296 DEBUG 17844 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:30:38.296 DEBUG 17844 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:30:43.480 DEBUG 17844 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:30:43.480 DEBUG 17844 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:30:43.482  INFO 17844 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:30:43.486  INFO 17844 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:30:43.486  INFO 17844 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:30:43.487 DEBUG 17844 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:30:43.488 DEBUG 17844 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:30:43.488 DEBUG 17844 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:30:43.488 DEBUG 17844 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:30:43.488 DEBUG 17844 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:30:43.531 DEBUG 17844 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:30:43.531 DEBUG 17844 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=6, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:30:43.533 DEBUG 17844 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:30:43.534 DEBUG 17844 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:32:59.883  INFO 17844 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 12:32:59.883  INFO 17844 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 12:32:59.913  INFO 17844 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 12:33:06.387  INFO 30788 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 30788 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 12:33:06.389 DEBUG 30788 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 12:33:06.390  INFO 30788 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 12:33:07.171  INFO 30788 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 12:33:07.370  INFO 30788 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 186 ms. Found 19 JPA repository interfaces.
2025-05-07 12:33:07.867  INFO 30788 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 12:33:07.867  INFO 30788 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 12:33:07.867  INFO 30788 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 12:33:07.867  INFO 30788 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 12:33:07.877  INFO 30788 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 12:33:07.887  INFO 30788 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 12:33:07.887  INFO 30788 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 12:33:08.007  INFO 30788 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 12:33:08.007  INFO 30788 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1582 ms
2025-05-07 12:33:08.159  INFO 30788 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 12:33:08.199  INFO 30788 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 12:33:08.317  INFO 30788 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 12:33:08.397  INFO 30788 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 12:33:08.640  INFO 30788 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 12:33:08.650  INFO 30788 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 12:33:09.679  INFO 30788 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 12:33:09.682  INFO 30788 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 12:33:10.114 DEBUG 30788 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 12:33:10.114 DEBUG 30788 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 12:33:10.919 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 12:33:10.929 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 12:33:10.929 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 12:33:10.929 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 12:33:10.929 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 12:33:10.929 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 12:33:10.929 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 12:33:10.929 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 12:33:10.929 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 12:33:10.929 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 12:33:10.929 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 12:33:10.929 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 12:33:10.929 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 12:33:10.929 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 12:33:10.929 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 12:33:10.929 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 12:33:10.929 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 12:33:10.929 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 12:33:10.929 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 12:33:10.929 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 12:33:10.929 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 12:33:10.929 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 12:33:10.939 DEBUG 30788 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 12:33:10.949  INFO 30788 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@70a8654, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@671c71e8, org.springframework.security.web.context.SecurityContextPersistenceFilter@247877f3, org.springframework.security.web.header.HeaderWriterFilter@65fa1cd, org.springframework.web.filter.CorsFilter@5fe4848, org.springframework.security.web.authentication.logout.LogoutFilter@7c045627, com.hotel.config.JwtAuthenticationFilter@6de4071b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@80081d7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57d0c779, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d5176d6, org.springframework.security.web.session.SessionManagementFilter@79e33802, org.springframework.security.web.access.ExceptionTranslationFilter@4924ad09, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4c90fc3b]
2025-05-07 12:33:10.989  WARN 30788 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 12:33:11.102 DEBUG 30788 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 12:33:11.121  INFO 30788 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 12:33:11.181 DEBUG 30788 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 12:33:11.181 DEBUG 30788 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 12:33:11.201 DEBUG 30788 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 12:33:11.211 DEBUG 30788 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 12:33:11.371  INFO 30788 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 12:33:11.381  INFO 30788 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 5.466 seconds (JVM running for 6.239)
2025-05-07 12:34:25.822  INFO 30788 --- [http-nio-8090-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 12:34:25.822  INFO 30788 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 12:34:25.822 DEBUG 30788 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 12:34:25.822 DEBUG 30788 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 12:34:25.822 DEBUG 30788 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 12:34:25.822 DEBUG 30788 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@163cd4a6
2025-05-07 12:34:25.822 DEBUG 30788 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@a486851
2025-05-07 12:34:25.822 DEBUG 30788 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 12:34:25.822  INFO 30788 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-05-07 12:34:25.842 DEBUG 30788 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:34:25.842 DEBUG 30788 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:34:25.902  INFO 30788 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:34:25.902  INFO 30788 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:34:25.902  INFO 30788 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:34:25.902 DEBUG 30788 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:34:25.912 DEBUG 30788 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:34:25.912 DEBUG 30788 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:34:25.912 DEBUG 30788 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:34:25.922 DEBUG 30788 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:34:25.986 ERROR 30788 --- [http-nio-8090-exec-5] c.h.controller.CleaningRecordController  : 获取清洁记录失败

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.Room.RoomStatus.available; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.Room.RoomStatus.available
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source) ~[na:na]
	at com.hotel.service.impl.CleaningServiceImpl.getAllCleaningRecords(CleaningServiceImpl.java:170) ~[classes/:na]
	at com.hotel.service.impl.CleaningServiceImpl$$FastClassBySpringCGLIB$$81ac99ee.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.CleaningServiceImpl$$EnhancerBySpringCGLIB$$93cce4bf.getAllCleaningRecords(<generated>) ~[classes/:na]
	at com.hotel.controller.CleaningRecordController.getCleaningRecords(CleaningRecordController.java:64) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.Room.RoomStatus.available
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.Loadable.hydrate(Loadable.java:94) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.plan.exec.process.internal.EntityReferenceInitializerImpl.loadFromResultSet(EntityReferenceInitializerImpl.java:342) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.plan.exec.process.internal.EntityReferenceInitializerImpl.hydrateEntityState(EntityReferenceInitializerImpl.java:269) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.plan.exec.process.internal.AbstractRowReader.readRow(AbstractRowReader.java:80) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.plan.exec.internal.EntityLoadQueryDetails$EntityLoaderRowReader.readRow(EntityLoadQueryDetails.java:288) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.plan.exec.process.internal.ResultSetProcessorImpl.extractRows(ResultSetProcessorImpl.java:157) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.plan.exec.process.internal.ResultSetProcessorImpl.extractResults(ResultSetProcessorImpl.java:94) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:105) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:285) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:4521) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4511) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:571) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:539) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:208) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:327) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:108) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:74) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1231) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1096) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:706) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EntityType.resolve(EntityType.java:465) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.ManyToOneType.resolve(ManyToOneType.java:265) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad$EntityResolver.lambda$static$0(TwoPhaseLoad.java:576) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntityEntryLoadedState(TwoPhaseLoad.java:221) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:155) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:126) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1201) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:1009) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:427) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-07 12:34:26.002 DEBUG 30788 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:34:26.003 DEBUG 30788 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=获取清洁记录失败: No enum constant com.hotel.entity.Room.RoomStatus.available; neste (truncated)...]
2025-05-07 12:34:26.011 DEBUG 30788 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-07 12:34:26.011 DEBUG 30788 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:34:32.513 DEBUG 30788 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 12:34:32.513 DEBUG 30788 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:34:32.513  INFO 30788 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:34:32.523  INFO 30788 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:34:32.523  INFO 30788 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:34:32.523 DEBUG 30788 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:34:32.523 DEBUG 30788 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 12:34:32.523 DEBUG 30788 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 12:34:32.523 DEBUG 30788 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 12:34:32.523 DEBUG 30788 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 12:34:32.534  INFO 30788 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:34:32.534  INFO 30788 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 12:34:32.543  INFO 30788 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:34:32.543  INFO 30788 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 12:34:32.568 DEBUG 30788 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:34:32.578 DEBUG 30788 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=12, roomNumber=412, roomType=行 (truncated)...]
2025-05-07 12:34:32.614 DEBUG 30788 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:34:32.624 DEBUG 30788 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:34:32.644 DEBUG 30788 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 12:34:32.644 DEBUG 30788 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:34:32.655  INFO 30788 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:34:32.659  INFO 30788 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:34:32.659  INFO 30788 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:34:32.659 DEBUG 30788 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:34:32.660 DEBUG 30788 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 12:34:32.660 DEBUG 30788 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 12:34:32.660 DEBUG 30788 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 12:34:32.660 DEBUG 30788 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 12:34:32.661  INFO 30788 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:34:32.663  INFO 30788 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 12:34:32.665  INFO 30788 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:34:32.665  INFO 30788 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 12:34:32.666 DEBUG 30788 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:34:32.676 DEBUG 30788 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 12:34:32.686 DEBUG 30788 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:34:32.686 DEBUG 30788 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:34:51.316 DEBUG 30788 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:34:51.317 DEBUG 30788 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:34:51.319  INFO 30788 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:34:51.324  INFO 30788 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:34:51.325  INFO 30788 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:34:51.325 DEBUG 30788 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:34:51.326 DEBUG 30788 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:34:51.326 DEBUG 30788 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:34:51.326 DEBUG 30788 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:34:51.327 DEBUG 30788 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:34:51.343 ERROR 30788 --- [http-nio-8090-exec-4] c.h.controller.CleaningRecordController  : 获取清洁记录失败

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.Room.RoomStatus.available; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.Room.RoomStatus.available
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source) ~[na:na]
	at com.hotel.service.impl.CleaningServiceImpl.getAllCleaningRecords(CleaningServiceImpl.java:170) ~[classes/:na]
	at com.hotel.service.impl.CleaningServiceImpl$$FastClassBySpringCGLIB$$81ac99ee.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.CleaningServiceImpl$$EnhancerBySpringCGLIB$$93cce4bf.getAllCleaningRecords(<generated>) ~[classes/:na]
	at com.hotel.controller.CleaningRecordController.getCleaningRecords(CleaningRecordController.java:64) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.Room.RoomStatus.available
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.Loadable.hydrate(Loadable.java:94) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.plan.exec.process.internal.EntityReferenceInitializerImpl.loadFromResultSet(EntityReferenceInitializerImpl.java:342) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.plan.exec.process.internal.EntityReferenceInitializerImpl.hydrateEntityState(EntityReferenceInitializerImpl.java:269) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.plan.exec.process.internal.AbstractRowReader.readRow(AbstractRowReader.java:80) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.plan.exec.internal.EntityLoadQueryDetails$EntityLoaderRowReader.readRow(EntityLoadQueryDetails.java:288) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.plan.exec.process.internal.ResultSetProcessorImpl.extractRows(ResultSetProcessorImpl.java:157) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.plan.exec.process.internal.ResultSetProcessorImpl.extractResults(ResultSetProcessorImpl.java:94) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.plan.exec.internal.AbstractLoadPlanBasedLoader.executeLoad(AbstractLoadPlanBasedLoader.java:105) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.entity.plan.AbstractLoadPlanBasedEntityLoader.load(AbstractLoadPlanBasedEntityLoader.java:285) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.doLoad(AbstractEntityPersister.java:4521) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.load(AbstractEntityPersister.java:4511) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.loadFromDatasource(DefaultLoadEventListener.java:571) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.doLoad(DefaultLoadEventListener.java:539) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:208) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:327) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:108) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:74) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:118) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.fireLoadNoChecks(SessionImpl.java:1231) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1096) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:706) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EntityType.resolve(EntityType.java:465) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.ManyToOneType.resolve(ManyToOneType.java:265) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad$EntityResolver.lambda$static$0(TwoPhaseLoad.java:576) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntityEntryLoadedState(TwoPhaseLoad.java:221) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:155) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.internal.TwoPhaseLoad.initializeEntity(TwoPhaseLoad.java:126) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.initializeEntitiesAndCollections(Loader.java:1201) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:1009) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:427) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-07 12:34:51.346 DEBUG 30788 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:34:51.347 DEBUG 30788 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=获取清洁记录失败: No enum constant com.hotel.entity.Room.RoomStatus.available; neste (truncated)...]
2025-05-07 12:34:51.349 DEBUG 30788 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-07 12:34:51.349 DEBUG 30788 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:34:55.545  INFO 30788 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 12:34:55.552  INFO 30788 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 12:34:55.580  INFO 30788 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 12:35:03.542  INFO 24012 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 24012 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 12:35:03.542 DEBUG 24012 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 12:35:03.552  INFO 24012 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 12:35:04.590  INFO 24012 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 12:35:04.863  INFO 24012 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 261 ms. Found 19 JPA repository interfaces.
2025-05-07 12:35:05.449  INFO 24012 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 12:35:05.449  INFO 24012 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 12:35:05.449  INFO 24012 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 12:35:05.449  INFO 24012 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 12:35:05.459  INFO 24012 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 12:35:05.469  INFO 24012 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 12:35:05.469  INFO 24012 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 12:35:05.613  INFO 24012 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 12:35:05.613  INFO 24012 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1997 ms
2025-05-07 12:35:05.785  INFO 24012 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 12:35:05.825  INFO 24012 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 12:35:05.965  INFO 24012 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 12:35:06.057  INFO 24012 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 12:35:06.329  INFO 24012 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 12:35:06.349  INFO 24012 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 12:35:07.679  INFO 24012 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 12:35:07.691  INFO 24012 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 12:35:08.256 DEBUG 24012 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 12:35:08.256 DEBUG 24012 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 12:35:09.127 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 12:35:09.133 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 12:35:09.134 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 12:35:09.134 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 12:35:09.134 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 12:35:09.134 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 12:35:09.134 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 12:35:09.134 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 12:35:09.135 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 12:35:09.135 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 12:35:09.135 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 12:35:09.135 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 12:35:09.135 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 12:35:09.136 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 12:35:09.136 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 12:35:09.136 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 12:35:09.137 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 12:35:09.137 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 12:35:09.137 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 12:35:09.137 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 12:35:09.137 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 12:35:09.137 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 12:35:09.137 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 12:35:09.137 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 12:35:09.138 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 12:35:09.138 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 12:35:09.138 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 12:35:09.138 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 12:35:09.138 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 12:35:09.138 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 12:35:09.138 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 12:35:09.138 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 12:35:09.138 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 12:35:09.139 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 12:35:09.139 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 12:35:09.139 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 12:35:09.140 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 12:35:09.140 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 12:35:09.140 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 12:35:09.140 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 12:35:09.141 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 12:35:09.141 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 12:35:09.141 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 12:35:09.142 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 12:35:09.142 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 12:35:09.142 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 12:35:09.142 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 12:35:09.143 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 12:35:09.143 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 12:35:09.143 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 12:35:09.143 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 12:35:09.143 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 12:35:09.143 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 12:35:09.143 DEBUG 24012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 12:35:09.149  INFO 24012 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@121b7a95, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7aa62a90, org.springframework.security.web.context.SecurityContextPersistenceFilter@4250b0c1, org.springframework.security.web.header.HeaderWriterFilter@3c3a767, org.springframework.web.filter.CorsFilter@18d09283, org.springframework.security.web.authentication.logout.LogoutFilter@76929266, com.hotel.config.JwtAuthenticationFilter@55a07f97, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24caa80, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3420547, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@23ee31b8, org.springframework.security.web.session.SessionManagementFilter@1488d1c, org.springframework.security.web.access.ExceptionTranslationFilter@7a0eb939, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@60c68c7b]
2025-05-07 12:35:09.197  WARN 24012 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 12:35:09.315 DEBUG 24012 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 12:35:09.337  INFO 24012 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 12:35:09.401 DEBUG 24012 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 12:35:09.405 DEBUG 24012 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 12:35:09.420 DEBUG 24012 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 12:35:09.428 DEBUG 24012 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 12:35:09.616  INFO 24012 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 12:35:09.632  INFO 24012 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.779 seconds (JVM running for 7.674)
2025-05-07 12:35:13.029  INFO 24012 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 12:35:13.029  INFO 24012 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 12:35:13.030 DEBUG 24012 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 12:35:13.030 DEBUG 24012 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 12:35:13.030 DEBUG 24012 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 12:35:13.031 DEBUG 24012 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@763a72da
2025-05-07 12:35:13.031 DEBUG 24012 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2f6f2d91
2025-05-07 12:35:13.032 DEBUG 24012 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 12:35:13.032  INFO 24012 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-07 12:35:13.046 DEBUG 24012 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 12:35:13.050 DEBUG 24012 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:35:13.113  INFO 24012 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:35:13.117  INFO 24012 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:35:13.118  INFO 24012 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:35:13.120 DEBUG 24012 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:35:13.129 DEBUG 24012 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 12:35:13.130 DEBUG 24012 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 12:35:13.132 DEBUG 24012 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 12:35:13.138 DEBUG 24012 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 12:35:13.168  INFO 24012 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:35:13.174  INFO 24012 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 12:35:13.179  INFO 24012 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:35:13.180  INFO 24012 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 12:35:13.221 DEBUG 24012 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:35:13.230 DEBUG 24012 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=12, roomNumber=412, roomType=行 (truncated)...]
2025-05-07 12:35:13.286 DEBUG 24012 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:35:13.288 DEBUG 24012 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:35:13.316 DEBUG 24012 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 12:35:13.317 DEBUG 24012 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:35:13.319  INFO 24012 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:35:13.323  INFO 24012 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:35:13.323  INFO 24012 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:35:13.323 DEBUG 24012 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:35:13.324 DEBUG 24012 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 12:35:13.324 DEBUG 24012 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 12:35:13.324 DEBUG 24012 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 12:35:13.325 DEBUG 24012 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 12:35:13.325  INFO 24012 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:35:13.327  INFO 24012 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 12:35:13.329  INFO 24012 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:35:13.330  INFO 24012 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 12:35:13.341 DEBUG 24012 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:35:13.348 DEBUG 24012 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 12:35:13.355 DEBUG 24012 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:35:13.355 DEBUG 24012 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:35:14.271 DEBUG 24012 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:35:14.272 DEBUG 24012 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:35:14.273  INFO 24012 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:35:14.278  INFO 24012 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:35:14.278  INFO 24012 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:35:14.278 DEBUG 24012 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:35:14.278 DEBUG 24012 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:35:14.278 DEBUG 24012 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:35:14.279 DEBUG 24012 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:35:14.279 DEBUG 24012 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:35:14.367 DEBUG 24012 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:35:14.368 DEBUG 24012 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=6, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:35:14.369 DEBUG 24012 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:35:14.370 DEBUG 24012 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:35:33.977 DEBUG 24012 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/6
2025-05-07 12:35:33.978 DEBUG 24012 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:35:33.979  INFO 24012 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:35:33.979  INFO 24012 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:35:33.979  INFO 24012 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:35:33.979 DEBUG 24012 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:35:33.979 DEBUG 24012 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/6] with attributes [authenticated]
2025-05-07 12:35:33.979 DEBUG 24012 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/6
2025-05-07 12:35:33.979 DEBUG 24012 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/6", parameters={}
2025-05-07 12:35:33.979 DEBUG 24012 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 12:35:33.999 DEBUG 24012 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:35:33.999 DEBUG 24012 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.0小时, roomNumber=412, cleaner=清洁人员, startTime=2025-05-07T12:11:50,  (truncated)...]
2025-05-07 12:35:33.999 DEBUG 24012 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:35:33.999 DEBUG 24012 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:38:50.896  INFO 24012 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 12:38:50.896  INFO 24012 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 12:38:50.906  INFO 24012 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 12:38:56.905  INFO 26320 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 26320 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 12:38:56.913 DEBUG 26320 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 12:38:56.914  INFO 26320 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 12:38:57.877  INFO 26320 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 12:38:58.063  INFO 26320 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 178 ms. Found 19 JPA repository interfaces.
2025-05-07 12:38:58.583  INFO 26320 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 12:38:58.583  INFO 26320 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 12:38:58.583  INFO 26320 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 12:38:58.583  INFO 26320 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 12:38:58.583  INFO 26320 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 12:38:58.593  INFO 26320 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 12:38:58.593  INFO 26320 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 12:38:58.722  INFO 26320 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 12:38:58.722  INFO 26320 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1760 ms
2025-05-07 12:38:58.883  INFO 26320 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 12:38:58.931  INFO 26320 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 12:38:59.080  INFO 26320 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 12:38:59.176  INFO 26320 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 12:38:59.405  INFO 26320 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 12:38:59.415  INFO 26320 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 12:39:00.435  INFO 26320 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 12:39:00.439  INFO 26320 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 12:39:00.855 DEBUG 26320 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 12:39:00.855 DEBUG 26320 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 12:39:01.671 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 12:39:01.671 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 12:39:01.671 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 12:39:01.671 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 12:39:01.671 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 12:39:01.671 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 12:39:01.671 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 12:39:01.671 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 12:39:01.671 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 12:39:01.671 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 12:39:01.671 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 12:39:01.671 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 12:39:01.671 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 12:39:01.671 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 12:39:01.681 DEBUG 26320 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 12:39:01.691  INFO 26320 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@23ee31b8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5fc42998, org.springframework.security.web.context.SecurityContextPersistenceFilter@24caa80, org.springframework.security.web.header.HeaderWriterFilter@31887330, org.springframework.web.filter.CorsFilter@151f1734, org.springframework.security.web.authentication.logout.LogoutFilter@1a13b5c1, com.hotel.config.JwtAuthenticationFilter@31daf094, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@44d36b56, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ce1cc03, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16422f27, org.springframework.security.web.session.SessionManagementFilter@578ac0be, org.springframework.security.web.access.ExceptionTranslationFilter@209f0986, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7a79a5d6]
2025-05-07 12:39:01.734  WARN 26320 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 12:39:01.857 DEBUG 26320 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 12:39:01.878  INFO 26320 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 12:39:01.932 DEBUG 26320 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 12:39:01.942 DEBUG 26320 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 12:39:01.952 DEBUG 26320 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 12:39:01.962 DEBUG 26320 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 12:39:02.122  INFO 26320 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 12:39:02.132  INFO 26320 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 5.819 seconds (JVM running for 6.635)
2025-05-07 12:39:23.181  INFO 26320 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 12:39:23.182  INFO 26320 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 12:39:23.183 DEBUG 26320 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 12:39:23.183 DEBUG 26320 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 12:39:23.183 DEBUG 26320 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 12:39:23.184 DEBUG 26320 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2643c33f
2025-05-07 12:39:23.184 DEBUG 26320 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1ef8f7e6
2025-05-07 12:39:23.184 DEBUG 26320 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 12:39:23.185  INFO 26320 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-07 12:39:23.198 DEBUG 26320 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:39:23.202 DEBUG 26320 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:39:23.265  INFO 26320 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:39:23.270  INFO 26320 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:39:23.270  INFO 26320 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:39:23.273 DEBUG 26320 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:39:23.284 DEBUG 26320 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:39:23.284 DEBUG 26320 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:39:23.287 DEBUG 26320 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:39:23.291 DEBUG 26320 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:39:23.422 DEBUG 26320 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:39:23.422 DEBUG 26320 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=6, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:39:23.443 DEBUG 26320 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:39:23.444 DEBUG 26320 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:39:28.942  INFO 26320 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 12:39:28.942  INFO 26320 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 12:39:28.952  INFO 26320 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 12:39:32.425  INFO 18448 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 18448 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 12:39:32.427 DEBUG 18448 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 12:39:32.427  INFO 18448 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 12:39:33.375  INFO 18448 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 12:39:33.577  INFO 18448 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 199 ms. Found 19 JPA repository interfaces.
2025-05-07 12:39:34.065  INFO 18448 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 12:39:34.065  INFO 18448 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 12:39:34.065  INFO 18448 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 12:39:34.065  INFO 18448 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 12:39:34.070  INFO 18448 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 12:39:34.075  INFO 18448 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 12:39:34.075  INFO 18448 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 12:39:34.205  INFO 18448 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 12:39:34.205  INFO 18448 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1730 ms
2025-05-07 12:39:34.361  INFO 18448 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 12:39:34.432  INFO 18448 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 12:39:34.604  INFO 18448 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 12:39:34.714  INFO 18448 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 12:39:34.987  INFO 18448 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 12:39:34.997  INFO 18448 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 12:39:36.406  INFO 18448 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 12:39:36.416  INFO 18448 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 12:39:36.831 DEBUG 18448 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 12:39:36.831 DEBUG 18448 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 12:39:37.711 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 12:39:37.711 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 12:39:37.711 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 12:39:37.711 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 12:39:37.711 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 12:39:37.711 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 12:39:37.711 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 12:39:37.711 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 12:39:37.711 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 12:39:37.711 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 12:39:37.711 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 12:39:37.711 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 12:39:37.711 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 12:39:37.711 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 12:39:37.721 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 12:39:37.722 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 12:39:37.722 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 12:39:37.722 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 12:39:37.722 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 12:39:37.723 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 12:39:37.723 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 12:39:37.723 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 12:39:37.723 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 12:39:37.723 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 12:39:37.724 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 12:39:37.724 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 12:39:37.724 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 12:39:37.724 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 12:39:37.724 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 12:39:37.725 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 12:39:37.725 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 12:39:37.725 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 12:39:37.725 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 12:39:37.725 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 12:39:37.725 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 12:39:37.725 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 12:39:37.727 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 12:39:37.727 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 12:39:37.727 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 12:39:37.727 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 12:39:37.728 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 12:39:37.728 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 12:39:37.728 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 12:39:37.728 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 12:39:37.728 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 12:39:37.728 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 12:39:37.728 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 12:39:37.729 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 12:39:37.729 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 12:39:37.729 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 12:39:37.729 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 12:39:37.729 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 12:39:37.729 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 12:39:37.729 DEBUG 18448 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 12:39:37.735  INFO 18448 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@bb3487c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@650997b0, org.springframework.security.web.context.SecurityContextPersistenceFilter@19ce597a, org.springframework.security.web.header.HeaderWriterFilter@4a83d61c, org.springframework.web.filter.CorsFilter@12c30824, org.springframework.security.web.authentication.logout.LogoutFilter@37289e90, com.hotel.config.JwtAuthenticationFilter@5cd6a827, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@20e25bf7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9fc125b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7337f87e, org.springframework.security.web.session.SessionManagementFilter@2a9fd482, org.springframework.security.web.access.ExceptionTranslationFilter@6e4ac3f5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@65013d71]
2025-05-07 12:39:37.773  WARN 18448 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 12:39:37.883 DEBUG 18448 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 12:39:37.903  INFO 18448 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 12:39:37.963 DEBUG 18448 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 12:39:37.973 DEBUG 18448 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 12:39:37.983 DEBUG 18448 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 12:39:37.993 DEBUG 18448 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 12:39:38.151  INFO 18448 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 12:39:38.161  INFO 18448 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.219 seconds (JVM running for 7.016)
2025-05-07 12:39:40.008  INFO 18448 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 12:39:40.008  INFO 18448 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 12:39:40.008 DEBUG 18448 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 12:39:40.008 DEBUG 18448 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 12:39:40.008 DEBUG 18448 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 12:39:40.008 DEBUG 18448 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@62d4dac4
2025-05-07 12:39:40.008 DEBUG 18448 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@25ee3cd6
2025-05-07 12:39:40.008 DEBUG 18448 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 12:39:40.008  INFO 18448 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-05-07 12:39:40.018 DEBUG 18448 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/6
2025-05-07 12:39:40.028 DEBUG 18448 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:39:40.078  INFO 18448 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:39:40.078  INFO 18448 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:39:40.078  INFO 18448 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:39:40.078 DEBUG 18448 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:39:40.088 DEBUG 18448 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/6] with attributes [authenticated]
2025-05-07 12:39:40.088 DEBUG 18448 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/6
2025-05-07 12:39:40.096 DEBUG 18448 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/6", parameters={}
2025-05-07 12:39:40.098 DEBUG 18448 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 12:39:40.192 DEBUG 18448 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:39:40.192 DEBUG 18448 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.0小时, roomNumber=412, cleaner=清洁人员, startTime=2025-05-07T12:11:50,  (truncated)...]
2025-05-07 12:39:40.212 DEBUG 18448 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:39:40.212 DEBUG 18448 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:39:42.872 DEBUG 18448 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:39:42.873 DEBUG 18448 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:39:42.875  INFO 18448 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:39:42.878  INFO 18448 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:39:42.878  INFO 18448 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:39:42.878 DEBUG 18448 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:39:42.878 DEBUG 18448 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:39:42.879 DEBUG 18448 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:39:42.879 DEBUG 18448 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:39:42.880 DEBUG 18448 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:39:42.928 DEBUG 18448 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:39:42.928 DEBUG 18448 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=6, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:39:42.932 DEBUG 18448 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:39:42.932 DEBUG 18448 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:39:44.124 DEBUG 18448 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/3
2025-05-07 12:39:44.125 DEBUG 18448 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:39:44.126  INFO 18448 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:39:44.131  INFO 18448 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:39:44.131  INFO 18448 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:39:44.131 DEBUG 18448 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:39:44.131 DEBUG 18448 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/3] with attributes [authenticated]
2025-05-07 12:39:44.131 DEBUG 18448 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/3
2025-05-07 12:39:44.131 DEBUG 18448 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/3", parameters={}
2025-05-07 12:39:44.132 DEBUG 18448 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 12:39:44.140 DEBUG 18448 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:39:44.140 DEBUG 18448 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=进行中, roomNumber=201, cleaner=清洁人员, startTime=2025-05-01T13:00, id=3, (truncated)...]
2025-05-07 12:39:44.141 DEBUG 18448 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:39:44.141 DEBUG 18448 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:39:46.714 DEBUG 18448 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/6
2025-05-07 12:39:46.715 DEBUG 18448 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:39:46.717  INFO 18448 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:39:46.720  INFO 18448 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:39:46.720  INFO 18448 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:39:46.721 DEBUG 18448 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:39:46.721 DEBUG 18448 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/6] with attributes [authenticated]
2025-05-07 12:39:46.721 DEBUG 18448 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/6
2025-05-07 12:39:46.722 DEBUG 18448 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/6", parameters={}
2025-05-07 12:39:46.722 DEBUG 18448 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 12:39:46.734 DEBUG 18448 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:39:46.734 DEBUG 18448 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.0小时, roomNumber=412, cleaner=清洁人员, startTime=2025-05-07T12:11:50,  (truncated)...]
2025-05-07 12:39:46.736 DEBUG 18448 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:39:46.736 DEBUG 18448 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:39:57.424  INFO 18448 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 12:39:57.424  INFO 18448 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 12:39:57.433  INFO 18448 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 12:42:24.380  INFO 6044 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 6044 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 12:42:24.382 DEBUG 6044 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 12:42:24.382  INFO 6044 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 12:42:25.228  INFO 6044 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 12:42:25.450  INFO 6044 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 212 ms. Found 19 JPA repository interfaces.
2025-05-07 12:42:26.034  INFO 6044 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 12:42:26.035  INFO 6044 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 12:42:26.036  INFO 6044 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 12:42:26.036  INFO 6044 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 12:42:26.103  INFO 6044 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 12:42:26.113  INFO 6044 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 12:42:26.113  INFO 6044 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 12:42:26.248  INFO 6044 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 12:42:26.248  INFO 6044 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1825 ms
2025-05-07 12:42:26.411  INFO 6044 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 12:42:26.465  INFO 6044 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 12:42:26.629  INFO 6044 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 12:42:26.732  INFO 6044 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 12:42:27.046  INFO 6044 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 12:42:27.060  INFO 6044 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 12:42:28.218  INFO 6044 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 12:42:28.229  INFO 6044 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 12:42:28.762 DEBUG 6044 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 12:42:28.762 DEBUG 6044 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 12:42:29.676 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 12:42:29.683 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 12:42:29.683 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 12:42:29.683 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 12:42:29.684 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 12:42:29.684 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 12:42:29.684 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 12:42:29.685 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 12:42:29.685 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 12:42:29.685 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 12:42:29.686 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 12:42:29.686 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 12:42:29.686 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 12:42:29.686 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 12:42:29.686 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 12:42:29.687 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 12:42:29.687 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 12:42:29.687 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 12:42:29.688 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 12:42:29.688 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 12:42:29.688 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 12:42:29.688 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 12:42:29.688 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 12:42:29.688 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 12:42:29.688 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 12:42:29.688 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 12:42:29.688 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 12:42:29.689 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 12:42:29.689 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 12:42:29.689 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 12:42:29.689 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 12:42:29.689 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 12:42:29.689 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 12:42:29.689 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 12:42:29.689 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 12:42:29.689 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 12:42:29.691 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 12:42:29.691 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 12:42:29.691 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 12:42:29.691 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 12:42:29.692 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 12:42:29.692 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 12:42:29.693 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 12:42:29.693 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 12:42:29.693 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 12:42:29.693 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 12:42:29.693 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 12:42:29.694 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 12:42:29.694 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 12:42:29.694 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 12:42:29.694 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 12:42:29.694 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 12:42:29.694 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 12:42:29.694 DEBUG 6044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 12:42:29.700  INFO 6044 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@34128fed, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10efb806, org.springframework.security.web.context.SecurityContextPersistenceFilter@59f5a376, org.springframework.security.web.header.HeaderWriterFilter@57d0c779, org.springframework.web.filter.CorsFilter@5ae67f05, org.springframework.security.web.authentication.logout.LogoutFilter@25502b1c, com.hotel.config.JwtAuthenticationFilter@3398ed12, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1dfd3635, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e14559e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4dfe56dc, org.springframework.security.web.session.SessionManagementFilter@f69e35a, org.springframework.security.web.access.ExceptionTranslationFilter@1cc878e6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@f9919a2]
2025-05-07 12:42:29.750  WARN 6044 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 12:42:29.876 DEBUG 6044 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 12:42:29.896  INFO 6044 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 12:42:29.960 DEBUG 6044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 12:42:29.966 DEBUG 6044 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 12:42:29.983 DEBUG 6044 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 12:42:29.991 DEBUG 6044 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 12:42:30.176  INFO 6044 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 12:42:30.186  INFO 6044 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.296 seconds (JVM running for 7.373)
2025-05-07 12:42:59.477  INFO 6044 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 12:42:59.477  INFO 6044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 12:42:59.477 DEBUG 6044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 12:42:59.477 DEBUG 6044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 12:42:59.477 DEBUG 6044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 12:42:59.478 DEBUG 6044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@68fec965
2025-05-07 12:42:59.479 DEBUG 6044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1c0ec502
2025-05-07 12:42:59.479 DEBUG 6044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 12:42:59.480  INFO 6044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-07 12:42:59.495 DEBUG 6044 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:42:59.499 DEBUG 6044 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:42:59.580  INFO 6044 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:42:59.584  INFO 6044 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:42:59.584  INFO 6044 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:42:59.586 DEBUG 6044 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:42:59.594 DEBUG 6044 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:42:59.594 DEBUG 6044 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:42:59.597 DEBUG 6044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:42:59.601 DEBUG 6044 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:42:59.745 DEBUG 6044 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:42:59.746 DEBUG 6044 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=6, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:42:59.769 DEBUG 6044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:42:59.772 DEBUG 6044 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:43:01.191 DEBUG 6044 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records/6
2025-05-07 12:43:01.192 DEBUG 6044 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:43:01.193  INFO 6044 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:43:01.197  INFO 6044 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:43:01.197  INFO 6044 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:43:01.197 DEBUG 6044 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:43:01.198 DEBUG 6044 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records/6] with attributes [authenticated]
2025-05-07 12:43:01.198 DEBUG 6044 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records/6
2025-05-07 12:43:01.198 DEBUG 6044 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records/6", parameters={}
2025-05-07 12:43:01.199 DEBUG 6044 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecordById(Long)
2025-05-07 12:43:01.211 DEBUG 6044 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:43:01.212 DEBUG 6044 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=true, record={duration=0.0小时, roomNumber=412, cleaner=清洁人员, startTime=2025-05-07T12:11:50,  (truncated)...]
2025-05-07 12:43:01.213 DEBUG 6044 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:43:01.213 DEBUG 6044 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:45:42.423  INFO 6044 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 12:45:42.433  INFO 6044 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 12:45:42.443  INFO 6044 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 12:45:51.894  INFO 32496 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 32496 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 12:45:51.897 DEBUG 32496 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 12:45:51.898  INFO 32496 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 12:45:53.482  INFO 32496 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 12:45:53.700  INFO 32496 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 205 ms. Found 19 JPA repository interfaces.
2025-05-07 12:45:54.418  INFO 32496 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 12:45:54.420  INFO 32496 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 12:45:54.420  INFO 32496 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 12:45:54.420  INFO 32496 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 12:45:54.429  INFO 32496 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 12:45:54.439  INFO 32496 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 12:45:54.441  INFO 32496 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 12:45:54.580  INFO 32496 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 12:45:54.580  INFO 32496 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2599 ms
2025-05-07 12:45:54.765  INFO 32496 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 12:45:54.821  INFO 32496 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 12:45:54.998  INFO 32496 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 12:45:55.102  INFO 32496 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 12:45:55.415  INFO 32496 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 12:45:55.434  INFO 32496 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 12:45:56.787  INFO 32496 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 12:45:56.797  INFO 32496 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 12:45:57.311 DEBUG 32496 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 12:45:57.312 DEBUG 32496 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 12:45:58.458 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 12:45:58.465 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 12:45:58.466 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 12:45:58.466 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 12:45:58.467 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 12:45:58.467 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 12:45:58.467 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 12:45:58.467 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 12:45:58.469 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 12:45:58.469 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 12:45:58.470 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 12:45:58.470 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 12:45:58.470 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 12:45:58.471 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 12:45:58.471 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 12:45:58.471 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 12:45:58.472 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 12:45:58.472 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 12:45:58.472 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 12:45:58.472 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 12:45:58.472 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 12:45:58.472 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 12:45:58.472 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 12:45:58.472 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 12:45:58.473 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 12:45:58.473 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 12:45:58.473 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 12:45:58.473 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 12:45:58.473 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 12:45:58.474 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 12:45:58.474 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 12:45:58.474 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 12:45:58.474 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 12:45:58.474 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 12:45:58.474 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 12:45:58.474 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 12:45:58.477 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 12:45:58.478 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 12:45:58.478 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 12:45:58.478 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 12:45:58.478 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 12:45:58.478 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 12:45:58.478 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 12:45:58.478 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 12:45:58.478 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 12:45:58.478 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 12:45:58.478 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 12:45:58.478 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 12:45:58.478 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 12:45:58.478 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 12:45:58.478 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 12:45:58.478 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 12:45:58.478 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 12:45:58.478 DEBUG 32496 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 12:45:58.488  INFO 32496 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@fdfd984, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45e49d3d, org.springframework.security.web.context.SecurityContextPersistenceFilter@66011fbc, org.springframework.security.web.header.HeaderWriterFilter@20331c8e, org.springframework.web.filter.CorsFilter@5248c05a, org.springframework.security.web.authentication.logout.LogoutFilter@5e445ffe, com.hotel.config.JwtAuthenticationFilter@62c1259f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@757ad227, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4b718c45, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@72e5206, org.springframework.security.web.session.SessionManagementFilter@3985175e, org.springframework.security.web.access.ExceptionTranslationFilter@1a899fcd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4f2a0909]
2025-05-07 12:45:58.566  WARN 32496 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 12:45:58.728 DEBUG 32496 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 12:45:58.752  INFO 32496 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 12:45:58.821 DEBUG 32496 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 12:45:58.830 DEBUG 32496 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 12:45:58.849 DEBUG 32496 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 12:45:58.863 DEBUG 32496 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 12:45:59.088  INFO 32496 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 12:45:59.096  INFO 32496 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.918 seconds (JVM running for 9.471)
2025-05-07 12:46:02.715  INFO 32496 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 12:46:02.715  INFO 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 12:46:02.715 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 12:46:02.715 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 12:46:02.715 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 12:46:02.715 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@baf87a5
2025-05-07 12:46:02.715 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3ce067bd
2025-05-07 12:46:02.715 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 12:46:02.715  INFO 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-05-07 12:46:02.725 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 12:46:02.735 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:02.784  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:02.784  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:02.784  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:02.784 DEBUG 32496 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:02.794 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 12:46:02.794 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 12:46:02.794 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 12:46:02.804 DEBUG 32496 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 12:46:02.913 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:02.913 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 12:46:02.943 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:02.943 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:02.954 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:46:02.954 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:02.954  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:02.962  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:02.963  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:02.963 DEBUG 32496 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:02.966 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:46:02.966 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:46:02.967 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:46:02.967 DEBUG 32496 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:46:03.053 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:03.058 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:46:03.060 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:03.061 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:05.797 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 12:46:05.797 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:05.798  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:05.802  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:05.803  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:05.803 DEBUG 32496 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:05.804 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&size=200&page=0] with attributes [authenticated]
2025-05-07 12:46:05.804 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 12:46:05.804 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&size=200&page=0", parameters={masked}
2025-05-07 12:46:05.805 DEBUG 32496 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:46:05.851 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:05.851 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 12:46:05.854 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:05.854 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:11.453 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0
2025-05-07 12:46:11.453 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:11.454  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:11.458  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:11.458  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:11.458 DEBUG 32496 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:11.459 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0] with attributes [authenticated]
2025-05-07 12:46:11.459 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0
2025-05-07 12:46:11.459 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0", parameters={masked}
2025-05-07 12:46:11.460 DEBUG 32496 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:46:11.469 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:11.469 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=401, id=2, floor=4, roomType={name=行政套房, id= (truncated)...]
2025-05-07 12:46:11.469 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:11.469 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:29.658 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0
2025-05-07 12:46:29.659 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:29.660  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:29.663  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:29.663  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:29.663 DEBUG 32496 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:29.664 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0] with attributes [authenticated]
2025-05-07 12:46:29.666 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0
2025-05-07 12:46:29.666 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0", parameters={masked}
2025-05-07 12:46:29.666 DEBUG 32496 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:46:29.672 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:29.672 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 12:46:29.677 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:29.677 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:33.072 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:46:33.072 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:33.073  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:33.076  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:33.076  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:33.076 DEBUG 32496 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:33.076 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:46:33.077 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:46:33.077 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:46:33.077 DEBUG 32496 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:46:33.111 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:33.111 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:46:33.112 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:33.112 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:35.533 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 12:46:35.533 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:35.545  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:35.548  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:35.548  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:35.548 DEBUG 32496 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:35.548 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:46:35.548 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 12:46:35.548 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 12:46:35.548 DEBUG 32496 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 12:46:35.595 DEBUG 32496 --- [http-nio-8090-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=10, roomNumber=null, roomType=null, guestName=afae (truncated)...]
2025-05-07 12:46:35.663  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.impl.CheckInServiceImpl  : 为直接入住创建临时预订: ID=30
2025-05-07 12:46:35.685  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.impl.CheckInServiceImpl  : 入住登记成功: ID=19, 入住单号=CI202505070009, 预订ID=30
2025-05-07 12:46:35.707 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:35.707 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=CheckInRecord(id=19, checkInNumber=CI202505070009, roomId=10, roomNumber=208, roomType=豪华大床房,  (truncated)...]
2025-05-07 12:46:35.720 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-07 12:46:35.721 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:35.801 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:46:35.801 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:35.801  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:35.801  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:35.801  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:35.801 DEBUG 32496 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:35.801 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:46:35.801 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:46:35.801 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:46:35.801 DEBUG 32496 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:46:35.854 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:35.854 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:46:35.854 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:35.854 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:36.949 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 12:46:36.949 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:36.950  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:36.952  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:36.952  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:36.952 DEBUG 32496 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:36.955 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 12:46:36.955 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 12:46:36.955 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 12:46:36.955 DEBUG 32496 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:46:36.963 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:36.963 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=208, id=10, floor=2, roomType={name=豪华大床房, i (truncated)...]
2025-05-07 12:46:36.965 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:36.965 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:38.804 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/reception/checkout/208
2025-05-07 12:46:38.804 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:38.809  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:38.810  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:38.810  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:38.810 DEBUG 32496 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:38.810 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reception/checkout/208] with attributes [authenticated]
2025-05-07 12:46:38.810 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/reception/checkout/208
2025-05-07 12:46:38.810 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/reception/checkout/208", parameters={}
2025-05-07 12:46:38.810 DEBUG 32496 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReceptionController#checkOut(String)
2025-05-07 12:46:38.831 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:38.831 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=退房成功，房间已标记为待清洁}]
2025-05-07 12:46:38.831 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:38.831 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:39.077 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:46:39.078 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:39.079  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:39.082  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:39.082  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:39.082 DEBUG 32496 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:39.082 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:46:39.082 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:46:39.082 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:46:39.082 DEBUG 32496 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:46:39.116 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:39.116 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:46:39.116 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:39.122 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:39.151 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 12:46:39.151 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:39.157  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:39.159  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:39.159  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:39.159 DEBUG 32496 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:39.159 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 12:46:39.159 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 12:46:39.159 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 12:46:39.159 DEBUG 32496 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:46:39.164 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:39.164 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=0, content=[], totalElements=0}]
2025-05-07 12:46:39.164 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:39.164 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:41.048 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:46:41.048 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:41.049  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:41.051  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:41.052  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:41.052 DEBUG 32496 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:41.052 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 12:46:41.052 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:46:41.052 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 12:46:41.053 DEBUG 32496 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:46:41.061 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:41.061 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 12:46:41.061 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:41.061 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:43.931 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 12:46:43.932 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:43.934  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:43.936  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:43.936  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:43.936 DEBUG 32496 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:43.938 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 12:46:43.938 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 12:46:43.938 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 12:46:43.938 DEBUG 32496 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 12:46:43.964 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:43.964 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 12:46:43.964 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:43.964 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:43.976 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:46:43.976 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:43.986  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:43.986  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:43.986  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:43.986 DEBUG 32496 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:43.992 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:46:43.992 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:46:43.992 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:46:43.993 DEBUG 32496 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:46:44.052 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:44.053 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:46:44.053 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:44.054 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:45.531 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:46:45.531 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:45.535  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:45.537  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:45.537  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:45.537 DEBUG 32496 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:45.538 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 12:46:45.538 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:46:45.538 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 12:46:45.539 DEBUG 32496 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:46:45.551 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:45.551 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 12:46:45.551 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:45.552 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:47.858 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 12:46:47.858 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:47.859  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:47.861  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:47.862  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:47.862 DEBUG 32496 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:47.862 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 12:46:47.862 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 12:46:47.862 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 12:46:47.862 DEBUG 32496 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 12:46:47.880 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:47.880 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 12:46:47.880 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:47.880 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:47.912 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:46:47.913 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:47.914  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:47.917  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:47.917  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:47.917 DEBUG 32496 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:47.918 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:46:47.918 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:46:47.918 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:46:47.918 DEBUG 32496 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:46:47.951 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:47.951 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:46:47.951 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:47.951 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:49.297 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:46:49.298 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:49.299  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:49.301  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:49.301  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:49.301 DEBUG 32496 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:49.301 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 12:46:49.301 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:46:49.302 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 12:46:49.302 DEBUG 32496 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:46:49.308 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:49.308 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 12:46:49.308 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:49.309 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:52.854 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 12:46:52.855 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:52.857  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:52.859  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:52.859  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:52.859 DEBUG 32496 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:52.859 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 12:46:52.860 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 12:46:52.860 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 12:46:52.860 DEBUG 32496 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 12:46:52.879 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:52.879 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 12:46:52.879 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:52.879 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:52.914 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:46:52.914 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:52.921  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:52.922  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:52.922  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:52.922 DEBUG 32496 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:52.922 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:46:52.922 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:46:52.922 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:46:52.922 DEBUG 32496 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:46:52.966 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:52.966 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:46:52.967 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:52.967 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:53.604 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:46:53.604 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:53.604  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:53.604  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:53.604  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:53.604 DEBUG 32496 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:53.604 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 12:46:53.604 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:46:53.604 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 12:46:53.604 DEBUG 32496 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:46:53.614 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:53.614 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 12:46:53.614 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:53.614 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:57.348 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 12:46:57.349 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:57.349 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 12:46:57.349 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:57.350  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:57.350  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:57.353  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:57.353  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:57.353  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:57.355  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:57.355 DEBUG 32496 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:57.355 DEBUG 32496 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:57.355 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 12:46:57.355 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:46:57.355 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 12:46:57.355 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 12:46:57.355 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 12:46:57.355 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 12:46:57.356 DEBUG 32496 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 12:46:57.356 DEBUG 32496 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 12:46:57.361  INFO 32496 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 12:46:57.361 DEBUG 32496 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 12:46:57.372 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:57.372 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 12:46:57.374 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:57.374 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:57.374 DEBUG 32496 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=30, TotalPages=3
2025-05-07 12:46:57.379 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:57.379 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 12:46:57.393 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:57.394 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:57.436 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:46:57.436 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:57.437  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:57.439  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:57.439  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:57.440 DEBUG 32496 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:57.440 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:46:57.440 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:46:57.440 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:46:57.441 DEBUG 32496 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:46:57.479 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:57.479 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:46:57.479 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:57.479 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:57.738 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 12:46:57.738 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 12:46:57.743 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:57.743 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:57.743  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:57.743  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:57.743  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:57.743  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:57.743  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:57.743  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:57.743 DEBUG 32496 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:57.743 DEBUG 32496 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:57.743 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:46:57.743 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 12:46:57.743 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:46:57.743 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 12:46:57.743 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 12:46:57.743 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 12:46:57.743 DEBUG 32496 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 12:46:57.743 DEBUG 32496 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 12:46:57.743  INFO 32496 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 12:46:57.743 DEBUG 32496 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 12:46:57.743 DEBUG 32496 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 12:46:57.743 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:57.743 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 12:46:57.743 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:57.743 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:57.763 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:57.783 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=9, pending=0, completed=9, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 12:46:57.783 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:57.783 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:58.097 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 12:46:58.097 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:58.097  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:58.097  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:58.097  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:58.097 DEBUG 32496 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:58.097 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:46:58.097 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 12:46:58.097 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 12:46:58.097 DEBUG 32496 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 12:46:58.097  INFO 32496 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 12:46:58.097 DEBUG 32496 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 12:46:58.107 DEBUG 32496 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 12:46:58.107 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:58.107 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 12:46:58.107 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:58.107 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:59.651 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 12:46:59.657 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/stats
2025-05-07 12:46:59.657 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:59.651 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/occupied
2025-05-07 12:46:59.657 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:59.657 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:46:59.658  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:59.658  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:59.658  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:46:59.659  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:59.659  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:59.661  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:59.661  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:59.659  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:46:59.661  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:46:59.661 DEBUG 32496 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:59.661 DEBUG 32496 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:59.661 DEBUG 32496 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:46:59.661 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms/occupied] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:46:59.661 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms/occupied
2025-05-07 12:46:59.661 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:46:59.661 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms/occupied", parameters={}
2025-05-07 12:46:59.661 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/stats
2025-05-07 12:46:59.661 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:46:59.661 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/stats", parameters={}
2025-05-07 12:46:59.661 DEBUG 32496 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getOccupiedRooms()
2025-05-07 12:46:59.661 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 12:46:59.661 DEBUG 32496 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutStats()
2025-05-07 12:46:59.661 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=", parameters={masked}
2025-05-07 12:46:59.661 DEBUG 32496 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutRecords(String, String, String, int, int)
2025-05-07 12:46:59.665  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.impl.CheckInServiceImpl  : Fetching checkout records for current month: 2025-05-01 to 2025-05-07
2025-05-07 12:46:59.665 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:59.665 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[], success=true, message=获取成功}]
2025-05-07 12:46:59.665 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:59.665 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:59.672 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:59.672 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={monthlyCheckouts=0, pendingCleanings=1, todayCheckouts=0}, success=true, message=获取 (truncated)...]
2025-05-07 12:46:59.672 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:59.672 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:46:59.672 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:46:59.672 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, records=[]}, success=true, message=获取退房记录成功}]
2025-05-07 12:46:59.672 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:46:59.678 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:47:00.828 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-07 12:47:00.828 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:47:00.829  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:47:00.832  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:47:00.832  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:47:00.832 DEBUG 32496 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:47:00.832 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-07 12:47:00.832 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-07 12:47:00.833 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-07 12:47:00.833 DEBUG 32496 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitorRecordsPageable(String, String, String, LocalDateTime, LocalDateTime, int, int, String[])
2025-05-07 12:47:00.851 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:47:00.851 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing com.hotel.entity.VisitorRecord instances]
2025-05-07 12:47:00.911 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:47:00.911 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:47:01.136 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/count/today
2025-05-07 12:47:01.136 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:47:01.136  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:47:01.136  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:47:01.136  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:47:01.136 DEBUG 32496 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:47:01.136 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/count/today] with attributes [authenticated]
2025-05-07 12:47:01.136 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/count/today
2025-05-07 12:47:01.136 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/count/today", parameters={}
2025-05-07 12:47:01.136 DEBUG 32496 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#countTodayVisitors()
2025-05-07 12:47:01.146 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:47:01.146 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [0]
2025-05-07 12:47:01.146 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:47:01.146 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:47:03.901 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:47:03.901 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:47:03.901  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:47:03.901  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:47:03.901  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:47:03.901 DEBUG 32496 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:47:03.901 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 12:47:03.901 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:47:03.901 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 12:47:03.901 DEBUG 32496 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:47:03.911 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:47:03.911 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 12:47:03.911 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:47:03.911 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:47:06.144 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:47:06.145 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:47:06.145  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:47:06.145  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:47:06.145  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:47:06.145 DEBUG 32496 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:47:06.150 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:47:06.150 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:47:06.150 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:47:06.151 DEBUG 32496 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:47:06.178 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:47:06.178 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:47:06.178 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:47:06.178 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:47:08.619 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:47:08.619 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:47:08.619  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:47:08.619  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:47:08.623  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:47:08.623 DEBUG 32496 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:47:08.623 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:47:08.623 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:47:08.624 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:47:08.624 DEBUG 32496 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:47:08.651 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:47:08.651 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:47:08.651 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:47:08.656 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:47:09.117 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:47:09.117 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:47:09.118  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:47:09.119  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:47:09.120  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:47:09.120 DEBUG 32496 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:47:09.120 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 12:47:09.120 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:47:09.120 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 12:47:09.120 DEBUG 32496 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:47:09.131 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:47:09.131 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 12:47:09.133 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:47:09.133 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:47:18.426 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:47:18.427 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:47:18.428  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:47:18.431  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:47:18.431  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:47:18.431 DEBUG 32496 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:47:18.432 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:47:18.432 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:47:18.432 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:47:18.432 DEBUG 32496 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:47:18.463 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:47:18.464 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=6, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:47:18.465 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:47:18.466 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:47:19.080 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 12:47:19.080 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:47:19.081  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:47:19.083  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:47:19.083  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:47:19.083 DEBUG 32496 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:47:19.083 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 12:47:19.083 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 12:47:19.083 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 12:47:19.083 DEBUG 32496 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 12:47:19.087  INFO 32496 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:47:19.092  INFO 32496 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 12:47:19.094  INFO 32496 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:47:19.102  INFO 32496 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 为房间 208 创建了清洁任务，分配给清洁员: 清洁人员
2025-05-07 12:47:19.104  INFO 32496 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 1 个新任务
2025-05-07 12:47:19.115 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:47:19.121 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=2, generatedTasksCount=1, currentPage=0, content=[Task(id=13, roomNumber=208, roomType=豪 (truncated)...]
2025-05-07 12:47:19.123 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:47:19.123 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:47:19.198 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 12:47:19.198 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:47:19.198  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:47:19.200  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:47:19.201  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:47:19.201 DEBUG 32496 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:47:19.201 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 12:47:19.201 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 12:47:19.201 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 12:47:19.201 DEBUG 32496 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 12:47:19.202  INFO 32496 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:47:19.205  INFO 32496 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 12:47:19.207  INFO 32496 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:47:19.209  INFO 32496 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 房间 208 已存在未完成的清洁任务，跳过任务创建
2025-05-07 12:47:19.209  INFO 32496 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 12:47:19.218 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:47:19.224 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 12:47:19.227 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:47:19.228 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:47:22.913 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/13/start
2025-05-07 12:47:22.913 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:47:22.914  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:47:22.917  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:47:22.918  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:47:22.918 DEBUG 32496 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:47:22.918 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/13/start] with attributes [authenticated]
2025-05-07 12:47:22.918 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/13/start
2025-05-07 12:47:22.918 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/13/start", parameters={}
2025-05-07 12:47:22.919 DEBUG 32496 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#startTask(Long)
2025-05-07 12:47:22.929 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:47:22.930 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Task(id=13, roomNumber=208, roomType=豪华大床房, cleaner=清洁人员, priority=medium, status=processing, expect (truncated)...]
2025-05-07 12:47:22.931 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:47:22.931 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:47:24.152 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:47:24.152 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:47:24.152  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:47:24.152  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:47:24.152  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:47:24.152 DEBUG 32496 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:47:24.152 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:47:24.152 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:47:24.152 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:47:24.152 DEBUG 32496 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:47:24.189 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:47:24.189 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:47:24.189 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:47:24.189 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:47:25.762 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/13/complete
2025-05-07 12:47:25.762 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:47:25.762  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:47:25.772  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:47:25.772  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:47:25.772 DEBUG 32496 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:47:25.772 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/13/complete] with attributes [authenticated]
2025-05-07 12:47:25.772 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/13/complete
2025-05-07 12:47:25.772 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/13/complete", parameters={}
2025-05-07 12:47:25.772 DEBUG 32496 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#completeTask(Long, TaskDTO)
2025-05-07 12:47:25.783 DEBUG 32496 --- [http-nio-8090-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, expectedT (truncated)...]
2025-05-07 12:47:25.783  INFO 32496 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 任务完成：ID=13, 房间=208, 实际用时=30分钟
2025-05-07 12:47:25.783  INFO 32496 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 已更新房间状态：房间号=208, 状态=AVAILABLE, 需要清洁=false
2025-05-07 12:47:25.793  INFO 32496 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : TaskServiceImpl: Set CleaningRecord status to COMPLETED for room 208
2025-05-07 12:47:25.793  INFO 32496 --- [http-nio-8090-exec-4] c.h.service.impl.CleaningServiceImpl     : Entering createCleaningRecord. Received record status: COMPLETED
2025-05-07 12:47:25.793  INFO 32496 --- [http-nio-8090-exec-4] c.h.service.impl.CleaningServiceImpl     : Status was not null (COMPLETED), keeping existing status.
2025-05-07 12:47:25.803  INFO 32496 --- [http-nio-8090-exec-4] c.h.service.impl.CleaningServiceImpl     : Saved CleaningRecord. ID: 7, Final Status in DB: COMPLETED
2025-05-07 12:47:25.803  INFO 32496 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : TaskServiceImpl: Called createCleaningRecord. Returned record id: 7, status: COMPLETED
2025-05-07 12:47:25.823 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:47:25.823 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Task(id=13, roomNumber=208, roomType=豪华大床房, cleaner=清洁人员, priority=medium, status=completed, expecte (truncated)...]
2025-05-07 12:47:25.823 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:47:25.823 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:47:25.843 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 12:47:25.843 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:47:25.853  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:47:25.853  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:47:25.853  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:47:25.853 DEBUG 32496 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:47:25.853 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 12:47:25.853 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 12:47:25.853 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 12:47:25.853 DEBUG 32496 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 12:47:25.853  INFO 32496 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:47:25.853  INFO 32496 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 12:47:25.863  INFO 32496 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:47:25.863  INFO 32496 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 12:47:25.863 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:47:25.863 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=2, generatedTasksCount=0, currentPage=0, content=[Task(id=13, roomNumber=208, roomType=豪 (truncated)...]
2025-05-07 12:47:25.873 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:47:25.873 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:47:25.883 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 12:47:25.883 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:47:25.883  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:47:25.883  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:47:25.883  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:47:25.883 DEBUG 32496 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:47:25.883 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 12:47:25.883 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 12:47:25.883 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 12:47:25.883 DEBUG 32496 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 12:47:25.883  INFO 32496 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:47:25.883  INFO 32496 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 12:47:25.893  INFO 32496 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:47:25.893  INFO 32496 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 12:47:25.900 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:47:25.900 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 12:47:25.901 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:47:25.901 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:47:30.514 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:47:30.514 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:47:30.514  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:47:30.514  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:47:30.514  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:47:30.514 DEBUG 32496 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:47:30.514 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:47:30.514 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:47:30.514 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:47:30.514 DEBUG 32496 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:47:30.544 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:47:30.544 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=7, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:47:30.544 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:47:30.544 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:47:54.159 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:47:54.160 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:47:54.161  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:47:54.163  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:47:54.163  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:47:54.163 DEBUG 32496 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:47:54.164 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:47:54.164 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:47:54.164 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:47:54.164 DEBUG 32496 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:47:54.202 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:47:54.202 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:47:54.204 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:47:54.204 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:48:10.218 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:48:10.218 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:48:10.219  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:48:10.222  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:48:10.222  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:48:10.222 DEBUG 32496 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:48:10.223 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 12:48:10.223 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:48:10.223 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 12:48:10.223 DEBUG 32496 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:48:10.233 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:48:10.233 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 12:48:10.234 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:48:10.234 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:48:23.301 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:48:23.301 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:48:23.302  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:48:23.303  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:48:23.304  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:48:23.304 DEBUG 32496 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:48:23.304 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:48:23.304 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:48:23.305 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:48:23.305 DEBUG 32496 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:48:23.332 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:48:23.332 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:48:23.333 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:48:23.333 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:48:40.602 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 12:48:40.603 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:48:40.604  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:48:40.606  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:48:40.606  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:48:40.606 DEBUG 32496 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:48:40.607 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&size=200&page=0] with attributes [authenticated]
2025-05-07 12:48:40.607 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 12:48:40.607 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&size=200&page=0", parameters={masked}
2025-05-07 12:48:40.607 DEBUG 32496 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:48:40.618 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:48:40.618 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 12:48:40.618 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:48:40.619 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:48:53.304 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:48:53.304 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:48:53.305  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:48:53.307  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:48:53.307  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:48:53.307 DEBUG 32496 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:48:53.308 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:48:53.308 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:48:53.308 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:48:53.308 DEBUG 32496 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:48:53.346 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:48:53.346 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:48:53.347 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:48:53.347 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:49:23.269 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 12:49:23.269 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:49:23.271  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:49:23.273  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:49:23.273  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:49:23.273 DEBUG 32496 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:49:23.274 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&size=200&page=0] with attributes [authenticated]
2025-05-07 12:49:23.274 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 12:49:23.274 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&size=200&page=0", parameters={masked}
2025-05-07 12:49:23.274 DEBUG 32496 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:49:23.284 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:49:23.284 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 12:49:23.285 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:49:23.285 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:49:23.285 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:49:23.286 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:49:23.287  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:49:23.289  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:49:23.289  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:49:23.289 DEBUG 32496 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:49:23.290 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:49:23.290 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:49:23.290 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:49:23.290 DEBUG 32496 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:49:23.325 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:49:23.325 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:49:23.326 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:49:23.326 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:49:34.219 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/invitation-codes/all
2025-05-07 12:49:34.219 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:49:34.220  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:49:34.223  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:49:34.223  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:49:34.223 DEBUG 32496 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:49:34.223 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/invitation-codes/all] with attributes [authenticated]
2025-05-07 12:49:34.223 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/invitation-codes/all
2025-05-07 12:49:34.224 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/invitation-codes/all", parameters={}
2025-05-07 12:49:34.224 DEBUG 32496 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.InvitationCodeController#getAllInvitationCodes()
2025-05-07 12:49:34.235 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:49:34.235 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[InvitationCode(id=12, code=L1R1O7TC, role=CLEANER, maxUses=1, currentUses=0, expiryDate=2025-06-01T (truncated)...]
2025-05-07 12:49:34.237 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:49:34.237 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:49:35.449 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:49:35.450 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:49:35.451  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:49:35.453  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:49:35.453  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:49:35.453 DEBUG 32496 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:49:35.454 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:49:35.454 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:49:35.454 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:49:35.454 DEBUG 32496 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:49:35.497 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:49:35.497 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:49:35.499 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:49:35.499 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:49:37.262 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-07 12:49:37.262 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:49:37.263  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:49:37.266  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:49:37.266  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:49:37.266 DEBUG 32496 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:49:37.267 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users?page=1&pageSize=10&username=&phone=&status=] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 12:49:37.267 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-07 12:49:37.267 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users?page=1&pageSize=10&username=&phone=&status=", parameters={masked}
2025-05-07 12:49:37.267 DEBUG 32496 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllUsers(int, int, String, String, String, String)
2025-05-07 12:49:37.281 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:49:37.281 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=21, users=[UserDTO(id=21, username=晚安福福, (truncated)...]
2025-05-07 12:49:37.283 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:49:37.284 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:49:37.738 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=0&size=10
2025-05-07 12:49:37.738 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:49:37.739  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:49:37.741  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:49:37.741  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:49:37.741 DEBUG 32496 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:49:37.741 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:49:37.741 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=0&size=10
2025-05-07 12:49:37.742 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=0&size=10", parameters={masked}
2025-05-07 12:49:37.742 DEBUG 32496 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 12:49:37.751 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:49:37.751 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=501, lastCleanTime=2025-05-01T15:04:43, notes=, needCle (truncated)...]
2025-05-07 12:49:37.752 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:49:37.752 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:49:37.829 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/roomtypes
2025-05-07 12:49:37.829 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:49:37.829  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:49:37.829  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:49:37.829  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:49:37.829 DEBUG 32496 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:49:37.829 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/roomtypes] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 12:49:37.829 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/roomtypes
2025-05-07 12:49:37.829 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/roomtypes", parameters={}
2025-05-07 12:49:37.829 DEBUG 32496 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getAllRoomTypes()
2025-05-07 12:49:37.839 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:49:37.839 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{amenities=无限量矿泉水、咖啡、茶叶等, createTime=2025-04-28T11:22:57, name=行政套房, description=高端 (truncated)...]
2025-05-07 12:49:37.839 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:49:37.839 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:49:41.898 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=5&size=10
2025-05-07 12:49:41.898 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:49:41.898  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:49:41.903  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:49:41.904  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:49:41.904 DEBUG 32496 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:49:41.904 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=5&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:49:41.904 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=5&size=10
2025-05-07 12:49:41.904 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=5&size=10", parameters={masked}
2025-05-07 12:49:41.904 DEBUG 32496 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 12:49:41.911 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:49:41.911 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=507, lastCleanTime=2025-05-05T11:35:14, notes=, needCle (truncated)...]
2025-05-07 12:49:41.911 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:49:41.911 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:49:44.312 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=0&size=10
2025-05-07 12:49:44.312 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:49:44.312  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:49:44.314  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:49:44.314  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:49:44.315 DEBUG 32496 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:49:44.315 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:49:44.315 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=0&size=10
2025-05-07 12:49:44.315 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=0&size=10", parameters={masked}
2025-05-07 12:49:44.316 DEBUG 32496 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 12:49:44.321 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:49:44.321 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=501, lastCleanTime=2025-05-01T15:04:43, notes=, needCle (truncated)...]
2025-05-07 12:49:44.321 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:49:44.321 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:49:46.594 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=2&size=10
2025-05-07 12:49:46.595 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:49:46.595  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:49:46.597  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:49:46.597  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:49:46.597 DEBUG 32496 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:49:46.597 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=2&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:49:46.598 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=2&size=10
2025-05-07 12:49:46.598 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=2&size=10", parameters={masked}
2025-05-07 12:49:46.598 DEBUG 32496 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 12:49:46.610 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:49:46.610 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=310, lastCleanTime=2025-05-02T18:32:13, notes=, needCle (truncated)...]
2025-05-07 12:49:46.611 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:49:46.611 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:49:50.496 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=3&size=10
2025-05-07 12:49:50.496 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:49:50.501  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:49:50.502  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:49:50.502  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:49:50.502 DEBUG 32496 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:49:50.502 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=3&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:49:50.502 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=3&size=10
2025-05-07 12:49:50.502 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=3&size=10", parameters={masked}
2025-05-07 12:49:50.502 DEBUG 32496 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 12:49:50.515 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:49:50.515 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=412, lastCleanTime=2025-05-07T12:11:53, notes=, needCle (truncated)...]
2025-05-07 12:49:50.515 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:49:50.515 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:49:51.673 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=2&size=10
2025-05-07 12:49:51.673 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:49:51.675  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:49:51.676  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:49:51.676  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:49:51.676 DEBUG 32496 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:49:51.676 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=2&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:49:51.676 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=2&size=10
2025-05-07 12:49:51.676 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=2&size=10", parameters={masked}
2025-05-07 12:49:51.676 DEBUG 32496 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 12:49:51.686 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:49:51.687 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=310, lastCleanTime=2025-05-02T18:32:13, notes=, needCle (truncated)...]
2025-05-07 12:49:51.688 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:49:51.688 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:49:54.093 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=4&size=10
2025-05-07 12:49:54.093 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:49:54.093  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:49:54.099  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:49:54.099  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:49:54.099 DEBUG 32496 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:49:54.099 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=4&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:49:54.099 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=4&size=10
2025-05-07 12:49:54.099 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=4&size=10", parameters={masked}
2025-05-07 12:49:54.099 DEBUG 32496 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 12:49:54.113 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:49:54.113 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=422, lastCleanTime=2025-05-05T11:34:19, notes=, needCle (truncated)...]
2025-05-07 12:49:54.113 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:49:54.113 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:49:54.171 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:49:54.171 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:49:54.172  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:49:54.174  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:49:54.174  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:49:54.174 DEBUG 32496 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:49:54.175 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:49:54.175 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:49:54.175 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:49:54.176 DEBUG 32496 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:49:54.203 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:49:54.203 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:49:54.203 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:49:54.203 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:49:56.666 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=0&size=10
2025-05-07 12:49:56.666 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:49:56.668  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:49:56.670  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:49:56.670  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:49:56.670 DEBUG 32496 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:49:56.670 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:49:56.670 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=0&size=10
2025-05-07 12:49:56.671 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=0&size=10", parameters={masked}
2025-05-07 12:49:56.671 DEBUG 32496 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 12:49:56.680 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:49:56.680 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=501, lastCleanTime=2025-05-01T15:04:43, notes=, needCle (truncated)...]
2025-05-07 12:49:56.681 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:49:56.681 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:50:24.157 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:50:24.157 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:50:24.157  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:50:24.159  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:50:24.159  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:50:24.159 DEBUG 32496 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:50:24.160 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:50:24.160 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:50:24.160 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:50:24.160 DEBUG 32496 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:50:24.178 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:50:24.178 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:50:24.178 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:50:24.178 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:50:25.267 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing PUT /api/rooms/1/status
2025-05-07 12:50:25.267 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:50:25.267  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:50:25.273  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:50:25.273  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:50:25.273 DEBUG 32496 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:50:25.273 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [PUT /api/rooms/1/status] with attributes [authenticated]
2025-05-07 12:50:25.273 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured PUT /api/rooms/1/status
2025-05-07 12:50:25.273 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : PUT "/api/rooms/1/status", parameters={}
2025-05-07 12:50:25.273 DEBUG 32496 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#updateRoomStatus(Long, Map)
2025-05-07 12:50:25.273 DEBUG 32496 --- [http-nio-8090-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{status=NEEDS_CLEANING}]
2025-05-07 12:50:25.287 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:50:25.294 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-07 12:50:25.329 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:50:25.329 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:50:25.532 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=0&size=10
2025-05-07 12:50:25.532 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:50:25.533  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:50:25.535  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:50:25.535  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:50:25.535 DEBUG 32496 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:50:25.535 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:50:25.535 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=0&size=10
2025-05-07 12:50:25.535 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=0&size=10", parameters={masked}
2025-05-07 12:50:25.535 DEBUG 32496 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 12:50:25.542 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:50:25.542 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=501, lastCleanTime=2025-05-07T12:50:25, notes=, needCle (truncated)...]
2025-05-07 12:50:25.543 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:50:25.543 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:50:32.055 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 12:50:32.055 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:50:32.055  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:50:32.055  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:50:32.055  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:50:32.055 DEBUG 32496 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:50:32.055 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 12:50:32.055 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 12:50:32.055 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 12:50:32.066 DEBUG 32496 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 12:50:32.067  INFO 32496 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:50:32.071  INFO 32496 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 12:50:32.073  INFO 32496 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:50:32.077  INFO 32496 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 为房间 501 创建了清洁任务，分配给清洁员: 清洁人员
2025-05-07 12:50:32.077  INFO 32496 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 1 个新任务
2025-05-07 12:50:32.089 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:50:32.090 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=2, generatedTasksCount=1, currentPage=0, content=[Task(id=14, roomNumber=501, roomType=豪 (truncated)...]
2025-05-07 12:50:32.091 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:50:32.091 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:50:32.164 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 12:50:32.164 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:50:32.164  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:50:32.174  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:50:32.174  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:50:32.174 DEBUG 32496 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:50:32.174 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 12:50:32.174 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 12:50:32.174 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 12:50:32.174 DEBUG 32496 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 12:50:32.174  INFO 32496 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:50:32.174  INFO 32496 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 12:50:32.174  INFO 32496 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:50:32.174  INFO 32496 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 房间 501 已存在未完成的清洁任务，跳过任务创建
2025-05-07 12:50:32.174  INFO 32496 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 12:50:32.184 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:50:32.184 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 12:50:32.184 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:50:32.184 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:50:54.149 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:50:54.149 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:50:54.149  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:50:54.156  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:50:54.156  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:50:54.156 DEBUG 32496 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:50:54.156 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:50:54.156 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:50:54.156 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:50:54.156 DEBUG 32496 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:50:54.190 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:50:54.190 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:50:54.190 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:50:54.190 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:50:55.545 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/staff?page=0&pageSize=10
2025-05-07 12:50:55.545 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:50:55.545  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:50:55.545  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:50:55.551  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:50:55.551 DEBUG 32496 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:50:55.551 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/staff?page=0&pageSize=10] with attributes [authenticated]
2025-05-07 12:50:55.552 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/staff?page=0&pageSize=10
2025-05-07 12:50:55.552 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/staff?page=0&pageSize=10", parameters={masked}
2025-05-07 12:50:55.552 DEBUG 32496 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllStaffPaginated(int, int, String, String, String)
2025-05-07 12:50:55.559 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:50:55.559 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=6, users=[UserDTO(id=19, username=前台妹妹00 (truncated)...]
2025-05-07 12:50:55.559 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:50:55.559 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:51:24.151 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:51:24.151 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:51:24.156  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:51:24.156  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:51:24.156  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:51:24.156 DEBUG 32496 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:51:24.156 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:51:24.156 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:51:24.156 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:51:24.156 DEBUG 32496 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:51:24.194 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:51:24.194 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:51:24.195 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:51:24.195 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:51:53.688 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:51:53.688 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:51:53.689  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:51:53.692  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:51:53.692  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:51:53.692 DEBUG 32496 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:51:53.693 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:51:53.693 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:51:53.693 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:51:53.693 DEBUG 32496 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:51:53.724 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:51:53.724 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:51:53.724 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:51:53.724 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:51:56.839 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 12:51:56.839 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:51:56.839  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:51:56.839  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:51:56.839  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:51:56.839 DEBUG 32496 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:51:56.839 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 12:51:56.839 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 12:51:56.839 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 12:51:56.839 DEBUG 32496 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 12:51:56.849 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:51:56.849 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 12:51:56.849 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:51:56.849 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:51:56.911 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:51:56.911 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:51:56.911  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:51:56.911  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:51:56.911  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:51:56.911 DEBUG 32496 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:51:56.911 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:51:56.911 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:51:56.911 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:51:56.911 DEBUG 32496 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:51:56.961 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:51:56.961 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:51:56.961 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:51:56.961 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:51:58.125 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:51:58.125 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:51:58.135  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:51:58.135  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:51:58.135  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:51:58.135 DEBUG 32496 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:51:58.135 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 12:51:58.135 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:51:58.135 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 12:51:58.135 DEBUG 32496 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:51:58.145 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:51:58.145 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 12:51:58.145 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:51:58.145 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:52:00.612 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:52:00.612 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:52:00.613  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:52:00.614  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:52:00.614  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:52:00.615 DEBUG 32496 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:52:00.615 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 12:52:00.615 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:52:00.615 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 12:52:00.616 DEBUG 32496 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:52:00.620 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:52:00.620 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 12:52:00.620 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:52:00.620 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:52:04.889 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:52:04.889 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:52:04.889  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:52:04.895  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:52:04.895  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:52:04.895 DEBUG 32496 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:52:04.896 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 12:52:04.896 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:52:04.896 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 12:52:04.896 DEBUG 32496 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:52:04.908 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:52:04.909 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 12:52:04.909 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:52:04.910 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:52:26.396 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=0&size=10
2025-05-07 12:52:26.397 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:52:26.397  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:52:26.399  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:52:26.400  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:52:26.400 DEBUG 32496 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:52:26.401 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:52:26.401 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=0&size=10
2025-05-07 12:52:26.401 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=0&size=10", parameters={masked}
2025-05-07 12:52:26.401 DEBUG 32496 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 12:52:26.411 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:52:26.411 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=501, lastCleanTime=2025-05-07T12:50:25, notes=, needCle (truncated)...]
2025-05-07 12:52:26.412 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:52:26.413 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:52:26.503 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/roomtypes
2025-05-07 12:52:26.503 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:52:26.503  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:52:26.505  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:52:26.506  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:52:26.506 DEBUG 32496 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:52:26.506 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/roomtypes] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 12:52:26.506 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/roomtypes
2025-05-07 12:52:26.506 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/roomtypes", parameters={}
2025-05-07 12:52:26.506 DEBUG 32496 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getAllRoomTypes()
2025-05-07 12:52:26.509 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:52:26.509 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{amenities=无限量矿泉水、咖啡、茶叶等, createTime=2025-04-28T11:22:57, name=行政套房, description=高端 (truncated)...]
2025-05-07 12:52:26.510 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:52:26.511 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:52:26.976 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:52:26.976 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:52:26.976  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:52:26.976  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:52:26.976  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:52:26.976 DEBUG 32496 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:52:26.976 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:52:26.976 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:52:26.976 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:52:26.976 DEBUG 32496 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:52:27.016 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:52:27.016 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:52:27.016 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:52:27.016 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:52:51.848 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=0&size=10
2025-05-07 12:52:51.849 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:52:51.850  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:52:51.852  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:52:51.853  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:52:51.853 DEBUG 32496 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:52:51.853 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:52:51.853 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=0&size=10
2025-05-07 12:52:51.853 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=0&size=10", parameters={masked}
2025-05-07 12:52:51.853 DEBUG 32496 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 12:52:51.861 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:52:51.862 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=501, lastCleanTime=2025-05-07T12:50:25, notes=, needCle (truncated)...]
2025-05-07 12:52:51.862 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:52:51.863 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:52:51.942 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/roomtypes
2025-05-07 12:52:51.942 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:52:51.943  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:52:51.945  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:52:51.945  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:52:51.946 DEBUG 32496 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:52:51.946 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/roomtypes] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 12:52:51.946 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/roomtypes
2025-05-07 12:52:51.946 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/roomtypes", parameters={}
2025-05-07 12:52:51.947 DEBUG 32496 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getAllRoomTypes()
2025-05-07 12:52:51.952 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:52:51.952 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{amenities=无限量矿泉水、咖啡、茶叶等, createTime=2025-04-28T11:22:57, name=行政套房, description=高端 (truncated)...]
2025-05-07 12:52:51.953 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:52:51.954 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:52:58.126 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=2&size=10
2025-05-07 12:52:58.126 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:52:58.126  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:52:58.132  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:52:58.132  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:52:58.132 DEBUG 32496 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:52:58.132 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=2&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:52:58.132 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=2&size=10
2025-05-07 12:52:58.132 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=2&size=10", parameters={masked}
2025-05-07 12:52:58.132 DEBUG 32496 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 12:52:58.141 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:52:58.141 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=310, lastCleanTime=2025-05-02T18:32:13, notes=, needCle (truncated)...]
2025-05-07 12:52:58.141 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:52:58.141 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:52:58.159 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:52:58.160 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:52:58.160  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:52:58.162  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:52:58.162  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:52:58.162 DEBUG 32496 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:52:58.162 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:52:58.162 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:52:58.162 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:52:58.163 DEBUG 32496 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:52:58.191 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:52:58.191 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:52:58.192 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:52:58.192 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:52:59.200 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=3&size=10
2025-05-07 12:52:59.200 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:52:59.206  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:52:59.208  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:52:59.208  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:52:59.208 DEBUG 32496 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:52:59.208 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=3&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:52:59.208 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=3&size=10
2025-05-07 12:52:59.208 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=3&size=10", parameters={masked}
2025-05-07 12:52:59.208 DEBUG 32496 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 12:52:59.218 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:52:59.218 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=412, lastCleanTime=2025-05-07T12:11:53, notes=, needCle (truncated)...]
2025-05-07 12:52:59.219 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:52:59.219 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:53:00.251 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=4&size=10
2025-05-07 12:53:00.251 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:53:00.251  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:53:00.251  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:53:00.251  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:53:00.251 DEBUG 32496 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:53:00.251 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=4&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:53:00.251 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=4&size=10
2025-05-07 12:53:00.256 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=4&size=10", parameters={masked}
2025-05-07 12:53:00.256 DEBUG 32496 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 12:53:00.265 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:53:00.265 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=422, lastCleanTime=2025-05-05T11:34:19, notes=, needCle (truncated)...]
2025-05-07 12:53:00.266 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:53:00.266 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:53:02.225 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=0&size=10
2025-05-07 12:53:02.226 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:53:02.227  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:53:02.228  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:53:02.229  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:53:02.229 DEBUG 32496 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:53:02.229 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:53:02.229 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=0&size=10
2025-05-07 12:53:02.230 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=0&size=10", parameters={masked}
2025-05-07 12:53:02.230 DEBUG 32496 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 12:53:02.237 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:53:02.237 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=501, lastCleanTime=2025-05-07T12:50:25, notes=, needCle (truncated)...]
2025-05-07 12:53:02.238 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:53:02.238 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:53:12.384 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/staff?page=0&pageSize=10
2025-05-07 12:53:12.384 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:53:12.384  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:53:12.384  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:53:12.384  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:53:12.384 DEBUG 32496 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:53:12.384 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/staff?page=0&pageSize=10] with attributes [authenticated]
2025-05-07 12:53:12.384 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/staff?page=0&pageSize=10
2025-05-07 12:53:12.384 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/staff?page=0&pageSize=10", parameters={masked}
2025-05-07 12:53:12.384 DEBUG 32496 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllStaffPaginated(int, int, String, String, String)
2025-05-07 12:53:12.394 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:53:12.394 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=6, users=[UserDTO(id=19, username=前台妹妹00 (truncated)...]
2025-05-07 12:53:12.394 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:53:12.394 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:53:27.833 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:53:27.833 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:53:27.834  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:53:27.838  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:53:27.838  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:53:27.838 DEBUG 32496 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:53:27.839 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:53:27.839 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:53:27.839 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:53:27.839 DEBUG 32496 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:53:27.870 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:53:27.870 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:53:27.880 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:53:27.880 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:53:42.820 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 12:53:42.820 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:53:42.821  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:53:42.822  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:53:42.823  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:53:42.823 DEBUG 32496 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:53:42.823 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 12:53:42.823 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 12:53:42.824 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 12:53:42.824 DEBUG 32496 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 12:53:42.836 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:53:42.836 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 12:53:42.836 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:53:42.837 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:53:42.932 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:53:42.933 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:53:42.933  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:53:42.935  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:53:42.935  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:53:42.935 DEBUG 32496 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:53:42.935 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:53:42.935 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:53:42.936 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:53:42.936 DEBUG 32496 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:53:42.965 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:53:42.965 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:53:42.965 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:53:42.965 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:53:58.160 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:53:58.161 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:53:58.161  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:53:58.164  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:53:58.164  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:53:58.164 DEBUG 32496 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:53:58.164 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:53:58.164 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:53:58.164 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:53:58.165 DEBUG 32496 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:53:58.199 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:53:58.200 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:53:58.200 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:53:58.200 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:54:14.157 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:54:14.157 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:54:14.157  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:54:14.157  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:54:14.157  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:54:14.157 DEBUG 32496 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:54:14.157 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:54:14.157 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:54:14.157 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:54:14.167 DEBUG 32496 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:54:14.198 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:54:14.198 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:54:14.198 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:54:14.198 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:54:28.170 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:54:28.171 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:54:28.171  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:54:28.173  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:54:28.173  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:54:28.174 DEBUG 32496 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:54:28.174 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:54:28.174 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:54:28.174 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:54:28.175 DEBUG 32496 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:54:28.203 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:54:28.203 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:54:28.204 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:54:28.204 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:54:41.862 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=0&size=10
2025-05-07 12:54:41.863 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:54:41.864  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:54:41.867  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:54:41.867  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:54:41.867 DEBUG 32496 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:54:41.867 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:54:41.867 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=0&size=10
2025-05-07 12:54:41.868 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=0&size=10", parameters={masked}
2025-05-07 12:54:41.868 DEBUG 32496 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 12:54:41.877 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:54:41.878 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=501, lastCleanTime=2025-05-07T12:50:25, notes=, needCle (truncated)...]
2025-05-07 12:54:41.879 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:54:41.879 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:54:41.956 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/roomtypes
2025-05-07 12:54:41.956 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:54:41.957  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:54:41.959  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:54:41.959  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:54:41.959 DEBUG 32496 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:54:41.960 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/roomtypes] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 12:54:41.960 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/roomtypes
2025-05-07 12:54:41.960 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/roomtypes", parameters={}
2025-05-07 12:54:41.960 DEBUG 32496 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getAllRoomTypes()
2025-05-07 12:54:41.963 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:54:41.964 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{amenities=无限量矿泉水、咖啡、茶叶等, createTime=2025-04-28T11:22:57, name=行政套房, description=高端 (truncated)...]
2025-05-07 12:54:41.964 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:54:41.965 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:54:44.150 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:54:44.151 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:54:44.151  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:54:44.153  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:54:44.154  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:54:44.154 DEBUG 32496 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:54:44.154 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:54:44.154 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:54:44.154 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:54:44.154 DEBUG 32496 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:54:44.177 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:54:44.178 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:54:44.178 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:54:44.178 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:54:47.212 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing PUT /api/admin/rooms/1
2025-05-07 12:54:47.212 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:54:47.212  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:54:47.212  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:54:47.212  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:54:47.212 DEBUG 32496 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:54:47.212 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [PUT /api/admin/rooms/1] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 12:54:47.212 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured PUT /api/admin/rooms/1
2025-05-07 12:54:47.212 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : PUT "/api/admin/rooms/1", parameters={}
2025-05-07 12:54:47.212 DEBUG 32496 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#updateRoom(String, Room)
2025-05-07 12:54:47.232 DEBUG 32496 --- [http-nio-8090-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [Room(id=1, roomNumber=501, roomType=RoomType(id=2, name=null, description=null, longDescription=null (truncated)...]
2025-05-07 12:54:47.243 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:54:47.243 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={roomNumber=501, lastCleanTime=2025-05-07T12:54:47.232604800, notes=shsr, needCleani (truncated)...]
2025-05-07 12:54:47.243 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:54:47.243 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:54:47.466 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=0&size=10
2025-05-07 12:54:47.466 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:54:47.467  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:54:47.469  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:54:47.469  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:54:47.469 DEBUG 32496 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:54:47.470 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:54:47.470 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=0&size=10
2025-05-07 12:54:47.470 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=0&size=10", parameters={masked}
2025-05-07 12:54:47.470 DEBUG 32496 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 12:54:47.475 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:54:47.475 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=501, lastCleanTime=2025-05-07T12:54:47, notes=shsr, nee (truncated)...]
2025-05-07 12:54:47.475 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:54:47.475 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:54:58.147 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:54:58.147 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:54:58.148  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:54:58.149  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:54:58.149  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:54:58.149 DEBUG 32496 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:54:58.149 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:54:58.149 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:54:58.149 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:54:58.149 DEBUG 32496 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:54:58.188 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:54:58.188 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:54:58.189 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:54:58.189 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:55:01.405 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/staff?page=0&pageSize=10
2025-05-07 12:55:01.405 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:55:01.405  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:55:01.411  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:55:01.411  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:55:01.411 DEBUG 32496 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:55:01.411 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/staff?page=0&pageSize=10] with attributes [authenticated]
2025-05-07 12:55:01.411 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/staff?page=0&pageSize=10
2025-05-07 12:55:01.411 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/staff?page=0&pageSize=10", parameters={masked}
2025-05-07 12:55:01.411 DEBUG 32496 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllStaffPaginated(int, int, String, String, String)
2025-05-07 12:55:01.418 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:55:01.418 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=6, users=[UserDTO(id=19, username=前台妹妹00 (truncated)...]
2025-05-07 12:55:01.418 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:55:01.418 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:55:04.302 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-07 12:55:04.302 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:55:04.303  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:55:04.305  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:55:04.306  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:55:04.306 DEBUG 32496 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:55:04.306 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users?page=1&pageSize=10&username=&phone=&status=] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 12:55:04.306 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-07 12:55:04.307 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users?page=1&pageSize=10&username=&phone=&status=", parameters={masked}
2025-05-07 12:55:04.307 DEBUG 32496 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllUsers(int, int, String, String, String, String)
2025-05-07 12:55:04.315 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:55:04.315 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=21, users=[UserDTO(id=21, username=晚安福福, (truncated)...]
2025-05-07 12:55:04.316 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:55:04.316 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:55:07.536 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:55:07.536 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:55:07.536  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 12:55:07.543  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 12:55:07.543  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 12:55:07.543 DEBUG 32496 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 12:55:07.543 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:55:07.543 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:55:07.543 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:55:07.543 DEBUG 32496 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:55:07.571 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:55:07.571 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:55:07.571 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:55:07.571 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:55:14.153 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:55:14.153 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:55:14.153  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:55:14.161  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:55:14.161  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:55:14.161 DEBUG 32496 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:55:14.162 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:55:14.162 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:55:14.162 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:55:14.162 DEBUG 32496 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:55:14.217 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:55:14.217 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:55:14.217 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:55:14.217 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:55:24.499 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:55:24.499 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:55:24.500  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:55:24.501  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:55:24.501  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:55:24.502 DEBUG 32496 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:55:24.502 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 12:55:24.502 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:55:24.502 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 12:55:24.502 DEBUG 32496 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:55:24.509 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:55:24.509 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 12:55:24.510 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:55:24.510 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:55:26.093 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:55:26.094 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:55:26.094  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:55:26.094  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:55:26.094  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:55:26.094 DEBUG 32496 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:55:26.094 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 12:55:26.094 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:55:26.094 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 12:55:26.094 DEBUG 32496 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:55:26.106 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:55:26.107 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 12:55:26.108 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:55:26.108 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:55:27.287 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:55:27.287 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:55:27.287  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:55:27.287  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:55:27.293  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:55:27.293 DEBUG 32496 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:55:27.293 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:55:27.293 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:55:27.293 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:55:27.293 DEBUG 32496 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:55:27.321 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:55:27.321 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:55:27.321 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:55:27.321 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:55:29.682 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 12:55:29.682 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:55:29.683  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:55:29.686  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:55:29.687  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:55:29.687 DEBUG 32496 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:55:29.688 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 12:55:29.688 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 12:55:29.688 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 12:55:29.688 DEBUG 32496 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 12:55:29.705 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:55:29.705 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 12:55:29.705 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:55:29.705 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:55:29.814 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:55:29.814 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:55:29.815  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:55:29.816  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:55:29.817  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:55:29.817 DEBUG 32496 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:55:29.817 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:55:29.817 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:55:29.817 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:55:29.817 DEBUG 32496 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:55:29.860 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:55:29.861 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:55:29.861 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:55:29.861 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:55:30.862 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:55:30.862 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:55:30.863  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:55:30.864  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:55:30.865  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:55:30.865 DEBUG 32496 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:55:30.865 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 12:55:30.866 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 12:55:30.866 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 12:55:30.866 DEBUG 32496 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 12:55:30.874 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:55:30.874 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 12:55:30.875 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:55:30.875 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:55:37.939 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 12:55:37.939 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:55:37.940  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:55:37.943  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:55:37.943  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:55:37.943 DEBUG 32496 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:55:37.944 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 12:55:37.945 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 12:55:37.945 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 12:55:37.945 DEBUG 32496 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 12:55:37.960 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:55:37.961 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 12:55:37.961 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:55:37.962 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:55:37.984 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:55:37.985 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:55:37.985  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:55:37.989  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:55:37.990  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:55:37.990 DEBUG 32496 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:55:37.990 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:55:37.990 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:55:37.990 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:55:37.991 DEBUG 32496 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:55:38.028 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:55:38.028 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:55:38.028 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:55:38.028 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:55:56.828 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/stats
2025-05-07 12:55:56.828 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 12:55:56.829 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:55:56.829 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/occupied
2025-05-07 12:55:56.830 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:55:56.830 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:55:56.830  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:55:56.830  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:55:56.830  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:55:56.831  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:55:56.831  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:55:56.833  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:55:56.831  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:55:56.833  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:55:56.833 DEBUG 32496 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:55:56.833  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:55:56.833 DEBUG 32496 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:55:56.833 DEBUG 32496 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:55:56.833 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:55:56.833 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:55:56.833 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/stats
2025-05-07 12:55:56.833 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 12:55:56.833 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms/occupied] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:55:56.833 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms/occupied
2025-05-07 12:55:56.833 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/stats", parameters={}
2025-05-07 12:55:56.833 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms/occupied", parameters={}
2025-05-07 12:55:56.833 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=", parameters={masked}
2025-05-07 12:55:56.833 DEBUG 32496 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getOccupiedRooms()
2025-05-07 12:55:56.833 DEBUG 32496 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutStats()
2025-05-07 12:55:56.833 DEBUG 32496 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutRecords(String, String, String, int, int)
2025-05-07 12:55:56.833  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.impl.CheckInServiceImpl  : Fetching checkout records for current month: 2025-05-01 to 2025-05-07
2025-05-07 12:55:56.836 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:55:56.836 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[], success=true, message=获取成功}]
2025-05-07 12:55:56.837 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:55:56.839 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:55:56.839 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:55:56.839 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, records=[]}, success=true, message=获取退房记录成功}]
2025-05-07 12:55:56.839 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:55:56.839 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:55:56.839 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:55:56.839 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={monthlyCheckouts=0, pendingCleanings=0, todayCheckouts=0}, success=true, message=获取 (truncated)...]
2025-05-07 12:55:56.842 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:55:56.842 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:00.112 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-07 12:56:00.112 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/count/today
2025-05-07 12:56:00.113 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:00.113 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:00.114  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:00.114  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:00.114  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:00.114  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:00.117  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:00.117  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:00.117 DEBUG 32496 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:00.117 DEBUG 32496 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:00.117 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/count/today] with attributes [authenticated]
2025-05-07 12:56:00.117 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-07 12:56:00.117 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/count/today
2025-05-07 12:56:00.117 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-07 12:56:00.117 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/count/today", parameters={}
2025-05-07 12:56:00.117 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-07 12:56:00.117 DEBUG 32496 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitorRecordsPageable(String, String, String, LocalDateTime, LocalDateTime, int, int, String[])
2025-05-07 12:56:00.117 DEBUG 32496 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#countTodayVisitors()
2025-05-07 12:56:00.117 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:00.117 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [0]
2025-05-07 12:56:00.117 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:00.121 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:00.122 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:00.123 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing com.hotel.entity.VisitorRecord instances]
2025-05-07 12:56:00.163 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:00.163 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:00.191 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:56:00.192 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:00.193  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:00.194  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:00.194  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:00.194 DEBUG 32496 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:00.194 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:56:00.194 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:56:00.194 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:56:00.194 DEBUG 32496 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:56:00.225 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:00.225 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:56:00.225 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:00.225 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:01.386 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 12:56:01.387 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:01.387  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:01.388  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:01.389  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:01.389 DEBUG 32496 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:01.389 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:56:01.389 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 12:56:01.389 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 12:56:01.389 DEBUG 32496 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 12:56:01.390  INFO 32496 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 12:56:01.390 DEBUG 32496 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 12:56:01.396 DEBUG 32496 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=30, TotalPages=3
2025-05-07 12:56:01.398 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:01.398 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 12:56:01.399 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:01.399 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:01.693 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 12:56:01.693 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:01.694  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:01.695  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:01.695  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:01.695 DEBUG 32496 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:01.696 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 12:56:01.696 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 12:56:01.696 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 12:56:01.696 DEBUG 32496 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 12:56:01.706 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:01.706 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 12:56:01.712 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:01.713 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:01.789 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:56:01.789 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 12:56:01.789 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 12:56:01.789 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:01.789 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:01.789 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:01.789  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:01.789  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:01.789  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:01.791  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:01.791  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:01.791  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:01.791  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:01.791 DEBUG 32496 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:01.791  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:01.791  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:01.793 DEBUG 32496 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:01.794 DEBUG 32496 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:01.794 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:56:01.794 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:56:01.794 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:56:01.794 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 12:56:01.794 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 12:56:01.794 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:56:01.794 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 12:56:01.794 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:56:01.794 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 12:56:01.794 DEBUG 32496 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 12:56:01.794 DEBUG 32496 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 12:56:01.794 DEBUG 32496 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:56:01.795  INFO 32496 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 12:56:01.795 DEBUG 32496 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 12:56:01.796 DEBUG 32496 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 12:56:01.796 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:01.796 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 12:56:01.796 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:01.796 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:01.816 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:01.826 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=9, pending=0, completed=9, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 12:56:01.827 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:01.827 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:01.837 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:01.837 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:56:01.838 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:01.839 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:02.142 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 12:56:02.142 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:02.147  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:02.148  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:02.148  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:02.148 DEBUG 32496 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:02.148 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:56:02.148 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 12:56:02.148 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 12:56:02.148 DEBUG 32496 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 12:56:02.148  INFO 32496 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 12:56:02.148 DEBUG 32496 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 12:56:02.162 DEBUG 32496 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 12:56:02.162 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:02.162 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 12:56:02.162 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:02.162 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:08.358 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:56:08.359 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:08.361  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:08.366  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:08.366  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:08.367 DEBUG 32496 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:08.368 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:56:08.368 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:56:08.369 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:56:08.369 DEBUG 32496 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:56:08.408 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:08.408 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:56:08.409 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:08.409 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:09.650 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending
2025-05-07 12:56:09.650 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:09.650  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:09.660  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:09.660  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:09.660 DEBUG 32496 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:09.660 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:56:09.660 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending
2025-05-07 12:56:09.660 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending", parameters={masked}
2025-05-07 12:56:09.660 DEBUG 32496 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 12:56:09.660  INFO 32496 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 12:56:09.660 DEBUG 32496 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 12:56:09.660 DEBUG 32496 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-07 12:56:09.660 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:09.670 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 12:56:09.672 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:09.672 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:09.921 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:56:09.921 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:09.921  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:09.926  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:09.927  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:09.927 DEBUG 32496 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:09.927 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:56:09.927 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:56:09.927 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:56:09.928 DEBUG 32496 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:56:09.963 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:09.963 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:56:09.963 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:09.963 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:09.997 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 12:56:09.997 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 12:56:09.997 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:09.997  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:09.997 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:10.004  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:10.004  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:10.004  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:10.004 DEBUG 32496 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:10.004  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:10.004 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:56:10.004  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:10.004 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 12:56:10.004 DEBUG 32496 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:10.004 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 12:56:10.004 DEBUG 32496 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 12:56:10.004 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:56:10.004 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 12:56:10.004 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 12:56:10.004 DEBUG 32496 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 12:56:10.010  INFO 32496 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 12:56:10.010 DEBUG 32496 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 12:56:10.012 DEBUG 32496 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 12:56:10.016 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:10.017 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 12:56:10.018 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:10.018 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:10.034 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:10.048 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=9, pending=0, completed=9, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 12:56:10.049 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:10.049 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:10.060 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 12:56:10.060 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:10.060  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:10.063  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:10.064  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:10.064 DEBUG 32496 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:10.064 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:56:10.065 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 12:56:10.065 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 12:56:10.065 DEBUG 32496 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 12:56:10.066  INFO 32496 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 12:56:10.066 DEBUG 32496 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 12:56:10.073 DEBUG 32496 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 12:56:10.075 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:10.076 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 12:56:10.077 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:10.077 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:13.745 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 12:56:13.745 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:13.745  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:13.747  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:13.747  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:13.747 DEBUG 32496 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:13.747 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:56:13.747 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 12:56:13.747 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 12:56:13.747 DEBUG 32496 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 12:56:13.747  INFO 32496 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 12:56:13.747 DEBUG 32496 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 12:56:13.754 DEBUG 32496 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=30, TotalPages=3
2025-05-07 12:56:13.755 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:13.755 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 12:56:13.755 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:13.755 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:13.996 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:56:13.996 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:13.996  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:14.002  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:14.002  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:14.002 DEBUG 32496 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:14.003 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:56:14.003 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:56:14.003 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:56:14.003 DEBUG 32496 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:56:14.037 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:14.037 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:56:14.037 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:14.038 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:14.138 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 12:56:14.138 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 12:56:14.138 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:14.138 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:14.139  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:14.139  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:14.140  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:14.140  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:14.140 DEBUG 32496 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:14.141 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:56:14.141  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:14.141 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 12:56:14.141  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:14.141 DEBUG 32496 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:14.141 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 12:56:14.141 DEBUG 32496 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 12:56:14.141 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:56:14.141 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 12:56:14.141 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 12:56:14.141 DEBUG 32496 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 12:56:14.142  INFO 32496 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 12:56:14.142 DEBUG 32496 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 12:56:14.144 DEBUG 32496 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 12:56:14.144 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:14.144 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 12:56:14.144 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:14.144 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:14.157 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:14.171 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=9, pending=0, completed=9, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 12:56:14.171 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:14.172 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:14.181 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 12:56:14.181 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:14.181  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:14.184  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:14.184  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:14.184 DEBUG 32496 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:14.184 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:56:14.185 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 12:56:14.185 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 12:56:14.185 DEBUG 32496 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 12:56:14.186  INFO 32496 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 12:56:14.186 DEBUG 32496 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 12:56:14.192 DEBUG 32496 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 12:56:14.193 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:14.193 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 12:56:14.193 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:14.193 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:25.738 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 12:56:25.738 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:25.738  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:56:25.738  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:56:25.738  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:56:25.738 DEBUG 32496 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:56:25.748 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 12:56:25.748 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 12:56:25.748 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 12:56:25.748 DEBUG 32496 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 12:56:25.748  INFO 32496 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:56:25.748  INFO 32496 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 12:56:25.748  INFO 32496 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:56:25.748  INFO 32496 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 房间 501 已存在未完成的清洁任务，跳过任务创建
2025-05-07 12:56:25.748  INFO 32496 --- [http-nio-8090-exec-9] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 12:56:25.758 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:25.758 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=2, generatedTasksCount=0, currentPage=0, content=[Task(id=14, roomNumber=501, roomType=豪 (truncated)...]
2025-05-07 12:56:25.758 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:25.758 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:25.788 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 12:56:25.788 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:25.788  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:56:25.788  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:56:25.788  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:56:25.788 DEBUG 32496 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:56:25.788 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 12:56:25.788 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 12:56:25.788 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 12:56:25.788 DEBUG 32496 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 12:56:25.788  INFO 32496 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 12:56:25.798  INFO 32496 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 12:56:25.798  INFO 32496 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 12:56:25.798  INFO 32496 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 房间 501 已存在未完成的清洁任务，跳过任务创建
2025-05-07 12:56:25.798  INFO 32496 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 12:56:25.798 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:25.798 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 12:56:25.798 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:25.798 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:26.488 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 12:56:26.488 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:26.488  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 12:56:26.488  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 12:56:26.488  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 12:56:26.488 DEBUG 32496 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 12:56:26.488 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 12:56:26.488 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 12:56:26.488 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 12:56:26.488 DEBUG 32496 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 12:56:26.508 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:26.508 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=7, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 12:56:26.508 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:26.508 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:30.202 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:56:30.202 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:30.202  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:30.204  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:30.204  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:30.204 DEBUG 32496 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:30.204 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:56:30.204 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:56:30.204 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:56:30.204 DEBUG 32496 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:56:30.231 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:30.231 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:56:30.231 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:30.231 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:56:38.040 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:56:38.040 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:56:38.044  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:56:38.047  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:56:38.047  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:56:38.047 DEBUG 32496 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:56:38.047 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:56:38.047 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:56:38.047 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:56:38.047 DEBUG 32496 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:56:38.079 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:56:38.080 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:56:38.080 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:56:38.080 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:57:00.189 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:57:00.190 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:57:00.190  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:57:00.191  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:57:00.192  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:57:00.192 DEBUG 32496 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:57:00.192 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:57:00.192 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:57:00.192 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:57:00.192 DEBUG 32496 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:57:00.215 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:57:00.215 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:57:00.216 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:57:00.216 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:57:08.054 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:57:08.054 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:57:08.055  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:57:08.057  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:57:08.057  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:57:08.057 DEBUG 32496 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:57:08.058 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:57:08.058 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:57:08.058 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:57:08.058 DEBUG 32496 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:57:08.084 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:57:08.084 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:57:08.085 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:57:08.085 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:57:30.185 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:57:30.185 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:57:30.185  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:57:30.191  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:57:30.192  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:57:30.192 DEBUG 32496 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:57:30.192 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:57:30.192 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:57:30.192 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:57:30.192 DEBUG 32496 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:57:30.220 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:57:30.220 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:57:30.220 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:57:30.220 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:57:38.040 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:57:38.040 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:57:38.040  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:57:38.040  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:57:38.040  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:57:38.040 DEBUG 32496 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:57:38.040 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:57:38.040 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:57:38.040 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:57:38.040 DEBUG 32496 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:57:38.070 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:57:38.070 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:57:38.070 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:57:38.070 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:58:00.192 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:58:00.192 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:58:00.192  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:58:00.192  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:58:00.192  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:58:00.192 DEBUG 32496 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:58:00.192 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:58:00.192 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:58:00.192 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:58:00.192 DEBUG 32496 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:58:00.212 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:58:00.212 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:58:00.212 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:58:00.212 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:58:08.043 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:58:08.043 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:58:08.043  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:58:08.043  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:58:08.043  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:58:08.043 DEBUG 32496 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:58:08.043 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:58:08.043 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:58:08.043 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:58:08.043 DEBUG 32496 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:58:08.063 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:58:08.063 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:58:08.063 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:58:08.063 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:58:30.182 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:58:30.183 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:58:30.183  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:58:30.183  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:58:30.183  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:58:30.183 DEBUG 32496 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:58:30.183 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:58:30.183 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:58:30.187 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:58:30.187 DEBUG 32496 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:58:30.210 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:58:30.210 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:58:30.210 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:58:30.210 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:58:38.046 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:58:38.047 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:58:38.048  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:58:38.050  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:58:38.050  INFO 32496 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:58:38.050 DEBUG 32496 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:58:38.050 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:58:38.050 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:58:38.050 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:58:38.050 DEBUG 32496 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:58:38.078 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:58:38.078 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:58:38.078 DEBUG 32496 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:58:38.078 DEBUG 32496 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:58:41.961 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 12:58:41.961 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:58:41.962  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:58:41.964  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:58:41.965  INFO 32496 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:58:41.965 DEBUG 32496 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:58:41.965 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 12:58:41.966 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 12:58:41.966 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 12:58:41.966 DEBUG 32496 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 12:58:41.985 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:58:41.985 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 12:58:41.987 DEBUG 32496 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:58:41.987 DEBUG 32496 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:58:42.082 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/status-counts
2025-05-07 12:58:42.082 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:58:42.083  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:58:42.085  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:58:42.086  INFO 32496 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:58:42.086 DEBUG 32496 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:58:42.087 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/admin/rooms/status-counts] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 12:58:42.088 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-07 12:58:42.089 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:58:42.093 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 12:58:42.094 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:58:42.094 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 12:58:42.094 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 12:58:42.101 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 12:58:42.101 DEBUG 32496 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 12:58:42.102 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:58:42.103 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-07 12:58:42.104 DEBUG 32496 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-07 12:58:42.104 DEBUG 32496 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:59:00.201 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:59:00.202 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:59:00.202  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:59:00.204  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:59:00.204  INFO 32496 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:59:00.204 DEBUG 32496 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:59:00.204 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:59:00.204 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:59:00.204 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:59:00.204 DEBUG 32496 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:59:00.224 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:59:00.224 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:59:00.225 DEBUG 32496 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:59:00.225 DEBUG 32496 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:59:08.054 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 12:59:08.054 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:59:08.055  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:59:08.057  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:59:08.057  INFO 32496 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:59:08.057 DEBUG 32496 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:59:08.058 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 12:59:08.058 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 12:59:08.058 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 12:59:08.058 DEBUG 32496 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 12:59:08.085 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:59:08.085 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 12:59:08.085 DEBUG 32496 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:59:08.086 DEBUG 32496 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:59:12.427 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/status-counts
2025-05-07 12:59:12.427 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:59:12.427  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:59:12.429  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:59:12.430  INFO 32496 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:59:12.430 DEBUG 32496 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:59:12.430 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/admin/rooms/status-counts] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 12:59:12.430 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-07 12:59:12.430 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:59:12.431 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 12:59:12.431 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:59:12.431 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 12:59:12.431 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 12:59:12.431 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 12:59:12.431 DEBUG 32496 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 12:59:12.432 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:59:12.432 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-07 12:59:12.432 DEBUG 32496 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-07 12:59:12.432 DEBUG 32496 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:59:21.688 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 12:59:21.689 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:59:21.689  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:59:21.691  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:59:21.692  INFO 32496 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:59:21.692 DEBUG 32496 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:59:21.692 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 12:59:21.692 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 12:59:21.692 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 12:59:21.692 DEBUG 32496 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 12:59:21.705 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:59:21.705 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 12:59:21.706 DEBUG 32496 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:59:21.706 DEBUG 32496 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:59:21.755 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/status-counts
2025-05-07 12:59:21.755 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:59:21.756  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:59:21.759  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:59:21.759  INFO 32496 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:59:21.759 DEBUG 32496 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:59:21.760 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/admin/rooms/status-counts] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 12:59:21.760 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-07 12:59:21.760 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:59:21.761 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 12:59:21.761 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:59:21.761 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 12:59:21.761 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 12:59:21.762 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 12:59:21.763 DEBUG 32496 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 12:59:21.764 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:59:21.764 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-07 12:59:21.765 DEBUG 32496 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-07 12:59:21.765 DEBUG 32496 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:59:46.791 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 12:59:46.792 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:59:46.792  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:59:46.796  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:59:46.796  INFO 32496 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:59:46.796 DEBUG 32496 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:59:46.796 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 12:59:46.797 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 12:59:46.797 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 12:59:46.797 DEBUG 32496 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 12:59:46.818 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:59:46.819 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 12:59:46.820 DEBUG 32496 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 12:59:46.820 DEBUG 32496 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:59:46.923 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/status-counts
2025-05-07 12:59:46.923 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:59:46.924  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 12:59:46.928  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 12:59:46.928  INFO 32496 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 12:59:46.929 DEBUG 32496 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 12:59:46.930 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/admin/rooms/status-counts] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 12:59:46.931 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-07 12:59:46.931 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:59:46.931 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 12:59:46.931 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 12:59:46.931 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 12:59:46.932 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 12:59:46.932 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 12:59:46.933 DEBUG 32496 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 12:59:46.933 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 12:59:46.934 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-07 12:59:46.935 DEBUG 32496 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-07 12:59:46.935 DEBUG 32496 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 12:59:48.135  INFO 32496 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 12:59:48.135  INFO 32496 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 12:59:48.145  INFO 32496 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 12:59:57.918  INFO 19828 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 19828 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 12:59:57.918 DEBUG 19828 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 12:59:57.918  INFO 19828 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 12:59:58.886  INFO 19828 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 12:59:59.112  INFO 19828 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 220 ms. Found 19 JPA repository interfaces.
2025-05-07 12:59:59.766  INFO 19828 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 12:59:59.776  INFO 19828 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 12:59:59.776  INFO 19828 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 12:59:59.776  INFO 19828 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 12:59:59.787  INFO 19828 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 12:59:59.799  INFO 19828 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 12:59:59.800  INFO 19828 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 12:59:59.964  INFO 19828 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 12:59:59.964  INFO 19828 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2002 ms
2025-05-07 13:00:00.151  INFO 19828 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 13:00:00.225  INFO 19828 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 13:00:00.447  INFO 19828 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 13:00:00.617  INFO 19828 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 13:00:01.051  INFO 19828 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 13:00:01.071  INFO 19828 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 13:00:02.496  INFO 19828 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 13:00:02.509  INFO 19828 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 13:00:03.007 DEBUG 19828 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 13:00:03.007 DEBUG 19828 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 13:00:03.999 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 13:00:04.009 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 13:00:04.009 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 13:00:04.009 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 13:00:04.009 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 13:00:04.009 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 13:00:04.009 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 13:00:04.009 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 13:00:04.009 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 13:00:04.009 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 13:00:04.009 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 13:00:04.009 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 13:00:04.009 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 13:00:04.018 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 13:00:04.018 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 13:00:04.018 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 13:00:04.019 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 13:00:04.029 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 13:00:04.029 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 13:00:04.029 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 13:00:04.029 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 13:00:04.029 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 13:00:04.029 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 13:00:04.029 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 13:00:04.029 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 13:00:04.029 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 13:00:04.029 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 13:00:04.029 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 13:00:04.029 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 13:00:04.029 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 13:00:04.029 DEBUG 19828 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 13:00:04.039  INFO 19828 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6079d219, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4ed90b04, org.springframework.security.web.context.SecurityContextPersistenceFilter@1798c749, org.springframework.security.web.header.HeaderWriterFilter@4b718c45, org.springframework.web.filter.CorsFilter@943cf5, org.springframework.security.web.authentication.logout.LogoutFilter@834b0f7, com.hotel.config.JwtAuthenticationFilter@2e6f1f48, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a83d61c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@624268ab, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@686ace1f, org.springframework.security.web.session.SessionManagementFilter@495598c5, org.springframework.security.web.access.ExceptionTranslationFilter@5b9ca528, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@53bc6492]
2025-05-07 13:00:04.109  WARN 19828 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 13:00:04.272 DEBUG 19828 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 13:00:04.299  INFO 19828 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 13:00:04.362 DEBUG 19828 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 179 mappings in 'requestMappingHandlerMapping'
2025-05-07 13:00:04.370 DEBUG 19828 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 13:00:04.383 DEBUG 19828 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 13:00:04.390 DEBUG 19828 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 13:00:04.591  INFO 19828 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 13:00:04.607  INFO 19828 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.135 seconds (JVM running for 8.045)
2025-05-07 13:00:09.040  INFO 19828 --- [http-nio-8090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 13:00:09.040  INFO 19828 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 13:00:09.040 DEBUG 19828 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 13:00:09.040 DEBUG 19828 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 13:00:09.040 DEBUG 19828 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 13:00:09.042 DEBUG 19828 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@318ca53a
2025-05-07 13:00:09.042 DEBUG 19828 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@20a434a8
2025-05-07 13:00:09.042 DEBUG 19828 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 13:00:09.043  INFO 19828 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-07 13:00:09.059 DEBUG 19828 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/21
2025-05-07 13:00:09.059 DEBUG 19828 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 13:00:09.064 DEBUG 19828 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:00:09.064 DEBUG 19828 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:00:09.070 DEBUG 19828 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 13:00:09.080 DEBUG 19828 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 13:00:09.080 DEBUG 19828 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 13:00:09.080 DEBUG 19828 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 13:00:09.090 DEBUG 19828 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 13:00:09.155  INFO 19828 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 晚安福福
2025-05-07 13:00:09.155  INFO 19828 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 晚安福福, Role: CUSTOMER
2025-05-07 13:00:09.155  INFO 19828 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CUSTOMER]
2025-05-07 13:00:09.155 DEBUG 19828 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '晚安福福' 认证成功, 设置 SecurityContext
2025-05-07 13:00:09.155 DEBUG 19828 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/21] with attributes [authenticated]
2025-05-07 13:00:09.155 DEBUG 19828 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/21
2025-05-07 13:00:09.155 DEBUG 19828 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/21", parameters={}
2025-05-07 13:00:09.165 DEBUG 19828 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-07 13:00:09.252 DEBUG 19828 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:00:09.252 DEBUG 19828 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 13:00:09.257 DEBUG 19828 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:00:09.269 DEBUG 19828 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=21, username=晚安福福, name=发而且, phone=1 (truncated)...]
2025-05-07 13:00:09.288 DEBUG 19828 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:00:09.288 DEBUG 19828 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:00:09.292 DEBUG 19828 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:00:09.292 DEBUG 19828 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:00:10.689 DEBUG 19828 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/21
2025-05-07 13:00:10.689 DEBUG 19828 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:00:10.691  INFO 19828 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 晚安福福
2025-05-07 13:00:10.694  INFO 19828 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 晚安福福, Role: CUSTOMER
2025-05-07 13:00:10.695  INFO 19828 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CUSTOMER]
2025-05-07 13:00:10.695 DEBUG 19828 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '晚安福福' 认证成功, 设置 SecurityContext
2025-05-07 13:00:10.696 DEBUG 19828 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/21] with attributes [authenticated]
2025-05-07 13:00:10.697 DEBUG 19828 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/21
2025-05-07 13:00:10.697 DEBUG 19828 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/21", parameters={}
2025-05-07 13:00:10.698 DEBUG 19828 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-07 13:00:10.704 DEBUG 19828 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:00:10.705 DEBUG 19828 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=21, username=晚安福福, name=发而且, phone=1 (truncated)...]
2025-05-07 13:00:10.706 DEBUG 19828 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:00:10.707 DEBUG 19828 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:00:11.976 DEBUG 19828 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-07 13:00:11.977 DEBUG 19828 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:00:11.978  INFO 19828 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 晚安福福
2025-05-07 13:00:11.982  INFO 19828 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 晚安福福, Role: CUSTOMER
2025-05-07 13:00:11.983  INFO 19828 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CUSTOMER]
2025-05-07 13:00:11.983 DEBUG 19828 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '晚安福福' 认证成功, 设置 SecurityContext
2025-05-07 13:00:11.983 DEBUG 19828 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-07 13:00:11.983 DEBUG 19828 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-07 13:00:11.983 DEBUG 19828 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-07 13:00:11.983 DEBUG 19828 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-07 13:00:11.998  WARN 19828 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'null' and calling findByUser only.
2025-05-07 13:00:12.008 DEBUG 19828 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:00:12.008 DEBUG 19828 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 13:00:12.018 DEBUG 19828 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:00:12.025 DEBUG 19828 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:00:13.056 DEBUG 19828 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-07 13:00:13.056 DEBUG 19828 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:00:13.058  INFO 19828 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 晚安福福
2025-05-07 13:00:13.061  INFO 19828 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 晚安福福, Role: CUSTOMER
2025-05-07 13:00:13.061  INFO 19828 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CUSTOMER]
2025-05-07 13:00:13.062 DEBUG 19828 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '晚安福福' 认证成功, 设置 SecurityContext
2025-05-07 13:00:13.064 DEBUG 19828 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-07 13:00:13.064 DEBUG 19828 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-07 13:00:13.064 DEBUG 19828 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-07 13:00:13.064 DEBUG 19828 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-07 13:00:13.077  INFO 19828 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 21
2025-05-07 13:00:13.077  INFO 19828 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 21
2025-05-07 13:00:13.077  INFO 19828 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 6, Points Earned from DB: 0
2025-05-07 13:00:13.077  INFO 19828 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Skipping earn record ID: 6 because pointsEarned is <= 0
2025-05-07 13:00:13.084  INFO 19828 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 0
2025-05-07 13:00:13.084  INFO 19828 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 0
2025-05-07 13:00:13.084  WARN 19828 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Page start index 0 is out of bounds, history is empty. Returning empty list.
2025-05-07 13:00:13.084  INFO 19828 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 0 history items for page 0 (size 10) for userId: 21. Total items: 0
2025-05-07 13:00:13.084 DEBUG 19828 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:00:13.084 DEBUG 19828 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-07 13:00:13.084 DEBUG 19828 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:00:13.084 DEBUG 19828 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:00:13.939 DEBUG 19828 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-07 13:00:13.939 DEBUG 19828 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:00:13.939  INFO 19828 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 晚安福福
2025-05-07 13:00:13.946  INFO 19828 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 晚安福福, Role: CUSTOMER
2025-05-07 13:00:13.946  INFO 19828 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CUSTOMER]
2025-05-07 13:00:13.946 DEBUG 19828 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '晚安福福' 认证成功, 设置 SecurityContext
2025-05-07 13:00:13.946 DEBUG 19828 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-07 13:00:13.946 DEBUG 19828 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-07 13:00:13.946 DEBUG 19828 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-07 13:00:13.946 DEBUG 19828 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-07 13:00:13.952  WARN 19828 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'null' and calling findByUser only.
2025-05-07 13:00:13.959 DEBUG 19828 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:00:13.959 DEBUG 19828 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 13:00:13.966 DEBUG 19828 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:00:13.966 DEBUG 19828 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:00:16.450 DEBUG 19828 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-07 13:00:16.451 DEBUG 19828 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:00:16.453  INFO 19828 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 晚安福福
2025-05-07 13:00:16.453  INFO 19828 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 晚安福福, Role: CUSTOMER
2025-05-07 13:00:16.453  INFO 19828 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CUSTOMER]
2025-05-07 13:00:16.453 DEBUG 19828 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '晚安福福' 认证成功, 设置 SecurityContext
2025-05-07 13:00:16.453 DEBUG 19828 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-07 13:00:16.458 DEBUG 19828 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-07 13:00:16.458 DEBUG 19828 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-07 13:00:16.458 DEBUG 19828 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-07 13:00:16.464  INFO 19828 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 21
2025-05-07 13:00:16.466  INFO 19828 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 21
2025-05-07 13:00:16.466  INFO 19828 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 6, Points Earned from DB: 0
2025-05-07 13:00:16.466  INFO 19828 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Skipping earn record ID: 6 because pointsEarned is <= 0
2025-05-07 13:00:16.466  INFO 19828 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 0
2025-05-07 13:00:16.466  INFO 19828 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 0
2025-05-07 13:00:16.466  WARN 19828 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Page start index 0 is out of bounds, history is empty. Returning empty list.
2025-05-07 13:00:16.466  INFO 19828 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 0 history items for page 0 (size 10) for userId: 21. Total items: 0
2025-05-07 13:00:16.466 DEBUG 19828 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:00:16.466 DEBUG 19828 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-07 13:00:16.466 DEBUG 19828 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:00:16.466 DEBUG 19828 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:00:18.099 DEBUG 19828 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-07 13:00:18.099 DEBUG 19828 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:00:18.099  INFO 19828 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 晚安福福
2025-05-07 13:00:18.105  INFO 19828 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 晚安福福, Role: CUSTOMER
2025-05-07 13:00:18.105  INFO 19828 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CUSTOMER]
2025-05-07 13:00:18.105 DEBUG 19828 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '晚安福福' 认证成功, 设置 SecurityContext
2025-05-07 13:00:18.105 DEBUG 19828 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-07 13:00:18.105 DEBUG 19828 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-07 13:00:18.105 DEBUG 19828 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-07 13:00:18.105 DEBUG 19828 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-07 13:00:18.112  INFO 19828 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 21
2025-05-07 13:00:18.112  INFO 19828 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 21
2025-05-07 13:00:18.112  INFO 19828 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 6, Points Earned from DB: 0
2025-05-07 13:00:18.112  INFO 19828 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Skipping earn record ID: 6 because pointsEarned is <= 0
2025-05-07 13:00:18.112  INFO 19828 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 0
2025-05-07 13:00:18.112  INFO 19828 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 0
2025-05-07 13:00:18.118  WARN 19828 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Page start index 0 is out of bounds, history is empty. Returning empty list.
2025-05-07 13:00:18.118  INFO 19828 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 0 history items for page 0 (size 10) for userId: 21. Total items: 0
2025-05-07 13:00:18.118 DEBUG 19828 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:00:18.119 DEBUG 19828 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-07 13:00:18.120 DEBUG 19828 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:00:18.120 DEBUG 19828 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:00:18.167 DEBUG 19828 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/status-counts
2025-05-07 13:00:18.167 DEBUG 19828 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:00:18.168  INFO 19828 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:00:18.168  INFO 19828 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:00:18.168  INFO 19828 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:00:18.168 DEBUG 19828 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:00:18.175 DEBUG 19828 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/admin/rooms/status-counts] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 13:00:18.175 DEBUG 19828 --- [http-nio-8090-exec-9] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-07 13:00:18.175 DEBUG 19828 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:00:18.175 DEBUG 19828 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 13:00:18.175 DEBUG 19828 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:00:18.175 DEBUG 19828 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 13:00:18.175 DEBUG 19828 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 13:00:18.182 DEBUG 19828 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 13:00:18.182 DEBUG 19828 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 13:00:18.182 DEBUG 19828 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:00:18.182 DEBUG 19828 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-07 13:00:18.182 DEBUG 19828 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-07 13:00:18.182 DEBUG 19828 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:00:18.350 DEBUG 19828 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-07 13:00:18.350 DEBUG 19828 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:00:18.351  INFO 19828 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 晚安福福
2025-05-07 13:00:18.351  INFO 19828 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 晚安福福, Role: CUSTOMER
2025-05-07 13:00:18.351  INFO 19828 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CUSTOMER]
2025-05-07 13:00:18.351 DEBUG 19828 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '晚安福福' 认证成功, 设置 SecurityContext
2025-05-07 13:00:18.351 DEBUG 19828 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-07 13:00:18.351 DEBUG 19828 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-07 13:00:18.351 DEBUG 19828 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-07 13:00:18.351 DEBUG 19828 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-07 13:00:18.364  WARN 19828 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'null' and calling findByUser only.
2025-05-07 13:00:18.373 DEBUG 19828 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:00:18.373 DEBUG 19828 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 13:00:18.373 DEBUG 19828 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:00:18.376 DEBUG 19828 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:00:22.145 DEBUG 19828 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/invitation-codes/all
2025-05-07 13:00:22.145 DEBUG 19828 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:00:22.145  INFO 19828 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 13:00:22.155  INFO 19828 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 13:00:22.155  INFO 19828 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 13:00:22.155 DEBUG 19828 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 13:00:22.155 DEBUG 19828 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/invitation-codes/all] with attributes [authenticated]
2025-05-07 13:00:22.155 DEBUG 19828 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/invitation-codes/all
2025-05-07 13:00:22.155 DEBUG 19828 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/invitation-codes/all", parameters={}
2025-05-07 13:00:22.155 DEBUG 19828 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.InvitationCodeController#getAllInvitationCodes()
2025-05-07 13:00:22.165 DEBUG 19828 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:00:22.165 DEBUG 19828 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[InvitationCode(id=12, code=L1R1O7TC, role=CLEANER, maxUses=1, currentUses=0, expiryDate=2025-06-01T (truncated)...]
2025-05-07 13:00:22.175 DEBUG 19828 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:00:22.175 DEBUG 19828 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:00:30.760 DEBUG 19828 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 13:00:30.760 DEBUG 19828 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:00:30.762  INFO 19828 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:00:30.765  INFO 19828 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:00:30.766  INFO 19828 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:00:30.766 DEBUG 19828 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:00:30.766 DEBUG 19828 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 13:00:30.767 DEBUG 19828 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 13:00:30.767 DEBUG 19828 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 13:00:30.768 DEBUG 19828 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 13:00:30.801 DEBUG 19828 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:00:30.802 DEBUG 19828 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 13:00:30.803 DEBUG 19828 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:00:30.803 DEBUG 19828 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:00:30.843 DEBUG 19828 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/status-counts
2025-05-07 13:00:30.843 DEBUG 19828 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:00:30.846  INFO 19828 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:00:30.851  INFO 19828 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:00:30.851  INFO 19828 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:00:30.851 DEBUG 19828 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:00:30.852 DEBUG 19828 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/admin/rooms/status-counts] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 13:00:30.852 DEBUG 19828 --- [http-nio-8090-exec-4] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-07 13:00:30.853 DEBUG 19828 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:00:30.853 DEBUG 19828 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 13:00:30.854 DEBUG 19828 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:00:30.854 DEBUG 19828 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 13:00:30.855 DEBUG 19828 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 13:00:30.856 DEBUG 19828 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 13:00:30.857 DEBUG 19828 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 13:00:30.858 DEBUG 19828 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:00:30.859 DEBUG 19828 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-07 13:00:30.860 DEBUG 19828 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-07 13:00:30.861 DEBUG 19828 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:00:34.426  INFO 19828 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 13:00:34.426  INFO 19828 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 13:00:34.436  INFO 19828 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 13:00:38.953  INFO 32328 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 32328 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 13:00:38.955 DEBUG 32328 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 13:00:38.955  INFO 32328 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 13:00:39.873  INFO 32328 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 13:00:40.084  INFO 32328 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 196 ms. Found 19 JPA repository interfaces.
2025-05-07 13:00:40.682  INFO 32328 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 13:00:40.682  INFO 32328 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 13:00:40.682  INFO 32328 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 13:00:40.682  INFO 32328 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 13:00:40.692  INFO 32328 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 13:00:40.702  INFO 32328 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 13:00:40.702  INFO 32328 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 13:00:40.969  INFO 32328 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 13:00:40.969  INFO 32328 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1970 ms
2025-05-07 13:00:41.273  INFO 32328 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 13:00:41.536  INFO 32328 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 13:00:41.793  INFO 32328 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 13:00:41.916  INFO 32328 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 13:00:42.195  INFO 32328 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 13:00:42.215  INFO 32328 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 13:00:43.430  INFO 32328 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 13:00:43.440  INFO 32328 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 13:00:43.941 DEBUG 32328 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 13:00:43.941 DEBUG 32328 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 13:00:44.911 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 13:00:44.918 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 13:00:44.919 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 13:00:44.919 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 13:00:44.919 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 13:00:44.919 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 13:00:44.920 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 13:00:44.920 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 13:00:44.920 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 13:00:44.920 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 13:00:44.921 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 13:00:44.921 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 13:00:44.921 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 13:00:44.921 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 13:00:44.921 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 13:00:44.921 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 13:00:44.922 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 13:00:44.922 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 13:00:44.922 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 13:00:44.923 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 13:00:44.923 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 13:00:44.923 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 13:00:44.923 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 13:00:44.923 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 13:00:44.924 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 13:00:44.924 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 13:00:44.925 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 13:00:44.925 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 13:00:44.925 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 13:00:44.925 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 13:00:44.925 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 13:00:44.925 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 13:00:44.925 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 13:00:44.925 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 13:00:44.925 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 13:00:44.925 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 13:00:44.927 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 13:00:44.927 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 13:00:44.927 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 13:00:44.927 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 13:00:44.928 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 13:00:44.928 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 13:00:44.928 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 13:00:44.928 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 13:00:44.929 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 13:00:44.929 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 13:00:44.929 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 13:00:44.929 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 13:00:44.929 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 13:00:44.929 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 13:00:44.929 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 13:00:44.929 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 13:00:44.930 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 13:00:44.930 DEBUG 32328 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 13:00:44.936  INFO 32328 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@14927cd4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a106b26, org.springframework.security.web.context.SecurityContextPersistenceFilter@31887330, org.springframework.security.web.header.HeaderWriterFilter@3abd7b20, org.springframework.web.filter.CorsFilter@1e37cb10, org.springframework.security.web.authentication.logout.LogoutFilter@58ec3e8b, com.hotel.config.JwtAuthenticationFilter@64e247e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7bb4f09d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ee7a538, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@445d878c, org.springframework.security.web.session.SessionManagementFilter@c0b10ae, org.springframework.security.web.access.ExceptionTranslationFilter@5cdafb4d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@10efb806]
2025-05-07 13:00:44.996  WARN 32328 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 13:00:45.129 DEBUG 32328 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 13:00:45.143  INFO 32328 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 13:00:45.214 DEBUG 32328 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 179 mappings in 'requestMappingHandlerMapping'
2025-05-07 13:00:45.226 DEBUG 32328 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 13:00:45.237 DEBUG 32328 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 13:00:45.247 DEBUG 32328 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 13:00:45.437  INFO 32328 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 13:00:45.447  INFO 32328 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.965 seconds (JVM running for 7.798)
2025-05-07 13:01:00.977  INFO 32328 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 13:01:00.977  INFO 32328 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 13:01:00.977 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 13:01:00.977 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 13:01:00.977 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 13:01:00.977 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6cb5a64d
2025-05-07 13:01:00.977 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3b45a3e6
2025-05-07 13:01:00.977 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 13:01:00.977  INFO 32328 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-05-07 13:01:00.997 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/status-counts
2025-05-07 13:01:00.997 DEBUG 32328 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:01:01.067  INFO 32328 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:01:01.067  INFO 32328 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:01:01.067  INFO 32328 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:01:01.067 DEBUG 32328 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:01:01.087 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/admin/rooms/status-counts] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 13:01:01.087 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-07 13:01:01.087 DEBUG 32328 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:01:01.087 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 13:01:01.087 DEBUG 32328 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:01:01.087 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 13:01:01.087 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 13:01:01.097 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 13:01:01.107 DEBUG 32328 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 13:01:01.138 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:01:01.138 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-07 13:01:01.158 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-07 13:01:01.158 DEBUG 32328 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:01:28.891 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 13:01:28.891 DEBUG 32328 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:01:28.893  INFO 32328 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:01:28.896  INFO 32328 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:01:28.897  INFO 32328 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:01:28.897 DEBUG 32328 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:01:28.898 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 13:01:28.898 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 13:01:28.899 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 13:01:28.899 DEBUG 32328 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 13:01:29.050 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:01:29.051 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 13:01:29.070 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:01:29.071 DEBUG 32328 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:01:29.088 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/status-counts
2025-05-07 13:01:29.088 DEBUG 32328 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:01:29.090  INFO 32328 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:01:29.094  INFO 32328 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:01:29.094  INFO 32328 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:01:29.094 DEBUG 32328 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:01:29.095 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/admin/rooms/status-counts] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 13:01:29.095 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-07 13:01:29.095 DEBUG 32328 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:01:29.096 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 13:01:29.096 DEBUG 32328 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:01:29.097 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 13:01:29.097 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 13:01:29.099 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 13:01:29.100 DEBUG 32328 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 13:01:29.101 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:01:29.102 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-07 13:01:29.103 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-07 13:01:29.104 DEBUG 32328 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:01:59.452 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/status-counts
2025-05-07 13:01:59.452 DEBUG 32328 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:01:59.453  INFO 32328 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:01:59.458  INFO 32328 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:01:59.458  INFO 32328 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:01:59.458 DEBUG 32328 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:01:59.459 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/admin/rooms/status-counts] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 13:01:59.459 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-07 13:01:59.459 DEBUG 32328 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:01:59.459 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 13:01:59.460 DEBUG 32328 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:01:59.460 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 13:01:59.460 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 13:01:59.461 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 13:01:59.461 DEBUG 32328 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 13:01:59.462 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:01:59.462 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-07 13:01:59.463 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-07 13:01:59.463 DEBUG 32328 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:17.712 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 13:02:17.713 DEBUG 32328 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:17.714  INFO 32328 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:17.717  INFO 32328 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:17.718  INFO 32328 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:17.718 DEBUG 32328 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:17.718 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 13:02:17.718 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 13:02:17.719 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 13:02:17.719 DEBUG 32328 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 13:02:17.750 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:17.751 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 13:02:17.754 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:17.754 DEBUG 32328 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:17.825 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/status-counts
2025-05-07 13:02:17.826 DEBUG 32328 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:17.828  INFO 32328 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:17.833  INFO 32328 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:17.833  INFO 32328 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:17.833 DEBUG 32328 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:17.834 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/admin/rooms/status-counts] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 13:02:17.834 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-07 13:02:17.835 DEBUG 32328 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:17.835 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 13:02:17.836 DEBUG 32328 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:17.837 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 13:02:17.837 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 13:02:17.838 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 13:02:17.838 DEBUG 32328 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 13:02:17.839 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:17.840 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-07 13:02:17.841 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-07 13:02:17.841 DEBUG 32328 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:42.439 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/stats
2025-05-07 13:02:42.439 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/occupied
2025-05-07 13:02:42.439 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 13:02:42.439 DEBUG 32328 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:42.439 DEBUG 32328 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:42.440 DEBUG 32328 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:42.441  INFO 32328 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:42.441  INFO 32328 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:42.441  INFO 32328 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:42.445  INFO 32328 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:42.445  INFO 32328 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:42.445 DEBUG 32328 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:42.445  INFO 32328 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:42.445  INFO 32328 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:42.445 DEBUG 32328 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:42.445 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms/occupied] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:42.445 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms/occupied
2025-05-07 13:02:42.446 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms/occupied", parameters={}
2025-05-07 13:02:42.446 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:42.446 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/stats
2025-05-07 13:02:42.446 DEBUG 32328 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getOccupiedRooms()
2025-05-07 13:02:42.446  INFO 32328 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:42.446 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/stats", parameters={}
2025-05-07 13:02:42.446  INFO 32328 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:42.447 DEBUG 32328 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:42.447 DEBUG 32328 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutStats()
2025-05-07 13:02:42.447 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:42.447 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 13:02:42.448 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=", parameters={masked}
2025-05-07 13:02:42.449 DEBUG 32328 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutRecords(String, String, String, int, int)
2025-05-07 13:02:42.454 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:42.454 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[], success=true, message=获取成功}]
2025-05-07 13:02:42.456 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:42.456 DEBUG 32328 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:42.472  INFO 32328 --- [http-nio-8090-exec-8] c.hotel.service.impl.CheckInServiceImpl  : Fetching checkout records for current month: 2025-05-01 to 2025-05-07
2025-05-07 13:02:42.482 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:42.483 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={monthlyCheckouts=0, pendingCleanings=0, todayCheckouts=0}, success=true, message=获取 (truncated)...]
2025-05-07 13:02:42.484 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:42.484 DEBUG 32328 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:42.492 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:42.492 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, records=[]}, success=true, message=获取退房记录成功}]
2025-05-07 13:02:42.493 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:42.493 DEBUG 32328 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:42.800 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-07 13:02:42.800 DEBUG 32328 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:42.801  INFO 32328 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:42.804  INFO 32328 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:42.804  INFO 32328 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:42.804 DEBUG 32328 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:42.805 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-07 13:02:42.805 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-07 13:02:42.805 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-07 13:02:42.805 DEBUG 32328 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitorRecordsPageable(String, String, String, LocalDateTime, LocalDateTime, int, int, String[])
2025-05-07 13:02:42.860 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:42.861 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing com.hotel.entity.VisitorRecord instances]
2025-05-07 13:02:42.975 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:42.976 DEBUG 32328 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:43.116 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/count/today
2025-05-07 13:02:43.116 DEBUG 32328 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:43.117  INFO 32328 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:43.119  INFO 32328 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:43.119  INFO 32328 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:43.119 DEBUG 32328 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:43.120 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/count/today] with attributes [authenticated]
2025-05-07 13:02:43.120 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/count/today
2025-05-07 13:02:43.120 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/count/today", parameters={}
2025-05-07 13:02:43.120 DEBUG 32328 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#countTodayVisitors()
2025-05-07 13:02:43.125 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:43.125 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [0]
2025-05-07 13:02:43.126 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:43.126 DEBUG 32328 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:46.291 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 13:02:46.291 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 13:02:46.291 DEBUG 32328 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:46.291 DEBUG 32328 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:46.292  INFO 32328 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:46.292  INFO 32328 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:46.295  INFO 32328 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:46.295  INFO 32328 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:46.295  INFO 32328 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:46.296  INFO 32328 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:46.296 DEBUG 32328 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:46.296 DEBUG 32328 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:46.297 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 13:02:46.297 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:46.297 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 13:02:46.297 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 13:02:46.297 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 13:02:46.297 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 13:02:46.298 DEBUG 32328 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 13:02:46.298 DEBUG 32328 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 13:02:46.306  INFO 32328 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 13:02:46.306 DEBUG 32328 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 13:02:46.321 DEBUG 32328 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=30, TotalPages=3
2025-05-07 13:02:46.325 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:46.325 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 13:02:46.326 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:46.327 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:46.327 DEBUG 32328 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:46.331 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 13:02:46.335 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:46.336 DEBUG 32328 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:46.555 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 13:02:46.555 DEBUG 32328 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:46.555  INFO 32328 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:46.557  INFO 32328 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:46.557  INFO 32328 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:46.557 DEBUG 32328 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:46.558 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:46.558 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 13:02:46.558 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 13:02:46.558 DEBUG 32328 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 13:02:46.614 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:46.614 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 13:02:46.615 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:46.615 DEBUG 32328 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:46.725 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 13:02:46.725 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 13:02:46.725 DEBUG 32328 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:46.725 DEBUG 32328 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:46.728  INFO 32328 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:46.728  INFO 32328 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:46.730  INFO 32328 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:46.730  INFO 32328 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:46.730  INFO 32328 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:46.730  INFO 32328 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:46.730 DEBUG 32328 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:46.730 DEBUG 32328 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:46.731 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:46.731 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:46.731 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 13:02:46.731 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 13:02:46.731 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 13:02:46.731 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 13:02:46.731 DEBUG 32328 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 13:02:46.732 DEBUG 32328 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 13:02:46.732  INFO 32328 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 13:02:46.732 DEBUG 32328 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 13:02:46.736 DEBUG 32328 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 13:02:46.739 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:46.739 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 13:02:46.740 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:46.740 DEBUG 32328 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:46.763 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:46.794 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=9, pending=0, completed=9, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 13:02:46.797 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:46.797 DEBUG 32328 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:46.805 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 13:02:46.805 DEBUG 32328 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:46.806  INFO 32328 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:46.808  INFO 32328 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:46.809  INFO 32328 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:46.809 DEBUG 32328 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:46.809 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:46.809 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 13:02:46.810 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 13:02:46.810 DEBUG 32328 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 13:02:46.811  INFO 32328 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 13:02:46.811 DEBUG 32328 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 13:02:46.818 DEBUG 32328 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 13:02:46.820 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:46.820 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 13:02:46.821 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:46.821 DEBUG 32328 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:48.182 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/status-counts
2025-05-07 13:02:48.182 DEBUG 32328 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:48.183  INFO 32328 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:48.187  INFO 32328 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:48.187  INFO 32328 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:48.187 DEBUG 32328 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:48.187 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/admin/rooms/status-counts] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 13:02:48.188 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-07 13:02:48.188 DEBUG 32328 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:48.188 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 13:02:48.188 DEBUG 32328 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:48.188 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 13:02:48.188 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 13:02:48.188 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 13:02:48.189 DEBUG 32328 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 13:02:48.189 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:48.189 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-07 13:02:48.190 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-07 13:02:48.190 DEBUG 32328 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:53.388 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 13:02:53.388 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 13:02:53.388 DEBUG 32328 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:53.388 DEBUG 32328 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:53.389  INFO 32328 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:53.389  INFO 32328 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:53.391  INFO 32328 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:53.391  INFO 32328 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:53.392  INFO 32328 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:53.392  INFO 32328 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:53.392 DEBUG 32328 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:53.392 DEBUG 32328 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:53.392 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 13:02:53.392 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:53.392 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 13:02:53.392 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 13:02:53.392 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 13:02:53.393 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 13:02:53.393 DEBUG 32328 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 13:02:53.393 DEBUG 32328 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 13:02:53.394  INFO 32328 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 13:02:53.394 DEBUG 32328 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 13:02:53.403 DEBUG 32328 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=30, TotalPages=3
2025-05-07 13:02:53.405 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:53.406 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 13:02:53.407 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:53.407 DEBUG 32328 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:53.415 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:53.416 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 13:02:53.417 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:53.417 DEBUG 32328 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:53.544 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 13:02:53.544 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 13:02:53.544 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 13:02:53.545 DEBUG 32328 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:53.545 DEBUG 32328 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:53.545 DEBUG 32328 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:53.547  INFO 32328 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:53.547  INFO 32328 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:53.547  INFO 32328 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:53.549  INFO 32328 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:53.549  INFO 32328 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:53.549  INFO 32328 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:53.550  INFO 32328 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:53.550 DEBUG 32328 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:53.550 DEBUG 32328 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:53.550 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:53.550 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:53.550 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 13:02:53.550 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 13:02:53.550 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 13:02:53.550 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 13:02:53.550  INFO 32328 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:53.551 DEBUG 32328 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 13:02:53.551  INFO 32328 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:53.551 DEBUG 32328 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 13:02:53.551 DEBUG 32328 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:53.551 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:53.551 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 13:02:53.551 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 13:02:53.552 DEBUG 32328 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 13:02:53.552  INFO 32328 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 13:02:53.552 DEBUG 32328 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 13:02:53.556 DEBUG 32328 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 13:02:53.557 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:53.558 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 13:02:53.560 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:53.560 DEBUG 32328 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:53.573 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:53.585 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=9, pending=0, completed=9, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 13:02:53.587 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:53.587 DEBUG 32328 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:53.618 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:53.618 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 13:02:53.619 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:53.619 DEBUG 32328 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:53.660 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 13:02:53.661 DEBUG 32328 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:53.662  INFO 32328 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:53.664  INFO 32328 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:53.665  INFO 32328 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:53.665 DEBUG 32328 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:53.665 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:53.665 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 13:02:53.665 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 13:02:53.665 DEBUG 32328 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 13:02:53.666  INFO 32328 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 13:02:53.666 DEBUG 32328 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 13:02:53.673 DEBUG 32328 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 13:02:53.676 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:53.676 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 13:02:53.677 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:53.678 DEBUG 32328 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:55.341 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 13:02:55.342 DEBUG 32328 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:55.343  INFO 32328 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:55.346  INFO 32328 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:55.346  INFO 32328 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:55.346 DEBUG 32328 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:55.347 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:55.347 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 13:02:55.347 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 13:02:55.347 DEBUG 32328 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 13:02:55.348  INFO 32328 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 13:02:55.348 DEBUG 32328 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 13:02:55.355 DEBUG 32328 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=30, TotalPages=3
2025-05-07 13:02:55.357 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:55.357 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 13:02:55.358 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:55.358 DEBUG 32328 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:55.651 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07
2025-05-07 13:02:55.651 DEBUG 32328 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:55.652  INFO 32328 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:55.654  INFO 32328 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:55.654  INFO 32328 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:55.654 DEBUG 32328 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:55.655 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:55.655 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07
2025-05-07 13:02:55.655 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07", parameters={masked}
2025-05-07 13:02:55.655 DEBUG 32328 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 13:02:55.655  INFO 32328 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 13:02:55.656 DEBUG 32328 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 13:02:55.661 DEBUG 32328 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=13, TotalPages=2
2025-05-07 13:02:55.665 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:55.665 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 13:02:55.666 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:55.666 DEBUG 32328 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:55.715 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 13:02:55.715 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 13:02:55.715 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 13:02:55.715 DEBUG 32328 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:55.715 DEBUG 32328 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:55.715 DEBUG 32328 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:55.716  INFO 32328 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:55.716  INFO 32328 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:55.716  INFO 32328 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:55.719  INFO 32328 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:55.719  INFO 32328 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:55.719  INFO 32328 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:55.719  INFO 32328 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:55.720 DEBUG 32328 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:55.720 DEBUG 32328 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:55.720 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:55.720 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:55.720 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 13:02:55.720 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 13:02:55.720  INFO 32328 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:55.721  INFO 32328 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:55.721 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 13:02:55.721 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 13:02:55.721 DEBUG 32328 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:55.721 DEBUG 32328 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 13:02:55.721 DEBUG 32328 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 13:02:55.721 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:55.721 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 13:02:55.721 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 13:02:55.722 DEBUG 32328 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 13:02:55.722  INFO 32328 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 13:02:55.722 DEBUG 32328 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 13:02:55.725 DEBUG 32328 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 13:02:55.728 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:55.729 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 13:02:55.730 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:55.730 DEBUG 32328 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:55.743 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:55.759 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=9, pending=0, completed=9, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 13:02:55.761 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:55.761 DEBUG 32328 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:55.773 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:55.773 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 13:02:55.774 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:55.774 DEBUG 32328 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:56.084 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 13:02:56.084 DEBUG 32328 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:56.085  INFO 32328 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:56.087  INFO 32328 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:56.087  INFO 32328 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:56.087 DEBUG 32328 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:56.087 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:56.087 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 13:02:56.087 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 13:02:56.088 DEBUG 32328 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 13:02:56.088  INFO 32328 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 13:02:56.088 DEBUG 32328 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 13:02:56.094 DEBUG 32328 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 13:02:56.096 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:56.097 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 13:02:56.099 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:56.099 DEBUG 32328 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:56.952 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending
2025-05-07 13:02:56.953 DEBUG 32328 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:56.953  INFO 32328 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:56.956  INFO 32328 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:56.956  INFO 32328 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:56.956 DEBUG 32328 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:56.957 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:56.957 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending
2025-05-07 13:02:56.957 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending", parameters={masked}
2025-05-07 13:02:56.957 DEBUG 32328 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 13:02:56.958  INFO 32328 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 13:02:56.958 DEBUG 32328 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 13:02:56.963 DEBUG 32328 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-07 13:02:56.964 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:56.965 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 13:02:56.965 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:56.965 DEBUG 32328 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:57.211 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 13:02:57.211 DEBUG 32328 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:57.211  INFO 32328 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:57.214  INFO 32328 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:57.214  INFO 32328 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:57.214 DEBUG 32328 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:57.214 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:57.214 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 13:02:57.215 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 13:02:57.215 DEBUG 32328 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 13:02:57.250 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:57.250 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 13:02:57.250 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:57.251 DEBUG 32328 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:57.290 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 13:02:57.290 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 13:02:57.291 DEBUG 32328 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:57.291 DEBUG 32328 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:57.292  INFO 32328 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:57.292  INFO 32328 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:57.293  INFO 32328 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:57.293  INFO 32328 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:57.293  INFO 32328 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:57.293  INFO 32328 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:57.294 DEBUG 32328 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:57.294 DEBUG 32328 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:57.294 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:57.294 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:57.294 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 13:02:57.294 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 13:02:57.294 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 13:02:57.294 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 13:02:57.294 DEBUG 32328 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 13:02:57.294 DEBUG 32328 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 13:02:57.295  INFO 32328 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 13:02:57.295 DEBUG 32328 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 13:02:57.298 DEBUG 32328 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 13:02:57.300 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:57.300 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 13:02:57.301 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:57.301 DEBUG 32328 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:57.316 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:57.329 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=9, pending=0, completed=9, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 13:02:57.330 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:57.330 DEBUG 32328 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:57.339 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 13:02:57.339 DEBUG 32328 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:57.340  INFO 32328 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:57.342  INFO 32328 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:57.342  INFO 32328 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:57.343 DEBUG 32328 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:57.343 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:57.343 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 13:02:57.343 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 13:02:57.343 DEBUG 32328 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 13:02:57.344  INFO 32328 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 13:02:57.344 DEBUG 32328 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 13:02:57.351 DEBUG 32328 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 13:02:57.353 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:57.353 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 13:02:57.354 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:57.354 DEBUG 32328 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:59.850 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 13:02:59.850 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07
2025-05-07 13:02:59.851 DEBUG 32328 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:59.851 DEBUG 32328 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:02:59.852  INFO 32328 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:59.852  INFO 32328 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:02:59.855  INFO 32328 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:59.855  INFO 32328 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:02:59.855  INFO 32328 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:59.855  INFO 32328 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:02:59.855 DEBUG 32328 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:59.855 DEBUG 32328 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:02:59.855 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:59.855 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:02:59.856 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 13:02:59.856 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07
2025-05-07 13:02:59.856 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 13:02:59.856 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07", parameters={masked}
2025-05-07 13:02:59.856 DEBUG 32328 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 13:02:59.856 DEBUG 32328 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 13:02:59.857  INFO 32328 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 13:02:59.857 DEBUG 32328 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 13:02:59.857  INFO 32328 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 13:02:59.857 DEBUG 32328 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 13:02:59.864 DEBUG 32328 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=13, TotalPages=2
2025-05-07 13:02:59.864 DEBUG 32328 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=30, TotalPages=3
2025-05-07 13:02:59.865 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:59.866 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 13:02:59.866 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:02:59.866 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 13:02:59.867 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:59.867 DEBUG 32328 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:02:59.867 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:02:59.867 DEBUG 32328 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:00.096 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 13:03:00.096 DEBUG 32328 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:00.097  INFO 32328 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:03:00.100  INFO 32328 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:03:00.100  INFO 32328 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:03:00.100 DEBUG 32328 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:03:00.100 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:03:00.100 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 13:03:00.100 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 13:03:00.100 DEBUG 32328 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 13:03:00.134 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:00.134 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 13:03:00.135 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:00.135 DEBUG 32328 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:00.251 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 13:03:00.251 DEBUG 32328 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:00.251 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 13:03:00.251 DEBUG 32328 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:00.253  INFO 32328 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:03:00.253  INFO 32328 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:03:00.255  INFO 32328 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:03:00.255  INFO 32328 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:03:00.255  INFO 32328 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:03:00.255 DEBUG 32328 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:03:00.255  INFO 32328 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:03:00.255 DEBUG 32328 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:03:00.255 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:03:00.255 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:03:00.256 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 13:03:00.256 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 13:03:00.256 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 13:03:00.256 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 13:03:00.256 DEBUG 32328 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 13:03:00.256 DEBUG 32328 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 13:03:00.256  INFO 32328 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 13:03:00.257 DEBUG 32328 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 13:03:00.259 DEBUG 32328 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 13:03:00.261 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:00.261 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 13:03:00.263 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:00.263 DEBUG 32328 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:00.273 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:00.286 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=9, pending=0, completed=9, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 13:03:00.287 DEBUG 32328 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:00.287 DEBUG 32328 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:00.296 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 13:03:00.296 DEBUG 32328 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:00.297  INFO 32328 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:03:00.299  INFO 32328 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:03:00.299  INFO 32328 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:03:00.299 DEBUG 32328 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:03:00.299 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:03:00.299 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 13:03:00.299 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 13:03:00.300 DEBUG 32328 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 13:03:00.300  INFO 32328 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 13:03:00.300 DEBUG 32328 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 13:03:00.305 DEBUG 32328 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 13:03:00.307 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:00.307 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 13:03:00.307 DEBUG 32328 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:00.308 DEBUG 32328 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:02.955 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 13:03:02.955 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 13:03:02.956 DEBUG 32328 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:02.956 DEBUG 32328 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:02.957  INFO 32328 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:03:02.957  INFO 32328 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:03:02.959  INFO 32328 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:03:02.959  INFO 32328 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:03:02.959  INFO 32328 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:03:02.959  INFO 32328 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:03:02.959 DEBUG 32328 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:03:02.959 DEBUG 32328 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:03:02.960 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 13:03:02.960 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:03:02.960 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 13:03:02.960 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 13:03:02.960 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 13:03:02.960 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 13:03:02.960 DEBUG 32328 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 13:03:02.960 DEBUG 32328 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 13:03:02.961  INFO 32328 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 13:03:02.961 DEBUG 32328 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 13:03:02.967 DEBUG 32328 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=30, TotalPages=3
2025-05-07 13:03:02.969 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:02.970 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 13:03:02.971 DEBUG 32328 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:02.971 DEBUG 32328 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:02.981 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:02.981 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 13:03:02.982 DEBUG 32328 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:02.982 DEBUG 32328 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:03.109 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 13:03:03.109 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 13:03:03.109 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 13:03:03.109 DEBUG 32328 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:03.109 DEBUG 32328 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:03.109 DEBUG 32328 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:03.110  INFO 32328 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:03:03.110  INFO 32328 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:03:03.110  INFO 32328 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:03:03.112  INFO 32328 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:03:03.112  INFO 32328 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:03:03.112  INFO 32328 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:03:03.112  INFO 32328 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:03:03.112 DEBUG 32328 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:03:03.112 DEBUG 32328 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:03:03.112  INFO 32328 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:03:03.112  INFO 32328 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:03:03.112 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:03:03.112 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:03:03.112 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 13:03:03.112 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 13:03:03.112 DEBUG 32328 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:03:03.112 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 13:03:03.112 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 13:03:03.112 DEBUG 32328 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 13:03:03.112 DEBUG 32328 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 13:03:03.112 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:03:03.113 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 13:03:03.113 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 13:03:03.113 DEBUG 32328 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 13:03:03.113  INFO 32328 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 13:03:03.113 DEBUG 32328 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 13:03:03.117 DEBUG 32328 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 13:03:03.119 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:03.119 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 13:03:03.120 DEBUG 32328 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:03.120 DEBUG 32328 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:03.130 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:03.140 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=9, pending=0, completed=9, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 13:03:03.142 DEBUG 32328 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:03.142 DEBUG 32328 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:03.154 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:03.155 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 13:03:03.155 DEBUG 32328 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:03.156 DEBUG 32328 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:03.226 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 13:03:03.227 DEBUG 32328 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:03.228  INFO 32328 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:03:03.232  INFO 32328 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:03:03.232  INFO 32328 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:03:03.232 DEBUG 32328 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:03:03.233 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:03:03.233 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 13:03:03.234 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 13:03:03.235 DEBUG 32328 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 13:03:03.236  INFO 32328 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 13:03:03.236 DEBUG 32328 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 13:03:03.244 DEBUG 32328 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 13:03:03.246 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:03.247 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 13:03:03.248 DEBUG 32328 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:03.248 DEBUG 32328 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:10.420 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 13:03:10.421 DEBUG 32328 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:10.421  INFO 32328 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:03:10.424  INFO 32328 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:03:10.424  INFO 32328 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:03:10.424 DEBUG 32328 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:03:10.424 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 13:03:10.424 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 13:03:10.424 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 13:03:10.425 DEBUG 32328 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 13:03:10.439 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:10.439 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 13:03:10.439 DEBUG 32328 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:10.440 DEBUG 32328 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:10.684 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/status-counts
2025-05-07 13:03:10.685 DEBUG 32328 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:10.685  INFO 32328 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:03:10.687  INFO 32328 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:03:10.687  INFO 32328 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:03:10.687 DEBUG 32328 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:03:10.688 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/admin/rooms/status-counts] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 13:03:10.688 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.s.w.access.AccessDeniedHandlerImpl   : Responding with 403 status code
2025-05-07 13:03:10.688 DEBUG 32328 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:10.688 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 13:03:10.688 DEBUG 32328 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:10.689 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 13:03:10.689 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 13:03:10.689 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 13:03:10.689 DEBUG 32328 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 13:03:10.689 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:10.689 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-07 13:03:10.690 DEBUG 32328 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-07 13:03:10.690 DEBUG 32328 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:30.178  INFO 32328 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 13:03:30.181  INFO 32328 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 13:03:30.189  INFO 32328 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 13:03:37.517  INFO 31344 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 31344 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 13:03:37.519 DEBUG 31344 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 13:03:37.519  INFO 31344 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 13:03:38.473  INFO 31344 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 13:03:38.670  INFO 31344 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 188 ms. Found 19 JPA repository interfaces.
2025-05-07 13:03:39.196  INFO 31344 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 13:03:39.197  INFO 31344 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 13:03:39.197  INFO 31344 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 13:03:39.197  INFO 31344 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 13:03:39.202  INFO 31344 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 13:03:39.211  INFO 31344 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 13:03:39.211  INFO 31344 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 13:03:39.350  INFO 31344 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 13:03:39.350  INFO 31344 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1785 ms
2025-05-07 13:03:39.536  INFO 31344 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 13:03:39.580  INFO 31344 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 13:03:39.735  INFO 31344 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 13:03:39.826  INFO 31344 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 13:03:40.090  INFO 31344 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 13:03:40.105  INFO 31344 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 13:03:41.443  INFO 31344 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 13:03:41.454  INFO 31344 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 13:03:42.170 DEBUG 31344 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 13:03:42.170 DEBUG 31344 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 13:03:43.179 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 13:03:43.186 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 13:03:43.186 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 13:03:43.187 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 13:03:43.187 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 13:03:43.187 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 13:03:43.187 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 13:03:43.187 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 13:03:43.188 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 13:03:43.188 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 13:03:43.188 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 13:03:43.188 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 13:03:43.188 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 13:03:43.188 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 13:03:43.188 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 13:03:43.189 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 13:03:43.189 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 13:03:43.189 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 13:03:43.190 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 13:03:43.190 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 13:03:43.190 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 13:03:43.190 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 13:03:43.190 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 13:03:43.190 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 13:03:43.191 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 13:03:43.191 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 13:03:43.191 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 13:03:43.191 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 13:03:43.191 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 13:03:43.191 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 13:03:43.191 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 13:03:43.191 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 13:03:43.191 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 13:03:43.192 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 13:03:43.192 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 13:03:43.192 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 13:03:43.193 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 13:03:43.194 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 13:03:43.194 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 13:03:43.194 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 13:03:43.194 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 13:03:43.195 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 13:03:43.195 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 13:03:43.195 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 13:03:43.195 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 13:03:43.195 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 13:03:43.195 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 13:03:43.195 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 13:03:43.195 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 13:03:43.195 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 13:03:43.196 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/status-counts', GET]
2025-05-07 13:03:43.196 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 13:03:43.196 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 13:03:43.196 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 13:03:43.196 DEBUG 31344 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 13:03:43.202  INFO 31344 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3d6c7152, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4e6add8d, org.springframework.security.web.context.SecurityContextPersistenceFilter@3445341, org.springframework.security.web.header.HeaderWriterFilter@4733662d, org.springframework.web.filter.CorsFilter@3ef7fb04, org.springframework.security.web.authentication.logout.LogoutFilter@4807b2b7, com.hotel.config.JwtAuthenticationFilter@19d3f4fb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3100b5cf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7baea18b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@23974cac, org.springframework.security.web.session.SessionManagementFilter@2086f336, org.springframework.security.web.access.ExceptionTranslationFilter@44d36b56, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@23ee31b8]
2025-05-07 13:03:43.246  WARN 31344 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 13:03:43.369 DEBUG 31344 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 13:03:43.388  INFO 31344 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 13:03:43.453 DEBUG 31344 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 179 mappings in 'requestMappingHandlerMapping'
2025-05-07 13:03:43.458 DEBUG 31344 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 13:03:43.472 DEBUG 31344 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 13:03:43.480 DEBUG 31344 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 13:03:43.649  INFO 31344 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 13:03:43.659  INFO 31344 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.647 seconds (JVM running for 7.566)
2025-05-07 13:03:44.335  INFO 31344 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 13:03:44.336  INFO 31344 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 13:03:44.336 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 13:03:44.336 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 13:03:44.336 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 13:03:44.337 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5f92e5eb
2025-05-07 13:03:44.338 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@146b4c6c
2025-05-07 13:03:44.339 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 13:03:44.339  INFO 31344 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-07 13:03:44.351 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=0&size=10
2025-05-07 13:03:44.356 DEBUG 31344 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:44.490  INFO 31344 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 13:03:44.497  INFO 31344 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 13:03:44.498  INFO 31344 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 13:03:44.502 DEBUG 31344 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 13:03:44.526 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:03:44.527 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=0&size=10
2025-05-07 13:03:44.531 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=0&size=10", parameters={masked}
2025-05-07 13:03:44.540 DEBUG 31344 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 13:03:44.702 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:44.703 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=501, lastCleanTime=2025-05-07T12:54:47, notes=shsr, nee (truncated)...]
2025-05-07 13:03:44.768 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:44.770 DEBUG 31344 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:44.838 DEBUG 31344 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/roomtypes
2025-05-07 13:03:44.838 DEBUG 31344 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:44.841  INFO 31344 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 13:03:44.846  INFO 31344 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 13:03:44.846  INFO 31344 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 13:03:44.847 DEBUG 31344 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 13:03:44.848 DEBUG 31344 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/roomtypes] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 13:03:44.849 DEBUG 31344 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/roomtypes
2025-05-07 13:03:44.849 DEBUG 31344 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/roomtypes", parameters={}
2025-05-07 13:03:44.850 DEBUG 31344 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getAllRoomTypes()
2025-05-07 13:03:44.873 DEBUG 31344 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:44.874 DEBUG 31344 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{amenities=无限量矿泉水、咖啡、茶叶等, createTime=2025-04-28T11:22:57, name=行政套房, description=高端 (truncated)...]
2025-05-07 13:03:44.875 DEBUG 31344 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:44.876 DEBUG 31344 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:47.378 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/staff?page=0&pageSize=10
2025-05-07 13:03:47.378 DEBUG 31344 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:47.381  INFO 31344 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 13:03:47.385  INFO 31344 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 13:03:47.385  INFO 31344 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 13:03:47.385 DEBUG 31344 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 13:03:47.388 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/staff?page=0&pageSize=10] with attributes [authenticated]
2025-05-07 13:03:47.389 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/staff?page=0&pageSize=10
2025-05-07 13:03:47.389 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/staff?page=0&pageSize=10", parameters={masked}
2025-05-07 13:03:47.389 DEBUG 31344 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllStaffPaginated(int, int, String, String, String)
2025-05-07 13:03:47.444 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:47.451 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=6, users=[UserDTO(id=19, username=前台妹妹00 (truncated)...]
2025-05-07 13:03:47.456 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:47.456 DEBUG 31344 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:49.299 DEBUG 31344 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-07 13:03:49.299 DEBUG 31344 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:49.301  INFO 31344 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 13:03:49.304  INFO 31344 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 13:03:49.304  INFO 31344 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 13:03:49.304 DEBUG 31344 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 13:03:49.305 DEBUG 31344 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users?page=1&pageSize=10&username=&phone=&status=] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 13:03:49.305 DEBUG 31344 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-07 13:03:49.305 DEBUG 31344 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users?page=1&pageSize=10&username=&phone=&status=", parameters={masked}
2025-05-07 13:03:49.306 DEBUG 31344 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllUsers(int, int, String, String, String, String)
2025-05-07 13:03:49.324 DEBUG 31344 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:49.325 DEBUG 31344 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=21, users=[UserDTO(id=21, username=晚安福福, (truncated)...]
2025-05-07 13:03:49.327 DEBUG 31344 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:49.327 DEBUG 31344 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:50.383 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 13:03:50.383 DEBUG 31344 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:50.386  INFO 31344 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 13:03:50.390  INFO 31344 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 13:03:50.390  INFO 31344 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 13:03:50.390 DEBUG 31344 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 13:03:50.391 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:03:50.391 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 13:03:50.392 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 13:03:50.392 DEBUG 31344 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 13:03:50.485 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:50.486 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 13:03:50.488 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:50.488 DEBUG 31344 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:55.176 DEBUG 31344 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=0&size=10
2025-05-07 13:03:55.177 DEBUG 31344 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:55.178  INFO 31344 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 13:03:55.180  INFO 31344 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 13:03:55.181  INFO 31344 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 13:03:55.181 DEBUG 31344 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 13:03:55.181 DEBUG 31344 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:03:55.181 DEBUG 31344 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=0&size=10
2025-05-07 13:03:55.182 DEBUG 31344 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=0&size=10", parameters={masked}
2025-05-07 13:03:55.182 DEBUG 31344 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 13:03:55.194 DEBUG 31344 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:55.194 DEBUG 31344 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=501, lastCleanTime=2025-05-07T12:54:47, notes=shsr, nee (truncated)...]
2025-05-07 13:03:55.195 DEBUG 31344 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:55.195 DEBUG 31344 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:55.250 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/roomtypes
2025-05-07 13:03:55.250 DEBUG 31344 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:55.251  INFO 31344 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 13:03:55.254  INFO 31344 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 13:03:55.254  INFO 31344 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 13:03:55.254 DEBUG 31344 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 13:03:55.255 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/roomtypes] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 13:03:55.255 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/roomtypes
2025-05-07 13:03:55.255 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/roomtypes", parameters={}
2025-05-07 13:03:55.255 DEBUG 31344 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getAllRoomTypes()
2025-05-07 13:03:55.260 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:55.261 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{amenities=无限量矿泉水、咖啡、茶叶等, createTime=2025-04-28T11:22:57, name=行政套房, description=高端 (truncated)...]
2025-05-07 13:03:55.262 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:55.262 DEBUG 31344 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:55.726 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/invitation-codes/all
2025-05-07 13:03:55.726 DEBUG 31344 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:55.728  INFO 31344 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 13:03:55.730  INFO 31344 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 13:03:55.730  INFO 31344 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 13:03:55.730 DEBUG 31344 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 13:03:55.730 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/invitation-codes/all] with attributes [authenticated]
2025-05-07 13:03:55.731 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/invitation-codes/all
2025-05-07 13:03:55.731 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/invitation-codes/all", parameters={}
2025-05-07 13:03:55.731 DEBUG 31344 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.InvitationCodeController#getAllInvitationCodes()
2025-05-07 13:03:55.740 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:55.741 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[InvitationCode(id=12, code=L1R1O7TC, role=CLEANER, maxUses=1, currentUses=0, expiryDate=2025-06-01T (truncated)...]
2025-05-07 13:03:55.746 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:55.746 DEBUG 31344 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:58.203 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/invitation-codes/all
2025-05-07 13:03:58.203 DEBUG 31344 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:58.205  INFO 31344 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 13:03:58.207  INFO 31344 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 13:03:58.207  INFO 31344 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 13:03:58.207 DEBUG 31344 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 13:03:58.208 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/invitation-codes/all] with attributes [authenticated]
2025-05-07 13:03:58.208 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/invitation-codes/all
2025-05-07 13:03:58.208 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/invitation-codes/all", parameters={}
2025-05-07 13:03:58.209 DEBUG 31344 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.InvitationCodeController#getAllInvitationCodes()
2025-05-07 13:03:58.215 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:58.216 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[InvitationCode(id=12, code=L1R1O7TC, role=CLEANER, maxUses=1, currentUses=0, expiryDate=2025-06-01T (truncated)...]
2025-05-07 13:03:58.217 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:58.218 DEBUG 31344 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:59.613 DEBUG 31344 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=0&size=10
2025-05-07 13:03:59.614 DEBUG 31344 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:59.615  INFO 31344 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 13:03:59.618  INFO 31344 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 13:03:59.618  INFO 31344 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 13:03:59.619 DEBUG 31344 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 13:03:59.619 DEBUG 31344 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:03:59.619 DEBUG 31344 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=0&size=10
2025-05-07 13:03:59.620 DEBUG 31344 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=0&size=10", parameters={masked}
2025-05-07 13:03:59.620 DEBUG 31344 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-07 13:03:59.632 DEBUG 31344 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:59.633 DEBUG 31344 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=54, list=[{roomNumber=501, lastCleanTime=2025-05-07T12:54:47, notes=shsr, nee (truncated)...]
2025-05-07 13:03:59.634 DEBUG 31344 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:59.634 DEBUG 31344 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:03:59.720 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/roomtypes
2025-05-07 13:03:59.720 DEBUG 31344 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:03:59.722  INFO 31344 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 13:03:59.725  INFO 31344 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 13:03:59.726  INFO 31344 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 13:03:59.726 DEBUG 31344 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 13:03:59.727 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/roomtypes] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 13:03:59.727 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/roomtypes
2025-05-07 13:03:59.727 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/roomtypes", parameters={}
2025-05-07 13:03:59.727 DEBUG 31344 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getAllRoomTypes()
2025-05-07 13:03:59.736 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:03:59.736 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{amenities=无限量矿泉水、咖啡、茶叶等, createTime=2025-04-28T11:22:57, name=行政套房, description=高端 (truncated)...]
2025-05-07 13:03:59.737 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:03:59.737 DEBUG 31344 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:00.142 DEBUG 31344 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/staff?page=0&pageSize=10
2025-05-07 13:04:00.142 DEBUG 31344 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:00.144  INFO 31344 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 13:04:00.147  INFO 31344 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 13:04:00.148  INFO 31344 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 13:04:00.148 DEBUG 31344 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 13:04:00.149 DEBUG 31344 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/staff?page=0&pageSize=10] with attributes [authenticated]
2025-05-07 13:04:00.149 DEBUG 31344 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/staff?page=0&pageSize=10
2025-05-07 13:04:00.149 DEBUG 31344 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/staff?page=0&pageSize=10", parameters={masked}
2025-05-07 13:04:00.149 DEBUG 31344 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllStaffPaginated(int, int, String, String, String)
2025-05-07 13:04:00.157 DEBUG 31344 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:04:00.157 DEBUG 31344 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=6, users=[UserDTO(id=19, username=前台妹妹00 (truncated)...]
2025-05-07 13:04:00.159 DEBUG 31344 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:04:00.159 DEBUG 31344 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:00.526 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-07 13:04:00.526 DEBUG 31344 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:00.528  INFO 31344 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 13:04:00.530  INFO 31344 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 13:04:00.530  INFO 31344 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 13:04:00.530 DEBUG 31344 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 13:04:00.531 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users?page=1&pageSize=10&username=&phone=&status=] with attributes [hasRole('ROLE_ADMIN')]
2025-05-07 13:04:00.531 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-07 13:04:00.531 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users?page=1&pageSize=10&username=&phone=&status=", parameters={masked}
2025-05-07 13:04:00.531 DEBUG 31344 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllUsers(int, int, String, String, String, String)
2025-05-07 13:04:00.543 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:04:00.544 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=21, users=[UserDTO(id=21, username=晚安福福, (truncated)...]
2025-05-07 13:04:00.545 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:04:00.545 DEBUG 31344 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:01.998 DEBUG 31344 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 13:04:01.998 DEBUG 31344 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:01.999  INFO 31344 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: admin
2025-05-07 13:04:02.002  INFO 31344 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: admin, Role: ADMIN
2025-05-07 13:04:02.003  INFO 31344 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_ADMIN]
2025-05-07 13:04:02.003 DEBUG 31344 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-07 13:04:02.003 DEBUG 31344 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:04:02.003 DEBUG 31344 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 13:04:02.004 DEBUG 31344 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 13:04:02.004 DEBUG 31344 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 13:04:02.068 DEBUG 31344 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:04:02.068 DEBUG 31344 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 13:04:02.069 DEBUG 31344 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:04:02.069 DEBUG 31344 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:11.151 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/status-counts
2025-05-07 13:04:11.151 DEBUG 31344 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:11.153  INFO 31344 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:04:11.156  INFO 31344 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:04:11.156  INFO 31344 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:04:11.156 DEBUG 31344 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:04:11.156 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms/status-counts] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:04:11.156 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms/status-counts
2025-05-07 13:04:11.156 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms/status-counts", parameters={}
2025-05-07 13:04:11.166  WARN 31344 --- [http-nio-8090-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2025-05-07 13:04:11.166 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2025-05-07 13:04:11.166 DEBUG 31344 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:11.167 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 13:04:11.168 DEBUG 31344 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:11.168 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 13:04:11.168 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 13:04:11.168 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 13:04:11.168 DEBUG 31344 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 13:04:11.169 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:04:11.169 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Method Not Allowed, message=An error occurred, status=405}]
2025-05-07 13:04:11.169 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 405
2025-05-07 13:04:11.169 DEBUG 31344 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:15.909 DEBUG 31344 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 13:04:15.909 DEBUG 31344 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:15.910  INFO 31344 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:04:15.913  INFO 31344 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:04:15.913  INFO 31344 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:04:15.913 DEBUG 31344 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:04:15.914 DEBUG 31344 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 13:04:15.914 DEBUG 31344 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 13:04:15.914 DEBUG 31344 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 13:04:15.914 DEBUG 31344 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 13:04:15.949 DEBUG 31344 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:04:15.949 DEBUG 31344 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 13:04:15.951 DEBUG 31344 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:04:15.951 DEBUG 31344 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:15.986 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/status-counts
2025-05-07 13:04:15.986 DEBUG 31344 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:15.988  INFO 31344 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:04:15.991  INFO 31344 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:04:15.992  INFO 31344 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:04:15.992 DEBUG 31344 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:04:15.993 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms/status-counts] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:04:15.993 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms/status-counts
2025-05-07 13:04:15.993 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms/status-counts", parameters={}
2025-05-07 13:04:15.995  WARN 31344 --- [http-nio-8090-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2025-05-07 13:04:15.995 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2025-05-07 13:04:15.995 DEBUG 31344 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:15.996 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 13:04:15.996 DEBUG 31344 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:15.997 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 13:04:15.997 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 13:04:15.997 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 13:04:15.997 DEBUG 31344 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 13:04:15.999 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:04:15.999 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Method Not Allowed, message=An error occurred, status=405}]
2025-05-07 13:04:16.000 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 405
2025-05-07 13:04:16.000 DEBUG 31344 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:18.517 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 13:04:18.518 DEBUG 31344 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:18.519  INFO 31344 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:04:18.521  INFO 31344 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:04:18.521  INFO 31344 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:04:18.522 DEBUG 31344 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:04:18.522 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 13:04:18.522 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 13:04:18.522 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 13:04:18.522 DEBUG 31344 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 13:04:18.541 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:04:18.542 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 13:04:18.543 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:04:18.543 DEBUG 31344 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:18.608 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/status-counts
2025-05-07 13:04:18.609 DEBUG 31344 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:18.612  INFO 31344 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:04:18.616  INFO 31344 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:04:18.616  INFO 31344 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:04:18.616 DEBUG 31344 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:04:18.617 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms/status-counts] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:04:18.617 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms/status-counts
2025-05-07 13:04:18.617 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms/status-counts", parameters={}
2025-05-07 13:04:18.619  WARN 31344 --- [http-nio-8090-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2025-05-07 13:04:18.619 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2025-05-07 13:04:18.619 DEBUG 31344 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:18.620 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 13:04:18.620 DEBUG 31344 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:18.620 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 13:04:18.620 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 13:04:18.621 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 13:04:18.621 DEBUG 31344 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 13:04:18.623 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:04:18.624 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Method Not Allowed, message=An error occurred, status=405}]
2025-05-07 13:04:18.625 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 405
2025-05-07 13:04:18.626 DEBUG 31344 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:21.171 DEBUG 31344 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 13:04:21.172 DEBUG 31344 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:21.173  INFO 31344 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:04:21.175  INFO 31344 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:04:21.175  INFO 31344 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:04:21.176 DEBUG 31344 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:04:21.176 DEBUG 31344 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 13:04:21.176 DEBUG 31344 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 13:04:21.176 DEBUG 31344 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 13:04:21.176 DEBUG 31344 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 13:04:21.195 DEBUG 31344 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:04:21.195 DEBUG 31344 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 13:04:21.197 DEBUG 31344 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:04:21.197 DEBUG 31344 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:21.239 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/status-counts
2025-05-07 13:04:21.239 DEBUG 31344 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:21.240  INFO 31344 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:04:21.243  INFO 31344 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:04:21.243  INFO 31344 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:04:21.243 DEBUG 31344 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:04:21.243 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms/status-counts] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:04:21.243 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms/status-counts
2025-05-07 13:04:21.244 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms/status-counts", parameters={}
2025-05-07 13:04:21.244  WARN 31344 --- [http-nio-8090-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2025-05-07 13:04:21.245 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2025-05-07 13:04:21.245 DEBUG 31344 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:21.245 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 13:04:21.245 DEBUG 31344 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:21.246 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 13:04:21.246 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 13:04:21.247 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 13:04:21.247 DEBUG 31344 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 13:04:21.248 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:04:21.248 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Method Not Allowed, message=An error occurred, status=405}]
2025-05-07 13:04:21.249 DEBUG 31344 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 405
2025-05-07 13:04:21.250 DEBUG 31344 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:24.155 DEBUG 31344 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 13:04:24.155 DEBUG 31344 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:24.158  INFO 31344 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:04:24.160  INFO 31344 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:04:24.160  INFO 31344 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:04:24.160 DEBUG 31344 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:04:24.161 DEBUG 31344 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 13:04:24.161 DEBUG 31344 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 13:04:24.161 DEBUG 31344 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 13:04:24.162 DEBUG 31344 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 13:04:24.182 DEBUG 31344 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:04:24.182 DEBUG 31344 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 13:04:24.183 DEBUG 31344 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:04:24.183 DEBUG 31344 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:24.237 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/status-counts
2025-05-07 13:04:24.237 DEBUG 31344 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:24.240  INFO 31344 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:04:24.242  INFO 31344 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:04:24.242  INFO 31344 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:04:24.243 DEBUG 31344 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:04:24.243 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms/status-counts] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:04:24.243 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms/status-counts
2025-05-07 13:04:24.243 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms/status-counts", parameters={}
2025-05-07 13:04:24.244  WARN 31344 --- [http-nio-8090-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2025-05-07 13:04:24.244 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2025-05-07 13:04:24.245 DEBUG 31344 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:24.245 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 13:04:24.245 DEBUG 31344 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:24.245 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 13:04:24.245 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 13:04:24.246 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 13:04:24.246 DEBUG 31344 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 13:04:24.246 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:04:24.247 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Method Not Allowed, message=An error occurred, status=405}]
2025-05-07 13:04:24.248 DEBUG 31344 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 405
2025-05-07 13:04:24.248 DEBUG 31344 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:25.286 DEBUG 31344 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 13:04:25.286 DEBUG 31344 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:25.287  INFO 31344 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:04:25.290  INFO 31344 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:04:25.290  INFO 31344 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:04:25.290 DEBUG 31344 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:04:25.291 DEBUG 31344 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 13:04:25.291 DEBUG 31344 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 13:04:25.291 DEBUG 31344 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 13:04:25.291 DEBUG 31344 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 13:04:25.304 DEBUG 31344 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:04:25.304 DEBUG 31344 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 13:04:25.305 DEBUG 31344 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:04:25.305 DEBUG 31344 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:27.290 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 13:04:27.290 DEBUG 31344 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:27.292  INFO 31344 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:04:27.294  INFO 31344 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:04:27.294  INFO 31344 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:04:27.294 DEBUG 31344 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:04:27.296 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&size=200&page=0] with attributes [authenticated]
2025-05-07 13:04:27.296 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 13:04:27.296 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&size=200&page=0", parameters={masked}
2025-05-07 13:04:27.296 DEBUG 31344 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 13:04:27.311 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:04:27.311 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=401, id=2, floor=4, roomType={name=行政套房, id= (truncated)...]
2025-05-07 13:04:27.313 DEBUG 31344 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:04:27.313 DEBUG 31344 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:29.226 DEBUG 31344 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 13:04:29.227 DEBUG 31344 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:29.228  INFO 31344 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:04:29.230  INFO 31344 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:04:29.231  INFO 31344 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:04:29.231 DEBUG 31344 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:04:29.232 DEBUG 31344 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 13:04:29.232 DEBUG 31344 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 13:04:29.232 DEBUG 31344 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 13:04:29.233 DEBUG 31344 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 13:04:29.239 DEBUG 31344 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:04:29.239 DEBUG 31344 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=0, content=[], totalElements=0}]
2025-05-07 13:04:29.239 DEBUG 31344 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:04:29.240 DEBUG 31344 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:32.163 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 13:04:32.164 DEBUG 31344 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:32.166  INFO 31344 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:04:32.169  INFO 31344 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:04:32.169  INFO 31344 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:04:32.169 DEBUG 31344 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:04:32.170 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 13:04:32.170 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 13:04:32.170 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 13:04:32.171 DEBUG 31344 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 13:04:32.191 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:04:32.191 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 13:04:32.192 DEBUG 31344 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:04:32.193 DEBUG 31344 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:32.242 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/status-counts
2025-05-07 13:04:32.243 DEBUG 31344 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:32.245  INFO 31344 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:04:32.248  INFO 31344 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:04:32.248  INFO 31344 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:04:32.248 DEBUG 31344 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:04:32.248 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms/status-counts] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:04:32.249 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms/status-counts
2025-05-07 13:04:32.249 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms/status-counts", parameters={}
2025-05-07 13:04:32.249  WARN 31344 --- [http-nio-8090-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'GET' not supported]
2025-05-07 13:04:32.249 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2025-05-07 13:04:32.249 DEBUG 31344 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:32.250 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-07 13:04:32.250 DEBUG 31344 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:32.250 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 13:04:32.250 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-07 13:04:32.251 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-07 13:04:32.251 DEBUG 31344 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-07 13:04:32.252 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:04:32.252 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Method Not Allowed, message=An error occurred, status=405}]
2025-05-07 13:04:32.253 DEBUG 31344 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 405
2025-05-07 13:04:32.253 DEBUG 31344 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:43.073 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 13:04:43.073 DEBUG 31344 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:43.076  INFO 31344 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:04:43.081  INFO 31344 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:04:43.081  INFO 31344 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:04:43.081 DEBUG 31344 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:04:43.082 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 13:04:43.082 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 13:04:43.082 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 13:04:43.082 DEBUG 31344 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 13:04:43.110 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:04:43.110 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 13:04:43.111 DEBUG 31344 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:04:43.112 DEBUG 31344 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:43.129 DEBUG 31344 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 13:04:43.129 DEBUG 31344 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:04:43.131  INFO 31344 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:04:43.134  INFO 31344 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:04:43.135  INFO 31344 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:04:43.135 DEBUG 31344 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:04:43.135 DEBUG 31344 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:04:43.135 DEBUG 31344 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 13:04:43.136 DEBUG 31344 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 13:04:43.136 DEBUG 31344 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 13:04:43.211 DEBUG 31344 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:04:43.212 DEBUG 31344 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 13:04:43.213 DEBUG 31344 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:04:43.213 DEBUG 31344 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 13:04:55.295  INFO 31344 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 13:04:55.297  INFO 31344 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 13:04:55.309  INFO 31344 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 13:05:05.735  INFO 10884 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 10884 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 13:05:05.740 DEBUG 10884 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 13:05:05.742  INFO 10884 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 13:05:07.832  INFO 10884 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 13:05:08.167  INFO 10884 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 319 ms. Found 19 JPA repository interfaces.
2025-05-07 13:05:08.781  INFO 10884 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 13:05:08.782  INFO 10884 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 13:05:08.784  INFO 10884 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 13:05:08.784  INFO 10884 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 13:05:08.788  INFO 10884 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 13:05:08.797  INFO 10884 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 13:05:08.797  INFO 10884 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 13:05:08.929  INFO 10884 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 13:05:08.929  INFO 10884 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3011 ms
2025-05-07 13:05:09.090  INFO 10884 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 13:05:09.134  INFO 10884 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 13:05:09.261  INFO 10884 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 13:05:09.355  INFO 10884 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 13:05:09.603  INFO 10884 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 13:05:09.614  INFO 10884 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 13:05:10.695  INFO 10884 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 13:05:10.704  INFO 10884 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 13:05:11.147 DEBUG 10884 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 13:05:11.148 DEBUG 10884 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 13:05:12.029 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 13:05:12.037 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 13:05:12.038 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 13:05:12.038 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 13:05:12.038 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 13:05:12.038 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 13:05:12.038 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 13:05:12.038 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 13:05:12.039 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 13:05:12.039 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 13:05:12.039 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 13:05:12.039 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 13:05:12.039 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 13:05:12.040 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 13:05:12.040 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 13:05:12.040 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 13:05:12.041 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 13:05:12.041 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 13:05:12.041 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 13:05:12.041 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 13:05:12.041 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 13:05:12.042 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 13:05:12.043 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 13:05:12.043 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 13:05:12.043 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 13:05:12.043 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 13:05:12.043 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 13:05:12.044 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 13:05:12.044 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 13:05:12.044 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 13:05:12.044 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 13:05:12.044 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 13:05:12.044 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 13:05:12.044 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 13:05:12.045 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 13:05:12.045 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 13:05:12.046 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 13:05:12.047 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 13:05:12.047 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 13:05:12.047 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 13:05:12.047 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 13:05:12.047 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 13:05:12.048 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 13:05:12.048 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 13:05:12.048 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 13:05:12.048 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 13:05:12.048 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 13:05:12.049 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 13:05:12.049 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 13:05:12.049 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 13:05:12.049 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 13:05:12.049 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 13:05:12.049 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 13:05:12.049 DEBUG 10884 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 13:05:12.056  INFO 10884 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@74f9004c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4f2a0909, org.springframework.security.web.context.SecurityContextPersistenceFilter@3941bdd7, org.springframework.security.web.header.HeaderWriterFilter@3445341, org.springframework.web.filter.CorsFilter@18d09283, org.springframework.security.web.authentication.logout.LogoutFilter@33315925, com.hotel.config.JwtAuthenticationFilter@55a07f97, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e6ec71f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e387974, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@34947355, org.springframework.security.web.session.SessionManagementFilter@41623694, org.springframework.security.web.access.ExceptionTranslationFilter@3aae9e8f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@57eb2555]
2025-05-07 13:05:12.112  WARN 10884 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 13:05:12.245 DEBUG 10884 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 13:05:12.268  INFO 10884 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 13:05:12.338 DEBUG 10884 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 13:05:12.343 DEBUG 10884 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 13:05:12.358 DEBUG 10884 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 13:05:12.366 DEBUG 10884 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 13:05:12.538  INFO 10884 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 13:05:12.547  INFO 10884 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.527 seconds (JVM running for 8.61)
2025-05-07 13:05:13.604  INFO 10884 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 13:05:13.604  INFO 10884 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 13:05:13.604 DEBUG 10884 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 13:05:13.604 DEBUG 10884 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 13:05:13.605 DEBUG 10884 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 13:05:13.605 DEBUG 10884 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7af5ce66
2025-05-07 13:05:13.605 DEBUG 10884 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@c4bb119
2025-05-07 13:05:13.605 DEBUG 10884 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 13:05:13.606  INFO 10884 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-07 13:05:13.616 DEBUG 10884 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 13:05:13.619 DEBUG 10884 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 13:05:13.665  INFO 10884 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 13:05:13.668  INFO 10884 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 13:05:13.668  INFO 10884 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 13:05:13.670 DEBUG 10884 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 13:05:13.678 DEBUG 10884 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 13:05:13.679 DEBUG 10884 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 13:05:13.680 DEBUG 10884 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 13:05:13.684 DEBUG 10884 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 13:05:13.842 DEBUG 10884 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 13:05:13.842 DEBUG 10884 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 13:05:13.885 DEBUG 10884 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 13:05:13.887 DEBUG 10884 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
