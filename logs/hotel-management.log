2025-05-01 08:51:30.979  INFO 17132 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 17132 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-01 08:51:30.990 DEBUG 17132 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-01 08:51:30.990  INFO 17132 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-01 08:51:32.021  INFO 17132 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-01 08:51:32.247  INFO 17132 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 216 ms. Found 19 JPA repository interfaces.
2025-05-01 08:51:33.014  INFO 17132 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-01 08:51:33.015  INFO 17132 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-01 08:51:33.016  INFO 17132 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-01 08:51:33.016  INFO 17132 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-01 08:51:33.021  INFO 17132 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-01 08:51:33.031  INFO 17132 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-01 08:51:33.031  INFO 17132 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-01 08:51:33.183  INFO 17132 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-01 08:51:33.183  INFO 17132 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2125 ms
2025-05-01 08:51:33.414  INFO 17132 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-01 08:51:33.484  INFO 17132 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-01 08:51:33.722  INFO 17132 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-01 08:51:33.835  INFO 17132 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-01 08:51:34.202  INFO 17132 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-01 08:51:34.216  INFO 17132 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-01 08:51:35.455  INFO 17132 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-01 08:51:35.463  INFO 17132 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-01 08:51:35.905 DEBUG 17132 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-01 08:51:36.695  INFO 17132 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6c502018, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58c93be3, org.springframework.security.web.context.SecurityContextPersistenceFilter@63e81ac6, org.springframework.security.web.header.HeaderWriterFilter@2e04c89d, org.springframework.web.filter.CorsFilter@6c167296, org.springframework.security.web.authentication.logout.LogoutFilter@60493524, com.hotel.config.JwtAuthenticationFilter@75d0cac6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2396dc4e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7bb888b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5dd62f07, org.springframework.security.web.session.SessionManagementFilter@1fd73dcb, org.springframework.security.web.access.ExceptionTranslationFilter@4468ced2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3bea478e]
2025-05-01 08:51:36.740  WARN 17132 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-01 08:51:36.870  INFO 17132 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-01 08:51:37.110  INFO 17132 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-01 08:51:37.119  INFO 17132 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.679 seconds (JVM running for 7.664)
2025-05-01 08:52:06.084  INFO 17132 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-01 08:52:06.084  INFO 17132 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-01 08:52:06.085  INFO 17132 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-01 08:52:26.286  WARN 17132 --- [http-nio-8090-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-01 08:52:27.044  WARN 17132 --- [http-nio-8090-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-01 08:52:27.834  WARN 17132 --- [http-nio-8090-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-01 08:52:29.167  WARN 17132 --- [http-nio-8090-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-01 08:52:30.469  WARN 17132 --- [http-nio-8090-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-01 08:52:32.481  WARN 17132 --- [http-nio-8090-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-01 08:52:37.250  WARN 17132 --- [http-nio-8090-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-01 08:52:38.470  WARN 17132 --- [http-nio-8090-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-01 08:52:43.547  WARN 17132 --- [http-nio-8090-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-01 08:53:24.521  WARN 17132 --- [http-nio-8090-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-01 08:53:26.388  WARN 17132 --- [http-nio-8090-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-01 08:55:23.174  WARN 17132 --- [http-nio-8090-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-01 08:55:30.049  WARN 17132 --- [http-nio-8090-exec-4] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-01 08:55:35.269  WARN 17132 --- [http-nio-8090-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-01 09:05:14.882  WARN 17132 --- [http-nio-8090-exec-6] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-01 09:05:17.596  WARN 17132 --- [http-nio-8090-exec-7] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-01 09:05:22.331  WARN 17132 --- [http-nio-8090-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-01 09:05:37.696  WARN 17132 --- [http-nio-8090-exec-9] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-01 09:05:38.519  WARN 17132 --- [http-nio-8090-exec-10] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-01 09:12:55.698  INFO 17132 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-01 09:12:55.701  INFO 17132 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-01 09:12:55.776  INFO 17132 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-01 09:12:59.858  INFO 12420 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 12420 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-01 09:12:59.860 DEBUG 12420 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-01 09:12:59.861  INFO 12420 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-01 09:13:00.672  INFO 12420 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-01 09:13:00.862  INFO 12420 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 181 ms. Found 19 JPA repository interfaces.
2025-05-01 09:13:01.321  INFO 12420 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-01 09:13:01.323  INFO 12420 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-01 09:13:01.323  INFO 12420 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-01 09:13:01.323  INFO 12420 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-01 09:13:01.329  INFO 12420 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-01 09:13:01.336  INFO 12420 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-01 09:13:01.337  INFO 12420 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-01 09:13:01.466  INFO 12420 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-01 09:13:01.466  INFO 12420 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1562 ms
2025-05-01 09:13:01.614  INFO 12420 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-01 09:13:01.667  INFO 12420 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-01 09:13:01.821  INFO 12420 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-01 09:13:01.908  INFO 12420 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-01 09:13:02.208  INFO 12420 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-01 09:13:02.222  INFO 12420 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-01 09:13:03.271  INFO 12420 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-01 09:13:03.278  INFO 12420 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-01 09:13:03.702 DEBUG 12420 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-01 09:13:04.477  INFO 12420 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@513ddf5f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6109366a, org.springframework.security.web.context.SecurityContextPersistenceFilter@3031d9e9, org.springframework.security.web.header.HeaderWriterFilter@1e86b2d1, org.springframework.web.filter.CorsFilter@2fca9fae, org.springframework.security.web.authentication.logout.LogoutFilter@3e5febe9, com.hotel.config.JwtAuthenticationFilter@2f3d5cd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61c42e54, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@533690d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ed492df, org.springframework.security.web.session.SessionManagementFilter@32f2de5c, org.springframework.security.web.access.ExceptionTranslationFilter@7c4de811, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@627ad446]
2025-05-01 09:13:04.529  WARN 12420 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-01 09:13:04.718  INFO 12420 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-01 09:13:04.946  INFO 12420 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-01 09:13:04.955  INFO 12420 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 5.569 seconds (JVM running for 6.357)
2025-05-01 09:13:09.297  INFO 12420 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-01 09:13:09.297  INFO 12420 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-01 09:13:09.299  INFO 12420 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-01 09:13:09.346  WARN 12420 --- [http-nio-8090-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-01 09:19:17.664  INFO 12420 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-01 09:19:17.666  INFO 12420 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-01 09:19:17.676  INFO 12420 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-01 09:19:20.244  INFO 28688 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 28688 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-01 09:19:20.247 DEBUG 28688 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-01 09:19:20.247  INFO 28688 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-01 09:19:21.072  INFO 28688 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-01 09:19:21.296  INFO 28688 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 213 ms. Found 19 JPA repository interfaces.
2025-05-01 09:19:21.898  INFO 28688 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-01 09:19:21.900  INFO 28688 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-01 09:19:21.901  INFO 28688 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-01 09:19:21.902  INFO 28688 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-01 09:19:21.906  INFO 28688 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-01 09:19:21.916  INFO 28688 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-01 09:19:21.917  INFO 28688 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-01 09:19:22.106  INFO 28688 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-01 09:19:22.106  INFO 28688 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1809 ms
2025-05-01 09:19:22.320  INFO 28688 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-01 09:19:22.366  INFO 28688 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-01 09:19:22.498  INFO 28688 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-01 09:19:22.582  INFO 28688 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-01 09:19:22.814  INFO 28688 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-01 09:19:22.826  INFO 28688 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-01 09:19:23.799  INFO 28688 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-01 09:19:23.807  INFO 28688 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-01 09:19:24.206 DEBUG 28688 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-01 09:19:24.999  INFO 28688 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6ddc9001, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1f39b3ba, org.springframework.security.web.context.SecurityContextPersistenceFilter@52c2d1e8, org.springframework.security.web.header.HeaderWriterFilter@5101b9, org.springframework.web.filter.CorsFilter@9ba167e, org.springframework.security.web.authentication.logout.LogoutFilter@d5eca06, com.hotel.config.JwtAuthenticationFilter@62d21afd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f4b7a2e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@334ac669, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53b579d2, org.springframework.security.web.session.SessionManagementFilter@257da215, org.springframework.security.web.access.ExceptionTranslationFilter@1415f18d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2a20aa4e]
2025-05-01 09:19:25.038  WARN 28688 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-01 09:19:25.166  INFO 28688 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-01 09:19:25.400  INFO 28688 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-01 09:19:25.409  INFO 28688 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 5.738 seconds (JVM running for 6.603)
2025-05-01 09:20:06.505  INFO 28688 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-01 09:20:06.507  INFO 28688 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-01 09:20:06.528  INFO 28688 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-01 09:20:09.856  INFO 32452 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 32452 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-01 09:20:09.858 DEBUG 32452 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-01 09:20:09.859  INFO 32452 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-01 09:20:10.655  INFO 32452 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-01 09:20:10.830  INFO 32452 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 167 ms. Found 19 JPA repository interfaces.
2025-05-01 09:20:11.281  INFO 32452 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-01 09:20:11.282  INFO 32452 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-01 09:20:11.282  INFO 32452 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-01 09:20:11.282  INFO 32452 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-01 09:20:11.288  INFO 32452 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-01 09:20:11.296  INFO 32452 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-01 09:20:11.296  INFO 32452 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-01 09:20:11.432  INFO 32452 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-01 09:20:11.432  INFO 32452 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1526 ms
2025-05-01 09:20:11.580  INFO 32452 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-01 09:20:11.618  INFO 32452 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-01 09:20:11.737  INFO 32452 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-01 09:20:11.822  INFO 32452 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-01 09:20:12.057  INFO 32452 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-01 09:20:12.069  INFO 32452 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-01 09:20:13.046  INFO 32452 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-01 09:20:13.054  INFO 32452 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-01 09:20:13.456 DEBUG 32452 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-01 09:20:13.457 DEBUG 32452 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-01 09:20:14.186 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-01 09:20:14.192 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-01 09:20:14.192 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-01 09:20:14.192 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-01 09:20:14.192 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-01 09:20:14.192 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-01 09:20:14.192 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-01 09:20:14.192 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-01 09:20:14.193 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-01 09:20:14.193 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-01 09:20:14.193 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-01 09:20:14.194 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-01 09:20:14.194 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-01 09:20:14.194 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-01 09:20:14.194 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-01 09:20:14.194 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-01 09:20:14.195 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-01 09:20:14.195 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-01 09:20:14.195 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-01 09:20:14.195 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-01 09:20:14.195 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-01 09:20:14.195 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-01 09:20:14.195 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-01 09:20:14.195 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-01 09:20:14.196 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-01 09:20:14.196 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-01 09:20:14.196 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-01 09:20:14.196 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-01 09:20:14.196 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-01 09:20:14.196 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-01 09:20:14.196 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-01 09:20:14.197 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-01 09:20:14.197 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-01 09:20:14.198 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-01 09:20:14.198 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-01 09:20:14.199 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-01 09:20:14.199 DEBUG 32452 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-01 09:20:14.205  INFO 32452 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6c502018, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58c93be3, org.springframework.security.web.context.SecurityContextPersistenceFilter@55159007, org.springframework.security.web.header.HeaderWriterFilter@54c697c, org.springframework.web.filter.CorsFilter@3e5ed0d4, org.springframework.security.web.authentication.logout.LogoutFilter@52a3eba3, com.hotel.config.JwtAuthenticationFilter@553d828a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a49753, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e68ccc9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5dd62f07, org.springframework.security.web.session.SessionManagementFilter@5481f204, org.springframework.security.web.access.ExceptionTranslationFilter@16718e1b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3bea478e]
2025-05-01 09:20:14.247  WARN 32452 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-01 09:20:14.361 DEBUG 32452 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-01 09:20:14.385  INFO 32452 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-01 09:20:14.455 DEBUG 32452 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 158 mappings in 'requestMappingHandlerMapping'
2025-05-01 09:20:14.461 DEBUG 32452 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-01 09:20:14.476 DEBUG 32452 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-01 09:20:14.483 DEBUG 32452 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-01 09:20:14.623  INFO 32452 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-01 09:20:14.631  INFO 32452 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 5.21 seconds (JVM running for 5.985)
2025-05-01 09:20:28.479  INFO 32452 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-01 09:20:28.479  INFO 32452 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-01 09:20:28.479 DEBUG 32452 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-01 09:20:28.479 DEBUG 32452 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-01 09:20:28.479 DEBUG 32452 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-01 09:20:28.480 DEBUG 32452 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5ce7ab6f
2025-05-01 09:20:28.481 DEBUG 32452 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@c6a1be2
2025-05-01 09:20:28.481 DEBUG 32452 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-01 09:20:28.481  INFO 32452 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-01 09:20:28.494 DEBUG 32452 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-01 09:20:28.498 DEBUG 32452 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-01 09:20:28.512 DEBUG 32452 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-01 09:20:28.513 DEBUG 32452 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-01 09:20:28.519 DEBUG 32452 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-01 09:20:28.520 DEBUG 32452 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-01 09:20:28.522 DEBUG 32452 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-01 09:20:28.528  WARN 32452 --- [http-nio-8090-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-01 09:20:28.529 DEBUG 32452 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 405 METHOD_NOT_ALLOWED
2025-05-01 09:20:28.530 DEBUG 32452 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-01 09:20:28.531 DEBUG 32452 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /error
2025-05-01 09:20:28.532 DEBUG 32452 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-01 09:20:28.532 DEBUG 32452 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-01 09:20:28.532 DEBUG 32452 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /error
2025-05-01 09:20:28.532 DEBUG 32452 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2025-05-01 09:20:28.533 DEBUG 32452 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-01 09:20:28.561 DEBUG 32452 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-01 09:20:28.562 DEBUG 32452 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Method Not Allowed, message=An error occurred, status=405}]
2025-05-01 09:20:28.581 DEBUG 32452 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 405
2025-05-01 09:20:28.581 DEBUG 32452 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-01 09:24:46.377  INFO 32452 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-01 09:24:46.379  INFO 32452 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-01 09:24:46.390  INFO 32452 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-01 09:24:53.620  INFO 21004 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 21004 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-01 09:24:53.623 DEBUG 21004 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-01 09:24:53.623  INFO 21004 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-01 09:24:54.550  INFO 21004 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-01 09:24:54.781  INFO 21004 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 218 ms. Found 19 JPA repository interfaces.
2025-05-01 09:24:55.441  INFO 21004 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-01 09:24:55.442  INFO 21004 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-01 09:24:55.443  INFO 21004 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-01 09:24:55.444  INFO 21004 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-01 09:24:55.448  INFO 21004 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-01 09:24:55.461  INFO 21004 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-01 09:24:55.461  INFO 21004 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-01 09:24:55.608  INFO 21004 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-01 09:24:55.608  INFO 21004 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1921 ms
2025-05-01 09:24:55.794  INFO 21004 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-01 09:24:55.850  INFO 21004 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-01 09:24:56.012  INFO 21004 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-01 09:24:56.113  INFO 21004 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-01 09:24:56.374  INFO 21004 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-01 09:24:56.390  INFO 21004 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-01 09:24:57.511  INFO 21004 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-01 09:24:57.527  INFO 21004 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-01 09:24:58.031 DEBUG 21004 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-01 09:24:58.031 DEBUG 21004 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-01 09:24:58.838 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-01 09:24:58.844 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-01 09:24:58.845 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-01 09:24:58.845 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-01 09:24:58.845 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-01 09:24:58.845 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-01 09:24:58.845 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-01 09:24:58.845 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-01 09:24:58.846 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-01 09:24:58.846 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-01 09:24:58.846 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-01 09:24:58.846 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-01 09:24:58.846 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-01 09:24:58.846 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-01 09:24:58.847 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-01 09:24:58.847 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-01 09:24:58.848 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-01 09:24:58.848 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-01 09:24:58.848 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-01 09:24:58.848 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-01 09:24:58.849 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-01 09:24:58.849 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-01 09:24:58.849 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-01 09:24:58.849 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-01 09:24:58.849 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-01 09:24:58.849 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-01 09:24:58.849 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-01 09:24:58.850 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-01 09:24:58.850 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-01 09:24:58.850 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-01 09:24:58.850 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-01 09:24:58.850 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-01 09:24:58.850 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-01 09:24:58.852 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-01 09:24:58.852 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-01 09:24:58.852 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-01 09:24:58.852 DEBUG 21004 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-01 09:24:58.858  INFO 21004 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@510e0dd2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54a98358, org.springframework.security.web.context.SecurityContextPersistenceFilter@2c989d82, org.springframework.security.web.header.HeaderWriterFilter@48cbb4c5, org.springframework.web.filter.CorsFilter@2f98fe6f, org.springframework.security.web.authentication.logout.LogoutFilter@edf4973, com.hotel.config.JwtAuthenticationFilter@337e573b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e7dd504, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e5febe9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1f7853af, org.springframework.security.web.session.SessionManagementFilter@4468ced2, org.springframework.security.web.access.ExceptionTranslationFilter@c651286, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6ddc9001]
2025-05-01 09:24:58.896  WARN 21004 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-01 09:24:59.012 DEBUG 21004 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-01 09:24:59.030  INFO 21004 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-01 09:24:59.098 DEBUG 21004 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 158 mappings in 'requestMappingHandlerMapping'
2025-05-01 09:24:59.103 DEBUG 21004 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-01 09:24:59.116 DEBUG 21004 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-01 09:24:59.124 DEBUG 21004 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-01 09:24:59.270  INFO 21004 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-01 09:24:59.279  INFO 21004 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.151 seconds (JVM running for 7.076)
2025-05-01 09:25:01.483  INFO 21004 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-01 09:25:01.484  INFO 21004 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-01 09:25:01.484 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-01 09:25:01.484 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-01 09:25:01.484 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-01 09:25:01.485 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@207358ad
2025-05-01 09:25:01.485 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@68a7bc12
2025-05-01 09:25:01.485 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-01 09:25:01.485  INFO 21004 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-05-01 09:25:01.498 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-01 09:25:01.503 DEBUG 21004 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-01 09:25:01.519 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-01 09:25:01.519 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-01 09:25:01.525 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-01 09:25:01.525 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-01 09:25:01.527 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-01 09:25:01.530 DEBUG 21004 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-01 09:25:01.600 DEBUG 21004 --- [http-nio-8090-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=admin, password=admin)]
2025-05-01 09:25:01.748 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to authenticate since password does not match stored value
2025-05-01 09:25:01.776 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-01 09:25:01.777 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=false, message=用户名或密码错误, userId=null, username=null, role=null, token=null)]
2025-05-01 09:25:01.787 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2025-05-01 09:25:01.790 DEBUG 21004 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-01 09:25:07.330 DEBUG 21004 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-01 09:25:07.330 DEBUG 21004 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-01 09:25:07.331 DEBUG 21004 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-01 09:25:07.331 DEBUG 21004 --- [http-nio-8090-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-01 09:25:07.332 DEBUG 21004 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-01 09:25:07.332 DEBUG 21004 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-01 09:25:07.332 DEBUG 21004 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-01 09:25:07.332 DEBUG 21004 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-01 09:25:07.333 DEBUG 21004 --- [http-nio-8090-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=admin, password=admin)]
2025-05-01 09:25:07.401 DEBUG 21004 --- [http-nio-8090-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to authenticate since password does not match stored value
2025-05-01 09:25:07.403 DEBUG 21004 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-01 09:25:07.403 DEBUG 21004 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=false, message=用户名或密码错误, userId=null, username=null, role=null, token=null)]
2025-05-01 09:25:07.404 DEBUG 21004 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2025-05-01 09:25:07.405 DEBUG 21004 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-01 09:25:10.854 DEBUG 21004 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-01 09:25:10.855 DEBUG 21004 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-01 09:25:10.855 DEBUG 21004 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-01 09:25:10.856 DEBUG 21004 --- [http-nio-8090-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-01 09:25:10.857 DEBUG 21004 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-01 09:25:10.857 DEBUG 21004 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-01 09:25:10.857 DEBUG 21004 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-01 09:25:10.858 DEBUG 21004 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-01 09:25:10.859 DEBUG 21004 --- [http-nio-8090-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=admin, password=admin123)]
2025-05-01 09:25:10.932 DEBUG 21004 --- [http-nio-8090-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-01 09:25:11.005 DEBUG 21004 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-01 09:25:11.005 DEBUG 21004 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=1, username=admin, role=ADMIN, token=eyJhbGciOiJIUz (truncated)...]
2025-05-01 09:25:11.006 DEBUG 21004 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-01 09:25:11.007 DEBUG 21004 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-01 09:25:45.219 DEBUG 21004 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-01 09:25:45.220 DEBUG 21004 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-01 09:25:45.257 DEBUG 21004 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-01 09:25:45.257 DEBUG 21004 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-01 09:25:45.257 DEBUG 21004 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-01 09:25:45.257 DEBUG 21004 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-01 09:25:45.258 DEBUG 21004 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-01 09:25:45.259 DEBUG 21004 --- [http-nio-8090-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=17777777777, password=17777777777)]
2025-05-01 09:25:45.328 DEBUG 21004 --- [http-nio-8090-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user '17777777777'
2025-05-01 09:25:45.329 DEBUG 21004 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-01 09:25:45.329 DEBUG 21004 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=false, message=用户名或密码错误, userId=null, username=null, role=null, token=null)]
2025-05-01 09:25:45.331 DEBUG 21004 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2025-05-01 09:25:45.331 DEBUG 21004 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-01 09:25:48.000 DEBUG 21004 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-01 09:25:48.001 DEBUG 21004 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-01 09:25:48.007 DEBUG 21004 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-01 09:25:48.008 DEBUG 21004 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-01 09:25:48.008 DEBUG 21004 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-01 09:25:48.008 DEBUG 21004 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-01 09:25:48.008 DEBUG 21004 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-01 09:25:48.009 DEBUG 21004 --- [http-nio-8090-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=13333333333, password=sss123456)]
2025-05-01 09:25:48.081 DEBUG 21004 --- [http-nio-8090-exec-10] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user '13333333333'
2025-05-01 09:25:48.082 DEBUG 21004 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-01 09:25:48.082 DEBUG 21004 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=false, message=用户名或密码错误, userId=null, username=null, role=null, token=null)]
2025-05-01 09:25:48.084 DEBUG 21004 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2025-05-01 09:25:48.084 DEBUG 21004 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-01 09:25:51.759 DEBUG 21004 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-01 09:25:51.759 DEBUG 21004 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-01 09:25:51.763 DEBUG 21004 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-01 09:25:51.764 DEBUG 21004 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-01 09:25:51.764 DEBUG 21004 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-01 09:25:51.764 DEBUG 21004 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-01 09:25:51.765 DEBUG 21004 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-01 09:25:51.766 DEBUG 21004 --- [http-nio-8090-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=18888888888, password=18888888888)]
2025-05-01 09:25:51.839 DEBUG 21004 --- [http-nio-8090-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user '18888888888'
2025-05-01 09:25:51.840 DEBUG 21004 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-01 09:25:51.840 DEBUG 21004 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=false, message=用户名或密码错误, userId=null, username=null, role=null, token=null)]
2025-05-01 09:25:51.841 DEBUG 21004 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2025-05-01 09:25:51.842 DEBUG 21004 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-01 09:26:29.832 DEBUG 21004 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/users/register
2025-05-01 09:26:29.832 DEBUG 21004 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-01 09:26:29.838 DEBUG 21004 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-01 09:26:29.839 DEBUG 21004 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/register] with attributes [permitAll]
2025-05-01 09:26:29.839 DEBUG 21004 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/users/register
2025-05-01 09:26:29.839 DEBUG 21004 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/users/register", parameters={}
2025-05-01 09:26:29.840 DEBUG 21004 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#register(Map)
2025-05-01 09:26:29.843 DEBUG 21004 --- [http-nio-8090-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{username=艾达王, password=15666663333, confirmPassword=15666663333, name=阿达, phone=15666663333, email= (truncated)...]
2025-05-01 09:26:29.991 DEBUG 21004 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-01 09:26:29.992 DEBUG 21004 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=注册成功, data={userId=13, username=艾达王})]
2025-05-01 09:26:29.993 DEBUG 21004 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-01 09:26:29.994 DEBUG 21004 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-01 09:26:38.455 DEBUG 21004 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-01 09:26:38.455 DEBUG 21004 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-01 09:26:38.459 DEBUG 21004 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-01 09:26:38.460 DEBUG 21004 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-01 09:26:38.460 DEBUG 21004 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-01 09:26:38.461 DEBUG 21004 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-01 09:26:38.461 DEBUG 21004 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-01 09:26:38.462 DEBUG 21004 --- [http-nio-8090-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=15666663333, password=15666663333)]
2025-05-01 09:26:38.536 DEBUG 21004 --- [http-nio-8090-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user '15666663333'
2025-05-01 09:26:38.537 DEBUG 21004 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-01 09:26:38.537 DEBUG 21004 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=false, message=用户名或密码错误, userId=null, username=null, role=null, token=null)]
2025-05-01 09:26:38.539 DEBUG 21004 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2025-05-01 09:26:38.539 DEBUG 21004 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-01 09:26:50.080 DEBUG 21004 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-01 09:26:50.081 DEBUG 21004 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-01 09:26:50.087 DEBUG 21004 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-01 09:26:50.087 DEBUG 21004 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-01 09:26:50.087 DEBUG 21004 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-01 09:26:50.088 DEBUG 21004 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-01 09:26:50.089 DEBUG 21004 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-01 09:26:50.091 DEBUG 21004 --- [http-nio-8090-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=15666663333, password=15666663333)]
2025-05-01 09:26:50.166 DEBUG 21004 --- [http-nio-8090-exec-9] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user '15666663333'
2025-05-01 09:26:50.167 DEBUG 21004 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-01 09:26:50.167 DEBUG 21004 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=false, message=用户名或密码错误, userId=null, username=null, role=null, token=null)]
2025-05-01 09:26:50.168 DEBUG 21004 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2025-05-01 09:26:50.169 DEBUG 21004 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-01 09:35:08.641 DEBUG 21004 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-01 09:35:08.641 DEBUG 21004 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-01 09:35:08.646 DEBUG 21004 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-01 09:35:08.647 DEBUG 21004 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-01 09:35:08.647 DEBUG 21004 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-01 09:35:08.647 DEBUG 21004 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-01 09:35:08.648 DEBUG 21004 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-01 09:35:08.649 DEBUG 21004 --- [http-nio-8090-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=艾达王, password=15666663333)]
2025-05-01 09:35:08.717 DEBUG 21004 --- [http-nio-8090-exec-5] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-01 09:35:08.722 DEBUG 21004 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-01 09:35:08.722 DEBUG 21004 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=13, username=艾达王, role=CUSTOMER, token=eyJhbGciOiJI (truncated)...]
2025-05-01 09:35:08.723 DEBUG 21004 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-01 09:35:08.723 DEBUG 21004 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-01 09:35:10.314 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-01 09:35:10.314 DEBUG 21004 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-01 09:35:10.319 DEBUG 21004 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-01 09:35:10.319 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-01 09:35:10.319 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-01 09:35:10.320 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-01 09:35:10.320 DEBUG 21004 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-01 09:35:10.320 DEBUG 21004 --- [http-nio-8090-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=艾达王, password=15666663333)]
2025-05-01 09:35:10.390 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-01 09:35:10.395 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-01 09:35:10.395 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=13, username=艾达王, role=CUSTOMER, token=eyJhbGciOiJI (truncated)...]
2025-05-01 09:35:10.396 DEBUG 21004 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-01 09:35:10.396 DEBUG 21004 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-01 09:35:12.577 DEBUG 21004 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-01 09:35:12.577 DEBUG 21004 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-01 09:35:12.582 DEBUG 21004 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-01 09:35:12.582 DEBUG 21004 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-01 09:35:12.582 DEBUG 21004 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-01 09:35:12.583 DEBUG 21004 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-01 09:35:12.583 DEBUG 21004 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-01 09:35:12.583 DEBUG 21004 --- [http-nio-8090-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=艾达王, password=15666663333)]
2025-05-01 09:35:12.651 DEBUG 21004 --- [http-nio-8090-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-01 09:35:12.655 DEBUG 21004 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-01 09:35:12.655 DEBUG 21004 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=13, username=艾达王, role=CUSTOMER, token=eyJhbGciOiJI (truncated)...]
2025-05-01 09:35:12.656 DEBUG 21004 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-01 09:35:12.656 DEBUG 21004 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-01 09:40:45.199  INFO 21004 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-01 09:40:45.201  INFO 21004 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-01 09:40:45.215  INFO 21004 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-01 09:40:48.847  INFO 32580 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 32580 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-01 09:40:48.849 DEBUG 32580 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-01 09:40:48.849  INFO 32580 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-01 09:40:49.781  INFO 32580 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-01 09:40:49.993  INFO 32580 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 205 ms. Found 19 JPA repository interfaces.
2025-05-01 09:40:50.535  INFO 32580 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-01 09:40:50.537  INFO 32580 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-01 09:40:50.537  INFO 32580 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-01 09:40:50.538  INFO 32580 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-01 09:40:50.544  INFO 32580 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-01 09:40:50.553  INFO 32580 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-01 09:40:50.554  INFO 32580 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-01 09:40:50.698  INFO 32580 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-01 09:40:50.698  INFO 32580 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1800 ms
2025-05-01 09:40:50.892  INFO 32580 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-01 09:40:50.955  INFO 32580 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-01 09:40:51.152  INFO 32580 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-01 09:40:51.256  INFO 32580 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-01 09:40:51.596  INFO 32580 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-01 09:40:51.611  INFO 32580 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-01 09:40:52.784  INFO 32580 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-01 09:40:52.792  INFO 32580 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-01 09:40:53.272 DEBUG 32580 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-01 09:40:53.273 DEBUG 32580 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-01 09:40:54.127 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-01 09:40:54.133 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-01 09:40:54.133 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-01 09:40:54.133 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-01 09:40:54.134 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-01 09:40:54.134 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-01 09:40:54.134 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-01 09:40:54.134 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-01 09:40:54.135 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-01 09:40:54.135 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-01 09:40:54.135 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-01 09:40:54.135 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-01 09:40:54.135 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-01 09:40:54.136 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-01 09:40:54.136 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-01 09:40:54.136 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-01 09:40:54.137 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-01 09:40:54.137 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-01 09:40:54.137 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-01 09:40:54.137 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-01 09:40:54.137 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-01 09:40:54.137 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-01 09:40:54.138 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-01 09:40:54.138 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-01 09:40:54.138 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-01 09:40:54.138 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-01 09:40:54.138 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-01 09:40:54.138 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-01 09:40:54.138 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-01 09:40:54.138 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-01 09:40:54.138 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-01 09:40:54.139 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-01 09:40:54.139 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-01 09:40:54.140 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-01 09:40:54.140 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-01 09:40:54.140 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-01 09:40:54.140 DEBUG 32580 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-01 09:40:54.145  INFO 32580 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@26fc464f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1174ff02, org.springframework.security.web.context.SecurityContextPersistenceFilter@45775a15, org.springframework.security.web.header.HeaderWriterFilter@2e7dd504, org.springframework.web.filter.CorsFilter@2571bdf4, org.springframework.security.web.authentication.logout.LogoutFilter@1da5635e, com.hotel.config.JwtAuthenticationFilter@188058fb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7bb888b7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5825932c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1978eab7, org.springframework.security.web.session.SessionManagementFilter@54c697c, org.springframework.security.web.access.ExceptionTranslationFilter@21f421b8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7def62d0]
2025-05-01 09:40:54.190  WARN 32580 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-01 09:40:54.317 DEBUG 32580 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-01 09:40:54.342  INFO 32580 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-01 09:40:54.415 DEBUG 32580 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 158 mappings in 'requestMappingHandlerMapping'
2025-05-01 09:40:54.421 DEBUG 32580 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-01 09:40:54.436 DEBUG 32580 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-01 09:40:54.445 DEBUG 32580 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-01 09:40:54.610  INFO 32580 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-01 09:40:54.620  INFO 32580 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.272 seconds (JVM running for 7.171)
2025-05-01 09:43:00.029  INFO 32580 --- [http-nio-8090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-01 09:43:00.029  INFO 32580 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-01 09:43:00.029 DEBUG 32580 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-01 09:43:00.029 DEBUG 32580 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-01 09:43:00.029 DEBUG 32580 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-01 09:43:00.030 DEBUG 32580 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1abf38d1
2025-05-01 09:43:00.031 DEBUG 32580 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5a110e7d
2025-05-01 09:43:00.031 DEBUG 32580 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-01 09:43:00.031  INFO 32580 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-01 09:43:00.044 DEBUG 32580 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-01 09:43:00.049 DEBUG 32580 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-01 09:43:00.133 DEBUG 32580 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-01 09:43:00.142 DEBUG 32580 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-01 09:43:00.142 DEBUG 32580 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-01 09:43:00.145 DEBUG 32580 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-01 09:43:00.148 DEBUG 32580 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-01 09:43:00.202 DEBUG 32580 --- [http-nio-8090-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=15666663333, password=15666663333)]
2025-05-01 09:43:00.351 DEBUG 32580 --- [http-nio-8090-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to find user '15666663333'
2025-05-01 09:43:00.375 DEBUG 32580 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-01 09:43:00.375 DEBUG 32580 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=false, message=用户名或密码错误, userId=null, username=null, role=null, token=null)]
2025-05-01 09:43:00.385 DEBUG 32580 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2025-05-01 09:43:00.387 DEBUG 32580 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-01 09:43:07.768 DEBUG 32580 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-01 09:43:07.768 DEBUG 32580 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-01 09:43:07.774 DEBUG 32580 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-01 09:43:07.776 DEBUG 32580 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-01 09:43:07.776 DEBUG 32580 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-01 09:43:07.776 DEBUG 32580 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-01 09:43:07.777 DEBUG 32580 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-01 09:43:07.778 DEBUG 32580 --- [http-nio-8090-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=艾达王, password=15666663333)]
2025-05-01 09:43:07.848 DEBUG 32580 --- [http-nio-8090-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-01 09:43:07.888 DEBUG 32580 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-01 09:43:07.889 DEBUG 32580 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=13, username=艾达王, role=CUSTOMER, token=eyJhbGciOiJI (truncated)...]
2025-05-01 09:43:07.890 DEBUG 32580 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-01 09:43:07.890 DEBUG 32580 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-01 09:43:08.204 DEBUG 32580 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/13
2025-05-01 09:43:08.204 DEBUG 32580 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-01 09:43:08.207 DEBUG 32580 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-01 09:43:08.208 DEBUG 32580 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/13] with attributes [authenticated]
2025-05-01 09:43:08.208 DEBUG 32580 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/13
2025-05-01 09:43:08.208 DEBUG 32580 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/13", parameters={}
2025-05-01 09:43:08.209 DEBUG 32580 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-01 09:43:08.241 DEBUG 32580 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-01 09:43:08.277 DEBUG 32580 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=User(id=13, username=艾达王, password=null, name=阿 (truncated)...]
2025-05-01 09:43:08.298 DEBUG 32580 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-01 09:43:08.298 DEBUG 32580 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-01 09:43:08.467 DEBUG 32580 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-01 09:43:08.467 DEBUG 32580 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-01 09:43:08.471 DEBUG 32580 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-01 09:43:08.472 DEBUG 32580 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-01 09:43:08.472 DEBUG 32580 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-01 09:43:08.472 DEBUG 32580 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-01 09:43:08.472 DEBUG 32580 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-01 09:43:08.474 DEBUG 32580 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-01 09:43:08.474 DEBUG 32580 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=获取会员信息失败: 无法解析用户ID}]
2025-05-01 09:43:08.476 DEBUG 32580 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-01 09:43:08.476 DEBUG 32580 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-01 09:43:29.097 DEBUG 32580 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=10
2025-05-01 09:43:29.097 DEBUG 32580 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-01 09:43:29.101 DEBUG 32580 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-01 09:43:29.101 DEBUG 32580 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=10] with attributes [authenticated]
2025-05-01 09:43:29.102 DEBUG 32580 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=10
2025-05-01 09:43:29.102 DEBUG 32580 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=10", parameters={masked}
2025-05-01 09:43:29.103 DEBUG 32580 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getReservation(Long)
2025-05-01 09:43:29.105 DEBUG 32580 --- [http-nio-8090-exec-3] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<?> com.hotel.controller.ReservationController.getReservation(java.lang.Long): Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; nested exception is java.lang.NumberFormatException: For input string: "user"
2025-05-01 09:43:29.111  WARN 32580 --- [http-nio-8090-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; nested exception is java.lang.NumberFormatException: For input string: "user"]
2025-05-01 09:43:29.111 DEBUG 32580 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-01 09:43:29.111 DEBUG 32580 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-01 09:43:29.114 DEBUG 32580 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-01 09:43:29.114 DEBUG 32580 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-01 09:43:29.114 DEBUG 32580 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-01 09:43:29.114 DEBUG 32580 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-01 09:43:29.114 DEBUG 32580 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-01 09:43:29.115 DEBUG 32580 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-01 09:43:29.119 DEBUG 32580 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-01 09:43:29.119 DEBUG 32580 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Bad Request, message=An error occurred, status=400}]
2025-05-01 09:43:29.121 DEBUG 32580 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 400
2025-05-01 09:43:29.122 DEBUG 32580 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-01 09:43:30.861 DEBUG 32580 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-01 09:43:30.862 DEBUG 32580 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-01 09:43:30.865 DEBUG 32580 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-01 09:43:30.866 DEBUG 32580 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-01 09:43:30.867 DEBUG 32580 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-01 09:43:30.867 DEBUG 32580 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-01 09:43:30.867 DEBUG 32580 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-01 09:43:30.871 DEBUG 32580 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-01 09:43:30.871 DEBUG 32580 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=获取积分历史失败: 无法解析用户ID}]
2025-05-01 09:43:30.872 DEBUG 32580 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-01 09:43:30.873 DEBUG 32580 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
