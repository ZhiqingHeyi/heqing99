2025-05-07 08:57:25.921  INFO 7292 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 7292 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 08:57:25.931 DEBUG 7292 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 08:57:25.932  INFO 7292 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 08:57:26.919  INFO 7292 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 08:57:27.154  INFO 7292 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 221 ms. Found 19 JPA repository interfaces.
2025-05-07 08:57:27.781  INFO 7292 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 08:57:27.783  INFO 7292 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 08:57:27.783  INFO 7292 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 08:57:27.783  INFO 7292 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 08:57:27.789  INFO 7292 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 08:57:27.799  INFO 7292 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 08:57:27.800  INFO 7292 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 08:57:27.969  INFO 7292 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 08:57:27.969  INFO 7292 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1979 ms
2025-05-07 08:57:28.162  INFO 7292 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 08:57:28.223  INFO 7292 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 08:57:28.398  INFO 7292 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 08:57:28.539  INFO 7292 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 08:57:28.912  INFO 7292 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 08:57:28.928  INFO 7292 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 08:57:30.081  INFO 7292 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 08:57:30.088  INFO 7292 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 08:57:30.539 DEBUG 7292 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 08:57:30.539 DEBUG 7292 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 08:57:31.408 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 08:57:31.416 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 08:57:31.416 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 08:57:31.416 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 08:57:31.416 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 08:57:31.417 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 08:57:31.417 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 08:57:31.417 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 08:57:31.417 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 08:57:31.417 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 08:57:31.418 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 08:57:31.418 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 08:57:31.418 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 08:57:31.418 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 08:57:31.418 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 08:57:31.418 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 08:57:31.418 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 08:57:31.418 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 08:57:31.419 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 08:57:31.419 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 08:57:31.419 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 08:57:31.419 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 08:57:31.419 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 08:57:31.419 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 08:57:31.419 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 08:57:31.420 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 08:57:31.420 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 08:57:31.420 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 08:57:31.420 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 08:57:31.420 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 08:57:31.420 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 08:57:31.420 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 08:57:31.421 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 08:57:31.421 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 08:57:31.421 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 08:57:31.421 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 08:57:31.422 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 08:57:31.423 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 08:57:31.423 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 08:57:31.423 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 08:57:31.423 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 08:57:31.424 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 08:57:31.424 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 08:57:31.424 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 08:57:31.424 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 08:57:31.424 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 08:57:31.424 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 08:57:31.425 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 08:57:31.425 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 08:57:31.425 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 08:57:31.425 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 08:57:31.425 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 08:57:31.425 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 08:57:31.425 DEBUG 7292 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 08:57:31.432  INFO 7292 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4117e0c9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@568e2d65, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c6557da, org.springframework.security.web.header.HeaderWriterFilter@2e93f91d, org.springframework.web.filter.CorsFilter@751b901a, org.springframework.security.web.authentication.logout.LogoutFilter@78ca8258, com.hotel.config.JwtAuthenticationFilter@33986be7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3985175e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d91e8c7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e528476, org.springframework.security.web.session.SessionManagementFilter@6e6ec71f, org.springframework.security.web.access.ExceptionTranslationFilter@14cc1f5c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30942f54]
2025-05-07 08:57:31.473  WARN 7292 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 08:57:31.590 DEBUG 7292 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 08:57:31.611  INFO 7292 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 08:57:31.676 DEBUG 7292 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 08:57:31.681 DEBUG 7292 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 08:57:31.698 DEBUG 7292 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 08:57:31.712 DEBUG 7292 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 08:57:31.902  INFO 7292 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 08:57:31.910  INFO 7292 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.499 seconds (JVM running for 7.472)
2025-05-07 08:57:46.253  INFO 7292 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 08:57:46.254  INFO 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 08:57:46.254 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 08:57:46.254 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 08:57:46.254 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 08:57:46.255 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@331da721
2025-05-07 08:57:46.256 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@225b460a
2025-05-07 08:57:46.256 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 08:57:46.256  INFO 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-07 08:57:46.269 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 08:57:46.273 DEBUG 7292 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 08:57:46.338  INFO 7292 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 08:57:46.342  INFO 7292 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 08:57:46.342  INFO 7292 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 08:57:46.344 DEBUG 7292 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 08:57:46.354 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 08:57:46.354 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 08:57:46.356 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 08:57:46.360 DEBUG 7292 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 08:57:46.420 ERROR 7292 --- [http-nio-8090-exec-1] c.h.controller.CleaningRecordController  : 获取清洁记录失败

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source) ~[na:na]
	at com.hotel.service.impl.CleaningServiceImpl.getAllCleaningRecords(CleaningServiceImpl.java:166) ~[classes/:na]
	at com.hotel.service.impl.CleaningServiceImpl$$FastClassBySpringCGLIB$$81ac99ee.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.CleaningServiceImpl$$EnhancerBySpringCGLIB$$315393ab.getAllCleaningRecords(<generated>) ~[classes/:na]
	at com.hotel.controller.CleaningRecordController.getCleaningRecords(CleaningRecordController.java:64) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:427) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-07 08:57:46.440 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 08:57:46.440 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=获取清洁记录失败: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.co (truncated)...]
2025-05-07 08:57:46.458 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-07 08:57:46.459 DEBUG 7292 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 08:57:46.933 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 08:57:46.934 DEBUG 7292 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 08:57:46.936  INFO 7292 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 08:57:46.940  INFO 7292 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 08:57:46.940  INFO 7292 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 08:57:46.940 DEBUG 7292 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 08:57:46.941 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 08:57:46.942 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 08:57:46.942 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 08:57:46.943 DEBUG 7292 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 08:57:46.952  INFO 7292 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 08:57:46.992  INFO 7292 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 找到 3 个需要清洁的房间
2025-05-07 08:57:47.012  INFO 7292 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 08:57:47.021  INFO 7292 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 房间 302 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:47.024  INFO 7292 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 房间 408 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:47.028  INFO 7292 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 房间 414 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:47.028  INFO 7292 --- [http-nio-8090-exec-5] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 08:57:47.049 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 08:57:47.050 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=5, roomNumber=505, roomType=家庭 (truncated)...]
2025-05-07 08:57:47.100 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 08:57:47.100 DEBUG 7292 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 08:57:47.115 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 08:57:47.115 DEBUG 7292 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 08:57:47.117  INFO 7292 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 08:57:47.122  INFO 7292 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 08:57:47.122  INFO 7292 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 08:57:47.122 DEBUG 7292 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 08:57:47.123 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 08:57:47.123 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 08:57:47.123 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 08:57:47.123 DEBUG 7292 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 08:57:47.124  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 08:57:47.131  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 找到 3 个需要清洁的房间
2025-05-07 08:57:47.133  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 08:57:47.136  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 房间 302 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:47.138  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 房间 408 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:47.140  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 房间 414 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:47.140  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 08:57:47.154 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 08:57:47.154 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 08:57:47.161 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 08:57:47.161 DEBUG 7292 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 08:57:48.166 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 08:57:48.166 DEBUG 7292 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 08:57:48.168  INFO 7292 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 08:57:48.171  INFO 7292 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 08:57:48.171  INFO 7292 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 08:57:48.171 DEBUG 7292 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 08:57:48.172 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 08:57:48.173 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 08:57:48.173 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 08:57:48.173 DEBUG 7292 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 08:57:48.175  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 08:57:48.184  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 找到 3 个需要清洁的房间
2025-05-07 08:57:48.187  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 08:57:48.190  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 房间 302 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:48.194  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 房间 408 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:48.197  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 房间 414 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:48.197  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 08:57:48.203 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 08:57:48.204 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=5, roomNumber=505, roomType=家庭 (truncated)...]
2025-05-07 08:57:48.205 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 08:57:48.206 DEBUG 7292 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 08:57:48.217 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 08:57:48.217 DEBUG 7292 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 08:57:48.220  INFO 7292 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 08:57:48.223  INFO 7292 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 08:57:48.223  INFO 7292 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 08:57:48.224 DEBUG 7292 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 08:57:48.224 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 08:57:48.225 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 08:57:48.225 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 08:57:48.226 DEBUG 7292 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 08:57:48.226  INFO 7292 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 08:57:48.234  INFO 7292 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 找到 3 个需要清洁的房间
2025-05-07 08:57:48.236  INFO 7292 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 08:57:48.237  INFO 7292 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 房间 302 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:48.239  INFO 7292 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 房间 408 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:48.242  INFO 7292 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 房间 414 已存在有效的清洁任务，跳过任务创建
2025-05-07 08:57:48.242  INFO 7292 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 08:57:48.248 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 08:57:48.249 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 08:57:48.249 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 08:57:48.250 DEBUG 7292 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 08:57:56.157 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 08:57:56.158 DEBUG 7292 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 08:57:56.159  INFO 7292 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 08:57:56.163  INFO 7292 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 08:57:56.164  INFO 7292 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 08:57:56.164 DEBUG 7292 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 08:57:56.165 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 08:57:56.165 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 08:57:56.165 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 08:57:56.166 DEBUG 7292 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 08:57:56.172 ERROR 7292 --- [http-nio-8090-exec-6] c.h.controller.CleaningRecordController  : 获取清洁记录失败

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source) ~[na:na]
	at com.hotel.service.impl.CleaningServiceImpl.getAllCleaningRecords(CleaningServiceImpl.java:166) ~[classes/:na]
	at com.hotel.service.impl.CleaningServiceImpl$$FastClassBySpringCGLIB$$81ac99ee.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.CleaningServiceImpl$$EnhancerBySpringCGLIB$$315393ab.getAllCleaningRecords(<generated>) ~[classes/:na]
	at com.hotel.controller.CleaningRecordController.getCleaningRecords(CleaningRecordController.java:64) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:427) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-07 08:57:56.174 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 08:57:56.174 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=获取清洁记录失败: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.co (truncated)...]
2025-05-07 08:57:56.175 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-07 08:57:56.176 DEBUG 7292 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 08:59:13.731 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 08:59:13.732 DEBUG 7292 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 08:59:13.733  INFO 7292 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 08:59:13.737  INFO 7292 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 08:59:13.738  INFO 7292 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 08:59:13.738 DEBUG 7292 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 08:59:13.739 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 08:59:13.740 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 08:59:13.740 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 08:59:13.741 DEBUG 7292 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 08:59:13.748 ERROR 7292 --- [http-nio-8090-exec-3] c.h.controller.CleaningRecordController  : 获取清洁记录失败

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source) ~[na:na]
	at com.hotel.service.impl.CleaningServiceImpl.getAllCleaningRecords(CleaningServiceImpl.java:166) ~[classes/:na]
	at com.hotel.service.impl.CleaningServiceImpl$$FastClassBySpringCGLIB$$81ac99ee.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.CleaningServiceImpl$$EnhancerBySpringCGLIB$$315393ab.getAllCleaningRecords(<generated>) ~[classes/:na]
	at com.hotel.controller.CleaningRecordController.getCleaningRecords(CleaningRecordController.java:64) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:427) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-07 08:59:13.750 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 08:59:13.751 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=获取清洁记录失败: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.co (truncated)...]
2025-05-07 08:59:13.752 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-07 08:59:13.753 DEBUG 7292 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:08:43.797 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:08:43.798 DEBUG 7292 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:08:43.799  INFO 7292 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:08:43.803  INFO 7292 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:08:43.803  INFO 7292 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:08:43.803 DEBUG 7292 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:08:43.804 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:08:43.805 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:08:43.805 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:08:43.806 DEBUG 7292 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:08:43.812 ERROR 7292 --- [http-nio-8090-exec-8] c.h.controller.CleaningRecordController  : 获取清洁记录失败

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source) ~[na:na]
	at com.hotel.service.impl.CleaningServiceImpl.getAllCleaningRecords(CleaningServiceImpl.java:166) ~[classes/:na]
	at com.hotel.service.impl.CleaningServiceImpl$$FastClassBySpringCGLIB$$81ac99ee.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.CleaningServiceImpl$$EnhancerBySpringCGLIB$$315393ab.getAllCleaningRecords(<generated>) ~[classes/:na]
	at com.hotel.controller.CleaningRecordController.getCleaningRecords(CleaningRecordController.java:64) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:427) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-07 09:08:43.814 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:08:43.814 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=获取清洁记录失败: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.co (truncated)...]
2025-05-07 09:08:43.816 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-07 09:08:43.816 DEBUG 7292 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:09:07.159 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:09:07.160 DEBUG 7292 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:09:07.162  INFO 7292 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:09:07.168  INFO 7292 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:09:07.168  INFO 7292 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:09:07.168 DEBUG 7292 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:09:07.168 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:09:07.169 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:09:07.169 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:09:07.170 DEBUG 7292 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:09:07.178 ERROR 7292 --- [http-nio-8090-exec-9] c.h.controller.CleaningRecordController  : 获取清洁记录失败

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source) ~[na:na]
	at com.hotel.service.impl.CleaningServiceImpl.getAllCleaningRecords(CleaningServiceImpl.java:166) ~[classes/:na]
	at com.hotel.service.impl.CleaningServiceImpl$$FastClassBySpringCGLIB$$81ac99ee.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.CleaningServiceImpl$$EnhancerBySpringCGLIB$$315393ab.getAllCleaningRecords(<generated>) ~[classes/:na]
	at com.hotel.controller.CleaningRecordController.getCleaningRecords(CleaningRecordController.java:64) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:427) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-07 09:09:07.183 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:09:07.183 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=获取清洁记录失败: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.co (truncated)...]
2025-05-07 09:09:07.184 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-07 09:09:07.184 DEBUG 7292 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:10:57.348 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:10:57.349 DEBUG 7292 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:10:57.351  INFO 7292 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:10:57.355  INFO 7292 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:10:57.355  INFO 7292 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:10:57.355 DEBUG 7292 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:10:57.356 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:10:57.356 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:10:57.356 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:10:57.356 DEBUG 7292 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:10:57.362 ERROR 7292 --- [http-nio-8090-exec-2] c.h.controller.CleaningRecordController  : 获取清洁记录失败

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source) ~[na:na]
	at com.hotel.service.impl.CleaningServiceImpl.getAllCleaningRecords(CleaningServiceImpl.java:166) ~[classes/:na]
	at com.hotel.service.impl.CleaningServiceImpl$$FastClassBySpringCGLIB$$81ac99ee.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.CleaningServiceImpl$$EnhancerBySpringCGLIB$$315393ab.getAllCleaningRecords(<generated>) ~[classes/:na]
	at com.hotel.controller.CleaningRecordController.getCleaningRecords(CleaningRecordController.java:64) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:427) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-07 09:10:57.364 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:10:57.364 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=获取清洁记录失败: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.co (truncated)...]
2025-05-07 09:10:57.365 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-07 09:10:57.365 DEBUG 7292 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:11:21.357 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:11:21.358 DEBUG 7292 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:11:21.360  INFO 7292 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:11:21.364  INFO 7292 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:11:21.364  INFO 7292 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:11:21.365 DEBUG 7292 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:11:21.365 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:11:21.365 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:11:21.365 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:11:21.366 DEBUG 7292 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:11:21.373 ERROR 7292 --- [http-nio-8090-exec-1] c.h.controller.CleaningRecordController  : 获取清洁记录失败

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy151.findAll(Unknown Source) ~[na:na]
	at com.hotel.service.impl.CleaningServiceImpl.getAllCleaningRecords(CleaningServiceImpl.java:166) ~[classes/:na]
	at com.hotel.service.impl.CleaningServiceImpl$$FastClassBySpringCGLIB$$81ac99ee.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.CleaningServiceImpl$$EnhancerBySpringCGLIB$$315393ab.getAllCleaningRecords(<generated>) ~[classes/:na]
	at com.hotel.controller.CleaningRecordController.getCleaningRecords(CleaningRecordController.java:64) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.completed
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:427) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.findAll(SimpleJpaRepository.java:88) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:529) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:639) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:163) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-07 09:11:21.375 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:11:21.375 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=获取清洁记录失败: No enum constant com.hotel.entity.CleaningRecord.CleaningStatus.co (truncated)...]
2025-05-07 09:11:21.377 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-07 09:11:21.377 DEBUG 7292 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:13:13.768 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:13:13.768 DEBUG 7292 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:13:13.770  INFO 7292 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:13:13.774  INFO 7292 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:13:13.774  INFO 7292 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:13:13.774 DEBUG 7292 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:13:13.775 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:13:13.775 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:13:13.775 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:13:13.775 DEBUG 7292 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:13:13.816 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:13:13.817 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 09:13:13.818 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:13:13.819 DEBUG 7292 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:13.613 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 09:14:13.614 DEBUG 7292 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:13.615  INFO 7292 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:13.618  INFO 7292 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:13.618  INFO 7292 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:13.618 DEBUG 7292 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:13.618 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 09:14:13.619 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 09:14:13.619 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 09:14:13.619 DEBUG 7292 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 09:14:13.620  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 09:14:13.627  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 找到 3 个需要清洁的房间
2025-05-07 09:14:13.629  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 09:14:13.632  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 房间 302 已存在有效的清洁任务，跳过任务创建
2025-05-07 09:14:13.635  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 房间 408 已存在有效的清洁任务，跳过任务创建
2025-05-07 09:14:13.638  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 房间 414 已存在有效的清洁任务，跳过任务创建
2025-05-07 09:14:13.638  INFO 7292 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 09:14:13.646 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:13.646 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=5, roomNumber=505, roomType=家庭 (truncated)...]
2025-05-07 09:14:13.647 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:13.647 DEBUG 7292 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:13.668 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 09:14:13.668 DEBUG 7292 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:13.669  INFO 7292 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:13.672  INFO 7292 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:13.672  INFO 7292 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:13.672 DEBUG 7292 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:13.672 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 09:14:13.673 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 09:14:13.673 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 09:14:13.673 DEBUG 7292 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 09:14:13.673  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 09:14:13.679  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 找到 3 个需要清洁的房间
2025-05-07 09:14:13.681  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 09:14:13.683  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 房间 302 已存在有效的清洁任务，跳过任务创建
2025-05-07 09:14:13.685  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 房间 408 已存在有效的清洁任务，跳过任务创建
2025-05-07 09:14:13.687  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 房间 414 已存在有效的清洁任务，跳过任务创建
2025-05-07 09:14:13.687  INFO 7292 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 09:14:13.695 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:13.695 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 09:14:13.696 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:13.696 DEBUG 7292 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:16.618 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/3/start
2025-05-07 09:14:16.618 DEBUG 7292 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:16.628  INFO 7292 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:16.638  INFO 7292 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:16.638  INFO 7292 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:16.638 DEBUG 7292 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:16.638 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/3/start] with attributes [authenticated]
2025-05-07 09:14:16.638 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/3/start
2025-05-07 09:14:16.638 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/3/start", parameters={}
2025-05-07 09:14:16.638 DEBUG 7292 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#startTask(Long)
2025-05-07 09:14:16.688 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:16.688 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Task(id=3, roomNumber=414, roomType=家庭套房, cleaner=清洁人员, priority=medium, status=processing, expected (truncated)...]
2025-05-07 09:14:16.688 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:16.688 DEBUG 7292 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:21.209 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/3/complete
2025-05-07 09:14:21.219 DEBUG 7292 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:21.219  INFO 7292 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:21.219  INFO 7292 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:21.219  INFO 7292 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:21.219 DEBUG 7292 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:21.219 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/3/complete] with attributes [authenticated]
2025-05-07 09:14:21.219 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/3/complete
2025-05-07 09:14:21.219 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/3/complete", parameters={}
2025-05-07 09:14:21.219 DEBUG 7292 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#completeTask(Long, TaskDTO)
2025-05-07 09:14:21.258 DEBUG 7292 --- [http-nio-8090-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, expectedT (truncated)...]
2025-05-07 09:14:21.268  INFO 7292 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 任务完成：ID=3, 房间=414, 实际用时=30分钟
2025-05-07 09:14:21.278  INFO 7292 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 已更新房间状态：房间号=414, 状态=AVAILABLE, 需要清洁=false
2025-05-07 09:14:21.328 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:21.328 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Task(id=3, roomNumber=414, roomType=家庭套房, cleaner=清洁人员, priority=medium, status=completed, expectedT (truncated)...]
2025-05-07 09:14:21.328 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:21.328 DEBUG 7292 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:21.348 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 09:14:21.348 DEBUG 7292 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:21.348  INFO 7292 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:21.348  INFO 7292 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:21.348  INFO 7292 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:21.348 DEBUG 7292 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:21.348 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 09:14:21.348 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 09:14:21.348 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 09:14:21.348 DEBUG 7292 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 09:14:21.348  INFO 7292 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 09:14:21.358  INFO 7292 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 找到 2 个需要清洁的房间
2025-05-07 09:14:21.358  INFO 7292 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 09:14:21.368  INFO 7292 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 房间 302 已存在有效的清洁任务，跳过任务创建
2025-05-07 09:14:21.368  INFO 7292 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 房间 408 已存在有效的清洁任务，跳过任务创建
2025-05-07 09:14:21.368  INFO 7292 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 09:14:21.378 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:21.378 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=5, roomNumber=505, roomType=家庭 (truncated)...]
2025-05-07 09:14:21.378 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:21.378 DEBUG 7292 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:21.408 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 09:14:21.408 DEBUG 7292 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:21.408  INFO 7292 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:21.408  INFO 7292 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:21.408  INFO 7292 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:21.408 DEBUG 7292 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:21.408 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 09:14:21.408 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 09:14:21.408 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 09:14:21.408 DEBUG 7292 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 09:14:21.408  INFO 7292 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 09:14:21.418  INFO 7292 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 找到 2 个需要清洁的房间
2025-05-07 09:14:21.418  INFO 7292 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 09:14:21.418  INFO 7292 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 房间 302 已存在有效的清洁任务，跳过任务创建
2025-05-07 09:14:21.418  INFO 7292 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 房间 408 已存在有效的清洁任务，跳过任务创建
2025-05-07 09:14:21.418  INFO 7292 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 09:14:21.428 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:21.428 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 09:14:21.428 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:21.428 DEBUG 7292 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:24.852 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:14:24.852 DEBUG 7292 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:24.852  INFO 7292 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:24.852  INFO 7292 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:24.852  INFO 7292 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:24.852 DEBUG 7292 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:24.852 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:14:24.852 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:14:24.852 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:14:24.852 DEBUG 7292 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:14:24.879 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:24.879 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 09:14:24.879 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:24.879 DEBUG 7292 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:26.115 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:14:26.115 DEBUG 7292 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:26.125  INFO 7292 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:26.125  INFO 7292 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:26.125  INFO 7292 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:26.125 DEBUG 7292 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:26.125 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:14:26.125 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:14:26.125 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:14:26.125 DEBUG 7292 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:14:26.146 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:26.146 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 09:14:26.146 DEBUG 7292 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:26.146 DEBUG 7292 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:26.626 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:14:26.626 DEBUG 7292 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:26.626  INFO 7292 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:26.626  INFO 7292 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:26.626  INFO 7292 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:26.626 DEBUG 7292 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:26.626 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:14:26.626 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:14:26.626 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:14:26.636 DEBUG 7292 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:14:26.656 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:26.656 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 09:14:26.656 DEBUG 7292 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:26.656 DEBUG 7292 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:28.748 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:14:28.748 DEBUG 7292 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:28.758  INFO 7292 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:28.758  INFO 7292 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:28.758  INFO 7292 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:28.758 DEBUG 7292 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:28.763 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:14:28.763 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:14:28.763 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:14:28.763 DEBUG 7292 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:14:28.778 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:28.778 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 09:14:28.778 DEBUG 7292 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:28.778 DEBUG 7292 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:30.564 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:14:30.564 DEBUG 7292 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:30.564  INFO 7292 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:30.574  INFO 7292 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:30.574  INFO 7292 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:30.574 DEBUG 7292 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:30.574 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:14:30.574 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:14:30.574 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:14:30.574 DEBUG 7292 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:14:30.594 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:30.594 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 09:14:30.594 DEBUG 7292 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:30.594 DEBUG 7292 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:31.157 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:14:31.157 DEBUG 7292 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:31.157  INFO 7292 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:31.167  INFO 7292 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:31.167  INFO 7292 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:31.167 DEBUG 7292 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:31.167 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:14:31.167 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:14:31.167 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:14:31.167 DEBUG 7292 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:14:31.187 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:31.187 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 09:14:31.187 DEBUG 7292 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:31.187 DEBUG 7292 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:31.377 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:14:31.377 DEBUG 7292 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:31.377  INFO 7292 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:31.387  INFO 7292 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:31.387  INFO 7292 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:31.387 DEBUG 7292 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:31.387 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:14:31.387 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:14:31.387 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:14:31.387 DEBUG 7292 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:14:31.397 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:31.397 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 09:14:31.407 DEBUG 7292 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:31.407 DEBUG 7292 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:38.317 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records?status=COMPLETED
2025-05-07 09:14:38.317 DEBUG 7292 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:38.317  INFO 7292 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:38.317  INFO 7292 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:38.317  INFO 7292 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:38.317 DEBUG 7292 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:38.317 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records?status=COMPLETED] with attributes [authenticated]
2025-05-07 09:14:38.317 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records?status=COMPLETED
2025-05-07 09:14:38.317 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records?status=COMPLETED", parameters={masked}
2025-05-07 09:14:38.317 DEBUG 7292 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:14:38.347 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:38.347 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=2, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 09:14:38.347 DEBUG 7292 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:38.347 DEBUG 7292 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:38.795 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records?status=IN_PROGRESS
2025-05-07 09:14:38.795 DEBUG 7292 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:38.795  INFO 7292 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:38.797  INFO 7292 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:38.797  INFO 7292 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:38.797 DEBUG 7292 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:38.797 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records?status=IN_PROGRESS] with attributes [authenticated]
2025-05-07 09:14:38.797 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records?status=IN_PROGRESS
2025-05-07 09:14:38.797 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records?status=IN_PROGRESS", parameters={masked}
2025-05-07 09:14:38.797 DEBUG 7292 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:14:38.807 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:38.807 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=1, records=[{duration=进行中, roomNumber=201, cleaner=清洁人员, startTime=2025-05-01T13:00, id=3, en (truncated)...]
2025-05-07 09:14:38.807 DEBUG 7292 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:38.807 DEBUG 7292 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:39.531 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 09:14:39.531 DEBUG 7292 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:39.531  INFO 7292 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:39.531  INFO 7292 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:39.531  INFO 7292 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:39.531 DEBUG 7292 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:39.531 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 09:14:39.531 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 09:14:39.531 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 09:14:39.531 DEBUG 7292 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 09:14:39.550 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:39.550 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 09:14:39.550 DEBUG 7292 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:39.550 DEBUG 7292 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 09:14:54.740 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/2/start
2025-05-07 09:14:54.740 DEBUG 7292 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 09:14:54.740  INFO 7292 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 09:14:54.742  INFO 7292 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 09:14:54.742  INFO 7292 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 09:14:54.742 DEBUG 7292 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 09:14:54.742 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/2/start] with attributes [authenticated]
2025-05-07 09:14:54.742 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/2/start
2025-05-07 09:14:54.742 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/2/start", parameters={}
2025-05-07 09:14:54.742 DEBUG 7292 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#startTask(Long)
2025-05-07 09:14:54.752 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 09:14:54.752 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Task(id=2, roomNumber=408, roomType=家庭套房, cleaner=清洁人员, priority=medium, status=processing, expected (truncated)...]
2025-05-07 09:14:54.752 DEBUG 7292 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 09:14:54.752 DEBUG 7292 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:08:29.495  INFO 24604 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 24604 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 10:08:29.495 DEBUG 24604 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 10:08:29.495  INFO 24604 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 10:08:30.324  INFO 24604 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 10:08:30.515  INFO 24604 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 182 ms. Found 19 JPA repository interfaces.
2025-05-07 10:08:31.005  INFO 24604 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 10:08:31.005  INFO 24604 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 10:08:31.005  INFO 24604 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 10:08:31.005  INFO 24604 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 10:08:31.015  INFO 24604 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 10:08:31.025  INFO 24604 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 10:08:31.025  INFO 24604 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 10:08:31.145  INFO 24604 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 10:08:31.145  INFO 24604 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1605 ms
2025-05-07 10:08:31.305  INFO 24604 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 10:08:31.345  INFO 24604 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 10:08:31.465  INFO 24604 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 10:08:31.555  INFO 24604 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 10:08:31.795  INFO 24604 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 10:08:31.805  INFO 24604 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 10:08:32.926  INFO 24604 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 10:08:32.936  INFO 24604 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 10:08:33.347 DEBUG 24604 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 10:08:33.347 DEBUG 24604 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 10:08:33.797  WARN 24604 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cleaningRecordController': Resolution of declared constructors on bean Class [com.hotel.controller.CleaningRecordController] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@27c170f0] failed; nested exception is java.lang.NoClassDefFoundError: CleaningService
2025-05-07 10:08:33.807  INFO 24604 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 10:08:33.807  INFO 24604 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 10:08:33.807  INFO 24604 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 10:08:33.817  INFO 24604 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-07 10:08:33.827  INFO 24604 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-05-07 10:08:33.847 ERROR 24604 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'cleaningRecordController': Resolution of declared constructors on bean Class [com.hotel.controller.CleaningRecordController] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@27c170f0] failed; nested exception is java.lang.NoClassDefFoundError: CleaningService
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1302) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1219) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]
	at com.hotel.HotelManagementApplication.main(HotelManagementApplication.java:10) ~[classes/:na]
Caused by: java.lang.NoClassDefFoundError: CleaningService
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3405) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2587) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:304) ~[spring-beans-5.3.20.jar:5.3.20]
	... 18 common frames omitted
Caused by: java.lang.ClassNotFoundException: CleaningService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]
	... 22 common frames omitted

2025-05-07 10:11:28.747  INFO 26900 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 26900 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 10:11:28.752 DEBUG 26900 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 10:11:28.754  INFO 26900 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 10:11:30.453  INFO 26900 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 10:11:30.670  INFO 26900 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 207 ms. Found 19 JPA repository interfaces.
2025-05-07 10:11:31.240  INFO 26900 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 10:11:31.242  INFO 26900 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 10:11:31.242  INFO 26900 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 10:11:31.243  INFO 26900 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 10:11:31.317  INFO 26900 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 10:11:31.326  INFO 26900 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 10:11:31.326  INFO 26900 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 10:11:31.461  INFO 26900 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 10:11:31.461  INFO 26900 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2591 ms
2025-05-07 10:11:31.647  INFO 26900 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 10:11:31.705  INFO 26900 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 10:11:31.890  INFO 26900 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 10:11:32.042  INFO 26900 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 10:11:32.393  INFO 26900 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 10:11:32.405  INFO 26900 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 10:11:33.569  INFO 26900 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 10:11:33.578  INFO 26900 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 10:11:34.018 DEBUG 26900 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 10:11:34.019 DEBUG 26900 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 10:11:34.857 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 10:11:34.865 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 10:11:34.865 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 10:11:34.865 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 10:11:34.866 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 10:11:34.866 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 10:11:34.866 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 10:11:34.866 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 10:11:34.866 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 10:11:34.866 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 10:11:34.866 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 10:11:34.867 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 10:11:34.867 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 10:11:34.867 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 10:11:34.867 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 10:11:34.867 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 10:11:34.868 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 10:11:34.868 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 10:11:34.868 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 10:11:34.868 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 10:11:34.868 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 10:11:34.869 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 10:11:34.869 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 10:11:34.869 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 10:11:34.869 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 10:11:34.869 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 10:11:34.869 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 10:11:34.869 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 10:11:34.869 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 10:11:34.870 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 10:11:34.870 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 10:11:34.870 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 10:11:34.870 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 10:11:34.870 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 10:11:34.870 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 10:11:34.870 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 10:11:34.872 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 10:11:34.872 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 10:11:34.872 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 10:11:34.872 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 10:11:34.873 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 10:11:34.873 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 10:11:34.873 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 10:11:34.874 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 10:11:34.874 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 10:11:34.874 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 10:11:34.874 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 10:11:34.875 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 10:11:34.875 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 10:11:34.875 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 10:11:34.875 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 10:11:34.875 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 10:11:34.875 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 10:11:34.875 DEBUG 26900 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 10:11:34.882  INFO 26900 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1d6ed085, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b18fa79, org.springframework.security.web.context.SecurityContextPersistenceFilter@72ae1007, org.springframework.security.web.header.HeaderWriterFilter@3dedc8b8, org.springframework.web.filter.CorsFilter@4560eb15, org.springframework.security.web.authentication.logout.LogoutFilter@2226fd2b, com.hotel.config.JwtAuthenticationFilter@4ac0fdc7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5cdafb4d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58ca1cad, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24347d8b, org.springframework.security.web.session.SessionManagementFilter@3070f59f, org.springframework.security.web.access.ExceptionTranslationFilter@122a6078, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@473c491]
2025-05-07 10:11:34.934  WARN 26900 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 10:11:35.064 DEBUG 26900 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 10:11:35.090  INFO 26900 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 10:11:35.149 DEBUG 26900 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 10:11:35.154 DEBUG 26900 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 10:11:35.170 DEBUG 26900 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 10:11:35.177 DEBUG 26900 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 10:11:35.351  INFO 26900 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 10:11:35.360  INFO 26900 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.648 seconds (JVM running for 8.688)
2025-05-07 10:11:46.436  INFO 26900 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 10:11:46.436  INFO 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 10:11:46.436 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 10:11:46.436 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 10:11:46.437 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 10:11:46.438 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@715ea64a
2025-05-07 10:11:46.439 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1001b435
2025-05-07 10:11:46.439 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 10:11:46.440  INFO 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-07 10:11:46.453 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:11:46.459 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:11:46.523  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:11:46.527  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:11:46.528  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:11:46.530 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:11:46.539 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:11:46.540 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:11:46.543 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:11:46.547 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:11:46.580  INFO 26900 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:11:46.586  INFO 26900 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:11:46.591  INFO 26900 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:11:46.591  INFO 26900 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:11:46.627 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:11:46.634 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=5, roomNumber=505, roomType=家庭 (truncated)...]
2025-05-07 10:11:46.691 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:11:46.692 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:11:46.713 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:11:46.713 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:11:46.715  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:11:46.718  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:11:46.718  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:11:46.719 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:11:46.719 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:11:46.719 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:11:46.719 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:11:46.720 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:11:46.720  INFO 26900 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:11:46.722  INFO 26900 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:11:46.724  INFO 26900 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:11:46.725  INFO 26900 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:11:46.735 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:11:46.742 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:11:46.747 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:11:46.748 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:11:57.363 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:11:57.364 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:11:57.366  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:11:57.370  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:11:57.370  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:11:57.370 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:11:57.371 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:11:57.371 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:11:57.372 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:11:57.372 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:11:57.373  INFO 26900 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:11:57.377  INFO 26900 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:11:57.380  INFO 26900 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:11:57.380  INFO 26900 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:11:57.391 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:11:57.392 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=5, roomNumber=505, roomType=家庭 (truncated)...]
2025-05-07 10:11:57.394 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:11:57.394 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:11:57.487 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:11:57.488 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:11:57.490  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:11:57.493  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:11:57.493  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:11:57.494 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:11:57.494 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:11:57.494 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:11:57.495 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:11:57.495 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:11:57.496  INFO 26900 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:11:57.498  INFO 26900 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:11:57.500  INFO 26900 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:11:57.500  INFO 26900 --- [http-nio-8090-exec-4] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:11:57.511 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:11:57.511 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:11:57.512 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:11:57.513 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:04.069 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 10:12:04.069 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:04.069  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:12:04.079  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:12:04.079  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:12:04.079 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:12:04.079 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 10:12:04.079 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 10:12:04.079 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 10:12:04.079 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 10:12:04.159 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:04.159 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 10:12:04.159 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:04.159 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:13.377 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:12:13.377 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:13.377  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:13.377  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:13.377  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:13.387 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:13.387 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:12:13.387 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:12:13.387 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:12:13.387 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:12:13.467 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:13.467 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:12:13.477 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:13.477 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:13.487 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:12:13.487 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:13.497  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:13.497  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:13.497  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:13.497 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:13.507 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:13.507 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:12:13.507 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:12:13.507 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:12:13.525 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:12:13.526 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:13.528  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:13.528  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:13.528  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:13.528 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:13.528 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 10:12:13.528 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:12:13.528 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 10:12:13.528 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:12:13.587 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:13.587 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=421, id=40, floor=4, roomType={name=家庭套房, id (truncated)...]
2025-05-07 10:12:13.587 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:13.587 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:13.627 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:13.627 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:12:13.627 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:13.627 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:13.677 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:12:13.677 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:13.687  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:13.687  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:13.687  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:13.687 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:13.687 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:12:13.687 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:12:13.687 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:12:13.687 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:12:13.707 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:13.707 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:12:13.707 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:13.707 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:15.728 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/reception/checkout/421
2025-05-07 10:12:15.728 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:15.738  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:15.748  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:15.748  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:15.748 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:15.748 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reception/checkout/421] with attributes [authenticated]
2025-05-07 10:12:15.748 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/reception/checkout/421
2025-05-07 10:12:15.748 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/reception/checkout/421", parameters={}
2025-05-07 10:12:15.748 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReceptionController#checkOut(String)
2025-05-07 10:12:15.828 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:15.828 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=退房成功，房间已标记为待清洁}]
2025-05-07 10:12:15.828 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:15.828 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:15.838 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:12:15.838 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:15.838  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:15.848  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:15.848  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:15.848 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:15.848 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:15.848 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:12:15.848 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:12:15.848 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:12:15.908 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:15.908 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:12:15.908 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:15.908 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:16.228 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:12:16.228 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:16.228  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:16.228  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:16.228  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:16.228 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:16.228 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:12:16.228 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:12:16.228 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:12:16.228 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:12:16.248 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:16.248 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:12:16.248 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:16.248 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:16.478 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:12:16.478 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:16.478  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:16.478  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:16.478  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:16.478 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:16.478 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 10:12:16.478 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:12:16.478 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 10:12:16.478 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:12:16.489 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:16.489 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=0, content=[], totalElements=0}]
2025-05-07 10:12:16.489 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:16.489 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:18.564 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 10:12:18.565 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:18.566  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:18.569  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:18.570  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:18.570 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:18.570 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&size=200&page=0] with attributes [authenticated]
2025-05-07 10:12:18.570 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&size=200&page=0
2025-05-07 10:12:18.570 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&size=200&page=0", parameters={masked}
2025-05-07 10:12:18.570 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:12:18.586 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:18.586 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:12:18.588 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:18.588 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:21.232 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:12:21.232 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:12:21.232 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:21.232 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:21.238  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:21.238  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:21.238  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:21.238  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:21.238  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:21.238  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:21.238 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:21.238 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:21.238 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:21.238 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:12:21.238 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:12:21.238 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:12:21.244 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:12:21.244 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:12:21.244 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:12:21.245 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:21.245  INFO 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:21.245 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:12:21.259 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=23, TotalPages=3
2025-05-07 10:12:21.265 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:21.265 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:12:21.265 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:21.265 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:21.265 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:21.272 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:21.286 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:21.286 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:21.502 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:12:21.502 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:21.508  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:21.508  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:21.508  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:21.508 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:21.508 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:21.508 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:12:21.508 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:12:21.508 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:12:21.550 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:21.550 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:12:21.550 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:21.550 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:21.653 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:21.653 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:12:21.653 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:21.653 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:21.654  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:21.654  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:21.654  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:21.654  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:21.654  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:21.654  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:21.654 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:21.654 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:21.654 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:21.654 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:21.654 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:21.654 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:12:21.654 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:12:21.654 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:12:21.654 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:21.654 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:12:21.660  INFO 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:21.660 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:21.661 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=6, TotalPages=6
2025-05-07 10:12:21.668 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:21.668 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 6 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:21.668 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:21.668 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:21.682 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:21.696 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:12:21.710 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:21.710 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:21.720 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:21.720 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:21.724  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:21.724  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:21.724  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:21.724 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:21.724 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:21.724 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:21.724 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:12:21.724 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:21.724  INFO 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:21.724 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:21.730 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=8, TotalPages=8
2025-05-07 10:12:21.730 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:21.730 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 8 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:21.738 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:21.738 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:23.036 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:12:23.036 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07
2025-05-07 10:12:23.036 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:23.036 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:23.042  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:23.042  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:23.043  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:23.043  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:23.043  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:23.043  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07", parameters={masked}
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:23.043  INFO 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:12:23.043  INFO 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:23.043 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:12:23.050 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=8, TotalPages=1
2025-05-07 10:12:23.050 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:23.050 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:23.050 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=23, TotalPages=3
2025-05-07 10:12:23.056 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:23.057 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:23.057 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:23.057 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:23.057 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:23.057 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:23.287 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:12:23.287 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:23.292  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:23.293  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:23.293  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:23.293 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:23.293 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:23.293 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:12:23.293 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:12:23.293 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:12:23.335 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:23.335 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:12:23.341 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:23.342 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:23.412 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:12:23.412 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:23.418 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:23.418 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:23.419  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:23.419  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:23.419  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:23.419  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:23.419  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:23.419  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:23.419  INFO 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:23.419 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:23.426 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=6, TotalPages=6
2025-05-07 10:12:23.426 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:23.431 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 6 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:23.432 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:23.432 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:23.446 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:23.446 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:12:23.446 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:23.446 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:23.460 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:23.460 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:23.460  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:23.460  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:23.460  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:23.460 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:23.460 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:23.460 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:23.460 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:12:23.466 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:23.467  INFO 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:23.467 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:23.473 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=8, TotalPages=8
2025-05-07 10:12:23.473 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:23.473 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 8 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:23.473 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:23.473 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:26.218 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:12:26.218 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:12:26.218 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:26.218 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:26.219  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:26.219  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:26.222  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:26.222  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:26.222  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:26.222  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:26.222 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:26.222 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:26.222 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:26.222 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:12:26.222 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:12:26.223 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:12:26.223 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:12:26.223 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:12:26.223 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:26.223 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:12:26.223  INFO 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:26.223 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:12:26.233 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=23, TotalPages=3
2025-05-07 10:12:26.235 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:26.235 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:26.236 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:26.236 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:26.240 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:26.240 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:12:26.244 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:26.245 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:26.361 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:12:26.361 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:12:26.361 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:26.361 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:26.361 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:26.361 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:26.361  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:26.361  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:26.363  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:26.365  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:26.365  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:26.365  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:26.365  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:26.365 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:26.365 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:26.366  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:12:26.366  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:26.366  INFO 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:26.366 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:26.377 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=6, TotalPages=6
2025-05-07 10:12:26.379 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:26.379 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 6 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:26.381 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:26.381 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:26.391 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:26.393 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:12:26.395 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:26.395 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:26.430 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:26.430 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:12:26.431 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:26.431 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:26.700 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:26.700 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:26.700  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:26.709  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:26.709  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:26.709 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:26.710 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:26.710 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:26.710 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:12:26.710 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:26.711  INFO 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:26.711 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:26.719 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=8, TotalPages=8
2025-05-07 10:12:26.721 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:26.721 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 8 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:26.722 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:26.722 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:30.371 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-07 10:12:30.371 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:30.371 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 10:12:30.371 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-07 10:12:30.371 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-07 10:12:30.371 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-07 10:12:30.371 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-07 10:12:30.371 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-07 10:12:30.398 DEBUG 26900 --- [http-nio-8090-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=18999177256, password=18999177256)]
2025-05-07 10:12:30.468  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:30.468  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:30.468  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:30.539 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-07 10:12:30.551 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:30.554 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=16, username=18999177256, role=RECEPTIONIST, token= (truncated)...]
2025-05-07 10:12:30.555 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:30.555 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:30.952 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:12:30.952 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:12:30.952 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:30.952 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:30.952  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:30.952  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:30.952  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:30.961  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:12:30.961  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:12:30.961  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:30.961  INFO 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:12:30.961 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=23, TotalPages=3
2025-05-07 10:12:30.971 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:30.971 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:30.971 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:30.971 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:30.981 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:30.981 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:12:30.981 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:30.981 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:31.209 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:12:31.209 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:31.209  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:31.209  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:31.209  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:31.209 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:31.209 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:31.209 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:12:31.209 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:12:31.209 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:12:31.259 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:31.259 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:12:31.259 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:31.259 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:31.319 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:31.319 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:12:31.319 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:31.319 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:31.319  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:31.319  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:31.319  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:31.319  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:31.319  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:31.319  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:31.319 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:31.319 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:31.319 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:31.329 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:31.329 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:31.329 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:12:31.329 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:12:31.329 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:12:31.329 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:31.329 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:12:31.329  INFO 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:31.329 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:31.335 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=6, TotalPages=6
2025-05-07 10:12:31.335 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:31.335 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 6 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:31.335 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:31.335 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:31.345 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:31.345 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:12:31.345 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:31.345 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:31.355 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:31.355 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:31.355  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:31.355  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:31.355  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:31.355 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:31.355 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:31.355 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:31.355 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:12:31.355 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:31.355  INFO 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:31.365 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:31.365 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=8, TotalPages=8
2025-05-07 10:12:31.365 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:31.365 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 8 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:31.365 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:31.365 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:34.190 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:12:34.190 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:12:34.190 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:34.190 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:34.192  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:34.192  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:34.195  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:34.195  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:34.195  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:34.195  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:34.195 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:34.195 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:34.196 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:12:34.196 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:34.196 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:12:34.196 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:12:34.196 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:12:34.196 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:12:34.196 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:12:34.196 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:34.198  INFO 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:34.198 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:12:34.204 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=23, TotalPages=3
2025-05-07 10:12:34.206 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:34.206 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:34.207 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:34.208 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:34.215 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:34.215 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:12:34.216 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:34.217 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:34.281 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:12:34.281 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:12:34.281 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:34.281 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:34.281 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:34.281 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:34.283  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:34.283  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:34.283  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:34.286  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:34.286  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:34.287  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:34.287  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:34.287  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:34.287  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:34.287 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:34.287 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:34.287 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:34.287 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:34.287 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:34.287 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:34.288 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:34.288 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:12:34.288 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:12:34.288 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:12:34.288 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:12:34.288 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:12:34.288 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:12:34.288 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:34.289 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:12:34.289  INFO 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:34.290 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:34.297 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=6, TotalPages=6
2025-05-07 10:12:34.298 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:34.299 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 6 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:34.300 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:34.301 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:34.311 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:34.313 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:12:34.315 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:34.315 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:34.335 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:34.335 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:34.335  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:34.335  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:34.335  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:34.340 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:34.340 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:34.340 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:34.340 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:12:34.341 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:34.342  INFO 26900 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:34.342 DEBUG 26900 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:34.342 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:34.342 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:12:34.342 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:34.342 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:34.350 DEBUG 26900 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=8, TotalPages=8
2025-05-07 10:12:34.353 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:34.353 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 8 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:34.355 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:34.355 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:37.867 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:12:37.867 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:37.867 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:12:37.867 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:37.868  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:37.869  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:37.871  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:37.872  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:37.872 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:37.872 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:37.872 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:12:37.872 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:12:37.873  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:37.873  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:37.873 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:37.873 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:37.873 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:12:37.873 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:12:37.873 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:12:37.874  INFO 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:37.874 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:12:37.874 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:12:37.881 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=23, TotalPages=3
2025-05-07 10:12:37.884 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:37.884 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:37.885 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:37.886 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:37.896 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:37.896 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:12:37.898 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:37.898 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:37.980 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:12:37.980 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:12:37.980 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:37.980 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:37.980 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:37.980 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:37.982  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:37.982  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:37.982  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:37.983  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:37.983  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:37.983  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:37.983  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:37.983  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:37.983  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:12:37.987 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:12:37.983 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:37.990  INFO 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:37.990 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:37.997 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=6, TotalPages=6
2025-05-07 10:12:38.000 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:38.000 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 6 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:38.001 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:38.001 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:38.009 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:38.012 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:12:38.014 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:38.014 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:38.030 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:38.030 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:38.030  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:38.030  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:38.030  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:38.030 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:38.030 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:38.030 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:38.030 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:12:38.030 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:38.037  INFO 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:38.037 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:38.043 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=8, TotalPages=8
2025-05-07 10:12:38.044 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:38.044 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:38.044 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:12:38.044 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 8 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:38.044 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:38.044 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:38.044 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:38.044 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:49.603 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-07 10:12:49.603 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:49.603 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-07 10:12:49.606 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-07 10:12:49.606 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-07 10:12:49.606 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-07 10:12:49.606 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-07 10:12:49.606 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-07 10:12:49.607 DEBUG 26900 --- [http-nio-8090-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=18999177256, password=18999177256)]
2025-05-07 10:12:49.607  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:49.610  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:49.610  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:49.684 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-07 10:12:49.690 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:49.690 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=16, username=18999177256, role=RECEPTIONIST, token= (truncated)...]
2025-05-07 10:12:49.690 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:49.690 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:49.807 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:12:49.807 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:12:49.807 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:49.807 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:49.808  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:49.808  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:49.810  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:49.810  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:49.811  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:49.811  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:49.811 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:49.811 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:49.811 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:12:49.811 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:49.811 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:12:49.811 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:12:49.811 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:12:49.811 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:12:49.811 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:12:49.811 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:49.812  INFO 26900 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:49.812 DEBUG 26900 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:12:49.819 DEBUG 26900 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=23, TotalPages=3
2025-05-07 10:12:49.820 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:49.821 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:49.823 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:49.823 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:49.826 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:49.826 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:12:49.826 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:49.826 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:49.886 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:12:49.886 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:12:49.886 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:49.886 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:49.886 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:49.886 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:49.887  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:49.887  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:49.887  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:49.888  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:49.888  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:49.888  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:49.888  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:49.888  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:49.888  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:12:49.888  INFO 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:49.888 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:49.902 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=6, TotalPages=6
2025-05-07 10:12:49.904 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:49.905 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 6 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:49.907 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:49.907 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:49.907 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:49.910 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:12:49.912 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:49.912 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:49.935 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:49.935 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:12:49.935 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:49.935 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:50.232 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:50.232 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:50.232  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:50.232  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:50.232  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:50.232 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:50.232 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:50.232 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:50.232 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:12:50.232 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:50.232  INFO 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:50.232 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:50.242 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=8, TotalPages=8
2025-05-07 10:12:50.242 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:50.242 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 8 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:50.242 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:50.242 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:56.217 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:12:56.217 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:56.224  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:56.224  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:56.224  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:56.224  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:56.224  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:56.224  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07", parameters={masked}
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:56.224  INFO 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:56.224  INFO 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:12:56.224 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:12:56.231 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=8, TotalPages=1
2025-05-07 10:12:56.231 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=23, TotalPages=3
2025-05-07 10:12:56.231 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:56.238 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:56.238 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:56.238 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:56.238 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:56.238 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:56.238 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:56.238 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:56.472 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:12:56.472 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:56.472  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:56.472  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:56.472  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:56.472 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:56.472 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:56.472 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:12:56.472 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:12:56.472 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:12:56.512 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:56.512 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:12:56.512 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:56.512 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:56.622  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:56.622  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:56.622  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:56.622  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:56.622  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:56.622  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:56.622  INFO 26900 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:56.622 DEBUG 26900 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:56.632 DEBUG 26900 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=6, TotalPages=6
2025-05-07 10:12:56.632 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:56.632 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 6 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:56.632 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:56.632 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:56.642 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:56.642 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:12:56.642 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:56.642 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:12:56.650 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:56.650 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:12:56.650  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:12:56.652  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:12:56.652  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:12:56.652 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:12:56.652 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:12:56.652 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:12:56.652 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:12:56.653 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:12:56.653  INFO 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:12:56.653 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:12:56.654 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=8, TotalPages=8
2025-05-07 10:12:56.654 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:12:56.654 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 8 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:12:56.654 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:12:56.654 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:02.227 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:14:02.228 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:02.228  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:02.230  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:02.230  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:02.230 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:02.230 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:02.230 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:14:02.230 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending", parameters={masked}
2025-05-07 10:14:02.231 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:02.231  INFO 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:02.232 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:14:02.233 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=6, TotalPages=1
2025-05-07 10:14:02.233 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:02.233 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:02.240 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:02.240 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:02.473 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:14:02.473 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:02.473  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:02.476  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:02.476  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:02.476 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:02.476 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:02.476 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:14:02.476 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:14:02.477 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:14:02.504 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:02.504 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:14:02.504 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:02.504 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:02.580  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:02.580  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:02.580  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:02.580  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:02.580  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:02.580  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:14:02.580  INFO 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:02.580 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:02.587 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=6, TotalPages=6
2025-05-07 10:14:02.587 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:02.587 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 6 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:02.587 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:02.587 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:02.594 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:02.594 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:14:02.594 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:02.594 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:02.608 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:02.608 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:02.608  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:02.608  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:02.608  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:02.608 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:02.608 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:02.608 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:02.608 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:14:02.608 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:02.608  INFO 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:02.608 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:02.618 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=8, TotalPages=8
2025-05-07 10:14:02.620 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:02.620 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 8 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:02.621 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:02.621 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:05.589 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations/11/confirm
2025-05-07 10:14:05.589 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:05.589  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:05.595  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:05.595  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:05.595 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:05.597 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations/11/confirm] with attributes [authenticated]
2025-05-07 10:14:05.597 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations/11/confirm
2025-05-07 10:14:05.597 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations/11/confirm", parameters={}
2025-05-07 10:14:05.597 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#confirmReservation(Long)
2025-05-07 10:14:05.650 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:05.660 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订确认成功, data=ReservationDTO(id=11, roomTypeName=家庭套房, ro (truncated)...]
2025-05-07 10:14:05.663 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:05.663 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:05.857 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:14:05.857 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:05.858  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:05.859  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:05.859  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:05.859 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:05.859 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:05.859 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:14:05.859 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending", parameters={masked}
2025-05-07 10:14:05.859 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:05.859  INFO 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:05.859 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:14:05.867 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=5, TotalPages=1
2025-05-07 10:14:05.868 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:05.868 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:05.869 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:05.869 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:05.988 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:14:05.988 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:05.989  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:05.991  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:05.991  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:05.991 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:05.991 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:05.991 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:14:05.991 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:14:05.991 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:14:06.026 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:06.026 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:14:06.026 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:06.026 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:06.199 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:06.199 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:14:06.199 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:06.199 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:06.199  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:06.199  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:06.206  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:06.206  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:06.206  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:06.206  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:14:06.206  INFO 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:06.206 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:06.216 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=5, TotalPages=5
2025-05-07 10:14:06.217 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:06.217 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 5 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:06.217 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:06.217 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:06.219 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:06.225 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:14:06.226 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:06.226 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:06.233 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:06.233 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:06.233  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:06.233  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:06.233  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:06.233 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:06.233 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:06.233 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:06.233 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:14:06.233 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:06.241  INFO 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:06.241 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:06.247 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=9, TotalPages=9
2025-05-07 10:14:06.247 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:06.247 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 9 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:06.247 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:06.247 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:07.376 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations/12/confirm
2025-05-07 10:14:07.377 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:07.377  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:07.379  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:07.380  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:07.380 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:07.380 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations/12/confirm] with attributes [authenticated]
2025-05-07 10:14:07.380 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations/12/confirm
2025-05-07 10:14:07.381 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations/12/confirm", parameters={}
2025-05-07 10:14:07.381 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#confirmReservation(Long)
2025-05-07 10:14:07.399 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:07.399 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订确认成功, data=ReservationDTO(id=12, roomTypeName=家庭套房, ro (truncated)...]
2025-05-07 10:14:07.399 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:07.399 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:07.625 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:14:07.625 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:07.627  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:07.628  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:07.628  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:07.629 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:07.629 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:07.629 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:14:07.629 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending", parameters={masked}
2025-05-07 10:14:07.629 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:07.629  INFO 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:07.629 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:14:07.629 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=4, TotalPages=1
2025-05-07 10:14:07.629 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:07.629 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:07.636 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:07.636 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:07.723 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:14:07.723 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:07.724  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:07.726  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:07.727  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:07.727 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:07.727 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:07.727 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:14:07.727 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:14:07.727 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:14:07.760 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:07.760 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:14:07.767 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:07.767 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:07.975 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:14:07.975 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:07.975 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:07.975 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:07.976  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:07.976  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:07.978  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:07.978  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:07.979 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:07.979 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:07.979  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:07.979 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:14:07.979  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:07.979 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:07.979 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:14:07.980 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:07.980 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:14:07.980 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:07.980 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:14:07.980 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:07.981  INFO 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:07.981 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:07.987 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=4, TotalPages=4
2025-05-07 10:14:07.989 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:07.990 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 4 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:07.990 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:07.990 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:07.997 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:07.999 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:14:08.000 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:08.000 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:08.011 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:08.011 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:08.011  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:08.017  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:08.017  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:08.017 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:08.018 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:08.018 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:08.018 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:14:08.018 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:08.018  INFO 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:08.018 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:08.024 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=10, TotalPages=10
2025-05-07 10:14:08.024 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:08.024 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 10 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:14:08.024 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:08.024 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:10.678 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations/13/confirm
2025-05-07 10:14:10.678 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:10.684  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:10.684  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:10.684  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:10.684 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:10.684 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations/13/confirm] with attributes [authenticated]
2025-05-07 10:14:10.684 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations/13/confirm
2025-05-07 10:14:10.684 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations/13/confirm", parameters={}
2025-05-07 10:14:10.684 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#confirmReservation(Long)
2025-05-07 10:14:10.705 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:10.705 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订确认成功, data=ReservationDTO(id=13, roomTypeName=家庭套房, ro (truncated)...]
2025-05-07 10:14:10.705 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:10.708 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:10.946 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:14:10.946 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:10.946  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:10.949  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:10.950  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:10.950 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:10.951 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:10.951 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:14:10.951 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending", parameters={masked}
2025-05-07 10:14:10.951 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:10.952  INFO 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:10.952 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:14:10.956 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=3, TotalPages=1
2025-05-07 10:14:10.958 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:10.959 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:10.959 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:10.960 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:11.025 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:14:11.025 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:11.025  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:11.025  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:11.031  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:11.031 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:11.031 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:11.031 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:14:11.031 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:14:11.031 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:14:11.059 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:11.059 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:14:11.066 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:11.066 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:11.288  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:11.288  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:11.288  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:11.288  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:11.288  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:11.288  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:14:11.288 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:14:11.295 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:14:11.295 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:11.295  INFO 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:11.295 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:11.295 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=3, TotalPages=3
2025-05-07 10:14:11.302 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:11.302 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:11.303 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:11.303 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:11.307 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:11.309 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:14:11.310 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:11.310 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:11.322 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:11.322 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:11.323  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:11.325  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:11.325  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:11.325 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:11.326 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:11.326 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:11.326 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:14:11.326 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:11.327  INFO 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:11.327 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:11.331 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=11, TotalPages=11
2025-05-07 10:14:11.333 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:11.333 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 11 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:14:11.334 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:11.334 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:12.876 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations/15/confirm
2025-05-07 10:14:12.876 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:12.877  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:12.879  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:12.879  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:12.879 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:12.879 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations/15/confirm] with attributes [authenticated]
2025-05-07 10:14:12.879 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations/15/confirm
2025-05-07 10:14:12.879 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations/15/confirm", parameters={}
2025-05-07 10:14:12.879 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#confirmReservation(Long)
2025-05-07 10:14:12.899 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:12.899 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订确认成功, data=ReservationDTO(id=15, roomTypeName=行政套房, ro (truncated)...]
2025-05-07 10:14:12.900 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:12.900 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:13.140 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:14:13.140 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:13.140  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:13.142  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:13.142  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:13.142 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:13.142 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:13.142 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:14:13.143 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending", parameters={masked}
2025-05-07 10:14:13.143 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:13.144  INFO 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:13.144 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:14:13.147 DEBUG 26900 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=2, TotalPages=1
2025-05-07 10:14:13.149 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:13.150 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:13.151 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:13.151 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:13.217 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:14:13.218 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:13.218  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:13.222  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:13.222  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:13.222 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:13.222 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:13.222 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:14:13.222 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:14:13.222 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:14:13.255 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:13.255 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:14:13.255 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:13.255 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:13.474 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:13.474 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:14:13.475 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:13.475 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:13.475  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:13.475  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:13.477  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:13.477  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:13.478 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:13.478  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:13.478  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:13.478 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:13.478 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:13.478 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:13.478 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:14:13.479 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:13.479 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:14:13.479 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:14:13.479 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:14:13.479 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:13.480  INFO 26900 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:13.480 DEBUG 26900 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:13.486 DEBUG 26900 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=2, TotalPages=2
2025-05-07 10:14:13.487 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:13.487 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:13.489 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:13.490 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:13.495 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:13.497 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:14:13.498 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:13.498 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:13.507 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:13.507 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:13.507  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:13.507  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:13.507  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:13.507 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:13.511 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:13.511 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:13.511 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:14:13.511 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:13.512  INFO 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:13.512 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:13.518 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=12, TotalPages=12
2025-05-07 10:14:13.519 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:13.519 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 12 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:14:13.521 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:13.521 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:15.123 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:14:15.123 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:15.123  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:15.128  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:15.128  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:15.128 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:15.128 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:15.128 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:14:15.130 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:14:15.130 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:15.131  INFO 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:15.131 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:14:15.138 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=23, TotalPages=3
2025-05-07 10:14:15.140 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:15.140 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:15.141 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:15.141 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:15.404 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:14:15.404 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:15.405  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:15.407  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:15.407  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:15.407 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:15.407 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:15.407 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:14:15.407 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:14:15.407 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:14:15.441 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:15.441 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:14:15.441 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:15.441 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:15.504  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:15.504  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:15.504  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:15.504  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:15.504  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:15.504  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:15.504  INFO 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:15.504 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:15.513 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=2, TotalPages=2
2025-05-07 10:14:15.514 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:15.515 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:14:15.516 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:15.516 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:15.520 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:15.521 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=1, pending=0, completed=1, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:14:15.521 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:15.522 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:15.526 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:15.531 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:15.531  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:15.533  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:15.533  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:15.533 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:15.533 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:15.534 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:14:15.534 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:14:15.534 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:14:15.535  INFO 26900 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:14:15.535 DEBUG 26900 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:14:15.539 DEBUG 26900 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=12, TotalPages=12
2025-05-07 10:14:15.541 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:15.541 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 12 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:14:15.542 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:15.542 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:17.075 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=4&size=200
2025-05-07 10:14:17.075 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:17.076  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:17.079  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:17.079  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:17.080 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:17.080 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=4&size=200] with attributes [authenticated]
2025-05-07 10:14:17.080 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=4&size=200
2025-05-07 10:14:17.080 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=4&size=200", parameters={masked}
2025-05-07 10:14:17.080 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:14:17.090 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:17.090 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=303, id=14, floor=3, roomType={name=家庭套房, id (truncated)...]
2025-05-07 10:14:17.090 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:14:17.090 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:14:19.194 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:14:19.195 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:14:19.196  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:14:19.199  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:14:19.199  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:14:19.199 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:14:19.199 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:14:19.199 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:14:19.199 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:14:19.199 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:14:19.212 DEBUG 26900 --- [http-nio-8090-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=21, roomNumber=310, roomType=null, guestName=qqq,  (truncated)...]
2025-05-07 10:14:19.233  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.impl.CheckInServiceImpl  : Payment method not provided, defaulting to CASH for CheckInRecord with bookingId: 5
2025-05-07 10:14:19.270  WARN 26900 --- [http-nio-8090-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000
2025-05-07 10:14:19.270 ERROR 26900 --- [http-nio-8090-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'guest_count' cannot be null
2025-05-07 10:14:19.282 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:14:19.282 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=入住登记失败: could not execute statement; SQL [n/a]; constraint [null]; nested ex (truncated)...]
2025-05-07 10:14:19.282 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-07 10:14:19.282 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:19:20.579 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/occupied
2025-05-07 10:19:20.579 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/stats
2025-05-07 10:19:20.579 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 10:19:20.579 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:19:20.579 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:19:20.579 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:19:20.589  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:19:20.589  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:19:20.589  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:19:20.589  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:19:20.589  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:19:20.589  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:19:20.589  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:19:20.589  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:19:20.589  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/stats
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms/occupied] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms/occupied
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/stats", parameters={}
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=", parameters={masked}
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms/occupied", parameters={}
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getOccupiedRooms()
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutStats()
2025-05-07 10:19:20.589 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutRecords(String, String, String, int, int)
2025-05-07 10:19:20.597  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.impl.CheckInServiceImpl  : Fetching checkout records for current month: 2025-05-01 to 2025-05-07
2025-05-07 10:19:20.600 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:19:20.600 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[], success=true, message=获取成功}]
2025-05-07 10:19:20.600 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:19:20.600 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:19:20.610 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:19:20.610 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={monthlyCheckouts=0, pendingCleanings=0, todayCheckouts=0}, success=true, message=获取 (truncated)...]
2025-05-07 10:19:20.610 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:19:20.610 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, records=[]}, success=true, message=获取退房记录成功}]
2025-05-07 10:19:20.610 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:19:20.610 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:19:20.610 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:19:20.610 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:19:20.924 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:19:20.924 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:19:20.924  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:19:20.925  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:19:20.925  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:19:20.925 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:19:20.927 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:19:20.927 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:19:20.927 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:19:20.927 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:19:20.942 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:19:20.951 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:19:20.952 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:19:20.952 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:19:21.262 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:19:21.262 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:19:21.262  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:19:21.268  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:19:21.268  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:19:21.268 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:19:21.268 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:19:21.268 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:19:21.268 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:19:21.268 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:19:21.305 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:19:21.305 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:19:21.306 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:19:21.306 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:19:21.531 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:19:21.531 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:19:21.531  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:19:21.538  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:19:21.538  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:19:21.538 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:19:21.538 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:19:21.538 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:19:21.538 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:19:21.538 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:19:21.545 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:19:21.545 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:19:21.545 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:19:21.545 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:19:22.530 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:19:22.531 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:19:22.532  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:19:22.534  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:19:22.535  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:19:22.535 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:19:22.535 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:19:22.535 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:19:22.536 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:19:22.536 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:19:22.546 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:19:22.546 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:19:22.547 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:19:22.547 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:23:33.446 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:23:33.447 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:23:33.448  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:23:33.450  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:23:33.450  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:23:33.450 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:23:33.451 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:23:33.451 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:23:33.451 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:23:33.451 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:23:33.460 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:23:33.460 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:23:33.460 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:23:33.461 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:23:49.178 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0
2025-05-07 10:23:49.178 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:23:49.183  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:23:49.185  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:23:49.185  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:23:49.186 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:23:49.186 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0] with attributes [authenticated]
2025-05-07 10:23:49.186 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0
2025-05-07 10:23:49.187 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&roomTypeId=2&size=200&page=0", parameters={masked}
2025-05-07 10:23:49.187 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:23:49.194 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:23:49.194 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:23:49.195 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:23:49.195 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:23:54.731 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:23:54.731 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:23:54.733  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:23:54.733  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:23:54.733  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:23:54.733 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:23:54.733 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:23:54.733 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:23:54.733 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:23:54.733 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:23:54.739 DEBUG 26900 --- [http-nio-8090-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=23, roomNumber=null, roomType=null, guestName=afag (truncated)...]
2025-05-07 10:23:54.751  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.impl.CheckInServiceImpl  : 为直接入住创建临时预订: ID=24
2025-05-07 10:23:54.757  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.impl.CheckInServiceImpl  : 入住登记成功: ID=12, 入住单号=CI202505070002, 预订ID=24
2025-05-07 10:23:54.768 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:23:54.768 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=CheckInRecord(id=12, checkInNumber=CI202505070002, roomId=23, roomNumber=403, roomType=豪华大床房,  (truncated)...]
2025-05-07 10:23:54.769 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-07 10:23:54.769 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:23:55.100 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:23:55.100 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:23:55.100  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:23:55.100  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:23:55.100  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:23:55.100 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:23:55.100 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:23:55.100 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:23:55.100 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:23:55.100 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:23:55.135 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:23:55.135 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:23:55.135 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:23:55.135 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:23:55.358 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:23:55.358 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:23:55.358  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:23:55.364  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:23:55.364  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:23:55.364 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:23:55.365 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:23:55.365 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:23:55.365 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:23:55.365 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:23:55.373 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:23:55.373 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:23:55.373 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:23:55.373 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:23:57.734 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:23:57.738 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:23:57.739  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:23:57.740  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:23:57.740  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:23:57.740 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:23:57.740 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 10:23:57.740 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:23:57.740 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 10:23:57.740 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:23:57.747 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:23:57.747 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=403, id=23, floor=4, roomType={name=豪华大床房, i (truncated)...]
2025-05-07 10:23:57.747 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:23:57.747 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:23:59.473 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/reception/checkout/403
2025-05-07 10:23:59.474 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:23:59.475  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:23:59.477  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:23:59.477  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:23:59.477 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:23:59.477 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reception/checkout/403] with attributes [authenticated]
2025-05-07 10:23:59.477 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/reception/checkout/403
2025-05-07 10:23:59.479 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/reception/checkout/403", parameters={}
2025-05-07 10:23:59.479 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReceptionController#checkOut(String)
2025-05-07 10:23:59.498 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:23:59.498 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=退房成功，房间已标记为待清洁}]
2025-05-07 10:23:59.499 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:23:59.499 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:23:59.824 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:23:59.824 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:23:59.824  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:23:59.830  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:23:59.830  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:23:59.830 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:23:59.830 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:23:59.830 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:23:59.830 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:23:59.830 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:23:59.858 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:23:59.858 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:23:59.858 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:23:59.858 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:24:00.069 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:24:00.069 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:24:00.069  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:24:00.069  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:24:00.069  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:24:00.069 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:24:00.069 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:24:00.069 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:24:00.069 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:24:00.069 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:24:00.079 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:24:00.079 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:24:00.079 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:24:00.079 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:24:00.171 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:24:00.171 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:24:00.171  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:24:00.171  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:24:00.171  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:24:00.171 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:24:00.171 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 10:24:00.171 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:24:00.171 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 10:24:00.171 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:24:00.180 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:24:00.180 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=0, content=[], totalElements=0}]
2025-05-07 10:24:00.180 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:24:00.180 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:24:05.267 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:24:05.268 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:24:05.269  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:24:05.272  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:24:05.272  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:24:05.272 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:24:05.273 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:24:05.273 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:24:05.273 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:24:05.274 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:24:05.287 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:24:05.288 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:24:05.289 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:24:05.289 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:24:10.621 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:24:10.622 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:24:10.622  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:24:10.624  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:24:10.624  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:24:10.625 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:24:10.625 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:24:10.625 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:24:10.625 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:24:10.626 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:24:10.627  INFO 26900 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:24:10.629  INFO 26900 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:24:10.631  INFO 26900 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:24:10.631  INFO 26900 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:24:10.638 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:24:10.638 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=5, roomNumber=505, roomType=家庭 (truncated)...]
2025-05-07 10:24:10.639 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:24:10.639 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:24:10.755 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:24:10.755 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:24:10.756  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:24:10.758  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:24:10.758  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:24:10.759 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:24:10.759 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:24:10.760 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:24:10.760 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:24:10.760 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:24:10.760  INFO 26900 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:24:10.762  INFO 26900 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:24:10.764  INFO 26900 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:24:10.764  INFO 26900 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:24:10.769 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:24:10.770 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:24:10.770 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:24:10.771 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:24:14.328 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:24:14.329 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:24:14.330  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:24:14.333  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:24:14.333  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:24:14.333 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:24:14.334 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:24:14.334 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:24:14.334 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:24:14.334 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:24:14.336  INFO 26900 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:24:14.338  INFO 26900 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:24:14.340  INFO 26900 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:24:14.341  INFO 26900 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:24:14.347 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:24:14.347 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=5, roomNumber=505, roomType=家庭 (truncated)...]
2025-05-07 10:24:14.348 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:24:14.348 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:24:14.434 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:24:14.434 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:24:14.436  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:24:14.438  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:24:14.438  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:24:14.438 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:24:14.438 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:24:14.439 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:24:14.439 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:24:14.439 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:24:14.439  INFO 26900 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:24:14.441  INFO 26900 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:24:14.442  INFO 26900 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:24:14.442  INFO 26900 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:24:14.447 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:24:14.447 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:24:14.448 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:24:14.448 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:24:33.657 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:24:33.657 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:24:33.658  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:24:33.660  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:24:33.660  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:24:33.660 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:24:33.660 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:24:33.660 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:24:33.661 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:24:33.661 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:24:33.662  INFO 26900 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:24:33.663  INFO 26900 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:24:33.665  INFO 26900 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:24:33.665  INFO 26900 --- [http-nio-8090-exec-3] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:24:33.671 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:24:33.672 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=5, roomNumber=505, roomType=家庭 (truncated)...]
2025-05-07 10:24:33.673 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:24:33.673 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:24:33.796 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:24:33.797 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:24:33.797  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:24:33.799  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:24:33.799  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:24:33.799 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:24:33.799 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:24:33.800 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:24:33.800 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:24:33.800 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:24:33.800  INFO 26900 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:24:33.802  INFO 26900 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:24:33.803  INFO 26900 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:24:33.804  INFO 26900 --- [http-nio-8090-exec-6] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:24:33.807 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:24:33.807 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:24:33.808 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:24:33.808 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:26:50.596 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 10:26:50.597 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:26:50.598  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:26:50.601  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:26:50.602  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:26:50.602 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:26:50.603 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 10:26:50.603 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 10:26:50.603 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 10:26:50.603 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 10:26:50.622 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:26:50.622 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 10:26:50.623 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:26:50.624 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:27:09.747 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:27:09.747 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:27:09.748  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:27:09.750  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:27:09.750  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:27:09.750 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:27:09.751 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:27:09.751 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:27:09.752 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:27:09.752 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:27:09.764 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:27:09.764 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:27:09.765 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:27:09.765 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:27:09.857 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:27:09.858 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:27:09.859  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:27:09.861  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:27:09.861  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:27:09.862 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:27:09.862 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:27:09.862 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:27:09.862 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:27:09.862 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:27:09.905 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:27:09.906 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:27:09.906 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:27:09.907 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:27:09.919 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:27:09.919 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:27:09.920  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:27:09.925  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:27:09.925  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:27:09.926 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:27:09.926 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:27:09.927 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:27:09.927 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:27:09.928 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:27:09.942 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:27:09.942 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:27:09.944 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:27:09.944 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:27:11.821 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:27:11.822 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:27:11.824  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:27:11.827  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:27:11.827  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:27:11.828 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:27:11.829 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:27:11.829 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:27:11.829 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:27:11.830 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:27:11.842 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:27:11.842 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:27:11.843 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:27:11.844 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:53.082 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:28:53.082 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:28:53.082 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:53.083 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:53.083  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:53.083  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:53.087  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:53.087  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:53.087  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:53.087  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:53.087 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:53.087 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:53.088 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:53.088 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:28:53.088 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:28:53.088 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:28:53.088 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:28:53.088 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:28:53.089 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:28:53.089 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:28:53.090  INFO 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:28:53.090 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:28:53.096 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=24, TotalPages=3
2025-05-07 10:28:53.098 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:53.098 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:28:53.100 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:53.100 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:53.104 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:53.104 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:28:53.105 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:53.105 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:53.332 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:28:53.332 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:53.333  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:53.335  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:53.335  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:53.335 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:53.336 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:53.336 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:28:53.336 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:28:53.336 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:28:53.370 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:53.371 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:28:53.371 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:53.371 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:53.505 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:28:53.505 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:28:53.505 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:53.505 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:53.506  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:53.506  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:53.507  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:53.507  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:53.507  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:53.507  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:53.507 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:53.508 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:53.508 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:53.508 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:53.508 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:28:53.509 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:28:53.509 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:28:53.509 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:28:53.509 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:28:53.509 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:28:53.510  INFO 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:28:53.510 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:28:53.514 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=2, TotalPages=2
2025-05-07 10:28:53.516 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:53.517 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:28:53.518 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:53.518 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:53.523 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:53.526 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=2, pending=0, completed=2, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:28:53.527 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:53.527 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:53.542 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:28:53.543 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:53.543  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:53.545  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:53.545  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:53.545 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:53.546 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:53.546 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:28:53.546 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:28:53.546 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:28:53.547  INFO 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:28:53.547 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:28:53.554 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=12, TotalPages=12
2025-05-07 10:28:53.555 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:53.555 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 12 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:28:53.556 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:53.557 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:55.658 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07
2025-05-07 10:28:55.658 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:28:55.659 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:55.659 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:55.659  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:55.659  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:55.661  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:55.661  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:55.661  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:55.661  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:55.661 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:55.661 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:55.662 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:55.662 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:55.662 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:28:55.662 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07
2025-05-07 10:28:55.662 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07", parameters={masked}
2025-05-07 10:28:55.662 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:28:55.662 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:28:55.663 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:28:55.663  INFO 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:28:55.663  INFO 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:28:55.663 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:28:55.663 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:28:55.668 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=12, TotalPages=2
2025-05-07 10:28:55.668 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=24, TotalPages=3
2025-05-07 10:28:55.670 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:55.670 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:55.670 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:28:55.670 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:28:55.670 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:55.670 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:55.671 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:55.671 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:55.907 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:28:55.908 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:55.908  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:55.909  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:55.910  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:55.910 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:55.910 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:55.910 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:28:55.910 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:28:55.910 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:28:55.942 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:55.943 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:28:55.943 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:55.943 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:56.033 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:28:56.033 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:28:56.033 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:56.033 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:56.033  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:56.033  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:56.035  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:56.035  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:56.035  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:56.035  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:56.035 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:56.035 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:56.035 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:56.035 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:56.036 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:28:56.036 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:28:56.036 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:28:56.036 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:28:56.036 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:28:56.036 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:28:56.037  INFO 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:28:56.037 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:28:56.042 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=2, TotalPages=2
2025-05-07 10:28:56.044 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:56.044 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:28:56.045 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:56.045 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:56.050 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:56.053 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=2, pending=0, completed=2, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:28:56.054 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:56.055 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:28:56.066 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:28:56.066 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:28:56.066  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:28:56.068  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:28:56.068  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:28:56.068 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:28:56.069 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:28:56.069 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:28:56.069 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:28:56.069 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:28:56.070  INFO 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:28:56.070 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:28:56.074 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=12, TotalPages=12
2025-05-07 10:28:56.076 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:28:56.076 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 12 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:28:56.077 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:28:56.077 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:04.665 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:29:04.665 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:04.665  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:04.667  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:04.667  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:04.667 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:04.667 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:04.667 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:29:04.668 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending", parameters={masked}
2025-05-07 10:29:04.668 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:04.669  INFO 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:04.669 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:29:04.672 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=2, TotalPages=1
2025-05-07 10:29:04.673 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:04.673 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:29:04.674 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:04.674 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:04.902 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:29:04.902 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:04.902  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:04.903  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:04.904  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:04.904 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:04.904 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:04.904 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:29:04.904 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:29:04.905 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:29:04.940 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:04.940 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:29:04.941 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:04.941 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:05.018 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:29:05.018 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:29:05.018 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:05.018 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:05.018  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:05.018  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:05.020  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:05.020  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:05.020  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:05.020  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:05.020 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:05.020 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:05.021 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:05.021 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:05.021 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:29:05.021 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:29:05.021 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:29:05.021 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:29:05.021 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:29:05.021 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:05.022  INFO 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:05.022 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:29:05.028 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=2, TotalPages=2
2025-05-07 10:29:05.029 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:05.030 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:29:05.031 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:05.031 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:05.041 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:05.045 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=2, pending=0, completed=2, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:29:05.046 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:05.047 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:05.061 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:29:05.061 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:05.062  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:05.064  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:05.064  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:05.064 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:05.065 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:05.065 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:29:05.065 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:29:05.065 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:05.066  INFO 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:05.066 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:29:05.071 DEBUG 26900 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=12, TotalPages=12
2025-05-07 10:29:05.073 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:05.073 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 12 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:29:05.074 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:05.074 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:07.721 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations/19/confirm
2025-05-07 10:29:07.721 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:07.722  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:07.724  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:07.725  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:07.725 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:07.725 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations/19/confirm] with attributes [authenticated]
2025-05-07 10:29:07.725 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations/19/confirm
2025-05-07 10:29:07.725 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations/19/confirm", parameters={}
2025-05-07 10:29:07.726 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#confirmReservation(Long)
2025-05-07 10:29:07.745 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:07.746 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订确认成功, data=ReservationDTO(id=19, roomTypeName=豪华大床房, r (truncated)...]
2025-05-07 10:29:07.746 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:07.746 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:07.991 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:29:07.991 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:07.991  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:07.993  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:07.993  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:07.993 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:07.993 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:07.993 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:29:07.993 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending", parameters={masked}
2025-05-07 10:29:07.993 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:07.994  INFO 26900 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:07.994 DEBUG 26900 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:29:07.997 DEBUG 26900 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=1, TotalPages=1
2025-05-07 10:29:07.999 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:07.999 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:29:07.999 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:07.999 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:08.067 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:29:08.068 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:08.068  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:08.069  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:08.069  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:08.069 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:08.070 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:08.070 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:29:08.070 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:29:08.070 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:29:08.096 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:08.096 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:29:08.097 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:08.097 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:08.318 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:29:08.318 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:29:08.318 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:08.318 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:08.319  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:08.319  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:08.320  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:08.320  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:08.320  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:08.320  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:08.320 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:08.320 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:08.320 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:08.320 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:08.321 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:29:08.321 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:29:08.321 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:29:08.321 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:29:08.321 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:29:08.321 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:08.321  INFO 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:08.321 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:29:08.325 DEBUG 26900 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=1, TotalPages=1
2025-05-07 10:29:08.326 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:08.326 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:29:08.327 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:08.327 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:08.331 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:08.334 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=2, pending=0, completed=2, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:29:08.335 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:08.335 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:08.343 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:29:08.343 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:08.343  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:08.345  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:08.345  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:08.345 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:08.345 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:08.345 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:29:08.346 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:29:08.346 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:08.347  INFO 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:08.347 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:29:08.350 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 10:29:08.351 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:08.351 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:29:08.352 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:08.352 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:10.308 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations/20/confirm
2025-05-07 10:29:10.308 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:10.309  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:10.311  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:10.311  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:10.311 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:10.311 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations/20/confirm] with attributes [authenticated]
2025-05-07 10:29:10.311 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations/20/confirm
2025-05-07 10:29:10.311 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations/20/confirm", parameters={}
2025-05-07 10:29:10.312 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#confirmReservation(Long)
2025-05-07 10:29:10.329 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:10.329 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订确认成功, data=ReservationDTO(id=20, roomTypeName=家庭套房, ro (truncated)...]
2025-05-07 10:29:10.329 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:10.330 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:10.561 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:29:10.561 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:10.561  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:10.563  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:10.563  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:10.563 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:10.563 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:10.563 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending
2025-05-07 10:29:10.563 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending", parameters={masked}
2025-05-07 10:29:10.563 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:10.564  INFO 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:10.564 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:29:10.566 DEBUG 26900 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-07 10:29:10.567 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:10.567 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 10:29:10.568 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:10.568 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:10.656 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:29:10.656 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:10.656  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:10.658  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:10.658  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:10.658 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:10.658 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:10.658 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:29:10.659 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:29:10.659 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:29:10.687 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:10.687 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:29:10.688 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:10.688 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:10.895 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:29:10.895 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:29:10.895 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:10.895 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:10.896  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:10.896  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:10.897  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:10.897  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:10.898  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:10.898  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:10.898 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:10.898 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:10.898 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:10.898 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:10.898 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:29:10.898 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:29:10.898 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:29:10.898 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:29:10.898 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:10.898 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:29:10.899  INFO 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:10.900 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:29:10.903 DEBUG 26900 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 10:29:10.904 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:10.904 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 10:29:10.905 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:10.906 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:10.913 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:10.916 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=2, pending=0, completed=2, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:29:10.916 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:10.917 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:10.929 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:29:10.929 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:10.930  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:10.933  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:10.933  INFO 26900 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:10.933 DEBUG 26900 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:10.934 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:10.934 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:29:10.934 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:29:10.934 DEBUG 26900 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:10.935  INFO 26900 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:10.935 DEBUG 26900 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:29:10.940 DEBUG 26900 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=14, TotalPages=14
2025-05-07 10:29:10.942 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:10.942 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 14 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:29:10.943 DEBUG 26900 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:10.943 DEBUG 26900 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:12.522 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:29:12.523 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:12.523  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:12.525  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:12.525  INFO 26900 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:12.525 DEBUG 26900 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:12.526 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:12.526 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:29:12.526 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:29:12.526 DEBUG 26900 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:12.527  INFO 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:12.527 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:29:12.532 DEBUG 26900 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=24, TotalPages=3
2025-05-07 10:29:12.533 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:12.533 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:29:12.534 DEBUG 26900 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:12.534 DEBUG 26900 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:12.781 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:29:12.781 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:12.781  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:12.783  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:12.783  INFO 26900 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:12.783 DEBUG 26900 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:12.783 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:12.783 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:29:12.783 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:29:12.784 DEBUG 26900 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:29:12.812 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:12.812 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:29:12.812 DEBUG 26900 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:12.812 DEBUG 26900 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:12.938 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:29:12.938 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:29:12.938 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:12.938 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:12.938  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:12.939  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:12.940  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:12.940  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:12.940  INFO 26900 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:12.940  INFO 26900 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:12.940 DEBUG 26900 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:12.940 DEBUG 26900 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:12.940 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:12.940 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:12.941 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:29:12.941 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:29:12.941 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:29:12.941 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:29:12.941 DEBUG 26900 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:29:12.941 DEBUG 26900 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:12.942  INFO 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:12.942 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:29:12.944 DEBUG 26900 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 10:29:12.946 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:12.946 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 10:29:12.947 DEBUG 26900 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:12.947 DEBUG 26900 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:12.955 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:12.958 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=2, pending=0, completed=2, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:29:12.958 DEBUG 26900 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:12.958 DEBUG 26900 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:12.967 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:29:12.967 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:12.967  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:12.969  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:12.969  INFO 26900 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:12.969 DEBUG 26900 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:12.969 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:12.969 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:29:12.969 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:29:12.969 DEBUG 26900 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:29:12.970  INFO 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:29:12.970 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:29:12.975 DEBUG 26900 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=14, TotalPages=14
2025-05-07 10:29:12.976 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:12.976 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 14 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:29:12.977 DEBUG 26900 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:12.977 DEBUG 26900 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:14.550 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:29:14.551 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:14.552  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:14.554  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:14.554  INFO 26900 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:14.554 DEBUG 26900 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:14.555 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200] with attributes [authenticated]
2025-05-07 10:29:14.555 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:29:14.555 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200", parameters={masked}
2025-05-07 10:29:14.555 DEBUG 26900 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:29:14.563 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:14.564 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:29:14.565 DEBUG 26900 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:14.566 DEBUG 26900 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:17.880 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:29:17.881 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:17.881  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:17.882  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:17.883  INFO 26900 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:17.883 DEBUG 26900 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:17.883 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200] with attributes [authenticated]
2025-05-07 10:29:17.883 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:29:17.884 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200", parameters={masked}
2025-05-07 10:29:17.884 DEBUG 26900 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:29:17.889 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:17.890 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:29:17.891 DEBUG 26900 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:17.891 DEBUG 26900 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:19.892 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:29:19.892 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:19.893  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:19.894  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:19.895  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:19.895 DEBUG 26900 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:19.895 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:29:19.895 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:29:19.895 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:29:19.895 DEBUG 26900 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:29:19.896 DEBUG 26900 --- [http-nio-8090-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=1, roomNumber=501, roomType=null, guestName=qqq, g (truncated)...]
2025-05-07 10:29:19.901  INFO 26900 --- [http-nio-8090-exec-10] c.hotel.service.impl.CheckInServiceImpl  : Payment method not provided, defaulting to CASH for CheckInRecord with bookingId: 3
2025-05-07 10:29:19.902  WARN 26900 --- [http-nio-8090-exec-10] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000
2025-05-07 10:29:19.903 ERROR 26900 --- [http-nio-8090-exec-10] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'guest_count' cannot be null
2025-05-07 10:29:19.904 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:19.904 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=入住登记失败: could not execute statement; SQL [n/a]; constraint [null]; nested ex (truncated)...]
2025-05-07 10:29:19.905 DEBUG 26900 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-07 10:29:19.905 DEBUG 26900 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:21.271 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:29:21.272 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:29:21.272  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:29:21.274  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:29:21.274  INFO 26900 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:29:21.274 DEBUG 26900 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:29:21.275 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200] with attributes [authenticated]
2025-05-07 10:29:21.275 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:29:21.275 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200", parameters={masked}
2025-05-07 10:29:21.275 DEBUG 26900 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:29:21.281 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:29:21.281 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:29:21.283 DEBUG 26900 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:29:21.283 DEBUG 26900 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:29:37.929  INFO 26900 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 10:29:37.931  INFO 26900 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 10:29:37.941  INFO 26900 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 10:29:49.252  INFO 22100 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 22100 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 10:29:49.254 DEBUG 22100 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 10:29:49.254  INFO 22100 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 10:29:50.112  INFO 22100 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 10:29:50.305  INFO 22100 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 183 ms. Found 19 JPA repository interfaces.
2025-05-07 10:29:50.800  INFO 22100 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 10:29:50.802  INFO 22100 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 10:29:50.802  INFO 22100 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 10:29:50.802  INFO 22100 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 10:29:50.810  INFO 22100 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 10:29:50.818  INFO 22100 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 10:29:50.818  INFO 22100 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 10:29:50.953  INFO 22100 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 10:29:50.954  INFO 22100 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1654 ms
2025-05-07 10:29:51.125  INFO 22100 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 10:29:51.180  INFO 22100 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 10:29:51.365  INFO 22100 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 10:29:51.463  INFO 22100 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 10:29:51.772  INFO 22100 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 10:29:51.787  INFO 22100 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 10:29:53.018  INFO 22100 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 10:29:53.027  INFO 22100 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 10:29:53.525 DEBUG 22100 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 10:29:53.526 DEBUG 22100 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 10:29:54.394 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 10:29:54.401 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 10:29:54.402 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 10:29:54.402 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 10:29:54.403 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 10:29:54.403 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 10:29:54.403 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 10:29:54.403 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 10:29:54.404 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 10:29:54.404 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 10:29:54.404 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 10:29:54.404 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 10:29:54.404 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 10:29:54.404 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 10:29:54.405 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 10:29:54.405 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 10:29:54.406 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 10:29:54.406 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 10:29:54.406 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 10:29:54.406 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 10:29:54.407 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 10:29:54.407 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 10:29:54.407 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 10:29:54.407 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 10:29:54.407 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 10:29:54.407 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 10:29:54.408 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 10:29:54.408 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 10:29:54.408 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 10:29:54.408 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 10:29:54.408 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 10:29:54.408 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 10:29:54.408 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 10:29:54.408 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 10:29:54.408 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 10:29:54.408 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 10:29:54.411 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 10:29:54.412 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 10:29:54.412 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 10:29:54.412 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 10:29:54.412 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 10:29:54.413 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 10:29:54.413 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 10:29:54.413 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 10:29:54.413 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 10:29:54.414 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 10:29:54.414 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 10:29:54.414 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 10:29:54.414 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 10:29:54.414 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 10:29:54.415 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 10:29:54.415 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 10:29:54.415 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 10:29:54.415 DEBUG 22100 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 10:29:54.421  INFO 22100 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@23d0f6be, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@48cebb78, org.springframework.security.web.context.SecurityContextPersistenceFilter@f5314bc, org.springframework.security.web.header.HeaderWriterFilter@2ccb8db3, org.springframework.web.filter.CorsFilter@211cf27b, org.springframework.security.web.authentication.logout.LogoutFilter@4d21b505, com.hotel.config.JwtAuthenticationFilter@3ad9fea, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71eead09, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@586af46, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45c10678, org.springframework.security.web.session.SessionManagementFilter@4b718c45, org.springframework.security.web.access.ExceptionTranslationFilter@1b6e32ee, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5e528476]
2025-05-07 10:29:54.464  WARN 22100 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 10:29:54.591 DEBUG 22100 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 10:29:54.614  INFO 22100 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 10:29:54.679 DEBUG 22100 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 10:29:54.685 DEBUG 22100 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 10:29:54.701 DEBUG 22100 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 10:29:54.708 DEBUG 22100 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 10:29:54.892  INFO 22100 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 10:29:54.904  INFO 22100 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.22 seconds (JVM running for 7.089)
2025-05-07 10:30:11.025  INFO 22100 --- [http-nio-8090-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 10:30:11.025  INFO 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 10:30:11.025 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 10:30:11.025 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 10:30:11.025 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 10:30:11.025 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@42c9c0a1
2025-05-07 10:30:11.025 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@608b74f3
2025-05-07 10:30:11.025 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 10:30:11.025  INFO 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-05-07 10:30:11.045 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:30:11.045 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:30:11.055 DEBUG 22100 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:11.055 DEBUG 22100 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:11.196  INFO 22100 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:11.196  INFO 22100 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:11.196  INFO 22100 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:11.196  INFO 22100 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:11.196  INFO 22100 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:11.196  INFO 22100 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:11.196 DEBUG 22100 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:11.196 DEBUG 22100 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:11.216 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:30:11.216 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:30:11.216 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:30:11.216 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:30:11.216 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:30:11.216 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:30:11.226 DEBUG 22100 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:30:11.226 DEBUG 22100 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:30:11.266  INFO 22100 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:30:11.266 DEBUG 22100 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:30:11.336 DEBUG 22100 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=24, TotalPages=3
2025-05-07 10:30:11.406 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:11.406 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:30:11.416 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:11.426 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:30:11.456 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:11.456 DEBUG 22100 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:11.456 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:11.456 DEBUG 22100 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:11.566 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:30:11.566 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:30:11.566 DEBUG 22100 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:11.566 DEBUG 22100 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:11.566 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:30:11.566 DEBUG 22100 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:11.576  INFO 22100 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:11.576  INFO 22100 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:11.576  INFO 22100 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:11.576  INFO 22100 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:11.576  INFO 22100 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:11.576  INFO 22100 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:11.576  INFO 22100 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:30:11.576  INFO 22100 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:30:11.576  INFO 22100 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:30:11.576 DEBUG 22100 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:30:11.586  INFO 22100 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:30:11.586 DEBUG 22100 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:30:11.596 DEBUG 22100 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 10:30:11.596 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:11.596 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 10:30:11.606 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:11.606 DEBUG 22100 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:11.626 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:11.666 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=2, pending=0, completed=2, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:30:11.676 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:11.676 DEBUG 22100 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:11.686 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:11.696 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:30:11.697 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:11.697 DEBUG 22100 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:11.697 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:30:11.697 DEBUG 22100 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:11.706  INFO 22100 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:11.706  INFO 22100 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:11.706  INFO 22100 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:11.706 DEBUG 22100 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:11.706 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:30:11.706 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:30:11.706 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:30:11.706 DEBUG 22100 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:30:11.706  INFO 22100 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:30:11.706 DEBUG 22100 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:30:11.716 DEBUG 22100 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=14, TotalPages=14
2025-05-07 10:30:11.726 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:11.726 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 14 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:30:11.726 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:11.726 DEBUG 22100 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:15.056 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:30:15.056 DEBUG 22100 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:15.056  INFO 22100 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:15.066  INFO 22100 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:15.066  INFO 22100 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:15.066 DEBUG 22100 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:15.066 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200] with attributes [authenticated]
2025-05-07 10:30:15.066 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:30:15.066 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200", parameters={masked}
2025-05-07 10:30:15.066 DEBUG 22100 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:30:15.095 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:15.095 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:30:15.095 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:15.095 DEBUG 22100 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:16.701 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:30:16.701 DEBUG 22100 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:16.720  INFO 22100 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:16.723  INFO 22100 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:16.724  INFO 22100 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:16.724 DEBUG 22100 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:16.725 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:30:16.725 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:30:16.725 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:30:16.726 DEBUG 22100 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:30:16.761 DEBUG 22100 --- [http-nio-8090-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=6, roomNumber=204, roomType=null, guestName=qqq, g (truncated)...]
2025-05-07 10:30:16.774  INFO 22100 --- [http-nio-8090-exec-8] c.hotel.service.impl.CheckInServiceImpl  : Payment method not provided, defaulting to CASH for CheckInRecord with bookingId: 3
2025-05-07 10:30:16.865  WARN 22100 --- [http-nio-8090-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000
2025-05-07 10:30:16.871 ERROR 22100 --- [http-nio-8090-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'guest_count' cannot be null
2025-05-07 10:30:16.886 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:16.886 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=入住登记失败: could not execute statement; SQL [n/a]; constraint [null]; nested ex (truncated)...]
2025-05-07 10:30:16.886 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-07 10:30:16.886 DEBUG 22100 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:20.997 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:30:20.997 DEBUG 22100 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:20.997  INFO 22100 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:21.004  INFO 22100 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:21.004  INFO 22100 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:21.004 DEBUG 22100 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:21.004 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:30:21.004 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:30:21.004 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:30:21.004 DEBUG 22100 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:30:21.004 DEBUG 22100 --- [http-nio-8090-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=6, roomNumber=204, roomType=null, guestName=qqq, g (truncated)...]
2025-05-07 10:30:21.011  INFO 22100 --- [http-nio-8090-exec-9] c.hotel.service.impl.CheckInServiceImpl  : Payment method not provided, defaulting to CASH for CheckInRecord with bookingId: 3
2025-05-07 10:30:21.018  WARN 22100 --- [http-nio-8090-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000
2025-05-07 10:30:21.018 ERROR 22100 --- [http-nio-8090-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'guest_count' cannot be null
2025-05-07 10:30:21.018 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:21.018 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=入住登记失败: could not execute statement; SQL [n/a]; constraint [null]; nested ex (truncated)...]
2025-05-07 10:30:21.018 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-07 10:30:21.018 DEBUG 22100 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:41.909 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:30:41.910 DEBUG 22100 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:41.911  INFO 22100 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:41.914  INFO 22100 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:41.915  INFO 22100 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:41.915 DEBUG 22100 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:41.916 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:30:41.916 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:30:41.917 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:30:41.917 DEBUG 22100 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:30:41.943 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:41.944 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:30:41.947 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:41.947 DEBUG 22100 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:42.265 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:30:42.265 DEBUG 22100 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:42.265  INFO 22100 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:42.265  INFO 22100 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:42.265  INFO 22100 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:42.265 DEBUG 22100 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:42.265 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:30:42.265 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:30:42.265 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:30:42.265 DEBUG 22100 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:30:42.316 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:42.316 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:30:42.316 DEBUG 22100 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:42.316 DEBUG 22100 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:42.534 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:30:42.534 DEBUG 22100 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:42.534  INFO 22100 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:42.540  INFO 22100 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:42.540  INFO 22100 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:42.540 DEBUG 22100 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:42.540 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:30:42.540 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:30:42.540 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:30:42.540 DEBUG 22100 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:30:42.554 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:42.554 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:30:42.554 DEBUG 22100 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:42.554 DEBUG 22100 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:30:56.184 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0
2025-05-07 10:30:56.184 DEBUG 22100 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:30:56.184  INFO 22100 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:30:56.184  INFO 22100 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:30:56.184  INFO 22100 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:30:56.184 DEBUG 22100 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:30:56.195 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0] with attributes [authenticated]
2025-05-07 10:30:56.195 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0
2025-05-07 10:30:56.195 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0", parameters={masked}
2025-05-07 10:30:56.195 DEBUG 22100 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:30:56.205 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:30:56.205 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=401, id=2, floor=4, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:30:56.205 DEBUG 22100 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:30:56.205 DEBUG 22100 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:31:01.485 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:31:01.485 DEBUG 22100 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:31:01.490  INFO 22100 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:31:01.491  INFO 22100 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:31:01.491  INFO 22100 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:31:01.491 DEBUG 22100 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:31:01.491 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:31:01.491 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:31:01.491 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:31:01.491 DEBUG 22100 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:31:01.491 DEBUG 22100 --- [http-nio-8090-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=3, roomNumber=null, roomType=null, guestName=srgrh (truncated)...]
2025-05-07 10:31:01.532  INFO 22100 --- [http-nio-8090-exec-2] c.hotel.service.impl.CheckInServiceImpl  : 为直接入住创建临时预订: ID=25
2025-05-07 10:31:01.542  INFO 22100 --- [http-nio-8090-exec-2] c.hotel.service.impl.CheckInServiceImpl  : 入住登记成功: ID=13, 入住单号=CI202505070003, 预订ID=25
2025-05-07 10:31:01.567 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:31:01.567 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=CheckInRecord(id=13, checkInNumber=CI202505070003, roomId=3, roomNumber=201, roomType=行政套房, gu (truncated)...]
2025-05-07 10:31:01.567 DEBUG 22100 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-07 10:31:01.567 DEBUG 22100 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:31:01.740 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:31:01.740 DEBUG 22100 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:31:01.740  INFO 22100 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:31:01.740  INFO 22100 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:31:01.747  INFO 22100 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:31:01.747 DEBUG 22100 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:31:01.747 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:31:01.747 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:31:01.747 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:31:01.747 DEBUG 22100 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:31:01.787 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:31:01.787 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:31:01.787 DEBUG 22100 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:31:01.787 DEBUG 22100 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:31:01.896 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:31:01.896 DEBUG 22100 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:31:01.896  INFO 22100 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:31:01.896  INFO 22100 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:31:01.896  INFO 22100 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:31:01.896 DEBUG 22100 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:31:01.896 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:31:01.896 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:31:01.906 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:31:01.907 DEBUG 22100 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:31:01.917 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:31:01.917 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:31:01.917 DEBUG 22100 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:31:01.917 DEBUG 22100 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:31:08.282 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:31:08.283 DEBUG 22100 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:31:08.284  INFO 22100 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:31:08.287  INFO 22100 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:31:08.288  INFO 22100 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:31:08.288 DEBUG 22100 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:31:08.288 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200] with attributes [authenticated]
2025-05-07 10:31:08.288 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:31:08.288 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200", parameters={masked}
2025-05-07 10:31:08.288 DEBUG 22100 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:31:08.297 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:31:08.297 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:31:08.298 DEBUG 22100 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:31:08.298 DEBUG 22100 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:31:11.130 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:31:11.130 DEBUG 22100 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:31:11.136  INFO 22100 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:31:11.137  INFO 22100 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:31:11.137  INFO 22100 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:31:11.137 DEBUG 22100 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:31:11.137 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:31:11.137 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:31:11.137 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:31:11.137 DEBUG 22100 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:31:11.137 DEBUG 22100 --- [http-nio-8090-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=6, roomNumber=204, roomType=null, guestName=qqq, g (truncated)...]
2025-05-07 10:31:11.144  INFO 22100 --- [http-nio-8090-exec-8] c.hotel.service.impl.CheckInServiceImpl  : Payment method not provided, defaulting to CASH for CheckInRecord with bookingId: 3
2025-05-07 10:31:11.151  WARN 22100 --- [http-nio-8090-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000
2025-05-07 10:31:11.151 ERROR 22100 --- [http-nio-8090-exec-8] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'guest_count' cannot be null
2025-05-07 10:31:11.151 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:31:11.151 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=入住登记失败: could not execute statement; SQL [n/a]; constraint [null]; nested ex (truncated)...]
2025-05-07 10:31:11.151 DEBUG 22100 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-07 10:31:11.151 DEBUG 22100 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:31:16.848 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:31:16.848 DEBUG 22100 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:31:16.849  INFO 22100 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:31:16.853  INFO 22100 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:31:16.853  INFO 22100 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:31:16.853 DEBUG 22100 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:31:16.854 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:31:16.854 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:31:16.854 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:31:16.854 DEBUG 22100 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:31:16.855 DEBUG 22100 --- [http-nio-8090-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=6, roomNumber=204, roomType=null, guestName=qqq, g (truncated)...]
2025-05-07 10:31:16.864  INFO 22100 --- [http-nio-8090-exec-9] c.hotel.service.impl.CheckInServiceImpl  : Payment method not provided, defaulting to CASH for CheckInRecord with bookingId: 3
2025-05-07 10:31:16.867  WARN 22100 --- [http-nio-8090-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000
2025-05-07 10:31:16.868 ERROR 22100 --- [http-nio-8090-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'guest_count' cannot be null
2025-05-07 10:31:16.869 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:31:16.869 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=入住登记失败: could not execute statement; SQL [n/a]; constraint [null]; nested ex (truncated)...]
2025-05-07 10:31:16.870 DEBUG 22100 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-07 10:31:16.871 DEBUG 22100 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:32:43.924 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:32:43.924 DEBUG 22100 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:32:43.930  INFO 22100 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:32:43.931  INFO 22100 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:32:43.931  INFO 22100 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:32:43.931 DEBUG 22100 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:32:43.931 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:32:43.931 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:32:43.931 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:32:43.931 DEBUG 22100 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:32:43.931 DEBUG 22100 --- [http-nio-8090-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=6, roomNumber=204, roomType=null, guestName=qqq, g (truncated)...]
2025-05-07 10:32:43.945  INFO 22100 --- [http-nio-8090-exec-10] c.hotel.service.impl.CheckInServiceImpl  : Payment method not provided, defaulting to CASH for CheckInRecord with bookingId: 3
2025-05-07 10:32:43.945  WARN 22100 --- [http-nio-8090-exec-10] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1048, SQLState: 23000
2025-05-07 10:32:43.945 ERROR 22100 --- [http-nio-8090-exec-10] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'guest_count' cannot be null
2025-05-07 10:32:43.945 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:32:43.945 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{success=false, message=入住登记失败: could not execute statement; SQL [n/a]; constraint [null]; nested ex (truncated)...]
2025-05-07 10:32:43.950 DEBUG 22100 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-07 10:32:43.950 DEBUG 22100 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:34:35.629  INFO 22100 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 10:34:35.629  INFO 22100 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-07 10:34:35.649  INFO 22100 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-07 10:34:44.638  INFO 3572 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 3572 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-07 10:34:44.641 DEBUG 3572 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-07 10:34:44.641  INFO 3572 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-07 10:34:45.747  INFO 3572 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-07 10:34:45.984  INFO 3572 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 227 ms. Found 19 JPA repository interfaces.
2025-05-07 10:34:46.606  INFO 3572 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-07 10:34:46.608  INFO 3572 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-07 10:34:46.608  INFO 3572 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-07 10:34:46.609  INFO 3572 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-07 10:34:46.615  INFO 3572 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-07 10:34:46.625  INFO 3572 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-07 10:34:46.625  INFO 3572 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-07 10:34:46.779  INFO 3572 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-07 10:34:46.780  INFO 3572 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2087 ms
2025-05-07 10:34:46.968  INFO 3572 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-07 10:34:47.037  INFO 3572 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-07 10:34:47.275  INFO 3572 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-07 10:34:47.391  INFO 3572 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-07 10:34:47.741  INFO 3572 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-07 10:34:47.756  INFO 3572 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-07 10:34:48.959  INFO 3572 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-07 10:34:48.971  INFO 3572 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-07 10:34:49.481 DEBUG 3572 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-07 10:34:49.482 DEBUG 3572 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-07 10:34:50.379 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-07 10:34:50.385 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-07 10:34:50.386 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-07 10:34:50.386 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-07 10:34:50.386 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-07 10:34:50.387 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-07 10:34:50.387 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-07 10:34:50.387 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-07 10:34:50.388 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-07 10:34:50.388 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-07 10:34:50.388 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-07 10:34:50.388 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-07 10:34:50.388 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-07 10:34:50.388 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-07 10:34:50.389 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-07 10:34:50.389 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-07 10:34:50.389 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-07 10:34:50.389 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-07 10:34:50.390 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-07 10:34:50.390 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-07 10:34:50.390 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-07 10:34:50.390 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-07 10:34:50.390 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-07 10:34:50.390 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-07 10:34:50.391 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-07 10:34:50.391 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-07 10:34:50.391 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-07 10:34:50.391 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-07 10:34:50.391 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-07 10:34:50.391 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-07 10:34:50.391 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-07 10:34:50.391 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-07 10:34:50.392 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-07 10:34:50.392 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-07 10:34:50.392 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-07 10:34:50.392 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-07 10:34:50.393 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-07 10:34:50.393 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-07 10:34:50.394 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-07 10:34:50.394 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-07 10:34:50.394 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin', POST]
2025-05-07 10:34:50.395 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/stats', GET]
2025-05-07 10:34:50.395 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/records', GET]
2025-05-07 10:34:50.395 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/occupied', GET]
2025-05-07 10:34:50.395 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/confirm/**', POST]
2025-05-07 10:34:50.395 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/create', POST]
2025-05-07 10:34:50.395 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/card-checkout', POST]
2025-05-07 10:34:50.395 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkout/{id}/bill', GET]
2025-05-07 10:34:50.395 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/{roomNumber}/current-guest', GET]
2025-05-07 10:34:50.396 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms/random-occupied', GET]
2025-05-07 10:34:50.396 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-07 10:34:50.396 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-07 10:34:50.396 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-07 10:34:50.396 DEBUG 3572 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-07 10:34:50.402  INFO 3572 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@f4aec23, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@713c8cbb, org.springframework.security.web.context.SecurityContextPersistenceFilter@b1e63b5, org.springframework.security.web.header.HeaderWriterFilter@7c045627, org.springframework.web.filter.CorsFilter@32d8e58d, org.springframework.security.web.authentication.logout.LogoutFilter@46d83ec4, com.hotel.config.JwtAuthenticationFilter@5cb32140, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4733662d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25502b1c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7680beac, org.springframework.security.web.session.SessionManagementFilter@3420547, org.springframework.security.web.access.ExceptionTranslationFilter@31887330, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@14af9f51]
2025-05-07 10:34:50.447  WARN 3572 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-07 10:34:50.587 DEBUG 3572 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-07 10:34:50.616  INFO 3572 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-07 10:34:50.692 DEBUG 3572 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 178 mappings in 'requestMappingHandlerMapping'
2025-05-07 10:34:50.701 DEBUG 3572 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-07 10:34:50.729 DEBUG 3572 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-07 10:34:50.750 DEBUG 3572 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-07 10:34:50.943  INFO 3572 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-07 10:34:50.957  INFO 3572 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.36 seconds (JVM running for 8.395)
2025-05-07 10:35:07.115  INFO 3572 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-07 10:35:07.115  INFO 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-07 10:35:07.116 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-07 10:35:07.116 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-07 10:35:07.116 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-07 10:35:07.116 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2643c33f
2025-05-07 10:35:07.116 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1ef8f7e6
2025-05-07 10:35:07.117 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-07 10:35:07.117  INFO 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-07 10:35:07.129 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:35:07.133 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:07.197  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:07.200  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:07.200  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:07.201 DEBUG 3572 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:07.210 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200] with attributes [authenticated]
2025-05-07 10:35:07.210 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200
2025-05-07 10:35:07.213 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&pageSize=200&page=0&roomTypeId=2&size=200", parameters={masked}
2025-05-07 10:35:07.216 DEBUG 3572 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:35:07.317 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:07.318 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=501, id=1, floor=5, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:35:07.348 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:07.350 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:08.641 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:35:08.642 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:08.650  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:08.653  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:08.654  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:08.654 DEBUG 3572 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:08.660 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:08.660 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:35:08.661 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:35:08.662 DEBUG 3572 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:35:08.714 DEBUG 3572 --- [http-nio-8090-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=6, roomNumber=204, roomType=null, guestName=qqq, g (truncated)...]
2025-05-07 10:35:08.741  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.impl.CheckInServiceImpl  : Payment method not provided, defaulting to CASH for CheckInRecord with bookingId: 3
2025-05-07 10:35:08.799  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.impl.CheckInServiceImpl  : 入住登记成功: ID=14, 入住单号=CI202505070004, 预订ID=3
2025-05-07 10:35:08.835 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:08.835 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=CheckInRecord(id=14, checkInNumber=CI202505070004, roomId=6, roomNumber=204, roomType=豪华大床房, g (truncated)...]
2025-05-07 10:35:08.852 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-07 10:35:08.852 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:09.171 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:35:09.171 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:09.172  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:09.174  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:09.175  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:09.175 DEBUG 3572 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:09.175 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:09.175 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:35:09.175 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:35:09.176 DEBUG 3572 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:35:09.184  INFO 3572 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:35:09.184 DEBUG 3572 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:35:09.201 DEBUG 3572 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=25, TotalPages=3
2025-05-07 10:35:09.207 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:09.209 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:35:09.220 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:09.221 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:09.435 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:35:09.436 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:09.437  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:09.439  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:09.439  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:09.440 DEBUG 3572 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:09.440 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:09.440 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:35:09.441 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:35:09.441 DEBUG 3572 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:35:09.520 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:09.520 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:35:09.522 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:09.522 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:09.581 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:35:09.581 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:35:09.582 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:09.582 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:09.583  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:09.583  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:09.585  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:09.586  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:09.586 DEBUG 3572 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:09.586 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:09.586 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:35:09.587 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:35:09.587  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:09.587  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:09.587 DEBUG 3572 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:09.587 DEBUG 3572 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:35:09.588 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:09.589 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:35:09.589 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:35:09.589 DEBUG 3572 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:35:09.590  INFO 3572 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:35:09.590 DEBUG 3572 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:35:09.596 DEBUG 3572 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 10:35:09.598 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:09.598 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 10:35:09.599 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:09.599 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:09.614 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:09.624 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:35:09.627 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:09.627 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:09.637 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:35:09.637 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:09.640  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:09.643  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:09.644  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:09.644 DEBUG 3572 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:09.644 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:09.644 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:35:09.645 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:35:09.645 DEBUG 3572 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:35:09.646  INFO 3572 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:35:09.646 DEBUG 3572 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:35:09.657 DEBUG 3572 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 10:35:09.659 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:09.660 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:35:09.661 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:09.661 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:13.099 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:35:13.099 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:13.100  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:13.103  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:13.103  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:13.103 DEBUG 3572 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:13.103 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 10:35:13.104 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:35:13.104 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 10:35:13.104 DEBUG 3572 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:35:13.112 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:13.113 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=201, id=3, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:35:13.113 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:13.114 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:16.509 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:35:16.509 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:16.510  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:16.513  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:16.514  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:16.514 DEBUG 3572 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:16.514 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:35:16.514 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:35:16.514 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:35:16.515 DEBUG 3572 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:35:16.544 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:16.545 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:35:16.546 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:16.547 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:16.585 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:35:16.585 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:16.587  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:16.591  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:16.591  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:16.591 DEBUG 3572 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:16.592 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:16.592 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:35:16.592 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:35:16.593 DEBUG 3572 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:35:16.662 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:16.662 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:35:16.664 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:16.664 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:16.681 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:35:16.681 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:16.683  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:16.687  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:16.687  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:16.687 DEBUG 3572 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:16.688 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:35:16.689 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:35:16.690 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:35:16.690 DEBUG 3572 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:35:16.709 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:16.709 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:35:16.711 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:16.711 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:17.313 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:35:17.313 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:17.315  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:17.319  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:17.319  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:17.319 DEBUG 3572 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:17.320 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 10:35:17.320 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:35:17.320 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 10:35:17.320 DEBUG 3572 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:35:17.334 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:17.334 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=201, id=3, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:35:17.334 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:17.335 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:20.348 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/reception/checkout/201
2025-05-07 10:35:20.349 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:20.351  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:20.355  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:20.355  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:20.355 DEBUG 3572 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:20.355 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reception/checkout/201] with attributes [authenticated]
2025-05-07 10:35:20.356 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/reception/checkout/201
2025-05-07 10:35:20.356 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/reception/checkout/201", parameters={}
2025-05-07 10:35:20.356 DEBUG 3572 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReceptionController#checkOut(String)
2025-05-07 10:35:20.379 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:20.379 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=退房成功，房间已标记为待清洁}]
2025-05-07 10:35:20.380 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:20.381 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:20.393 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:35:20.393 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:20.395  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:20.397  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:20.398  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:20.398 DEBUG 3572 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:20.398 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:20.398 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:35:20.398 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:35:20.399 DEBUG 3572 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:35:20.450 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:20.450 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:35:20.451 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:20.451 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:20.772 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:35:20.772 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:20.773  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:20.775  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:20.775  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:20.775 DEBUG 3572 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:20.776 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:35:20.776 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:35:20.776 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:35:20.776 DEBUG 3572 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:35:20.784 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:20.784 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:35:20.785 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:20.785 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:21.035 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:35:21.035 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:21.036  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:21.039  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:21.039  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:21.039 DEBUG 3572 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:21.039 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 10:35:21.039 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:35:21.039 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 10:35:21.040 DEBUG 3572 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:35:21.045 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:21.045 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=204, id=6, floor=2, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:35:21.046 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:21.046 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:26.862 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:35:26.862 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:26.863  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:35:26.867  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:35:26.867  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:35:26.867 DEBUG 3572 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:35:26.868 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:35:26.868 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:35:26.868 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:35:26.868 DEBUG 3572 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:35:26.879  INFO 3572 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:35:26.884  INFO 3572 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:35:26.888  INFO 3572 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:35:26.898  INFO 3572 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 为房间 201 创建了清洁任务，分配给清洁员: 清洁人员
2025-05-07 10:35:26.898  INFO 3572 --- [http-nio-8090-exec-7] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 1 个新任务
2025-05-07 10:35:26.909 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:26.916 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=1, currentPage=0, content=[Task(id=8, roomNumber=201, roomType=行政 (truncated)...]
2025-05-07 10:35:26.918 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:26.918 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:26.950 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:35:26.950 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:26.952  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:35:26.954  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:35:26.955  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:35:26.955 DEBUG 3572 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:35:26.956 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:35:26.956 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:35:26.956 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:35:26.956 DEBUG 3572 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:35:26.957  INFO 3572 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:35:26.961  INFO 3572 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 找到 1 个需要清洁的房间
2025-05-07 10:35:26.964  INFO 3572 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:35:26.966  INFO 3572 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 房间 201 已存在有效的清洁任务，跳过任务创建
2025-05-07 10:35:26.966  INFO 3572 --- [http-nio-8090-exec-8] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:35:26.977 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:26.987 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:35:26.991 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:26.992 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:30.627 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/8/start
2025-05-07 10:35:30.627 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:30.628  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:35:30.631  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:35:30.631  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:35:30.631 DEBUG 3572 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:35:30.632 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/8/start] with attributes [authenticated]
2025-05-07 10:35:30.632 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/8/start
2025-05-07 10:35:30.632 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/8/start", parameters={}
2025-05-07 10:35:30.632 DEBUG 3572 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#startTask(Long)
2025-05-07 10:35:30.642 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:30.643 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Task(id=8, roomNumber=201, roomType=行政套房, cleaner=清洁人员, priority=medium, status=processing, expected (truncated)...]
2025-05-07 10:35:30.644 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:30.644 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:34.685 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/cleaning/tasks/8/complete
2025-05-07 10:35:34.685 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:34.686  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:35:34.688  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:35:34.688  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:35:34.688 DEBUG 3572 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:35:34.689 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/cleaning/tasks/8/complete] with attributes [authenticated]
2025-05-07 10:35:34.689 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/cleaning/tasks/8/complete
2025-05-07 10:35:34.689 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/cleaning/tasks/8/complete", parameters={}
2025-05-07 10:35:34.690 DEBUG 3572 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#completeTask(Long, TaskDTO)
2025-05-07 10:35:34.700 DEBUG 3572 --- [http-nio-8090-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, expectedT (truncated)...]
2025-05-07 10:35:34.702  INFO 3572 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 任务完成：ID=8, 房间=201, 实际用时=30分钟
2025-05-07 10:35:34.705  INFO 3572 --- [http-nio-8090-exec-10] com.hotel.service.impl.TaskServiceImpl   : 已更新房间状态：房间号=201, 状态=AVAILABLE, 需要清洁=false
2025-05-07 10:35:34.717 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:34.717 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Task(id=8, roomNumber=201, roomType=行政套房, cleaner=清洁人员, priority=medium, status=completed, expectedT (truncated)...]
2025-05-07 10:35:34.718 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:34.718 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:34.748 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks
2025-05-07 10:35:34.748 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:34.749  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:35:34.751  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:35:34.751  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:35:34.751 DEBUG 3572 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:35:34.752 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks] with attributes [authenticated]
2025-05-07 10:35:34.752 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks
2025-05-07 10:35:34.752 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks", parameters={}
2025-05-07 10:35:34.752 DEBUG 3572 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTasks(String, int, int)
2025-05-07 10:35:34.753  INFO 3572 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:35:34.755  INFO 3572 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:35:34.757  INFO 3572 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:35:34.757  INFO 3572 --- [http-nio-8090-exec-1] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:35:34.763 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:34.763 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{totalPages=1, generatedTasksCount=0, currentPage=0, content=[Task(id=8, roomNumber=201, roomType=行政 (truncated)...]
2025-05-07 10:35:34.764 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:34.764 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:34.778 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/tasks/statistics
2025-05-07 10:35:34.778 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:34.779  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:35:34.781  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:35:34.781  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:35:34.781 DEBUG 3572 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:35:34.782 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/tasks/statistics] with attributes [authenticated]
2025-05-07 10:35:34.782 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/tasks/statistics
2025-05-07 10:35:34.782 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/tasks/statistics", parameters={}
2025-05-07 10:35:34.782 DEBUG 3572 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningTaskController#getTaskStatistics()
2025-05-07 10:35:34.782  INFO 3572 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 开始自动生成清洁任务...
2025-05-07 10:35:34.784  INFO 3572 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 找到 0 个需要清洁的房间
2025-05-07 10:35:34.785  INFO 3572 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 将使用默认清洁员: 清洁人员
2025-05-07 10:35:34.785  INFO 3572 --- [http-nio-8090-exec-2] com.hotel.service.impl.TaskServiceImpl   : 自动生成清洁任务完成，共创建 0 个新任务
2025-05-07 10:35:34.791 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:34.791 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=TaskDTO(id=null, roomNumber=null, roomType=null, cleaner=null, priority=null, status=null, exp (truncated)...]
2025-05-07 10:35:34.792 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:34.792 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:38.646 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/cleaning/records
2025-05-07 10:35:38.647 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:38.647  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 保洁7号阿姨
2025-05-07 10:35:38.650  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 保洁7号阿姨, Role: CLEANER
2025-05-07 10:35:38.650  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_CLEANER]
2025-05-07 10:35:38.650 DEBUG 3572 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '保洁7号阿姨' 认证成功, 设置 SecurityContext
2025-05-07 10:35:38.651 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/cleaning/records] with attributes [authenticated]
2025-05-07 10:35:38.651 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/cleaning/records
2025-05-07 10:35:38.651 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/cleaning/records", parameters={}
2025-05-07 10:35:38.651 DEBUG 3572 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CleaningRecordController#getCleaningRecords(String, LocalDate, LocalDate)
2025-05-07 10:35:38.686 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:38.686 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{total=3, records=[{duration=1.5小时, roomNumber=501, cleaner=清洁人员, startTime=2025-05-01T09:00, id=1,  (truncated)...]
2025-05-07 10:35:38.687 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:38.687 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:44.996 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:35:44.997 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:44.998  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:45.000  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:45.000  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:45.001 DEBUG 3572 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:45.001 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:45.001 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:35:45.001 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:35:45.002 DEBUG 3572 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:35:45.003  INFO 3572 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:35:45.003 DEBUG 3572 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:35:45.010 DEBUG 3572 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=25, TotalPages=3
2025-05-07 10:35:45.012 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:45.012 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:35:45.013 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:45.013 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:45.307 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:35:45.307 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:45.307  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:45.310  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:45.310  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:45.310 DEBUG 3572 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:45.310 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:35:45.310 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:35:45.310 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:35:45.311 DEBUG 3572 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:35:45.326 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:45.327 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=24, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:35:45.328 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:45.328 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:45.450 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:35:45.450 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:35:45.450 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:35:45.450 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:45.450 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:45.450 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:45.451  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:45.451  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:45.451  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:45.452  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:45.452  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:45.453  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:45.453  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:45.453 DEBUG 3572 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:45.453 DEBUG 3572 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:45.453 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:45.453 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:45.453 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:35:45.453 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:35:45.453 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:35:45.453  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:45.453 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:35:45.453  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:45.453 DEBUG 3572 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:35:45.453 DEBUG 3572 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:45.454 DEBUG 3572 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:35:45.454 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:45.454 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:35:45.454 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:35:45.454 DEBUG 3572 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:35:45.455  INFO 3572 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:35:45.455 DEBUG 3572 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:35:45.458 DEBUG 3572 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 10:35:45.460 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:45.460 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 10:35:45.461 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:45.462 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:45.471 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:45.478 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:35:45.478 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:45.479 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:45.494 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:45.494 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:35:45.495 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:45.495 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:45.791 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:35:45.791 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:45.792  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:45.793  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:45.793  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:45.793 DEBUG 3572 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:45.794 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:45.794 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:35:45.794 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:35:45.794 DEBUG 3572 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:35:45.795  INFO 3572 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:35:45.795 DEBUG 3572 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:35:45.800 DEBUG 3572 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 10:35:45.801 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:45.802 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:35:45.803 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:45.804 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:50.117 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07
2025-05-07 10:35:50.117 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-07 10:35:50.117 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:50.117 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:50.118  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:50.118  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:50.120  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:50.120  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:50.121  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:50.121  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:50.121 DEBUG 3572 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:50.121 DEBUG 3572 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:50.122 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:50.122 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:50.122 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07
2025-05-07 10:35:50.122 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-07 10:35:50.123 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-07 10:35:50.123 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=confirmed&exactCheckInDate=2025-05-07&exactDate=checkIn&date=2025-05-07", parameters={masked}
2025-05-07 10:35:50.123 DEBUG 3572 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:35:50.123 DEBUG 3572 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:35:50.124  INFO 3572 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:35:50.124  INFO 3572 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:35:50.124 DEBUG 3572 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:35:50.124 DEBUG 3572 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-07 10:35:50.132 DEBUG 3572 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=25, TotalPages=3
2025-05-07 10:35:50.132 DEBUG 3572 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=13, TotalPages=2
2025-05-07 10:35:50.134 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:50.134 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:50.134 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:35:50.134 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 3 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-07 10:35:50.135 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:50.135 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:50.136 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:50.136 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:50.381 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:35:50.381 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:50.382  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:50.384  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:50.384  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:50.385 DEBUG 3572 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:50.385 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:50.385 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:35:50.385 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:35:50.385 DEBUG 3572 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:35:50.422 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:50.422 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:35:50.422 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:50.423 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:50.539 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:35:50.539 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-07 10:35:50.539 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:50.539 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:50.540  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:50.540  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:50.542  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:50.542  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:50.542  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:50.542  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:50.542 DEBUG 3572 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:50.542 DEBUG 3572 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:50.542 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:50.542 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:50.543 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1&size=1&page=0
2025-05-07 10:35:50.543 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-07 10:35:50.543 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-07 10:35:50.543 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1&size=1&page=0", parameters={masked}
2025-05-07 10:35:50.543 DEBUG 3572 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-07 10:35:50.543 DEBUG 3572 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:35:50.543  INFO 3572 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:35:50.544 DEBUG 3572 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:35:50.547 DEBUG 3572 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=0, TotalPages=0
2025-05-07 10:35:50.548 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:50.549 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-07 10:35:50.550 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:50.550 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:50.561 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:50.568 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=4, pending=0, completed=4, list=[CheckInRecord(id=11, checkInNumber=CI202 (truncated)...]
2025-05-07 10:35:50.569 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:50.569 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:50.577 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:35:50.577 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:50.578  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:50.580  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:50.580  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:50.580 DEBUG 3572 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:50.580 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:50.581 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1
2025-05-07 10:35:50.581 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=confirmed&exactDate=checkIn&date=2025-05-07&page=0&size=1", parameters={masked}
2025-05-07 10:35:50.581 DEBUG 3572 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-07 10:35:50.582  INFO 3572 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 1, Status: confirmed, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-07 10:35:50.582 DEBUG 3572 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=1
2025-05-07 10:35:50.589 DEBUG 3572 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=1, TotalElements=13, TotalPages=13
2025-05-07 10:35:50.590 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:50.591 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 13 containing com.hotel.dto.Reservati (truncated)...]
2025-05-07 10:35:50.591 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:50.592 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:54.132 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 10:35:54.132 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkout/stats
2025-05-07 10:35:54.132 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms/occupied
2025-05-07 10:35:54.132 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:54.133 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:54.133 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:54.133  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:54.133  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:54.133  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:54.135  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:54.135  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:54.135  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:54.136  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:54.136  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:54.136  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:54.136 DEBUG 3572 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:54.136 DEBUG 3572 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkout/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkout/stats
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/stats", parameters={}
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkout/records?page=0&pageSize=10&roomNumber=&guestName=&checkoutDate=", parameters={masked}
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms/occupied] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutRecords(String, String, String, int, int)
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminCheckoutController#getCheckoutStats()
2025-05-07 10:35:54.137 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms/occupied
2025-05-07 10:35:54.138 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms/occupied", parameters={}
2025-05-07 10:35:54.138 DEBUG 3572 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getOccupiedRooms()
2025-05-07 10:35:54.141  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.impl.CheckInServiceImpl  : Fetching checkout records for current month: 2025-05-01 to 2025-05-07
2025-05-07 10:35:54.151 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:54.151 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:54.152 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={monthlyCheckouts=0, pendingCleanings=0, todayCheckouts=0}, success=true, message=获取 (truncated)...]
2025-05-07 10:35:54.152 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, records=[]}, success=true, message=获取退房记录成功}]
2025-05-07 10:35:54.152 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:54.152 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:54.152 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:54.152 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:54.155 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:54.155 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{roomNumber=204, floor=2, roomType=豪华大床房}], success=true, message=获取成功}]
2025-05-07 10:35:54.156 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:54.156 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:55.730 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-07 10:35:55.730 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:55.731  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:55.733  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:55.733  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:55.733 DEBUG 3572 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:55.734 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-07 10:35:55.734 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-07 10:35:55.734 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-07 10:35:55.734 DEBUG 3572 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitorRecordsPageable(String, String, String, LocalDateTime, LocalDateTime, int, int, String[])
2025-05-07 10:35:55.748 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:55.748 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing com.hotel.entity.VisitorRecord instances]
2025-05-07 10:35:55.809 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:55.809 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:35:56.034 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/count/today
2025-05-07 10:35:56.034 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:35:56.034  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:35:56.036  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:35:56.036  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:35:56.036 DEBUG 3572 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:35:56.036 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/count/today] with attributes [authenticated]
2025-05-07 10:35:56.037 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/count/today
2025-05-07 10:35:56.037 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/count/today", parameters={}
2025-05-07 10:35:56.037 DEBUG 3572 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#countTodayVisitors()
2025-05-07 10:35:56.042 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:35:56.042 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [0]
2025-05-07 10:35:56.043 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:35:56.043 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:02.372 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing PUT /api/visitor/record/2/leave
2025-05-07 10:36:02.372 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:02.374  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:02.376  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:02.376  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:02.376 DEBUG 3572 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:02.376 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [PUT /api/visitor/record/2/leave] with attributes [authenticated]
2025-05-07 10:36:02.376 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured PUT /api/visitor/record/2/leave
2025-05-07 10:36:02.377 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : PUT "/api/visitor/record/2/leave", parameters={}
2025-05-07 10:36:02.377 DEBUG 3572 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#recordVisitorRecordLeave(Long)
2025-05-07 10:36:02.401 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:02.401 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [VisitorRecord(id=2, visitorName=居然是突然今天, phone=18876776544, idCard=234543446575333222, purpose=发我发的发 (truncated)...]
2025-05-07 10:36:02.402 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:02.402 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:02.638 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-07 10:36:02.638 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:02.639  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:02.641  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:02.641  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:02.641 DEBUG 3572 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:02.641 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-07 10:36:02.641 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-07 10:36:02.642 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-07 10:36:02.642 DEBUG 3572 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitorRecordsPageable(String, String, String, LocalDateTime, LocalDateTime, int, int, String[])
2025-05-07 10:36:02.649 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:02.649 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing com.hotel.entity.VisitorRecord instances]
2025-05-07 10:36:02.695 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:02.696 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:04.686 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing PUT /api/visitor/record/1/leave
2025-05-07 10:36:04.686 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:04.687  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:04.690  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:04.691  INFO 3572 --- [http-nio-8090-exec-4] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:04.691 DEBUG 3572 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:04.691 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [PUT /api/visitor/record/1/leave] with attributes [authenticated]
2025-05-07 10:36:04.691 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured PUT /api/visitor/record/1/leave
2025-05-07 10:36:04.692 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : PUT "/api/visitor/record/1/leave", parameters={}
2025-05-07 10:36:04.692 DEBUG 3572 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#recordVisitorRecordLeave(Long)
2025-05-07 10:36:04.701 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:04.701 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [VisitorRecord(id=1, visitorName=啥然后还是短发无法, phone=15965656632, idCard=456789455656552314, purpose=啊无法 (truncated)...]
2025-05-07 10:36:04.703 DEBUG 3572 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:04.703 DEBUG 3572 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:05.034 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/visitor/all?page=0&size=10
2025-05-07 10:36:05.034 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:05.035  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:05.036  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:05.037  INFO 3572 --- [http-nio-8090-exec-3] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:05.037 DEBUG 3572 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:05.037 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/visitor/all?page=0&size=10] with attributes [authenticated]
2025-05-07 10:36:05.037 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/visitor/all?page=0&size=10
2025-05-07 10:36:05.037 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/visitor/all?page=0&size=10", parameters={masked}
2025-05-07 10:36:05.037 DEBUG 3572 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.VisitorController#getAllVisitorRecordsPageable(String, String, String, LocalDateTime, LocalDateTime, int, int, String[])
2025-05-07 10:36:05.042 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:05.042 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing com.hotel.entity.VisitorRecord instances]
2025-05-07 10:36:05.084 DEBUG 3572 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:05.085 DEBUG 3572 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:22.985 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0
2025-05-07 10:36:22.985 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:22.986  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:22.988  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:22.988  INFO 3572 --- [http-nio-8090-exec-6] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:22.988 DEBUG 3572 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:22.989 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0] with attributes [authenticated]
2025-05-07 10:36:22.989 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0
2025-05-07 10:36:22.990 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=AVAILABLE&roomTypeId=1&size=200&page=0", parameters={masked}
2025-05-07 10:36:22.990 DEBUG 3572 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:36:22.999 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:22.999 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=401, id=2, floor=4, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:36:23.000 DEBUG 3572 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:23.000 DEBUG 3572 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:28.545 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/admin/checkin
2025-05-07 10:36:28.545 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:28.547  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:28.549  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:28.549  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:28.549 DEBUG 3572 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:28.549 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/admin/checkin] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:36:28.549 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/admin/checkin
2025-05-07 10:36:28.549 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/admin/checkin", parameters={}
2025-05-07 10:36:28.549 DEBUG 3572 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#checkIn(CheckInRecord)
2025-05-07 10:36:28.551 DEBUG 3572 --- [http-nio-8090-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [CheckInRecord(id=null, checkInNumber=null, roomId=25, roomNumber=null, roomType=null, guestName=jars (truncated)...]
2025-05-07 10:36:28.558  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.impl.CheckInServiceImpl  : 为直接入住创建临时预订: ID=26
2025-05-07 10:36:28.564  INFO 3572 --- [http-nio-8090-exec-7] c.hotel.service.impl.CheckInServiceImpl  : 入住登记成功: ID=15, 入住单号=CI202505070005, 预订ID=26
2025-05-07 10:36:28.570 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:28.570 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data=CheckInRecord(id=15, checkInNumber=CI202505070005, roomId=25, roomNumber=406, roomType=行政套房, g (truncated)...]
2025-05-07 10:36:28.571 DEBUG 3572 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-07 10:36:28.571 DEBUG 3572 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:28.812 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:36:28.813 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:28.813  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:28.815  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:28.815  INFO 3572 --- [http-nio-8090-exec-8] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:28.815 DEBUG 3572 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:28.815 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:36:28.815 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:36:28.815 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:36:28.816 DEBUG 3572 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:36:28.853 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:28.853 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:36:28.854 DEBUG 3572 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:28.854 DEBUG 3572 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:28.906 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:36:28.906 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:28.907  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:28.910  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:28.910  INFO 3572 --- [http-nio-8090-exec-5] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:28.910 DEBUG 3572 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:28.910 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:36:28.910 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:36:28.910 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:36:28.910 DEBUG 3572 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:36:28.919 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:28.919 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:36:28.920 DEBUG 3572 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:28.920 DEBUG 3572 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:31.395 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:36:31.396 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:31.397  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:31.399  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:31.400  INFO 3572 --- [http-nio-8090-exec-9] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:31.400 DEBUG 3572 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:31.401 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=OCCUPIED&size=200&page=0] with attributes [authenticated]
2025-05-07 10:36:31.401 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=OCCUPIED&size=200&page=0
2025-05-07 10:36:31.401 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=OCCUPIED&size=200&page=0", parameters={masked}
2025-05-07 10:36:31.401 DEBUG 3572 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:36:31.410 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:31.411 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=204, id=6, floor=2, roomType={name=豪华大床房, id (truncated)...]
2025-05-07 10:36:31.411 DEBUG 3572 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:31.412 DEBUG 3572 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:34.751 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-07 10:36:34.751 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:34.752  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:34.754  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:34.755  INFO 3572 --- [http-nio-8090-exec-1] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:34.755 DEBUG 3572 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:34.755 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-07 10:36:34.756 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-07 10:36:34.756 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-07 10:36:34.757 DEBUG 3572 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-07 10:36:34.772 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:34.772 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=23, images=[], name=行政套房, des (truncated)...]
2025-05-07 10:36:34.772 DEBUG 3572 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:34.773 DEBUG 3572 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:34.826 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-07 10:36:34.826 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:34.828  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:34.831  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:34.832  INFO 3572 --- [http-nio-8090-exec-10] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:34.832 DEBUG 3572 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:34.832 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-07 10:36:34.833 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-07 10:36:34.833 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-07 10:36:34.834 DEBUG 3572 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-07 10:36:34.874 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:34.875 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=21509.60, monthlyRevenue=1288.00, upcomingReservations=13, totalUsers=21, availableRoo (truncated)...]
2025-05-07 10:36:34.875 DEBUG 3572 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:34.875 DEBUG 3572 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-07 10:36:34.913 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:36:34.913 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-07 10:36:34.914  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Attempting to load user by identifier: 18999177256
2025-05-07 10:36:34.917  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : User found: 18999177256, Role: RECEPTIONIST
2025-05-07 10:36:34.917  INFO 3572 --- [http-nio-8090-exec-2] c.hotel.service.UserDetailsServiceImpl   : Assigned authorities: [ROLE_RECEPTIONIST]
2025-05-07 10:36:34.917 DEBUG 3572 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-07 10:36:34.917 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/filter?status=CLEANING&size=200&page=0] with attributes [authenticated]
2025-05-07 10:36:34.917 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/filter?status=CLEANING&size=200&page=0
2025-05-07 10:36:34.918 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/filter?status=CLEANING&size=200&page=0", parameters={masked}
2025-05-07 10:36:34.918 DEBUG 3572 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getRoomsWithFilters(RoomFilterDTO)
2025-05-07 10:36:34.929 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-07 10:36:34.929 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{number=0, size=200, totalPages=1, content=[{roomNumber=202, id=4, floor=2, roomType={name=行政套房, id= (truncated)...]
2025-05-07 10:36:34.930 DEBUG 3572 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-07 10:36:34.930 DEBUG 3572 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
