2025-05-04 09:14:33.373  INFO 13472 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 13472 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 09:14:33.399 DEBUG 13472 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 09:14:33.400  INFO 13472 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 09:14:36.321  INFO 13472 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 09:14:36.861  INFO 13472 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 516 ms. Found 19 JPA repository interfaces.
2025-05-04 09:14:38.416  INFO 13472 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 09:14:38.420  INFO 13472 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 09:14:38.421  INFO 13472 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 09:14:38.423  INFO 13472 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 09:14:38.510  INFO 13472 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 09:14:38.542  INFO 13472 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 09:14:38.542  INFO 13472 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 09:14:38.924  INFO 13472 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 09:14:38.925  INFO 13472 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5302 ms
2025-05-04 09:14:39.447  INFO 13472 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 09:14:39.598  INFO 13472 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 09:14:40.067  INFO 13472 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 09:14:40.368  INFO 13472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 09:14:41.159  INFO 13472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 09:14:41.197  INFO 13472 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 09:14:44.373  INFO 13472 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 09:14:44.400  INFO 13472 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 09:14:45.886 DEBUG 13472 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 09:14:45.888 DEBUG 13472 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 09:14:48.116 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 09:14:48.131 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 09:14:48.132 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 09:14:48.133 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 09:14:48.133 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 09:14:48.134 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 09:14:48.135 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 09:14:48.135 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 09:14:48.136 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 09:14:48.138 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 09:14:48.138 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 09:14:48.138 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 09:14:48.139 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 09:14:48.140 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 09:14:48.140 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 09:14:48.140 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 09:14:48.141 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 09:14:48.141 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 09:14:48.141 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 09:14:48.141 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 09:14:48.142 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 09:14:48.142 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 09:14:48.143 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 09:14:48.143 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 09:14:48.143 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 09:14:48.144 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 09:14:48.145 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 09:14:48.145 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 09:14:48.145 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 09:14:48.145 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 09:14:48.145 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 09:14:48.146 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 09:14:48.146 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 09:14:48.146 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 09:14:48.146 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 09:14:48.146 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 09:14:48.150 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 09:14:48.150 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 09:14:48.150 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 09:14:48.151 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 09:14:48.152 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 09:14:48.153 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 09:14:48.153 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 09:14:48.154 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 09:14:48.171  INFO 13472 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7da59f6e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fb8d720, org.springframework.security.web.context.SecurityContextPersistenceFilter@130ad58d, org.springframework.security.web.header.HeaderWriterFilter@3b8c15de, org.springframework.web.filter.CorsFilter@544733a4, org.springframework.security.web.authentication.logout.LogoutFilter@65a01901, com.hotel.config.JwtAuthenticationFilter@49bc1f6c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@383a5260, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4986b0ea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21b792c2, org.springframework.security.web.session.SessionManagementFilter@24ea71d, org.springframework.security.web.access.ExceptionTranslationFilter@1da5635e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@657e7e8]
2025-05-04 09:14:48.327  WARN 13472 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 09:14:48.697 DEBUG 13472 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 09:14:48.780  INFO 13472 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 09:14:48.993 DEBUG 13472 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 09:14:49.006 DEBUG 13472 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 09:14:49.046 DEBUG 13472 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 09:14:49.066 DEBUG 13472 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 09:14:49.488  INFO 13472 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 09:14:49.505  INFO 13472 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 17.764 seconds (JVM running for 19.849)
2025-05-04 09:15:30.735  INFO 13472 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 09:15:30.736  INFO 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 09:15:30.736 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 09:15:30.737 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 09:15:30.737 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 09:15:30.739 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2f143ea
2025-05-04 09:15:30.740 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4f96e484
2025-05-04 09:15:30.740 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 09:15:30.740  INFO 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-04 09:15:30.764 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 09:15:30.775 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:15:30.921 DEBUG 13472 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 09:15:30.947 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 09:15:30.948 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 09:15:30.952 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 09:15:30.961 DEBUG 13472 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 09:15:31.355 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:15:31.356 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=8, totalUsers=18, availableRooms=15, newUser (truncated)...]
2025-05-04 09:15:31.448 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:15:31.453 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:29.393 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:22:29.394 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:29.409 DEBUG 13472 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:29.416 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:22:29.416 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:22:29.416 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:22:29.419 DEBUG 13472 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:22:29.473 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:29.474 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:22:29.480 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:29.480 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:30.775 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:30.775 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:30.780 DEBUG 13472 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:30.781 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:22:30.781 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:30.782 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:22:30.782 DEBUG 13472 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:22:30.816 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:30.816 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:22:30.829 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:30.829 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:34.588 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 09:22:34.589 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:34.594 DEBUG 13472 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:34.595 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 09:22:34.595 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 09:22:34.595 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 09:22:34.595 DEBUG 13472 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:22:34.615 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:34.616 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:22:34.618 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:34.619 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:35.308 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 09:22:35.308 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:35.313 DEBUG 13472 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:35.314 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED] with attributes [authenticated]
2025-05-04 09:22:35.314 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 09:22:35.314 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CONFIRMED", parameters={masked}
2025-05-04 09:22:35.314 DEBUG 13472 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:22:35.323 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:35.323 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 09:22:35.324 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:35.324 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:35.574 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 09:22:35.575 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:35.580 DEBUG 13472 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:35.582 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED] with attributes [authenticated]
2025-05-04 09:22:35.582 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 09:22:35.582 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=COMPLETED", parameters={masked}
2025-05-04 09:22:35.583 DEBUG 13472 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:22:35.592 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:35.592 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 09:22:35.593 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:35.593 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:35.872 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:35.872 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:35.876 DEBUG 13472 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:35.877 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:22:35.877 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:35.877 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:22:35.877 DEBUG 13472 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:22:35.889 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:35.890 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:22:35.892 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:35.892 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:36.947 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:22:36.947 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:36.953 DEBUG 13472 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:36.953 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:22:36.953 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:22:36.954 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:22:36.954 DEBUG 13472 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:22:36.983 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:36.983 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:22:36.985 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:36.985 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:40.433 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 09:22:40.434 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:40.435 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:22:40.435 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 09:22:40.438 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 09:22:40.438 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 09:22:40.439 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 09:22:40.439 DEBUG 13472 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 09:22:40.484 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:40.484 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 09:22:40.487 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:40.488 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:40.748 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:22:40.748 DEBUG 13472 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:40.752 DEBUG 13472 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:40.753 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:22:40.753 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:22:40.753 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:22:40.754 DEBUG 13472 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:22:40.760 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:40.761 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:22:40.762 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:40.762 DEBUG 13472 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:55.460 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 09:22:55.461 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:55.475 DEBUG 13472 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:55.476 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 09:22:55.476 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 09:22:55.476 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 09:22:55.476 DEBUG 13472 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 09:22:55.487 DEBUG 13472 --- [http-nio-8090-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=4, checkIn=2025-06-02T16:00:00.000Z, checkOut=2025-06-29T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 09:22:55.659 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:55.659 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订创建成功, data={discountRate=0.85, reservationId=13, origi (truncated)...]
2025-05-04 09:22:55.663 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:55.664 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:55.698 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-04 09:22:55.698 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:55.703 DEBUG 13472 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:55.704 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-04 09:22:55.704 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-04 09:22:55.704 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-04 09:22:55.705 DEBUG 13472 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-04 09:22:55.714 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:55.714 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=MembershipDTO(userId=18, username=dawwadw, name=asdwd, memberLevel=钻石会员, memberLevel (truncated)...]
2025-05-04 09:22:55.718 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:55.719 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:59.114 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:22:59.115 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:59.120 DEBUG 13472 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:59.121 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:22:59.122 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:22:59.122 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:22:59.123 DEBUG 13472 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:22:59.130 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:59.130 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:22:59.132 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:59.132 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:59.420 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:59.420 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:59.425 DEBUG 13472 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:59.426 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:22:59.426 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:59.426 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:22:59.426 DEBUG 13472 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:22:59.440 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:59.440 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:22:59.442 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:59.442 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:59.751 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:59.751 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:59.755 DEBUG 13472 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:59.756 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:22:59.756 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:59.756 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:22:59.756 DEBUG 13472 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:22:59.770 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:59.770 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:22:59.771 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:59.771 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:47.977 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:23:47.977 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:47.982 DEBUG 13472 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:47.983 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:23:47.984 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:23:47.984 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:23:47.984 DEBUG 13472 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:23:47.989 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:47.990 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:23:47.991 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:47.991 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:48.940 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:48.940 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:48.945 DEBUG 13472 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:48.946 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:23:48.946 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:48.947 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:23:48.947 DEBUG 13472 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:23:48.957 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:48.957 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:23:48.958 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:48.958 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:50.430 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:50.430 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:50.435 DEBUG 13472 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:50.435 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:23:50.435 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:50.436 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:23:50.436 DEBUG 13472 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:23:50.449 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:50.449 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:23:50.450 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:50.450 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:52.582 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:52.583 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:52.589 DEBUG 13472 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:52.590 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:23:52.590 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:52.591 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:23:52.592 DEBUG 13472 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:23:52.605 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:52.605 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:23:52.606 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:52.607 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:55.277 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:55.278 DEBUG 13472 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:55.282 DEBUG 13472 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:55.283 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:23:55.283 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:55.283 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:23:55.283 DEBUG 13472 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:23:55.295 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:55.295 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:23:55.296 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:55.297 DEBUG 13472 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:55.545 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:55.545 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:55.549 DEBUG 13472 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:55.550 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:23:55.550 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:55.550 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:23:55.550 DEBUG 13472 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:23:55.564 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:55.565 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:23:55.566 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:55.567 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:56.143 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:56.143 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:56.149 DEBUG 13472 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:56.149 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:23:56.149 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:56.149 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:23:56.150 DEBUG 13472 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:23:56.159 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:56.160 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:23:56.161 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:56.161 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:56.902 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:56.902 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:56.906 DEBUG 13472 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:56.907 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:23:56.907 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:56.907 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:23:56.908 DEBUG 13472 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:23:56.921 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:56.922 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:23:56.923 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:56.923 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:57.155 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:57.155 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:57.159 DEBUG 13472 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:57.159 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:23:57.159 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:57.159 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:23:57.160 DEBUG 13472 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:23:57.167 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:57.167 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:23:57.168 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:57.168 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:58.455 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:58.455 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:58.460 DEBUG 13472 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:58.460 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:23:58.461 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:58.461 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:23:58.461 DEBUG 13472 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:23:58.476 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:58.477 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:23:58.478 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:58.478 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:06.199 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:24:06.200 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:06.205 DEBUG 13472 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:06.205 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:24:06.206 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:24:06.206 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:24:06.207 DEBUG 13472 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:24:06.213 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:06.213 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:24:06.214 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:06.215 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:07.467 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:24:07.468 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:07.475 DEBUG 13472 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:07.476 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:24:07.476 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:24:07.476 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:24:07.477 DEBUG 13472 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:24:07.492 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:07.492 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:24:07.493 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:07.494 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:24.540 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 09:24:24.540 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:24.544 DEBUG 13472 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:24.545 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 09:24:24.546 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 09:24:24.546 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 09:24:24.546 DEBUG 13472 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:24:24.558 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:24.558 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:24:24.560 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:24.560 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:25.652 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:24:25.652 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:25.656 DEBUG 13472 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:25.657 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:24:25.657 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:24:25.657 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:24:25.658 DEBUG 13472 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:24:25.670 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:25.671 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:24:25.672 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:25.672 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:39.934 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:24:39.934 DEBUG 13472 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:39.938 DEBUG 13472 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:39.940 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:24:39.940 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:24:39.940 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:24:39.940 DEBUG 13472 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:24:39.943 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:39.943 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:24:39.945 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:39.945 DEBUG 13472 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:41.139 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:24:41.139 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:41.143 DEBUG 13472 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:41.144 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:24:41.144 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:24:41.144 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:24:41.145 DEBUG 13472 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:24:41.153 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:41.153 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:24:41.154 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:41.154 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:48.403 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:24:48.404 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:48.408 DEBUG 13472 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:48.409 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:24:48.409 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:24:48.409 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:24:48.409 DEBUG 13472 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:24:48.422 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:48.423 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:24:48.424 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:48.424 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:51.199 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:24:51.199 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:51.203 DEBUG 13472 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:51.204 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:24:51.204 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:24:51.205 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:24:51.205 DEBUG 13472 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:24:51.209 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:51.210 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:24:51.212 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:51.212 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:59.432 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:24:59.432 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:59.436 DEBUG 13472 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:59.436 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:24:59.436 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:24:59.436 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:24:59.437 DEBUG 13472 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:24:59.441 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:59.441 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:24:59.442 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:59.442 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:25:00.990 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:25:00.990 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:25:00.993 DEBUG 13472 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:25:00.994 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:25:00.994 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:25:00.994 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:25:00.996 DEBUG 13472 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:25:01.006 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:25:01.006 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:25:01.007 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:25:01.008 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:25:04.336 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:25:04.337 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:25:04.339 DEBUG 13472 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:25:04.340 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:25:04.340 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:25:04.341 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:25:04.341 DEBUG 13472 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:25:04.346 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:25:04.346 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:25:04.347 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:25:04.347 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:25:05.548 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:25:05.548 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:25:05.553 DEBUG 13472 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:25:05.553 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:25:05.554 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:25:05.554 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:25:05.554 DEBUG 13472 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:25:05.563 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:25:05.563 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:25:05.564 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:25:05.564 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:29:19.151 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:29:19.152 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:29:19.155 DEBUG 13472 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:29:19.156 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:29:19.156 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:29:19.156 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:29:19.156 DEBUG 13472 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:29:19.160 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:29:19.160 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:29:19.162 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:29:19.162 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:29:20.082 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:29:20.082 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:29:20.087 DEBUG 13472 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:29:20.088 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:29:20.088 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:29:20.088 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:29:20.089 DEBUG 13472 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:29:20.098 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:29:20.098 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:29:20.099 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:29:20.099 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:29:25.428  INFO 13472 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 09:29:25.434  INFO 13472 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 09:29:25.456  INFO 13472 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 09:29:33.563  INFO 30416 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 30416 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 09:29:33.566 DEBUG 30416 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 09:29:33.566  INFO 30416 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 09:29:34.897  INFO 30416 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 09:29:35.095  INFO 30416 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 190 ms. Found 19 JPA repository interfaces.
2025-05-04 09:29:35.612  INFO 30416 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 09:29:35.613  INFO 30416 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 09:29:35.613  INFO 30416 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 09:29:35.614  INFO 30416 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 09:29:35.620  INFO 30416 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 09:29:35.630  INFO 30416 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 09:29:35.630  INFO 30416 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 09:29:35.763  INFO 30416 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 09:29:35.763  INFO 30416 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2155 ms
2025-05-04 09:29:35.924  INFO 30416 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 09:29:35.980  INFO 30416 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 09:29:36.141  INFO 30416 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 09:29:36.985  INFO 30416 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 09:29:38.640  INFO 30416 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 09:29:38.657  INFO 30416 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 09:29:39.801  INFO 30416 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 09:29:39.809  INFO 30416 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 09:29:40.245 DEBUG 30416 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 09:29:40.245 DEBUG 30416 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 09:29:41.133 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 09:29:41.139 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 09:29:41.140 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 09:29:41.140 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 09:29:41.141 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 09:29:41.141 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 09:29:41.141 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 09:29:41.141 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 09:29:41.142 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 09:29:41.142 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 09:29:41.142 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 09:29:41.142 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 09:29:41.142 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 09:29:41.142 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 09:29:41.143 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 09:29:41.143 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 09:29:41.144 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 09:29:41.144 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 09:29:41.144 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 09:29:41.144 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 09:29:41.148 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 09:29:41.149 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 09:29:41.149 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 09:29:41.149 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 09:29:41.150 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 09:29:41.150 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 09:29:41.151 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 09:29:41.151 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 09:29:41.157  INFO 30416 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@66c91224, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4ffcb1bd, org.springframework.security.web.context.SecurityContextPersistenceFilter@304cad3a, org.springframework.security.web.header.HeaderWriterFilter@78de0f6f, org.springframework.web.filter.CorsFilter@293ba26c, org.springframework.security.web.authentication.logout.LogoutFilter@1b62ad1e, com.hotel.config.JwtAuthenticationFilter@69c6e5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19f9404d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5481f204, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5be8a92c, org.springframework.security.web.session.SessionManagementFilter@321c01c2, org.springframework.security.web.access.ExceptionTranslationFilter@1e9e4468, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@24f8707c]
2025-05-04 09:29:41.208  WARN 30416 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 09:29:41.332 DEBUG 30416 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 09:29:41.358  INFO 30416 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 09:29:41.427 DEBUG 30416 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 09:29:41.432 DEBUG 30416 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 09:29:41.447 DEBUG 30416 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 09:29:41.457 DEBUG 30416 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 09:29:41.611  INFO 30416 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 09:29:41.620  INFO 30416 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 8.558 seconds (JVM running for 9.443)
2025-05-04 09:29:54.730  INFO 30416 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 09:29:54.730  INFO 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 09:29:54.731 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 09:29:54.731 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 09:29:54.731 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 09:29:54.733 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1f031994
2025-05-04 09:29:54.733 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@789d45f7
2025-05-04 09:29:54.734 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 09:29:54.734  INFO 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-04 09:29:54.746 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:29:54.750 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:29:54.819 DEBUG 30416 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:29:54.826 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:29:54.826 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:29:54.829 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:29:54.832 DEBUG 30416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:29:54.969 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:29:54.970 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:29:55.007 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:29:55.009 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:29:55.109 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:29:55.109 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:29:55.114 DEBUG 30416 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:29:55.115 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:29:55.116 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:29:55.117 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:29:55.117 DEBUG 30416 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:29:55.139 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:29:55.139 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:29:55.145 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:29:55.145 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:29:55.872 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:29:55.873 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:29:55.876 DEBUG 30416 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:29:55.878 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:29:55.878 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:29:55.879 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:29:55.879 DEBUG 30416 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:29:55.892 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:29:55.892 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:29:55.893 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:29:55.893 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:29:57.553 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:29:57.554 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:29:57.558 DEBUG 30416 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:29:57.559 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:29:57.560 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:29:57.560 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:29:57.560 DEBUG 30416 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:29:57.571 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:29:57.572 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:29:57.574 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:29:57.574 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:00.023 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:30:00.024 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:00.032 DEBUG 30416 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:00.033 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:30:00.033 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:30:00.034 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:30:00.036 DEBUG 30416 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:30:00.049 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:00.050 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:30:00.053 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:00.054 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:03.261 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:03.262 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:03.268 DEBUG 30416 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:03.269 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:30:03.269 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:03.269 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:30:03.270 DEBUG 30416 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:30:03.282 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:03.282 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:30:03.283 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:03.284 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:05.025 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:30:05.026 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:05.031 DEBUG 30416 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:05.032 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:30:05.032 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:30:05.032 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:30:05.033 DEBUG 30416 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:30:05.040 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:05.040 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:30:05.042 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:05.042 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:06.379 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:06.379 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:06.384 DEBUG 30416 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:06.384 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:30:06.385 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:06.386 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:30:06.386 DEBUG 30416 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:30:06.399 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:06.399 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:30:06.401 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:06.401 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:07.226 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:30:07.226 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:07.231 DEBUG 30416 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:07.231 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:30:07.231 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:30:07.232 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:30:07.232 DEBUG 30416 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:30:07.248 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:07.248 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:30:07.250 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:07.250 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:15.708 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:15.708 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:15.715 DEBUG 30416 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:15.715 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:30:15.716 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:15.716 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:30:15.717 DEBUG 30416 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:30:15.728 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:15.728 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:30:15.729 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:15.729 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:16.813 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:30:16.814 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:16.818 DEBUG 30416 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:16.820 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:30:16.820 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:30:16.820 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:30:16.820 DEBUG 30416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:30:16.841 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:16.841 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:30:16.843 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:16.843 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:18.355 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:30:18.356 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:18.360 DEBUG 30416 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:18.361 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:30:18.361 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:30:18.361 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:30:18.362 DEBUG 30416 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:30:18.376 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:18.376 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:30:18.378 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:18.378 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:18.609 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:18.609 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:18.613 DEBUG 30416 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:18.613 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:30:18.613 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:18.614 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:30:18.614 DEBUG 30416 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:30:18.624 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:18.625 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:30:18.625 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:18.626 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:25.631 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 09:30:25.631 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:25.632 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:30:25.633 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 09:30:25.633 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 09:30:25.634 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 09:30:25.634 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 09:30:25.634 DEBUG 30416 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 09:30:25.685 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:25.685 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 09:30:25.687 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:25.688 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:25.944 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:30:25.944 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:25.948 DEBUG 30416 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:25.948 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:30:25.948 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:30:25.948 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:30:25.949 DEBUG 30416 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:30:25.953 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:25.953 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:30:25.955 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:25.955 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:33.841 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:30:33.841 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:33.846 DEBUG 30416 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:33.847 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:30:33.847 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:30:33.847 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:30:33.848 DEBUG 30416 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:30:33.854 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:33.854 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:30:33.855 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:33.855 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:35.536 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:35.537 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:35.541 DEBUG 30416 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:35.541 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:30:35.542 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:35.542 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:30:35.543 DEBUG 30416 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:30:35.552 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:35.553 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:30:35.554 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:35.554 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:35:04.028 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:35:04.029 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:35:04.034 DEBUG 30416 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:35:04.035 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:35:04.035 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:35:04.035 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:35:04.036 DEBUG 30416 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:35:04.042 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:35:04.042 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:35:04.044 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:35:04.044 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:35:20.911 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:35:20.912 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:35:20.917 DEBUG 30416 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:35:20.917 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:35:20.917 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:35:20.917 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:35:20.919 DEBUG 30416 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:35:20.925 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:35:20.925 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:35:20.926 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:35:20.927 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:36:18.001 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:36:18.001 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:36:18.006 DEBUG 30416 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:36:18.007 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:36:18.007 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:36:18.007 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:36:18.008 DEBUG 30416 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:36:18.013 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:36:18.014 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:36:18.015 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:36:18.015 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:36:22.404 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:36:22.405 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:36:22.409 DEBUG 30416 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:36:22.409 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:36:22.410 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:36:22.410 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:36:22.411 DEBUG 30416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:36:22.420 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:36:22.421 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:36:22.421 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:36:22.422 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:36:24.122 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:36:24.123 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:36:24.127 DEBUG 30416 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:36:24.128 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:36:24.128 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:36:24.129 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:36:24.129 DEBUG 30416 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:36:24.142 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:36:24.143 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:36:24.145 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:36:24.145 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:36:25.545 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:36:25.546 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:36:25.551 DEBUG 30416 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:36:25.551 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:36:25.552 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:36:25.552 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:36:25.553 DEBUG 30416 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:36:25.569 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:36:25.570 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:36:25.571 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:36:25.571 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:36:27.727 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:36:27.728 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:36:27.733 DEBUG 30416 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:36:27.734 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:36:27.734 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:36:27.734 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:36:27.734 DEBUG 30416 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:36:27.752 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:36:27.753 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:36:27.754 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:36:27.755 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:36:30.738 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:36:30.739 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:36:30.744 DEBUG 30416 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:36:30.745 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:36:30.746 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:36:30.746 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:36:30.746 DEBUG 30416 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:36:30.758 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:36:30.758 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:36:30.759 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:36:30.759 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:38:01.233 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:38:01.233 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:38:01.238 DEBUG 30416 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:38:01.239 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:38:01.239 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:38:01.240 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:38:01.240 DEBUG 30416 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:38:01.247 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:38:01.247 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:38:01.248 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:38:01.248 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:38:03.750 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:38:03.751 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:38:03.756 DEBUG 30416 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:38:03.757 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:38:03.757 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:38:03.757 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:38:03.758 DEBUG 30416 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:38:03.768 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:38:03.768 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:38:03.769 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:38:03.770 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:38:07.264 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:38:07.264 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:38:07.268 DEBUG 30416 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:38:07.269 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:38:07.271 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:38:07.272 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:38:07.272 DEBUG 30416 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:38:07.279 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:38:07.280 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:38:07.281 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:38:07.281 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:38:26.824 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:38:26.825 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:38:26.829 DEBUG 30416 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:38:26.829 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:38:26.830 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:38:26.830 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:38:26.830 DEBUG 30416 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:38:26.839 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:38:26.840 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:38:26.841 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:38:26.841 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:38:32.375 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:38:32.375 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:38:32.379 DEBUG 30416 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:38:32.379 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:38:32.379 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:38:32.379 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:38:32.380 DEBUG 30416 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:38:32.384 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:38:32.385 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:38:32.386 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:38:32.386 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:19.778 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 09:40:19.779 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:19.780 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:40:19.780 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 09:40:19.780 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 09:40:19.780 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 09:40:19.781 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 09:40:19.781 DEBUG 30416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 09:40:19.809 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:19.809 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 09:40:19.811 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:19.811 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:19.899 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:40:19.899 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:19.903 DEBUG 30416 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:19.903 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:40:19.903 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:40:19.903 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:40:19.904 DEBUG 30416 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:40:19.911 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:19.911 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:40:19.913 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:19.913 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:35.706 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 09:40:35.706 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:35.734 DEBUG 30416 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:35.735 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 09:40:35.736 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 09:40:35.736 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 09:40:35.736 DEBUG 30416 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 09:40:35.748 DEBUG 30416 --- [http-nio-8090-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=1, checkIn=2025-06-30T16:00:00.000Z, checkOut=2025-07-30T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 09:40:35.881 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:35.881 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订创建成功, data={discountRate=0.85, reservationId=14, origi (truncated)...]
2025-05-04 09:40:35.884 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:35.885 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:36.210 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-04 09:40:36.210 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:36.214 DEBUG 30416 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:36.214 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-04 09:40:36.214 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-04 09:40:36.214 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-04 09:40:36.214 DEBUG 30416 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-04 09:40:36.219 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:36.219 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=MembershipDTO(userId=18, username=dawwadw, name=asdwd, memberLevel=钻石会员, memberLevel (truncated)...]
2025-05-04 09:40:36.222 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:36.222 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:37.746 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:40:37.746 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:37.750 DEBUG 30416 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:37.751 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:40:37.752 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:40:37.752 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:40:37.753 DEBUG 30416 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:40:37.758 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:37.759 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:40:37.760 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:37.760 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:38.050 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:40:38.051 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:38.054 DEBUG 30416 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:38.055 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:40:38.055 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:40:38.055 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:40:38.055 DEBUG 30416 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:40:38.072 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:38.072 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:40:38.073 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:38.073 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:38.381 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:40:38.382 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:38.385 DEBUG 30416 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:38.385 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:40:38.385 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:40:38.385 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:40:38.385 DEBUG 30416 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:40:38.395 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:38.395 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:40:38.396 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:38.397 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:41.481 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:40:41.482 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:41.485 DEBUG 30416 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:41.486 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:40:41.486 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:40:41.486 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:40:41.486 DEBUG 30416 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:40:41.496 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:41.496 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:40:41.497 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:41.497 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:43.462 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:40:43.462 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:43.466 DEBUG 30416 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:43.466 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:40:43.467 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:40:43.467 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:40:43.467 DEBUG 30416 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:40:43.485 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:43.486 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:40:43.487 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:43.488 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:48.124 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:40:48.124 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:48.127 DEBUG 30416 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:48.130 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:40:48.130 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:40:48.130 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:40:48.131 DEBUG 30416 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:40:48.138 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:48.138 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:40:48.139 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:48.139 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:49.587 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:40:49.587 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:49.594 DEBUG 30416 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:49.594 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:40:49.594 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:40:49.595 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:40:49.596 DEBUG 30416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:40:49.605 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:49.605 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:40:49.605 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:49.606 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:43:53.222  INFO 30416 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 09:43:53.224  INFO 30416 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 09:43:53.232  INFO 30416 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 09:44:01.453  INFO 30384 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 30384 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 09:44:01.458 DEBUG 30384 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 09:44:01.458  INFO 30384 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 09:44:02.603  INFO 30384 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 09:44:02.842  INFO 30384 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 227 ms. Found 19 JPA repository interfaces.
2025-05-04 09:44:03.597  INFO 30384 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 09:44:03.598  INFO 30384 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 09:44:03.599  INFO 30384 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 09:44:03.600  INFO 30384 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 09:44:03.608  INFO 30384 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 09:44:03.620  INFO 30384 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 09:44:03.620  INFO 30384 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 09:44:03.797  INFO 30384 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 09:44:03.798  INFO 30384 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2281 ms
2025-05-04 09:44:04.042  INFO 30384 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 09:44:04.113  INFO 30384 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 09:44:04.310  INFO 30384 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 09:44:04.425  INFO 30384 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 09:44:04.755  INFO 30384 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 09:44:04.773  INFO 30384 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 09:44:05.987  INFO 30384 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 09:44:05.995  INFO 30384 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 09:44:06.437 DEBUG 30384 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 09:44:06.437 DEBUG 30384 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 09:44:07.293 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 09:44:07.299 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 09:44:07.300 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 09:44:07.300 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 09:44:07.300 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 09:44:07.300 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 09:44:07.301 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 09:44:07.301 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 09:44:07.301 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 09:44:07.301 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 09:44:07.301 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 09:44:07.302 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 09:44:07.302 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 09:44:07.302 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 09:44:07.302 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 09:44:07.302 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 09:44:07.303 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 09:44:07.303 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 09:44:07.303 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 09:44:07.303 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 09:44:07.303 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 09:44:07.304 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 09:44:07.304 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 09:44:07.304 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 09:44:07.304 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 09:44:07.307 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 09:44:07.307 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 09:44:07.307 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 09:44:07.307 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 09:44:07.308 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 09:44:07.308 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 09:44:07.308 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 09:44:07.308 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 09:44:07.314  INFO 30384 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58c93be3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5dd62f07, org.springframework.security.web.context.SecurityContextPersistenceFilter@16718e1b, org.springframework.security.web.header.HeaderWriterFilter@77430c79, org.springframework.web.filter.CorsFilter@315365ef, org.springframework.security.web.authentication.logout.LogoutFilter@2b33f7a0, com.hotel.config.JwtAuthenticationFilter@81cd90e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@771ede0d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1fd73dcb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e669b5c, org.springframework.security.web.session.SessionManagementFilter@140fa482, org.springframework.security.web.access.ExceptionTranslationFilter@52c2d1e8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@65192f16]
2025-05-04 09:44:07.361  WARN 30384 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 09:44:07.482 DEBUG 30384 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 09:44:07.510  INFO 30384 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 09:44:07.573 DEBUG 30384 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 09:44:07.577 DEBUG 30384 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 09:44:07.594 DEBUG 30384 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 09:44:07.606 DEBUG 30384 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 09:44:07.760  INFO 30384 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 09:44:07.771  INFO 30384 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.845 seconds (JVM running for 7.844)
2025-05-04 09:44:12.656  INFO 30384 --- [http-nio-8090-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 09:44:12.657  INFO 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 09:44:12.657 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 09:44:12.657 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 09:44:12.658 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 09:44:12.659 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3fecdd00
2025-05-04 09:44:12.660 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2f1b8770
2025-05-04 09:44:12.660 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 09:44:12.661  INFO 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-04 09:44:12.674 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:44:12.674 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 09:44:12.679 DEBUG 30384 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:12.679 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:12.686 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:44:12.686 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 09:44:12.695 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 09:44:12.696 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 09:44:12.699 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 09:44:12.705 DEBUG 30384 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 09:44:12.765 DEBUG 30384 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:12.766 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:44:12.766 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:44:12.766 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:44:12.767 DEBUG 30384 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:44:12.841 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:12.842 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 09:44:12.849 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:12.850 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:44:12.869 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:12.869 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:12.871 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:12.871 DEBUG 30384 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:27.892 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 09:44:27.893 DEBUG 30384 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:27.908 DEBUG 30384 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:27.909 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 09:44:27.909 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 09:44:27.910 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 09:44:27.910 DEBUG 30384 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 09:44:27.920 DEBUG 30384 --- [http-nio-8090-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=1, checkIn=2025-07-31T16:00:00.000Z, checkOut=2025-08-30T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 09:44:28.043 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:28.043 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订创建成功, data={discountRate=0.85, reservationId=15, origi (truncated)...]
2025-05-04 09:44:28.047 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:28.047 DEBUG 30384 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:28.369 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-04 09:44:28.369 DEBUG 30384 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:28.373 DEBUG 30384 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:28.374 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-04 09:44:28.374 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-04 09:44:28.374 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-04 09:44:28.375 DEBUG 30384 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-04 09:44:28.385 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:28.385 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=MembershipDTO(userId=18, username=dawwadw, name=asdwd, memberLevel=钻石会员, memberLevel (truncated)...]
2025-05-04 09:44:28.388 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:28.388 DEBUG 30384 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:29.555 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:44:29.555 DEBUG 30384 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:29.561 DEBUG 30384 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:29.562 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:44:29.563 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:44:29.563 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:44:29.564 DEBUG 30384 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:44:29.571 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:29.571 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:44:29.573 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:29.573 DEBUG 30384 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:29.860 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:44:29.861 DEBUG 30384 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:29.865 DEBUG 30384 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:29.865 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:44:29.865 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:44:29.866 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:44:29.866 DEBUG 30384 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:44:29.893 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:29.893 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:44:29.903 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:29.903 DEBUG 30384 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:30.209 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:44:30.209 DEBUG 30384 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:30.212 DEBUG 30384 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:30.213 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:44:30.213 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:44:30.214 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:44:30.214 DEBUG 30384 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:44:30.231 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:30.232 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:44:30.233 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:30.233 DEBUG 30384 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:34.128 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:44:34.129 DEBUG 30384 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:34.132 DEBUG 30384 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:34.133 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:44:34.133 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:44:34.133 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:44:34.134 DEBUG 30384 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:44:34.141  INFO 30384 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 consumption records for userId: 18
2025-05-04 09:44:34.144  INFO 30384 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:44:34.145  INFO 30384 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 144777
2025-05-04 09:44:34.145  INFO 30384 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:44:34.146  WARN 30384 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Page start index 0 is out of bounds, history is empty. Returning empty list.
2025-05-04 09:44:34.146  INFO 30384 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 0 history items for page 0 (size 10) for userId: 18. Total items: 0
2025-05-04 09:44:34.146 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:34.147 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:44:34.148 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:34.148 DEBUG 30384 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:35.687 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:44:35.687 DEBUG 30384 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:35.691 DEBUG 30384 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:35.692 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:44:35.692 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:44:35.692 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:44:35.692 DEBUG 30384 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:44:35.708 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:35.709 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:44:35.711 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:35.712 DEBUG 30384 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:37.026 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:44:37.027 DEBUG 30384 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:37.031 DEBUG 30384 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:37.031 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:44:37.031 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:44:37.031 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:44:37.032 DEBUG 30384 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:44:37.038  INFO 30384 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 consumption records for userId: 18
2025-05-04 09:44:37.040  INFO 30384 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:44:37.040  INFO 30384 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 144777
2025-05-04 09:44:37.040  INFO 30384 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:44:37.040  WARN 30384 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Page start index 0 is out of bounds, history is empty. Returning empty list.
2025-05-04 09:44:37.040  INFO 30384 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 0 history items for page 0 (size 10) for userId: 18. Total items: 0
2025-05-04 09:44:37.040 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:37.040 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:44:37.041 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:37.042 DEBUG 30384 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:04.830 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-04 09:47:04.830 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:04.834 DEBUG 30384 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 09:47:04.843 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users?page=1&pageSize=10&username=&phone=&status=] with attributes [hasRole('ROLE_ADMIN')]
2025-05-04 09:47:04.843 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-04 09:47:04.844 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users?page=1&pageSize=10&username=&phone=&status=", parameters={masked}
2025-05-04 09:47:04.844 DEBUG 30384 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllUsers(int, int, String, String, String, String)
2025-05-04 09:47:04.876 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:04.876 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=18, users=[UserDTO(id=18, username=dawwa (truncated)...]
2025-05-04 09:47:04.879 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:04.880 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:06.056 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/staff?page=0&pageSize=10
2025-05-04 09:47:06.056 DEBUG 30384 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:06.061 DEBUG 30384 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 09:47:06.061 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/staff?page=0&pageSize=10] with attributes [authenticated]
2025-05-04 09:47:06.062 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/staff?page=0&pageSize=10
2025-05-04 09:47:06.062 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/staff?page=0&pageSize=10", parameters={masked}
2025-05-04 09:47:06.062 DEBUG 30384 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllStaffPaginated(int, int, String, String, String)
2025-05-04 09:47:06.077 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:06.077 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=5, users=[UserDTO(id=17, username=保洁7号阿姨 (truncated)...]
2025-05-04 09:47:06.078 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:06.079 DEBUG 30384 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:07.526 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=0&size=10
2025-05-04 09:47:07.527 DEBUG 30384 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:07.531 DEBUG 30384 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 09:47:07.532 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 09:47:07.532 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=0&size=10
2025-05-04 09:47:07.532 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=0&size=10", parameters={masked}
2025-05-04 09:47:07.533 DEBUG 30384 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-04 09:47:07.558 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:07.558 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=21, list=[{roomNumber=501, lastCleanTime=2025-05-01T15:04:43, notes=, needCle (truncated)...]
2025-05-04 09:47:07.560 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:07.561 DEBUG 30384 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:07.630 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/roomtypes
2025-05-04 09:47:07.630 DEBUG 30384 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:07.634 DEBUG 30384 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 09:47:07.634 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/roomtypes] with attributes [hasRole('ROLE_ADMIN')]
2025-05-04 09:47:07.635 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/roomtypes
2025-05-04 09:47:07.635 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/roomtypes", parameters={}
2025-05-04 09:47:07.635 DEBUG 30384 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getAllRoomTypes()
2025-05-04 09:47:07.641 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:07.641 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{amenities=无限量矿泉水、咖啡、茶叶等, createTime=2025-04-28T11:22:57, name=行政套房, description=高端 (truncated)...]
2025-05-04 09:47:07.642 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:07.642 DEBUG 30384 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:42.149 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:47:42.149 DEBUG 30384 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:42.154 DEBUG 30384 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:47:42.154 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:47:42.154 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:47:42.155 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:47:42.155 DEBUG 30384 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:47:42.169 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:42.169 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:47:42.170 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:42.171 DEBUG 30384 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:43.273 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:47:43.273 DEBUG 30384 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:43.278 DEBUG 30384 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:47:43.279 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:47:43.279 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:47:43.279 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:47:43.281 DEBUG 30384 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:47:43.298 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:43.299 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:47:43.300 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:43.300 DEBUG 30384 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:44.308 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:47:44.308 DEBUG 30384 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:44.313 DEBUG 30384 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:47:44.314 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:47:44.314 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:47:44.314 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:47:44.314 DEBUG 30384 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:47:44.321  INFO 30384 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 consumption records for userId: 18
2025-05-04 09:47:44.323  INFO 30384 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:47:44.323  INFO 30384 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 144777
2025-05-04 09:47:44.323  INFO 30384 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:47:44.324  WARN 30384 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Page start index 0 is out of bounds, history is empty. Returning empty list.
2025-05-04 09:47:44.324  INFO 30384 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 0 history items for page 0 (size 10) for userId: 18. Total items: 0
2025-05-04 09:47:44.324 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:44.324 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:47:44.325 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:44.325 DEBUG 30384 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:44.575 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:47:44.575 DEBUG 30384 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:44.578 DEBUG 30384 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:47:44.579 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:47:44.579 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:47:44.579 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:47:44.579 DEBUG 30384 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:47:44.590 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:44.591 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:47:44.592 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:44.593 DEBUG 30384 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:45.896 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:47:45.896 DEBUG 30384 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:45.900 DEBUG 30384 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:47:45.901 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:47:45.901 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:47:45.901 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:47:45.902 DEBUG 30384 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:47:45.909  INFO 30384 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 consumption records for userId: 18
2025-05-04 09:47:45.911  INFO 30384 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:47:45.911  INFO 30384 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 144777
2025-05-04 09:47:45.911  INFO 30384 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:47:45.911  WARN 30384 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Page start index 0 is out of bounds, history is empty. Returning empty list.
2025-05-04 09:47:45.911  INFO 30384 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 0 history items for page 0 (size 10) for userId: 18. Total items: 0
2025-05-04 09:47:45.911 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:45.912 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:47:45.913 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:45.913 DEBUG 30384 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:48:40.029 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 09:48:40.030 DEBUG 30384 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:48:40.030 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:48:40.030 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 09:48:40.031 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 09:48:40.033 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 09:48:40.033 DEBUG 30384 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:48:40.036 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 09:48:40.036 DEBUG 30384 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:48:40.036 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:48:40.036 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 09:48:40.042 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 09:48:40.042 DEBUG 30384 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 09:48:40.044 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:48:40.045 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 09:48:40.047 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 09:48:40.047 DEBUG 30384 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:48:42.341 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 09:48:42.341 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:48:42.342 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:48:42.342 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 09:48:42.342 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 09:48:42.343 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 09:48:42.343 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:48:42.343 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 09:48:42.343 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:48:42.343 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:48:42.344 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 09:48:42.344 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 09:48:42.344 DEBUG 30384 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 09:48:42.345 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:48:42.345 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 09:48:42.346 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 09:48:42.347 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:51:42.500  INFO 30384 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 09:51:42.501  INFO 30384 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 09:51:42.509  INFO 30384 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 09:51:49.574  INFO 29640 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 29640 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 09:51:49.577 DEBUG 29640 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 09:51:49.577  INFO 29640 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 09:51:50.410  INFO 29640 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 09:51:50.597  INFO 29640 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 178 ms. Found 19 JPA repository interfaces.
2025-05-04 09:51:51.063  INFO 29640 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 09:51:51.065  INFO 29640 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 09:51:51.065  INFO 29640 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 09:51:51.065  INFO 29640 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 09:51:51.068  INFO 29640 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 09:51:51.076  INFO 29640 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 09:51:51.077  INFO 29640 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 09:51:51.197  INFO 29640 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 09:51:51.198  INFO 29640 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1579 ms
2025-05-04 09:51:51.361  INFO 29640 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 09:51:51.400  INFO 29640 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 09:51:51.521  INFO 29640 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 09:51:51.619  INFO 29640 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 09:51:51.874  INFO 29640 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 09:51:51.887  INFO 29640 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 09:51:52.916  INFO 29640 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 09:51:52.923  INFO 29640 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 09:51:53.323 DEBUG 29640 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 09:51:53.324 DEBUG 29640 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 09:51:54.125 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 09:51:54.131 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 09:51:54.131 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 09:51:54.131 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 09:51:54.137 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 09:51:54.137 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 09:51:54.137 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 09:51:54.137 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 09:51:54.138 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 09:51:54.138 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 09:51:54.138 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 09:51:54.138 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 09:51:54.144  INFO 29640 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@253c7189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@cfe72b0, org.springframework.security.web.context.SecurityContextPersistenceFilter@1503f434, org.springframework.security.web.header.HeaderWriterFilter@383a5260, org.springframework.web.filter.CorsFilter@61c0fb12, org.springframework.security.web.authentication.logout.LogoutFilter@7c7b27c, com.hotel.config.JwtAuthenticationFilter@6cb759d5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7af17d31, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40612056, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12f933c7, org.springframework.security.web.session.SessionManagementFilter@64f1b2fb, org.springframework.security.web.access.ExceptionTranslationFilter@76055d02, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@439047ef]
2025-05-04 09:51:54.184  WARN 29640 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 09:51:54.305 DEBUG 29640 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 09:51:54.324  INFO 29640 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 09:51:54.392 DEBUG 29640 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 09:51:54.400 DEBUG 29640 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 09:51:54.415 DEBUG 29640 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 09:51:54.423 DEBUG 29640 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 09:51:54.571  INFO 29640 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 09:51:54.579  INFO 29640 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 5.432 seconds (JVM running for 6.204)
2025-05-04 09:52:45.858  INFO 29640 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 09:52:45.858  INFO 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 09:52:45.859 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 09:52:45.859 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 09:52:45.859 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 09:52:45.860 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2e871e93
2025-05-04 09:52:45.860 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@54c1878b
2025-05-04 09:52:45.861 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 09:52:45.861  INFO 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-04 09:52:45.873 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:52:45.877 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:45.937 DEBUG 29640 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:52:45.945 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:52:45.946 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:52:45.947 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:52:45.951 DEBUG 29640 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:52:46.107 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:46.107 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:52:46.142 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:46.144 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:52:47.155 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:52:47.155 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:47.160 DEBUG 29640 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:52:47.161 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:52:47.161 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:52:47.161 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:52:47.162 DEBUG 29640 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:52:47.172  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 consumption records for userId: 18
2025-05-04 09:52:47.175  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:52:47.176  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 144777
2025-05-04 09:52:47.176  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:52:47.176  WARN 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Page start index 0 is out of bounds, history is empty. Returning empty list.
2025-05-04 09:52:47.176  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 0 history items for page 0 (size 10) for userId: 18. Total items: 0
2025-05-04 09:52:47.178 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:47.179 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:52:47.183 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:47.183 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:52:49.774 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:52:49.775 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:49.778 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:52:49.778 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:49.781 DEBUG 29640 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:52:49.783 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:52:49.783 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:52:49.783 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:52:49.785 DEBUG 29640 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:52:49.785 DEBUG 29640 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:52:49.785 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:52:49.785 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:52:49.787 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:52:49.788 DEBUG 29640 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:52:49.798 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:49.798 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:52:49.803 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:49.803 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:52:49.812 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:49.813 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:52:49.814 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:49.815 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:52:49.820 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:52:49.820 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:49.825 DEBUG 29640 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:52:49.826 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:52:49.826 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:52:49.827 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:52:49.827 DEBUG 29640 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:52:49.846 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:49.846 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:52:49.848 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:49.848 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:52:50.990 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:52:50.990 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:50.995 DEBUG 29640 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:52:50.995 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:52:50.996 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:52:50.996 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:52:50.997 DEBUG 29640 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:52:51.005  INFO 29640 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 consumption records for userId: 18
2025-05-04 09:52:51.007  INFO 29640 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:52:51.008  INFO 29640 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 144777
2025-05-04 09:52:51.008  INFO 29640 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:52:51.008  WARN 29640 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Page start index 0 is out of bounds, history is empty. Returning empty list.
2025-05-04 09:52:51.008  INFO 29640 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 0 history items for page 0 (size 10) for userId: 18. Total items: 0
2025-05-04 09:52:51.009 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:51.010 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:52:51.011 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:51.011 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:52:52.696 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 09:52:52.696 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:52:52.697 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:52.697 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:52.699 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:52:52.699 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 09:52:52.700 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 09:52:52.700 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 09:52:52.701 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 09:52:52.701 DEBUG 29640 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 09:52:52.704 DEBUG 29640 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:52:52.705 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:52:52.705 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:52:52.705 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:52:52.706 DEBUG 29640 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:52:52.714 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:52.714 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:52:52.715 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:52.716 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:52:52.753 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:52.754 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 09:52:52.756 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:52.756 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:00.364 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:53:00.364 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:00.369 DEBUG 29640 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:00.369 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:53:00.370 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:53:00.370 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:53:00.370 DEBUG 29640 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:53:00.376 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:00.376 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:53:00.377 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:00.377 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:01.319 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:01.320 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:01.324 DEBUG 29640 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:01.325 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:53:01.325 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:01.326 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:53:01.327 DEBUG 29640 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:53:01.342 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:01.343 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:53:01.345 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:01.345 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:06.183 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 09:53:06.183 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:53:06.183 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:06.183 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:06.184 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:53:06.184 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 09:53:06.185 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 09:53:06.185 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 09:53:06.186 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 09:53:06.186 DEBUG 29640 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 09:53:06.188 DEBUG 29640 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:06.189 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:53:06.189 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:53:06.189 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:53:06.190 DEBUG 29640 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:53:06.196 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:06.196 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:53:06.197 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:06.198 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:06.215 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:06.216 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 09:53:06.217 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:06.218 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:20.699 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 09:53:20.700 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:20.710 DEBUG 29640 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:20.710 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 09:53:20.711 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 09:53:20.711 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 09:53:20.711 DEBUG 29640 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 09:53:20.723 DEBUG 29640 --- [http-nio-8090-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=1, checkIn=2025-08-31T16:00:00.000Z, checkOut=2025-09-29T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 09:53:20.813  INFO 29640 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : [POINTS_ON_CREATE] Triggering consumption record for Reservation ID: 16
2025-05-04 09:53:20.817  INFO 29640 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] Calculated pointsEarned: 41402 for amount: 20701.07
2025-05-04 09:53:20.818  INFO 29640 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] ConsumptionRecord before save: [FAILED toString()]
2025-05-04 09:53:20.859  INFO 29640 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] Inside addConsumptionRecord. Saved entity ID: 1, Points Earned: 41402
2025-05-04 09:53:20.860  INFO 29640 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] ConsumptionRecord saved successfully. ID: 1, Points Earned in returned entity: 41402
2025-05-04 09:53:20.860  INFO 29640 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] User points before update: 144777, adding: 41402, after update: 186179
2025-05-04 09:53:20.868  INFO 29640 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] userService.updateUser called successfully for userId: 18
2025-05-04 09:53:20.868  INFO 29640 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : [POINTS_ON_CREATE] Consumption record processing finished for Reservation ID: 16
2025-05-04 09:53:20.893 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:20.893 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订创建成功, data={discountRate=0.85, reservationId=16, origi (truncated)...]
2025-05-04 09:53:20.897 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:20.897 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:21.213 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-04 09:53:21.213 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:21.217 DEBUG 29640 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:21.218 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-04 09:53:21.218 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-04 09:53:21.218 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-04 09:53:21.219 DEBUG 29640 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-04 09:53:21.225 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:21.225 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=MembershipDTO(userId=18, username=dawwadw, name=asdwd, memberLevel=钻石会员, memberLevel (truncated)...]
2025-05-04 09:53:21.229 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:21.229 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:22.081 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:53:22.081 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:22.087 DEBUG 29640 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:22.087 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:53:22.088 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:53:22.088 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:53:22.088 DEBUG 29640 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:53:22.095 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:22.096 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:53:22.097 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:22.098 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:22.390 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:22.390 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:22.393 DEBUG 29640 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:22.394 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:53:22.394 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:22.394 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:53:22.395 DEBUG 29640 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:53:22.411 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:22.412 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:53:22.413 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:22.413 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:22.722 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:22.723 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:22.727 DEBUG 29640 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:22.727 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:53:22.727 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:22.728 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:53:22.728 DEBUG 29640 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:53:22.746 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:22.746 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:53:22.747 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:22.748 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:25.868 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:53:25.868 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:25.872 DEBUG 29640 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:25.873 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:53:25.874 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:53:25.874 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:53:25.874 DEBUG 29640 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:53:25.882  INFO 29640 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 09:53:25.884  INFO 29640 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:53:25.884  INFO 29640 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 09:53:25.885  INFO 29640 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 09:53:25.885  INFO 29640 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:53:25.885  INFO 29640 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 09:53:25.885 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:25.885 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 09:53:25.888 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:25.888 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:28.218 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:28.218 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:28.223 DEBUG 29640 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:28.224 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:53:28.224 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:28.224 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:53:28.225 DEBUG 29640 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:53:28.245 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:28.245 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:53:28.247 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:28.248 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:29.883 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:53:29.883 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:29.886 DEBUG 29640 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:29.887 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:53:29.888 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:53:29.888 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:53:29.888 DEBUG 29640 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:53:29.894  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 09:53:29.896  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:53:29.896  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 09:53:29.896  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 09:53:29.897  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:53:29.897  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 09:53:29.898 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:29.898 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 09:53:29.899 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:29.899 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:56:56.413 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:56:56.414 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:56:56.421 DEBUG 29640 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:56:56.422 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:56:56.422 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:56:56.423 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:56:56.423 DEBUG 29640 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:56:56.430 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:56:56.430 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:56:56.431 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:56:56.432 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:56:56.466 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:56:56.466 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:56:56.471 DEBUG 29640 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:56:56.472 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:56:56.472 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:56:56.472 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:56:56.473 DEBUG 29640 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:56:56.493 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:56:56.493 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:56:56.494 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:56:56.494 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:56:56.726 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:56:56.727 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:56:56.730 DEBUG 29640 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:56:56.731 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:56:56.732 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:56:56.732 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:56:56.732 DEBUG 29640 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:56:56.753 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:56:56.753 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:56:56.755 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:56:56.755 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:57:59.525 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:57:59.525 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:57:59.526 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:57:59.526 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:57:59.530 DEBUG 29640 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:57:59.530 DEBUG 29640 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:57:59.531 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:57:59.531 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:57:59.531 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:57:59.531 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:57:59.532 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:57:59.532 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:57:59.532 DEBUG 29640 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:57:59.533 DEBUG 29640 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:57:59.538 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:57:59.539 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:57:59.540 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:57:59.540 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:57:59.551 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:57:59.551 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:57:59.553 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:57:59.553 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:57:59.563 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:57:59.564 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:57:59.567 DEBUG 29640 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:57:59.569 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:57:59.569 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:57:59.569 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:57:59.570 DEBUG 29640 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:57:59.589 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:57:59.589 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:57:59.591 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:57:59.591 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:58:01.044 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:58:01.045 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:58:01.049 DEBUG 29640 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:58:01.049 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:58:01.050 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:58:01.050 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:58:01.050 DEBUG 29640 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:58:01.057  INFO 29640 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 09:58:01.059  INFO 29640 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:58:01.060  INFO 29640 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 09:58:01.060  INFO 29640 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 09:58:01.060  INFO 29640 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:58:01.060  INFO 29640 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 09:58:01.060 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:58:01.061 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 09:58:01.062 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:58:01.062 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:05.532 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 10:02:05.532 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:05.538 DEBUG 29640 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:05.539 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 10:02:05.539 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 10:02:05.539 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 10:02:05.540 DEBUG 29640 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 10:02:05.546 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:05.547 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 10:02:05.548 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:05.549 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:05.562 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:05.562 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:05.567 DEBUG 29640 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:05.567 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 10:02:05.567 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:05.567 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 10:02:05.568 DEBUG 29640 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:05.584 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:05.585 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 10:02:05.586 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:05.587 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:05.848 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:05.848 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:05.853 DEBUG 29640 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:05.853 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 10:02:05.853 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:05.853 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 10:02:05.853 DEBUG 29640 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:05.870 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:05.870 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 10:02:05.871 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:05.871 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:13.607 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 10:02:13.608 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:13.608 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:13.608 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:13.611 DEBUG 29640 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:13.611 DEBUG 29640 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:13.612 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 10:02:13.612 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 10:02:13.612 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:13.612 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 10:02:13.612 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 10:02:13.612 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 10:02:13.613 DEBUG 29640 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:13.613 DEBUG 29640 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 10:02:13.619 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:13.619 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 10:02:13.620 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:13.620 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:13.632 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:13.633 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 10:02:13.635 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:13.635 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:13.642 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:13.642 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:13.646 DEBUG 29640 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:13.647 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 10:02:13.647 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:13.647 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 10:02:13.648 DEBUG 29640 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:13.665 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:13.665 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 10:02:13.666 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:13.666 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:15.089 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 10:02:15.090 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:15.095 DEBUG 29640 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:15.095 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 10:02:15.096 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 10:02:15.096 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 10:02:15.096 DEBUG 29640 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:15.125 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:15.126 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 10:02:15.127 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:15.127 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:15.588 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 10:02:15.588 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:15.592 DEBUG 29640 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:15.592 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED] with attributes [authenticated]
2025-05-04 10:02:15.592 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 10:02:15.593 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CONFIRMED", parameters={masked}
2025-05-04 10:02:15.593 DEBUG 29640 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:15.601 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:15.601 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 10:02:15.602 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:15.602 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:16.110 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 10:02:16.110 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:16.114 DEBUG 29640 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:16.114 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED] with attributes [authenticated]
2025-05-04 10:02:16.114 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 10:02:16.115 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=COMPLETED", parameters={masked}
2025-05-04 10:02:16.115 DEBUG 29640 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:16.121 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:16.122 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 10:02:16.123 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:16.123 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:16.797 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED
2025-05-04 10:02:16.798 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:16.801 DEBUG 29640 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:16.802 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED] with attributes [authenticated]
2025-05-04 10:02:16.803 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED
2025-05-04 10:02:16.803 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CANCELLED", parameters={masked}
2025-05-04 10:02:16.803 DEBUG 29640 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:16.810 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:16.811 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 10:02:16.812 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:16.812 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:17.186 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:17.187 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:17.191 DEBUG 29640 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:17.191 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 10:02:17.191 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:17.191 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 10:02:17.192 DEBUG 29640 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:17.205 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:17.206 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 10:02:17.207 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:17.208 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:18.910 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 10:02:18.910 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:18.915 DEBUG 29640 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:18.915 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 10:02:18.915 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 10:02:18.916 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 10:02:18.917 DEBUG 29640 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 10:02:18.924  INFO 29640 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 10:02:18.926  INFO 29640 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 10:02:18.926  INFO 29640 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 10:02:18.926  INFO 29640 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 10:02:18.926  INFO 29640 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 10:02:18.926  INFO 29640 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 10:02:18.926 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:18.927 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 10:02:18.928 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:18.928 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:31.542 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 10:02:31.543 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:31.545 DEBUG 29640 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:31.546 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 10:02:31.546 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 10:02:31.547 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 10:02:31.547 DEBUG 29640 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 10:02:31.553  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 10:02:31.554  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 10:02:31.555  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 10:02:31.555  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 10:02:31.555  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 10:02:31.555  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 10:02:31.555 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:31.555 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 10:02:31.556 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:31.556 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:34.612 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 10:02:34.612 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:34.615 DEBUG 29640 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:34.616 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 10:02:34.616 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 10:02:34.617 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 10:02:34.617 DEBUG 29640 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 10:02:34.623  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 10:02:34.625  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 10:02:34.625  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 10:02:34.625  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 10:02:34.625  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 10:02:34.626  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 10:02:34.626 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:34.626 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 10:02:34.627 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:34.627 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:34.876 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:34.876 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:34.880 DEBUG 29640 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:34.881 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 10:02:34.881 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:34.881 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 10:02:34.881 DEBUG 29640 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:34.897 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:34.897 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 10:02:34.898 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:34.899 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:39.531 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 10:02:39.531 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:39.534 DEBUG 29640 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:39.535 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 10:02:39.535 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 10:02:39.535 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 10:02:39.535 DEBUG 29640 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 10:02:39.540 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:39.541 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 10:02:39.542 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:39.542 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:04:00.906 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/invitation-codes/all
2025-05-04 10:04:00.907 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:04:00.911 DEBUG 29640 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 10:04:00.911 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/invitation-codes/all] with attributes [authenticated]
2025-05-04 10:04:00.912 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/invitation-codes/all
2025-05-04 10:04:00.912 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/invitation-codes/all", parameters={}
2025-05-04 10:04:00.912 DEBUG 29640 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.InvitationCodeController#getAllInvitationCodes()
2025-05-04 10:04:00.930 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:04:00.931 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[InvitationCode(id=12, code=L1R1O7TC, role=CLEANER, maxUses=1, currentUses=0, expiryDate=2025-06-01T (truncated)...]
2025-05-04 10:04:00.934 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:04:00.935 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:04:09.845 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 10:04:09.846 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:04:09.846 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 10:04:09.846 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 10:04:09.853 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 10:04:09.854 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 10:04:09.855 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:04:09.857 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 10:04:09.857 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:04:09.858 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 10:04:09.858 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 10:04:09.864 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 10:04:09.864 DEBUG 29640 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 10:04:09.867 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:04:09.867 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 10:04:09.868 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 10:04:09.868 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:16:21.187 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-04 10:16:21.188 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:16:21.188 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 10:16:21.188 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 10:16:21.189 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-04 10:16:21.189 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-04 10:16:21.189 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-04 10:16:21.190 DEBUG 29640 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-04 10:16:21.213 DEBUG 29640 --- [http-nio-8090-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=18999177256, password=18999177256)]
2025-05-04 10:16:21.355 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-04 10:16:21.369 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:16:21.370 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=16, username=18999177256, role=RECEPTIONIST, token= (truncated)...]
2025-05-04 10:16:21.370 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:16:21.371 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:16:21.545 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 10:16:21.545 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:16:21.545 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 10:16:21.545 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 10:16:21.546 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 10:16:21.546 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 10:16:21.546 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:16:21.546 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 10:16:21.546 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:16:21.546 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 10:16:21.546 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 10:16:21.547 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 10:16:21.548 DEBUG 29640 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 10:16:21.549 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:16:21.549 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 10:16:21.549 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 10:16:21.550 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:39:57.921 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:39:57.929 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:39:57.934 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:39:57.935 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:39:57.952 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:39:57.955 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:39:57.957 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:39:57.958 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:39:57.958 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:39:57.958 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:39:57.958 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:39:57.966 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:39:57.973 DEBUG 29640 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:39:57.991 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:39:57.992 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:39:57.998 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:39:57.999 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:04.029 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 11:40:04.029 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:04.109 DEBUG 29640 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 11:40:04.111 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 11:40:04.111 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 11:40:04.112 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 11:40:04.115 DEBUG 29640 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 11:40:04.144 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:40:04.146 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 11:40:04.148 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:40:04.148 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:13.208 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:40:13.209 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:13.210 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:13.210 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:40:13.211 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:40:13.212 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:40:13.213 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:13.214 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:40:13.214 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:13.214 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:13.215 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:40:13.216 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:40:13.216 DEBUG 29640 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:40:13.217 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:40:13.218 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:40:13.222 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:40:13.223 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:25.363 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:40:25.364 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:25.365 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:25.365 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:40:25.366 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:40:25.366 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:40:25.368 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:25.368 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:40:25.368 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:25.368 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:25.368 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:40:25.368 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:40:25.369 DEBUG 29640 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:40:25.370 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:40:25.371 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:40:25.372 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:40:25.372 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:39.111 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:40:39.112 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:39.112 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:39.112 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:40:39.113 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:40:39.114 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:40:39.114 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:39.114 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:40:39.115 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:39.115 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:39.115 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:40:39.116 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:40:39.116 DEBUG 29640 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:40:39.117 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:40:39.117 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:40:39.118 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:40:39.118 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:48.604 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-04 11:40:48.604 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:48.606 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:48.607 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:40:48.608 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-04 11:40:48.608 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-04 11:40:48.608 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-04 11:40:48.610 DEBUG 29640 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-04 11:40:48.613 DEBUG 29640 --- [http-nio-8090-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=18999177256, password=18999177256)]
2025-05-04 11:40:48.705 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-04 11:40:48.710 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:40:48.711 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=16, username=18999177256, role=RECEPTIONIST, token= (truncated)...]
2025-05-04 11:40:48.713 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:40:48.713 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:48.879 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:40:48.879 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:48.879 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:48.879 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:40:48.880 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:40:48.880 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:40:48.880 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:48.880 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:40:48.881 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:48.881 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:48.881 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:40:48.881 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:40:48.882 DEBUG 29640 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:40:48.883 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:40:48.883 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:40:48.883 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:40:48.884 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:52.741 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:40:52.742 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:52.742 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:52.742 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:40:52.743 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:40:52.743 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:40:52.743 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:52.744 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:40:52.744 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:52.744 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:52.744 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:40:52.745 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:40:52.746 DEBUG 29640 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:40:52.747 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:40:52.747 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:40:52.747 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:40:52.747 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:41:22.199 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 11:41:22.200 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:41:22.207 DEBUG 29640 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 11:41:22.209 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:41:22.209 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 11:41:22.210 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 11:41:22.211 DEBUG 29640 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 11:41:22.509 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:41:22.510 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=18, availableRooms=15, newUse (truncated)...]
2025-05-04 11:41:22.512 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:41:22.512 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:41:25.577 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-04 11:41:25.578 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:41:25.582 DEBUG 29640 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 11:41:25.586 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users?page=1&pageSize=10&username=&phone=&status=] with attributes [hasRole('ROLE_ADMIN')]
2025-05-04 11:41:25.587 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-04 11:41:25.587 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users?page=1&pageSize=10&username=&phone=&status=", parameters={masked}
2025-05-04 11:41:25.587 DEBUG 29640 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllUsers(int, int, String, String, String, String)
2025-05-04 11:41:25.642 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:41:25.643 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=18, users=[UserDTO(id=18, username=dawwa (truncated)...]
2025-05-04 11:41:25.647 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:41:25.647 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:41:26.805 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/staff?page=0&pageSize=10
2025-05-04 11:41:26.805 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:41:26.809 DEBUG 29640 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 11:41:26.810 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/staff?page=0&pageSize=10] with attributes [authenticated]
2025-05-04 11:41:26.810 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/staff?page=0&pageSize=10
2025-05-04 11:41:26.811 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/staff?page=0&pageSize=10", parameters={masked}
2025-05-04 11:41:26.811 DEBUG 29640 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllStaffPaginated(int, int, String, String, String)
2025-05-04 11:41:26.842 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:41:26.843 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=5, users=[UserDTO(id=17, username=保洁7号阿姨 (truncated)...]
2025-05-04 11:41:26.844 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:41:26.844 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:42:09.963 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:42:09.964 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:42:09.964 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:42:09.965 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:42:09.965 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:42:09.965 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:42:09.966 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:42:09.967 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:42:09.967 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:42:09.967 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:42:09.968 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:42:09.968 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:42:09.969 DEBUG 29640 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:42:09.969 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:42:09.970 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:42:09.970 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:42:09.971 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:42:25.247 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:42:25.248 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:42:25.248 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:42:25.248 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:42:25.249 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:42:25.250 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:42:25.251 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:42:25.251 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:42:25.252 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:42:25.252 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:42:25.252 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:42:25.253 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:42:25.253 DEBUG 29640 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:42:25.254 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:42:25.254 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:42:25.255 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:42:25.256 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:42:32.810 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:42:32.811 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:42:32.811 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:42:32.811 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:42:32.812 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:42:32.812 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:42:32.813 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:42:32.813 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:42:32.814 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:42:32.814 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:42:32.814 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:42:32.814 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:42:32.815 DEBUG 29640 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:42:32.816 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:42:32.816 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:42:32.817 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:42:32.817 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:43:19.472 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:43:19.473 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:43:19.473 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:43:19.474 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:43:19.474 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:43:19.475 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:43:19.475 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:43:19.477 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:43:19.477 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:43:19.477 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:43:19.477 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:43:19.477 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:43:19.478 DEBUG 29640 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:43:19.479 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:43:19.479 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:43:19.480 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:43:19.481 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:43:45.692 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:43:45.693 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:43:45.693 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:43:45.694 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:43:45.695 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:43:45.695 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:43:45.696 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:43:45.697 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:43:45.697 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:43:45.697 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:43:45.697 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:43:45.699 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:43:45.699 DEBUG 29640 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:43:45.700 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:43:45.701 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:43:45.702 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:43:45.702 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:43:48.445 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:43:48.446 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:43:48.446 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:43:48.446 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:43:48.446 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:43:48.447 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:43:48.447 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:43:48.447 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:43:48.448 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:43:48.448 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:43:48.448 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:43:48.448 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:43:48.448 DEBUG 29640 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:43:48.450 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:43:48.450 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:43:48.451 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:43:48.452 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:43:56.142 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 11:43:56.143 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:43:56.148 DEBUG 29640 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 11:43:56.149 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 11:43:56.149 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 11:43:56.150 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 11:43:56.150 DEBUG 29640 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 11:43:56.155 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:43:56.155 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 11:43:56.156 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:43:56.156 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:44:02.126 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-04 11:44:02.127 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:44:02.128 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:44:02.128 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 11:44:02.128 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-04 11:44:02.128 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-04 11:44:02.129 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-04 11:44:02.129 DEBUG 29640 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-04 11:44:02.129 DEBUG 29640 --- [http-nio-8090-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=17777777778, password=17777777778)]
2025-05-04 11:44:02.220 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-04 11:44:02.224 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:44:02.224 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=18, username=dawwadw, role=CUSTOMER, token=eyJhbGci (truncated)...]
2025-05-04 11:44:02.225 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:44:02.225 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:44:02.374 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 11:44:02.375 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:44:02.378 DEBUG 29640 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 11:44:02.379 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 11:44:02.379 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 11:44:02.379 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 11:44:02.379 DEBUG 29640 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 11:44:02.383 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:44:02.383 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 11:44:02.384 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:44:02.384 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:44:02.544 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-04 11:44:02.544 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:44:02.548 DEBUG 29640 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 11:44:02.548 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-04 11:44:02.549 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-04 11:44:02.549 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-04 11:44:02.549 DEBUG 29640 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-04 11:44:02.555 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:44:02.557 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=MembershipDTO(userId=18, username=dawwadw, name=asdwd, memberLevel=钻石会员, memberLevel (truncated)...]
2025-05-04 11:44:02.558 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:44:02.559 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:44:04.583 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 11:44:04.584 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:44:04.589 DEBUG 29640 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 11:44:04.589 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 11:44:04.590 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 11:44:04.591 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 11:44:04.591 DEBUG 29640 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 11:44:04.597 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:44:04.597 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 11:44:04.598 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:44:04.599 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:44:05.957 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 11:44:05.958 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:44:05.964 DEBUG 29640 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 11:44:05.964 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 11:44:05.965 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 11:44:05.965 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 11:44:05.966 DEBUG 29640 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 11:44:05.997 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:44:06.000 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 11:44:06.002 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:44:06.003 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:44:06.434 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 11:44:06.434 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:44:06.438 DEBUG 29640 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 11:44:06.439 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 11:44:06.439 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 11:44:06.440 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 11:44:06.440 DEBUG 29640 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 11:44:06.452  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 11:44:06.456  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 11:44:06.456  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 11:44:06.457  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 11:44:06.457  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 11:44:06.457  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 11:44:06.457 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:44:06.458 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 11:44:06.459 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:44:06.459 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:44:07.663 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 11:44:07.664 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:44:07.668 DEBUG 29640 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 11:44:07.668 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 11:44:07.668 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 11:44:07.669 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 11:44:07.669 DEBUG 29640 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 11:44:07.678  INFO 29640 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 11:44:07.680  INFO 29640 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 11:44:07.680  INFO 29640 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 11:44:07.680  INFO 29640 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 11:44:07.680  INFO 29640 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 11:44:07.681  INFO 29640 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 11:44:07.681 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:44:07.682 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 11:44:07.683 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:44:07.683 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:44:09.077 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 11:44:09.078 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:44:09.084 DEBUG 29640 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 11:44:09.085 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 11:44:09.085 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 11:44:09.086 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 11:44:09.086 DEBUG 29640 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 11:44:09.112 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:44:09.113 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 11:44:09.114 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:44:09.115 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:44:54.954  INFO 29640 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 11:44:54.967  INFO 29640 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 11:44:54.977  INFO 29640 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 11:44:59.868  INFO 3428 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 3428 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 11:44:59.871 DEBUG 3428 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 11:44:59.872  INFO 3428 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 11:45:01.035  INFO 3428 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 11:45:01.259  INFO 3428 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 213 ms. Found 19 JPA repository interfaces.
2025-05-04 11:45:01.868  INFO 3428 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 11:45:01.870  INFO 3428 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 11:45:01.871  INFO 3428 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 11:45:01.871  INFO 3428 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 11:45:01.882  INFO 3428 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 11:45:01.893  INFO 3428 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 11:45:01.894  INFO 3428 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 11:45:02.033  INFO 3428 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 11:45:02.034  INFO 3428 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2098 ms
2025-05-04 11:45:02.206  INFO 3428 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 11:45:02.270  INFO 3428 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 11:45:02.441  INFO 3428 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 11:45:02.568  INFO 3428 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 11:45:02.937  INFO 3428 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 11:45:02.953  INFO 3428 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 11:45:04.217  INFO 3428 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 11:45:04.226  INFO 3428 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 11:45:04.692 DEBUG 3428 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 11:45:04.692 DEBUG 3428 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 11:45:05.573 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 11:45:05.581 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 11:45:05.581 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 11:45:05.582 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 11:45:05.582 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 11:45:05.582 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 11:45:05.582 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 11:45:05.582 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 11:45:05.583 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 11:45:05.583 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 11:45:05.583 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 11:45:05.583 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 11:45:05.584 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 11:45:05.584 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 11:45:05.584 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 11:45:05.585 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 11:45:05.585 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 11:45:05.586 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 11:45:05.586 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 11:45:05.586 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 11:45:05.586 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 11:45:05.586 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 11:45:05.587 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 11:45:05.587 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 11:45:05.587 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 11:45:05.587 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 11:45:05.587 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 11:45:05.588 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 11:45:05.588 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 11:45:05.588 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 11:45:05.588 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 11:45:05.588 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 11:45:05.588 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 11:45:05.588 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 11:45:05.589 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 11:45:05.589 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 11:45:05.591 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 11:45:05.591 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 11:45:05.592 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 11:45:05.592 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 11:45:05.593 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 11:45:05.593 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 11:45:05.593 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 11:45:05.593 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 11:45:05.602  INFO 3428 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fae6f43, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55f54852, org.springframework.security.web.context.SecurityContextPersistenceFilter@2b33f7a0, org.springframework.security.web.header.HeaderWriterFilter@19f9404d, org.springframework.web.filter.CorsFilter@5b53c3c5, org.springframework.security.web.authentication.logout.LogoutFilter@5de32e00, com.hotel.config.JwtAuthenticationFilter@3adb4cc8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f541f60, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1dcc0bb8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4bca2a09, org.springframework.security.web.session.SessionManagementFilter@3b9c386d, org.springframework.security.web.access.ExceptionTranslationFilter@d5eca06, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6037748a]
2025-05-04 11:45:05.650  WARN 3428 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 11:45:05.802 DEBUG 3428 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 11:45:05.824  INFO 3428 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 11:45:05.899 DEBUG 3428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 11:45:05.904 DEBUG 3428 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 11:45:05.920 DEBUG 3428 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 11:45:05.928 DEBUG 3428 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 11:45:06.070  INFO 3428 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 11:45:06.078  INFO 3428 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.941 seconds (JVM running for 7.911)
2025-05-04 11:45:10.775  INFO 3428 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 11:45:10.776  INFO 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 11:45:10.776 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 11:45:10.776 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 11:45:10.776 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 11:45:10.777 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@776b7fa2
2025-05-04 11:45:10.778 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@696a6506
2025-05-04 11:45:10.778 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 11:45:10.778  INFO 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-04 11:45:10.790 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:45:10.794 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:45:10.798 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:45:10.798 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:45:10.809 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:45:10.810 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:45:10.810 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:45:10.813 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:45:10.813 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:45:10.813 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:45:10.814 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:45:10.824 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:45:10.828 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:45:10.858 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:45:10.858 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:45:10.877 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:45:10.879 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:46:20.517 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-04 11:46:20.518 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:46:20.527 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:46:20.527 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:46:20.528 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-04 11:46:20.528 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-04 11:46:20.528 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-04 11:46:20.529 DEBUG 3428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-04 11:46:20.592 DEBUG 3428 --- [http-nio-8090-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=18999177256, password=18999177256)]
2025-05-04 11:46:20.753 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-04 11:46:20.841 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:46:20.841 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=16, username=18999177256, role=RECEPTIONIST, token= (truncated)...]
2025-05-04 11:46:20.843 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:46:20.843 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:46:21.074 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:46:21.074 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:46:21.075 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:46:21.075 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:46:21.075 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:46:21.075 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:46:21.076 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:46:21.076 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:46:21.076 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:46:21.076 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:46:21.077 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:46:21.078 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:46:21.079 DEBUG 3428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:46:21.080 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:46:21.080 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:46:21.081 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:46:21.082 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:35:25.509 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:35:25.510 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:35:25.510 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:35:25.511 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:35:25.511 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:35:25.511 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:35:25.511 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:35:25.512 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:35:25.513 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:35:25.514 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:35:25.514 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:35:25.515 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:35:25.515 DEBUG 3428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:35:25.516 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:35:25.516 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:35:25.518 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:35:25.519 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:35:30.423 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:35:30.424 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:35:30.424 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:35:30.424 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:35:30.425 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:35:30.425 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:35:30.426 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:35:30.426 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:35:30.427 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:35:30.427 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:35:30.427 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:35:30.427 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:35:30.428 DEBUG 3428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:35:30.429 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:35:30.429 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:35:30.431 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:35:30.431 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:40:36.845 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:40:36.846 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:40:36.846 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:40:36.847 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:40:36.847 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:40:36.848 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:40:36.848 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:40:36.848 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:40:36.849 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:40:36.849 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:40:36.849 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:40:36.850 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:40:36.850 DEBUG 3428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:40:36.851 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:40:36.851 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:40:36.852 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:40:36.852 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:41:32.940 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:41:32.940 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:41:32.941 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:41:32.941 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:41:32.941 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:41:32.941 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:41:32.942 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:41:32.942 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:41:32.942 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:41:32.942 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:41:32.942 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:41:32.943 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:41:32.944 DEBUG 3428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:41:32.944 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:41:32.945 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:41:32.946 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:41:32.946 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:42:03.189 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:42:03.189 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:42:03.190 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:42:03.190 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:42:03.190 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:42:03.191 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:42:03.191 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:42:03.192 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:42:03.192 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:42:03.192 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:42:03.192 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:42:03.192 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:42:03.192 DEBUG 3428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:42:03.194 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:42:03.194 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:42:03.195 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:42:03.195 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:43:00.804 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:43:00.805 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:43:00.805 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:43:00.805 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:43:00.806 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:43:00.807 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:43:00.807 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:43:00.807 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:43:00.807 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:43:00.807 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:43:00.807 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:43:00.808 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:43:00.809 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:43:00.809 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:43:00.809 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:43:00.810 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:43:00.811 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:43:06.079 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:43:06.080 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:43:06.080 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:43:06.081 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:43:06.081 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:43:06.081 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:43:06.082 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:43:06.082 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:43:06.082 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:43:06.082 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:43:06.082 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:43:06.084 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:43:06.084 DEBUG 3428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:43:06.085 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:43:06.085 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:43:06.087 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:43:06.087 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:43:43.517 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-04 14:43:43.517 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:43:43.519 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:43:43.519 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:43:43.519 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-04 14:43:43.519 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-04 14:43:43.520 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-04 14:43:43.520 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-04 14:43:43.521 DEBUG 3428 --- [http-nio-8090-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=18999177256, password=18999177256)]
2025-05-04 14:43:43.596 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-04 14:43:43.601 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:43:43.601 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=16, username=18999177256, role=RECEPTIONIST, token= (truncated)...]
2025-05-04 14:43:43.602 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:43:43.602 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:43:43.821 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:43:43.821 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:43:43.821 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:43:43.821 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:43:43.822 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:43:43.823 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:43:43.823 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:43:43.823 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:43:43.823 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:43:43.823 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:43:43.823 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:43:43.824 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:43:43.824 DEBUG 3428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:43:43.825 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:43:43.825 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:43:43.825 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:43:43.826 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:47:03.514 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:47:03.515 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:47:03.515 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:47:03.516 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:47:03.516 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:47:03.517 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:47:03.517 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:47:03.517 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:47:03.517 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:47:03.518 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:47:03.518 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:47:03.520 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:47:03.521 DEBUG 3428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:47:03.522 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:47:03.522 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:47:03.523 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:47:03.523 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:50:16.068 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:50:16.069 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:50:16.069 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:50:16.069 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:50:16.070 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:50:16.070 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:50:16.070 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:50:16.070 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:50:16.071 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:50:16.071 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:50:16.072 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:50:16.072 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:50:16.072 DEBUG 3428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:50:16.073 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:50:16.073 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:50:16.074 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:50:16.075 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:50:40.842 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:50:40.843 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:50:40.844 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:50:40.844 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:50:40.844 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:50:40.844 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:50:40.844 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:50:40.844 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:50:40.845 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:50:40.845 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:50:40.845 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:50:40.845 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:50:40.845 DEBUG 3428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:50:40.846 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:50:40.846 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:50:40.847 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:50:40.847 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:50:51.763 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:50:51.763 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:50:51.764 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:50:51.764 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:50:51.764 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:50:51.764 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:50:51.764 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:50:51.765 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:50:51.765 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:50:51.765 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:50:51.765 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:50:51.766 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:50:51.766 DEBUG 3428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:50:51.767 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.7, */*;q=0.8] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:50:51.767 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:50:51.767 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:50:51.768 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:30.054 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 14:55:30.054 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:30.096 DEBUG 3428 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:30.096 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 14:55:30.096 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 14:55:30.097 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 14:55:30.097 DEBUG 3428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 14:55:30.146 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:30.148 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 14:55:30.159 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:30.160 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:33.114 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 14:55:33.114 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:33.120 DEBUG 3428 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:33.121 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 14:55:33.121 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 14:55:33.122 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 14:55:33.122 DEBUG 3428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 14:55:33.128 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:33.129 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 14:55:33.130 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:33.130 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:34.354 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 14:55:34.354 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 14:55:34.356 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:34.356 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:34.356 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:55:34.356 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 14:55:34.356 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 14:55:34.356 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 14:55:34.356 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 14:55:34.357 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 14:55:34.361 DEBUG 3428 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:34.362 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 14:55:34.362 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 14:55:34.362 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 14:55:34.363 DEBUG 3428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 14:55:34.370 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:34.371 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 14:55:34.372 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:34.372 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:34.438 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:34.438 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 14:55:34.443 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:34.444 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:44.076 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 14:55:44.076 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:44.081 DEBUG 3428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:44.081 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 14:55:44.082 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 14:55:44.082 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 14:55:44.082 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 14:55:44.087 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:44.087 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 14:55:44.089 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:44.089 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:48.848 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 14:55:48.848 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:48.852 DEBUG 3428 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:48.853 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 14:55:48.853 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 14:55:48.854 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 14:55:48.854 DEBUG 3428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 14:55:48.901 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:48.902 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 14:55:48.914 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:48.914 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:50.258 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 14:55:50.258 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 14:55:50.259 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:50.259 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:50.259 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:55:50.259 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 14:55:50.260 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 14:55:50.260 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 14:55:50.260 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 14:55:50.260 DEBUG 3428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 14:55:50.264 DEBUG 3428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:50.264 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 14:55:50.265 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 14:55:50.265 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 14:55:50.265 DEBUG 3428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 14:55:50.271 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:50.271 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 14:55:50.272 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:50.272 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:50.290 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:50.290 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 14:55:50.292 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:50.292 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:51.506 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 14:55:51.506 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:51.510 DEBUG 3428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:51.511 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 14:55:51.511 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 14:55:51.512 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 14:55:51.512 DEBUG 3428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 14:55:51.516 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:51.519 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 14:55:51.520 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:51.520 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:53.008 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 14:55:53.008 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:53.014 DEBUG 3428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:53.014 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 14:55:53.014 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 14:55:53.015 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 14:55:53.015 DEBUG 3428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 14:55:53.035 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:53.036 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 14:55:53.037 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:53.038 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:54.750 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 14:55:54.751 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:54.756 DEBUG 3428 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:54.757 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 14:55:54.757 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 14:55:54.758 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 14:55:54.758 DEBUG 3428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 14:55:54.786 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:54.786 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 14:55:54.787 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:54.788 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:55.665 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 14:55:55.665 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:55.668 DEBUG 3428 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:55.669 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED] with attributes [authenticated]
2025-05-04 14:55:55.669 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 14:55:55.669 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=COMPLETED", parameters={masked}
2025-05-04 14:55:55.669 DEBUG 3428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 14:55:55.677 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:55.678 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 14:55:55.679 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:55.679 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:56.155 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED
2025-05-04 14:55:56.155 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:56.161 DEBUG 3428 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:56.161 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED] with attributes [authenticated]
2025-05-04 14:55:56.161 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED
2025-05-04 14:55:56.161 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CANCELLED", parameters={masked}
2025-05-04 14:55:56.162 DEBUG 3428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 14:55:56.178 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:56.179 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 14:55:56.180 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:56.181 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:57.350 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 14:55:57.351 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:57.355 DEBUG 3428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:57.356 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED] with attributes [authenticated]
2025-05-04 14:55:57.356 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 14:55:57.356 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=COMPLETED", parameters={masked}
2025-05-04 14:55:57.356 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 14:55:57.371 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:57.371 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 14:55:57.372 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:57.372 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:57.616 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 14:55:57.617 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:57.620 DEBUG 3428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:57.621 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED] with attributes [authenticated]
2025-05-04 14:55:57.621 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 14:55:57.621 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CONFIRMED", parameters={masked}
2025-05-04 14:55:57.621 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 14:55:57.634 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:57.634 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 14:55:57.635 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:57.636 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:57.855 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 14:55:57.855 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:57.859 DEBUG 3428 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:57.859 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 14:55:57.860 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 14:55:57.860 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 14:55:57.860 DEBUG 3428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 14:55:57.876 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:57.877 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 14:55:57.878 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:57.878 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:58.612 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 14:55:58.612 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:58.616 DEBUG 3428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:58.616 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 14:55:58.616 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 14:55:58.616 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 14:55:58.617 DEBUG 3428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 14:55:58.634 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:58.634 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 14:55:58.635 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:58.635 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:59.099 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 14:55:59.100 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:59.105 DEBUG 3428 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:59.106 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 14:55:59.106 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 14:55:59.106 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 14:55:59.106 DEBUG 3428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 14:55:59.120  INFO 3428 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 14:55:59.124  INFO 3428 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 14:55:59.124  INFO 3428 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 14:55:59.126  INFO 3428 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 14:55:59.127  INFO 3428 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 14:55:59.127  INFO 3428 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 14:55:59.127 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:59.128 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 14:55:59.132 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:59.132 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:56:02.078 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 14:56:02.078 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:56:02.083 DEBUG 3428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:56:02.083 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 14:56:02.083 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 14:56:02.083 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 14:56:02.084 DEBUG 3428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 14:56:02.090  INFO 3428 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 14:56:02.092  INFO 3428 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 14:56:02.092  INFO 3428 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 14:56:02.092  INFO 3428 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 14:56:02.092  INFO 3428 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 14:56:02.092  INFO 3428 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 14:56:02.093 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:56:02.093 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 14:56:02.094 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:56:02.094 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:56:02.329 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 14:56:02.329 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:56:02.332 DEBUG 3428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:56:02.332 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 14:56:02.333 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 14:56:02.333 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 14:56:02.333 DEBUG 3428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 14:56:02.353 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:56:02.353 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 14:56:02.354 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:56:02.355 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:58:23.138 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 14:58:23.139 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:58:23.143 DEBUG 3428 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 14:58:23.144 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:58:23.144 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 14:58:23.145 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 14:58:23.145 DEBUG 3428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 14:58:23.220 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:58:23.221 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=18, availableRooms=15, newUse (truncated)...]
2025-05-04 14:58:23.222 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:58:23.223 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:58:27.381 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-04 14:58:27.381 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:58:27.382 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:58:27.383 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-04 14:58:27.383 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-04 14:58:27.383 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-04 14:58:27.384 DEBUG 3428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-04 14:58:27.384 DEBUG 3428 --- [http-nio-8090-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=admin, password=admin123)]
2025-05-04 14:58:27.456 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-04 14:58:27.460 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:58:27.461 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=1, username=admin, role=ADMIN, token=eyJhbGciOiJIUz (truncated)...]
2025-05-04 14:58:27.462 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:58:27.462 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:58:27.605 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 14:58:27.605 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:58:27.610 DEBUG 3428 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 14:58:27.610 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:58:27.610 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 14:58:27.611 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 14:58:27.611 DEBUG 3428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 14:58:27.669 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:58:27.670 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=18, availableRooms=15, newUse (truncated)...]
2025-05-04 14:58:27.671 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:58:27.671 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:58:28.577 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/invitation-codes/all
2025-05-04 14:58:28.578 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:58:28.583 DEBUG 3428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 14:58:28.583 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/invitation-codes/all] with attributes [authenticated]
2025-05-04 14:58:28.584 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/invitation-codes/all
2025-05-04 14:58:28.584 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/invitation-codes/all", parameters={}
2025-05-04 14:58:28.584 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.InvitationCodeController#getAllInvitationCodes()
2025-05-04 14:58:28.599 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:58:28.599 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[InvitationCode(id=12, code=L1R1O7TC, role=CLEANER, maxUses=1, currentUses=0, expiryDate=2025-06-01T (truncated)...]
2025-05-04 14:58:28.606 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:58:28.607 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:58:42.522 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/invitation-codes/validate/2QEX6HMK
2025-05-04 14:58:42.523 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:58:42.529 DEBUG 3428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 14:58:42.531 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/invitation-codes/validate/2QEX6HMK] with attributes [permitAll]
2025-05-04 14:58:42.531 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/invitation-codes/validate/2QEX6HMK
2025-05-04 14:58:42.531 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/invitation-codes/validate/2QEX6HMK", parameters={}
2025-05-04 14:58:42.531 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.InvitationCodeController#validateCode(String)
2025-05-04 14:58:42.543 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:58:42.543 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{role=RECEPTIONIST}]
2025-05-04 14:58:42.545 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:58:42.545 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:59:26.678 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/users/register/staff
2025-05-04 14:59:26.679 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:59:26.683 DEBUG 3428 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 14:59:26.684 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/register/staff] with attributes [permitAll]
2025-05-04 14:59:26.684 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/users/register/staff
2025-05-04 14:59:26.685 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/users/register/staff", parameters={}
2025-05-04 14:59:26.685 DEBUG 3428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#registerStaff(StaffRegistrationDto)
2025-05-04 14:59:26.688 DEBUG 3428 --- [http-nio-8090-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [StaffRegistrationDto(username=前台妹妹001, phone=15699887856, password=15699887856, email=15699887856@16 (truncated)...]
2025-05-04 14:59:26.906 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:59:26.906 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=员工注册成功，请等待审核, data=UserDTO(id=19, username=前台妹妹001, name (truncated)...]
2025-05-04 14:59:26.908 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-04 14:59:26.908 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:59:28.580 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 14:59:28.581 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:59:28.587 DEBUG 3428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 14:59:28.588 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:59:28.589 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 14:59:28.590 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 14:59:28.590 DEBUG 3428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 14:59:28.645 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:59:28.646 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 14:59:28.648 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:59:28.648 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:59:37.232 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-04 14:59:37.233 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:59:37.233 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:59:37.234 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-04 14:59:37.234 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-04 14:59:37.235 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-04 14:59:37.235 DEBUG 3428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-04 14:59:37.236 DEBUG 3428 --- [http-nio-8090-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=15699887856, password=15699887856)]
2025-05-04 14:59:37.324 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-04 14:59:37.329 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:59:37.329 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=19, username=前台妹妹001, role=RECEPTIONIST, token=eyJh (truncated)...]
2025-05-04 14:59:37.330 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:59:37.331 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:59:37.623 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:59:37.623 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:59:37.624 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:59:37.624 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:59:37.625 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:59:37.625 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:59:37.625 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:59:37.625 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:59:37.626 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:59:37.626 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:59:37.627 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:59:37.627 DEBUG 3428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:59:37.628 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:59:37.628 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:59:37.629 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:59:37.629 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:00:00.368 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:00:00.368 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:00:00.369 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:00:00.369 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:00:00.369 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:00:00.370 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:00:00.370 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:00:00.370 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:00:00.371 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:00:00.371 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:00:00.371 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:00:00.372 DEBUG 3428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:00:00.372 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:00:00.373 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:00:00.374 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:00:00.374 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:02:43.891 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:02:43.892 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:02:43.892 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:02:43.892 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:02:43.893 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:02:43.893 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:02:43.893 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:02:43.893 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:02:43.894 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:02:43.894 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:02:43.894 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:02:43.894 DEBUG 3428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:02:43.895 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:02:43.895 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:02:43.896 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:02:43.896 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:02:44.237 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:02:44.237 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:02:44.238 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:02:44.238 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 15:02:44.238 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:02:44.238 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:02:44.239 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:02:44.239 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:02:44.239 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:02:44.239 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:02:44.240 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:02:44.240 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:02:44.240 DEBUG 3428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:02:44.241 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:02:44.241 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:02:44.242 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:02:44.242 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:03:56.109 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:03:56.110 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:03:56.110 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:03:56.111 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:03:56.111 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:03:56.111 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:03:56.111 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:03:56.112 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:03:56.112 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:03:56.112 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:03:56.112 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:03:56.113 DEBUG 3428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:03:56.114 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:03:56.114 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:03:56.115 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:03:56.115 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:04:03.046 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:04:03.046 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:04:03.046 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:04:03.047 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:04:03.047 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:04:03.048 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:04:03.048 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:04:03.048 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:04:03.048 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:04:03.048 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:04:03.049 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:04:03.050 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:04:03.050 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:04:03.051 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:04:03.051 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:04:03.051 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:04:39.698 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:04:39.699 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:04:39.699 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:04:39.701 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:04:39.701 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:04:39.701 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:04:39.701 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:04:39.702 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:04:39.702 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:04:39.702 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:04:39.702 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:04:39.703 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:04:39.703 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:04:39.704 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:04:39.705 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:04:39.705 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:04:53.571 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:04:53.571 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:04:53.572 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:04:53.572 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 15:04:53.573 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:04:53.573 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:04:53.573 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:04:53.574 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:04:53.574 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:04:53.574 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:04:53.574 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:04:53.574 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:04:53.575 DEBUG 3428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:04:53.575 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:04:53.576 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:04:53.576 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:04:53.576 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:04:56.748 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-04 15:04:56.748 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:04:56.752 DEBUG 3428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:04:56.752 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-04 15:04:56.752 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-04 15:04:56.752 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-04 15:04:56.752 DEBUG 3428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-04 15:04:56.757 DEBUG 3428 --- [http-nio-8090-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=18999177256, password=18999177256)]
2025-05-04 15:04:56.839 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-04 15:04:56.843 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:04:56.843 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=16, username=18999177256, role=RECEPTIONIST, token= (truncated)...]
2025-05-04 15:04:56.844 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:04:56.844 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:04:57.012 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/16
2025-05-04 15:04:57.012 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:04:57.017 DEBUG 3428 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:04:57.017 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/16] with attributes [authenticated]
2025-05-04 15:04:57.017 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/16
2025-05-04 15:04:57.017 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/16", parameters={}
2025-05-04 15:04:57.017 DEBUG 3428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 15:04:57.021 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:04:57.022 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=16, username=18999177256, name=爱我爱的我 (truncated)...]
2025-05-04 15:04:57.023 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:04:57.023 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:04:57.168 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-04 15:04:57.169 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:04:57.172 DEBUG 3428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:04:57.173 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-04 15:04:57.173 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-04 15:04:57.173 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-04 15:04:57.173 DEBUG 3428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-04 15:04:57.181 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:04:57.181 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=MembershipDTO(userId=16, username=18999177256, name=爱我爱的我, memberLevel=普通用户, memberL (truncated)...]
2025-05-04 15:04:57.184 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:04:57.185 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:05:02.238 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:05:02.239 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:05:02.239 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:05:02.239 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 15:05:02.240 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:05:02.240 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:05:02.240 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:05:02.240 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:05:02.240 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:05:02.241 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:05:02.241 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:05:02.242 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:05:02.242 DEBUG 3428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:05:02.242 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:05:02.243 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:05:02.243 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:05:02.243 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:05:13.205 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:05:13.206 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:05:13.206 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:05:13.207 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:05:13.207 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:05:13.207 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:05:13.208 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:05:13.208 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:05:13.208 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:05:13.208 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:05:13.209 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:05:13.210 DEBUG 3428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:05:13.211 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:05:13.211 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:05:13.212 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:05:13.212 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:08:27.394 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:08:27.394 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:08:27.395 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:08:27.395 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:08:27.395 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:08:27.395 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:08:27.396 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:08:27.396 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:08:27.396 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:08:27.396 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:08:27.397 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:08:27.397 DEBUG 3428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:08:27.398 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:08:27.398 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:08:27.399 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:08:27.399 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:08:27.730 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:08:27.730 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:08:27.732 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:08:27.732 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:08:27.732 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:08:27.733 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:08:27.733 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:08:27.733 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:08:27.733 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:08:27.733 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:08:27.734 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:08:27.734 DEBUG 3428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:08:27.735 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:08:27.735 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:08:27.736 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:08:27.737 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:08:59.208 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:08:59.208 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:08:59.209 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:08:59.210 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:08:59.210 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:08:59.210 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:08:59.211 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:08:59.211 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:08:59.211 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:08:59.211 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:08:59.212 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:08:59.213 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:08:59.213 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:08:59.213 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:08:59.214 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:08:59.215 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:09:04.986 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:09:04.986 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:09:04.987 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:09:04.988 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:09:04.988 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:09:04.988 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:09:04.988 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:09:04.988 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:09:04.989 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:09:04.989 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:09:04.990 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:09:04.990 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:09:04.991 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:09:04.991 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:09:04.992 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:09:04.992 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:09:13.000 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:09:13.000 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:09:13.001 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:09:13.002 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:09:13.002 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:09:13.002 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:09:13.002 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:09:13.003 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:09:13.003 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:09:13.003 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:09:13.004 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:09:13.004 DEBUG 3428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:09:13.005 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:09:13.005 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:09:13.006 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:09:13.006 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.146 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:13:14.146 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.147 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.150 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:13:14.150 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.155 DEBUG 3428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:14.155 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:14.155 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:13:14.156 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:13:14.156 DEBUG 3428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:14.188 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:14.205 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:14.287 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:14.287 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.363 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:13:14.363 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.364 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.368 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:13:14.368 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.370 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:13:14.370 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.371 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.373 DEBUG 3428 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:14.373 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:14.373 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:13:14.374 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:13:14.374 DEBUG 3428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:13:14.375 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:14.375 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.375 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.377 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:13:14.378 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.383 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:14.383 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.383 DEBUG 3428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:14.385 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:14.385 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:13:14.385 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:13:14.386 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:13:14.389 DEBUG 3428 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:14.390 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:14.390 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:14.390 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:13:14.391 DEBUG 3428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:14.414 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:14.415 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:13:14.417 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:14.417 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:14.417 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.427 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:14.428 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:14.428 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:13:14.428 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:14.429 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.449 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:13:14.450 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.450 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.453 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:14.453 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.455 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:13:14.455 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.459 DEBUG 3428 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:13:14.460 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:14.460 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:13:14.460 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:13:14.460 DEBUG 3428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:14.486 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:14.495 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:14.531 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:14.531 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.669 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:13:14.669 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.669 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.671 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:13:14.671 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.672 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.672 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:14.673 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.674 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.676 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:13:14.676 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.678 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:13:14.678 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.681 DEBUG 3428 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:13:14.681 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:14.681 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.681 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:14.681 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:13:14.681 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:13:14.682 DEBUG 3428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:13:14.683 DEBUG 3428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:13:14.684 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:14.684 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:13:14.684 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:13:14.684 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:13:14.685 DEBUG 3428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:13:14.685 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:14.686 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:14.686 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:13:14.686 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:14.700 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:14.701 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:13:14.702 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:14.702 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.708 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:14.716 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:14.726 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:14.726 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:13:14.727 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:14.727 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.739 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:14.739 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:35.634 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:13:35.634 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:35.635 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:35.637 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:13:35.637 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:35.646 DEBUG 3428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:35.646 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:35.646 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:13:35.647 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:13:35.647 DEBUG 3428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:35.667 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:35.674 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:35.717 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:35.717 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:35.809 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:13:35.809 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:35.809 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:35.812 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:13:35.812 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:35.813 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:13:35.813 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:35.813 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:35.817 DEBUG 3428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:35.817 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:35.818 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:35.818 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:35.818 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:13:35.818 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:13:35.818 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:35.818 DEBUG 3428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:13:35.821 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:13:35.821 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:35.826 DEBUG 3428 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:35.827 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:35.827 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:13:35.828 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:13:35.828 DEBUG 3428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:13:35.834 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:35.834 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:35.839 DEBUG 3428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:35.840 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:35.840 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:35.840 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:13:35.841 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:35.845 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:35.846 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:13:35.847 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:35.847 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:35.866 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:35.868 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:35.868 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:13:35.869 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:35.869 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:35.875 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:35.900 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:35.900 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:49.100 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:13:49.100 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:49.101 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:49.103 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:13:49.103 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:49.107 DEBUG 3428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:49.107 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:49.108 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:13:49.108 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:13:49.108 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:49.132 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:49.139 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:49.178 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:49.179 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:49.258 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:13:49.259 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:49.259 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:49.263 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:13:49.263 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:49.265 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:13:49.266 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:49.266 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:49.268 DEBUG 3428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:49.268 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:49.268 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:13:49.268 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:13:49.269 DEBUG 3428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:13:49.285 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:13:49.285 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:49.286 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:49.286 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:49.287 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:49.290 DEBUG 3428 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:49.290 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:49.291 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:13:49.291 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:13:49.291 DEBUG 3428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:13:49.295 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:49.295 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:49.299 DEBUG 3428 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:49.299 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:49.299 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:49.300 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:13:49.300 DEBUG 3428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:49.306 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:49.307 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:13:49.308 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:49.308 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:49.311 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:49.312 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:13:49.312 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:49.313 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:49.318 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:49.329 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:49.353 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:49.353 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:51.612 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10&status=pending
2025-05-04 15:13:51.613 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:51.614 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:51.623 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10&status=pending
2025-05-04 15:13:51.623 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:51.627 DEBUG 3428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:51.627 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:51.628 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10&status=pending
2025-05-04 15:13:51.628 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10&status=pending", parameters={masked}
2025-05-04 15:13:51.628 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:51.649 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:51.658 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:51.694 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:51.695 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:51.733 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:13:51.733 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:51.738 DEBUG 3428 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:51.738 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:51.740 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:13:51.740 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:13:51.740 DEBUG 3428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:13:51.742 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:13:51.742 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:51.752 DEBUG 3428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:51.753 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:51.754 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:13:51.755 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:13:51.756 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:13:51.765 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:51.765 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:51.781 DEBUG 3428 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:51.781 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:51.781 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:51.782 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:13:51.783 DEBUG 3428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:51.821 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:51.837 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:51.840 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:51.840 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:13:51.842 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:51.843 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:51.862 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:51.863 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:13:51.864 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:51.864 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:51.877 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:51.877 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:59.246 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:13:59.247 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:59.247 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:59.249 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:13:59.249 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:59.253 DEBUG 3428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:59.253 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:59.253 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:13:59.254 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:13:59.254 DEBUG 3428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:59.271 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:59.277 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:59.312 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:59.312 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:59.407 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:13:59.407 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:59.407 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:59.412 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:13:59.412 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:59.414 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:13:59.414 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:59.414 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:59.416 DEBUG 3428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:59.417 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:59.417 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:13:59.417 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:13:59.417 DEBUG 3428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:13:59.424 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:59.425 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:59.426 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:59.428 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:13:59.428 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:59.433 DEBUG 3428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:59.434 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:59.434 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:13:59.435 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:13:59.435 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:13:59.437 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:59.437 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:59.441 DEBUG 3428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:59.442 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:59.442 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:59.442 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:13:59.443 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:59.454 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:59.455 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:13:59.456 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:59.457 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:59.477 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:59.477 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:13:59.477 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:59.478 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:59.479 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:59.488 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:59.517 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:59.517 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:34:29.629 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 15:34:29.630 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:34:29.634 DEBUG 3428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:34:29.634 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 15:34:29.634 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 15:34:29.634 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 15:34:29.635 DEBUG 3428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 15:34:29.640 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:34:29.640 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 15:34:29.640 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:34:29.641 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:34:31.220 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 15:34:31.220 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:34:31.224 DEBUG 3428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:34:31.224 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 15:34:31.224 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 15:34:31.224 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 15:34:31.224 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 15:34:31.228 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:34:31.228 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 15:34:31.229 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:34:31.229 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:34:31.960 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 15:34:31.960 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 15:34:31.960 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:34:31.960 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:34:31.960 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:34:31.961 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 15:34:31.961 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 15:34:31.961 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 15:34:31.961 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 15:34:31.961 DEBUG 3428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 15:34:31.965 DEBUG 3428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:34:31.965 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 15:34:31.965 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 15:34:31.965 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 15:34:31.966 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 15:34:31.970 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:34:31.971 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 15:34:31.971 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:34:31.972 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:34:31.979 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:34:31.980 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 15:34:31.981 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:34:31.982 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:34:34.825 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 15:34:34.826 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:34:34.828 DEBUG 3428 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:34:34.828 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 15:34:34.828 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 15:34:34.828 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 15:34:34.829 DEBUG 3428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 15:34:34.833 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:34:34.834 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 15:34:34.835 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:34:34.835 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:36:31.922  INFO 3428 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 15:36:31.930  INFO 3428 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 15:36:31.937  INFO 3428 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 15:41:21.155  INFO 38576 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 38576 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 15:41:21.158 DEBUG 38576 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 15:41:21.158  INFO 38576 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 15:41:22.238  INFO 38576 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 15:41:22.459  INFO 38576 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 208 ms. Found 19 JPA repository interfaces.
2025-05-04 15:41:23.172  INFO 38576 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 15:41:23.174  INFO 38576 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 15:41:23.175  INFO 38576 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 15:41:23.175  INFO 38576 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 15:41:23.181  INFO 38576 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 15:41:23.193  INFO 38576 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 15:41:23.193  INFO 38576 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 15:41:23.450  INFO 38576 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 15:41:23.453  INFO 38576 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2232 ms
2025-05-04 15:41:24.192  INFO 38576 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 15:41:24.330  INFO 38576 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 15:41:24.693  INFO 38576 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 15:41:24.851  INFO 38576 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 15:41:25.211  INFO 38576 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 15:41:25.226  INFO 38576 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 15:41:26.644  INFO 38576 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 15:41:26.656  INFO 38576 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 15:41:27.157 DEBUG 38576 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 15:41:27.158 DEBUG 38576 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 15:41:27.447  WARN 38576 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminDashboardController' defined in file [E:\桌面\javahotel\heqing99\target\classes\com\hotel\controller\AdminDashboardController.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reservationServiceImpl': Unsatisfied dependency expressed through field 'reservationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
2025-05-04 15:41:27.448  INFO 38576 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 15:41:27.450  INFO 38576 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 15:41:27.459  INFO 38576 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 15:41:27.461  INFO 38576 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-04 15:41:27.472  INFO 38576 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-05-04 15:41:27.504 ERROR 38576 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminDashboardController' defined in file [E:\桌面\javahotel\heqing99\target\classes\com\hotel\controller\AdminDashboardController.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reservationServiceImpl': Unsatisfied dependency expressed through field 'reservationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]
	at com.hotel.HotelManagementApplication.main(HotelManagementApplication.java:10) ~[classes/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reservationServiceImpl': Unsatisfied dependency expressed through field 'reservationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.20.jar:5.3.20]
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:106) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:94) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1061) ~[na:na]
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:96) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:364) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:322) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:230) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:328) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.20.jar:5.3.20]
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:96) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:69) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:51) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:163) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:252) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:87) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:102) ~[spring-data-commons-2.7.0.jar:2.7.0]
	... 66 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=u,role=com.hotel.entity.Reservation.user,tableName=users,tableAlias=user1_,origin=reservations reservatio0_,columns={reservatio0_.user_id,className=com.hotel.entity.User}}] [select count(r) FROM com.hotel.entity.Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) AND (:guestName IS NULL OR r.guestName LIKE :guestName) AND (:guestPhone IS NULL OR r.guestPhone LIKE :guestPhone) AND (:startDate IS NULL OR r.checkInTime >= :startDate) AND (:endDate IS NULL OR r.checkOutTime <= :endDate) AND (:bookingNo IS NULL OR CAST(r.id AS string) LIKE :bookingNo)]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:757) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy127.createQuery(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:90) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	... 72 common frames omitted
Caused by: org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=u,role=com.hotel.entity.Reservation.user,tableName=users,tableAlias=user1_,origin=reservations reservatio0_,columns={reservatio0_.user_id,className=com.hotel.entity.User}}] [select count(r) FROM com.hotel.entity.Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) AND (:guestName IS NULL OR r.guestName LIKE :guestName) AND (:guestPhone IS NULL OR r.guestPhone LIKE :guestPhone) AND (:startDate IS NULL OR r.checkInTime >= :startDate) AND (:endDate IS NULL OR r.checkOutTime <= :endDate) AND (:bookingNo IS NULL OR CAST(r.id AS string) LIKE :bookingNo)]
	at org.hibernate.QueryException.generateQueryException(QueryException.java:120) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.QueryException.wrapWithQueryString(QueryException.java:103) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:220) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	... 78 common frames omitted
Caused by: org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=u,role=com.hotel.entity.Reservation.user,tableName=users,tableAlias=user1_,origin=reservations reservatio0_,columns={reservatio0_.user_id,className=com.hotel.entity.User}}]
	at org.hibernate.hql.internal.ast.tree.SelectClause.initializeExplicitSelectClause(SelectClause.java:230) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.useSelectClause(HqlSqlWalker.java:1039) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.processQuery(HqlSqlWalker.java:807) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:703) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	... 84 common frames omitted

2025-05-04 15:44:27.758  INFO 32268 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 32268 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 15:44:27.762 DEBUG 32268 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 15:44:27.763  INFO 32268 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 15:44:28.638  INFO 32268 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 15:44:28.861  INFO 32268 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 212 ms. Found 19 JPA repository interfaces.
2025-05-04 15:44:29.386  INFO 32268 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 15:44:29.390  INFO 32268 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 15:44:29.391  INFO 32268 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 15:44:29.391  INFO 32268 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 15:44:29.396  INFO 32268 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 15:44:29.407  INFO 32268 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 15:44:29.407  INFO 32268 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 15:44:29.540  INFO 32268 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 15:44:29.540  INFO 32268 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1723 ms
2025-05-04 15:44:29.700  INFO 32268 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 15:44:29.740  INFO 32268 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 15:44:29.866  INFO 32268 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 15:44:29.952  INFO 32268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 15:44:30.252  INFO 32268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 15:44:30.267  INFO 32268 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 15:44:31.439  INFO 32268 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 15:44:31.448  INFO 32268 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 15:44:31.906 DEBUG 32268 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 15:44:31.906 DEBUG 32268 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 15:44:32.161  WARN 32268 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminDashboardController' defined in file [E:\桌面\javahotel\heqing99\target\classes\com\hotel\controller\AdminDashboardController.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reservationServiceImpl': Unsatisfied dependency expressed through field 'reservationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
2025-05-04 15:44:32.162  INFO 32268 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 15:44:32.163  INFO 32268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 15:44:32.175  INFO 32268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 15:44:32.177  INFO 32268 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-04 15:44:32.188  INFO 32268 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-05-04 15:44:32.214 ERROR 32268 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminDashboardController' defined in file [E:\桌面\javahotel\heqing99\target\classes\com\hotel\controller\AdminDashboardController.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reservationServiceImpl': Unsatisfied dependency expressed through field 'reservationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]
	at com.hotel.HotelManagementApplication.main(HotelManagementApplication.java:10) ~[classes/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reservationServiceImpl': Unsatisfied dependency expressed through field 'reservationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.20.jar:5.3.20]
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:106) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:94) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1061) ~[na:na]
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:96) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:364) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:322) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:230) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:328) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.20.jar:5.3.20]
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:96) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:69) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:51) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:163) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:252) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:87) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:102) ~[spring-data-commons-2.7.0.jar:2.7.0]
	... 66 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=u,role=com.hotel.entity.Reservation.user,tableName=users,tableAlias=user1_,origin=reservations reservatio0_,columns={reservatio0_.user_id,className=com.hotel.entity.User}}] [select count(r) FROM com.hotel.entity.Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) AND (:guestName IS NULL OR r.guestName LIKE :guestName) AND (:guestPhone IS NULL OR r.guestPhone LIKE :guestPhone) AND (:startDate IS NULL OR r.checkInTime >= :startDate) AND (:endDate IS NULL OR r.checkOutTime <= :endDate) AND (:bookingNo IS NULL OR CAST(r.id AS string) LIKE :bookingNo)]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:757) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy127.createQuery(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:90) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	... 72 common frames omitted
Caused by: org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=u,role=com.hotel.entity.Reservation.user,tableName=users,tableAlias=user1_,origin=reservations reservatio0_,columns={reservatio0_.user_id,className=com.hotel.entity.User}}] [select count(r) FROM com.hotel.entity.Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) AND (:guestName IS NULL OR r.guestName LIKE :guestName) AND (:guestPhone IS NULL OR r.guestPhone LIKE :guestPhone) AND (:startDate IS NULL OR r.checkInTime >= :startDate) AND (:endDate IS NULL OR r.checkOutTime <= :endDate) AND (:bookingNo IS NULL OR CAST(r.id AS string) LIKE :bookingNo)]
	at org.hibernate.QueryException.generateQueryException(QueryException.java:120) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.QueryException.wrapWithQueryString(QueryException.java:103) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:220) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	... 78 common frames omitted
Caused by: org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=u,role=com.hotel.entity.Reservation.user,tableName=users,tableAlias=user1_,origin=reservations reservatio0_,columns={reservatio0_.user_id,className=com.hotel.entity.User}}]
	at org.hibernate.hql.internal.ast.tree.SelectClause.initializeExplicitSelectClause(SelectClause.java:230) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.useSelectClause(HqlSqlWalker.java:1039) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.processQuery(HqlSqlWalker.java:807) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:703) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	... 84 common frames omitted

2025-05-04 15:47:51.055  INFO 33428 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 33428 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 15:47:51.057 DEBUG 33428 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 15:47:51.057  INFO 33428 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 15:47:52.107  INFO 33428 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 15:47:52.309  INFO 33428 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 192 ms. Found 19 JPA repository interfaces.
2025-05-04 15:47:52.783  INFO 33428 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 15:47:52.783  INFO 33428 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 15:47:52.784  INFO 33428 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 15:47:52.784  INFO 33428 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 15:47:52.790  INFO 33428 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 15:47:52.798  INFO 33428 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 15:47:52.798  INFO 33428 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 15:47:52.938  INFO 33428 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 15:47:52.939  INFO 33428 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1830 ms
2025-05-04 15:47:53.105  INFO 33428 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 15:47:53.147  INFO 33428 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 15:47:53.285  INFO 33428 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 15:47:53.382  INFO 33428 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 15:47:53.657  INFO 33428 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 15:47:53.670  INFO 33428 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 15:47:54.809  INFO 33428 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 15:47:54.819  INFO 33428 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 15:47:55.269 DEBUG 33428 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 15:47:55.269 DEBUG 33428 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 15:47:56.167 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 15:47:56.174 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 15:47:56.175 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 15:47:56.175 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 15:47:56.175 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 15:47:56.175 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 15:47:56.176 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 15:47:56.176 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 15:47:56.176 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 15:47:56.176 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 15:47:56.176 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 15:47:56.176 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 15:47:56.177 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 15:47:56.177 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 15:47:56.177 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 15:47:56.177 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 15:47:56.178 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 15:47:56.178 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 15:47:56.178 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 15:47:56.178 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 15:47:56.178 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 15:47:56.178 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 15:47:56.178 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 15:47:56.178 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 15:47:56.179 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 15:47:56.179 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 15:47:56.179 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 15:47:56.179 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 15:47:56.179 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 15:47:56.179 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 15:47:56.179 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 15:47:56.179 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 15:47:56.179 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 15:47:56.180 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 15:47:56.180 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 15:47:56.180 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 15:47:56.182 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 15:47:56.182 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 15:47:56.182 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 15:47:56.182 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 15:47:56.183 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 15:47:56.183 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 15:47:56.184 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 15:47:56.184 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 15:47:56.190  INFO 33428 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1df83569, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@439047ef, org.springframework.security.web.context.SecurityContextPersistenceFilter@31c29db1, org.springframework.security.web.header.HeaderWriterFilter@5b7d5eca, org.springframework.web.filter.CorsFilter@36dc6b9, org.springframework.security.web.authentication.logout.LogoutFilter@bafc754, com.hotel.config.JwtAuthenticationFilter@6e53bb4f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2279e7c7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c5e123d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e0393df, org.springframework.security.web.session.SessionManagementFilter@5de32e00, org.springframework.security.web.access.ExceptionTranslationFilter@714a4ba2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7da59f6e]
2025-05-04 15:47:56.231  WARN 33428 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 15:47:56.353 DEBUG 33428 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 15:47:56.377  INFO 33428 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 15:47:56.449 DEBUG 33428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 15:47:56.454 DEBUG 33428 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 15:47:56.469 DEBUG 33428 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 15:47:56.477 DEBUG 33428 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 15:47:56.617  INFO 33428 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 15:47:56.625  INFO 33428 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.008 seconds (JVM running for 6.77)
2025-05-04 15:48:01.944  INFO 33428 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 15:48:01.944  INFO 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 15:48:01.945 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 15:48:01.945 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 15:48:01.945 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 15:48:01.947 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@37bac0f4
2025-05-04 15:48:01.948 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@240c626d
2025-05-04 15:48:01.948 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 15:48:01.948  INFO 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-04 15:48:01.960 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 15:48:01.966 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:02.046 DEBUG 33428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:48:02.056 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 15:48:02.057 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 15:48:02.059 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 15:48:02.063 DEBUG 33428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 15:48:02.224 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:48:02.225 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 15:48:02.258 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:48:02.260 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:48:04.036 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 15:48:04.036 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:04.041 DEBUG 33428 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:48:04.042 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 15:48:04.042 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 15:48:04.042 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 15:48:04.044 DEBUG 33428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 15:48:04.052 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:48:04.053 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 15:48:04.056 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:48:04.056 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:48:05.394 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 15:48:05.395 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:05.400 DEBUG 33428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:48:05.402 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 15:48:05.402 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 15:48:05.402 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 15:48:05.403 DEBUG 33428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 15:48:05.421 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:48:05.421 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 15:48:05.423 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:48:05.423 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:48:13.246 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:48:13.246 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:13.253 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:48:13.256 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:48:13.257 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:13.263 DEBUG 33428 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:48:13.268 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:48:13.269 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:48:13.269 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:48:13.270 DEBUG 33428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:48:13.279  INFO 33428 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:48:13.292 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:48:13.292 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 15:48:13.294 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:48:13.294 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:48:13.341 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:48:13.341 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:13.342 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:48:13.342 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:48:13.343 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:13.343 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:48:13.343 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:48:13.343 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:13.344 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:48:13.347 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:48:13.347 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:13.350 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:48:13.350 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:13.354 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:48:13.354 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:13.354 DEBUG 33428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:48:13.355 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:48:13.356 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:48:13.356 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:48:13.357 DEBUG 33428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:48:13.358 DEBUG 33428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:48:13.360 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:48:13.360 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:48:13.361 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:48:13.361 DEBUG 33428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:48:13.361 DEBUG 33428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:48:13.362 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:48:13.362 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:48:13.362 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:48:13.363 DEBUG 33428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:48:13.373  INFO 33428 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:48:13.381 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:48:13.382 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 15:48:13.384 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:48:13.384 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:48:13.408 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:48:13.409 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:48:13.418 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:48:13.418 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:48:13.458 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:48:13.459 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:48:13.461 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:48:13.461 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.185 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&size=10
2025-05-04 15:51:06.186 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.186 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.189 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&size=10
2025-05-04 15:51:06.189 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.193 DEBUG 33428 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:06.193 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:06.194 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&size=10
2025-05-04 15:51:06.194 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&size=10", parameters={masked}
2025-05-04 15:51:06.194 DEBUG 33428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:06.194  INFO 33428 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:06.200 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:06.200 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:06.201 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:06.202 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.238 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:51:06.239 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.239 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:51:06.239 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.239 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.240 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.241 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:06.241 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.242 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.254 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:51:06.254 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.256 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:51:06.257 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.261 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:06.262 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.264 DEBUG 33428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:06.265 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:06.265 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:51:06.265 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:51:06.266 DEBUG 33428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:51:06.267 DEBUG 33428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:06.268 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:06.268 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:51:06.268 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:51:06.269 DEBUG 33428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:51:06.271 DEBUG 33428 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:06.272 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:06.273 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:06.273 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:51:06.273 DEBUG 33428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:06.275  INFO 33428 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:06.286 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:06.286 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:06.288 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:06.289 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.307 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:06.308 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:51:06.310 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:06.310 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.348 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:06.348 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:51:06.350 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:06.350 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.581 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&size=10
2025-05-04 15:51:06.581 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.582 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.587 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&size=10
2025-05-04 15:51:06.587 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.593 DEBUG 33428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:06.593 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:06.593 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&size=10
2025-05-04 15:51:06.593 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&size=10", parameters={masked}
2025-05-04 15:51:06.594 DEBUG 33428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:06.595  INFO 33428 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:06.604 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:06.605 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:06.606 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:06.607 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.621 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:51:06.621 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.622 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.624 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:51:06.624 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.625 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:06.626 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.626 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.626 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.629 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:51:06.629 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.633 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:51:06.634 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.634 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:06.634 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.636 DEBUG 33428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:06.636 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:06.637 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:51:06.637 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:51:06.637 DEBUG 33428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:51:06.639 DEBUG 33428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:06.639 DEBUG 33428 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:06.640 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:06.640 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:06.640 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:06.640 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:51:06.640 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:51:06.641 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:51:06.641 DEBUG 33428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:51:06.641 DEBUG 33428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:06.642  INFO 33428 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:06.649 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:06.649 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:06.650 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:06.651 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.663 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:06.663 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:51:06.664 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:06.664 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.691 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:06.691 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:51:06.691 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:06.692 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:20.023 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&size=10
2025-05-04 15:51:20.023 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:20.024 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:20.025 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&size=10
2025-05-04 15:51:20.026 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:20.029 DEBUG 33428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:20.030 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:20.030 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&size=10
2025-05-04 15:51:20.030 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&size=10", parameters={masked}
2025-05-04 15:51:20.030 DEBUG 33428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:20.031  INFO 33428 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:20.037 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:20.038 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:20.038 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:20.039 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:20.123 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:51:20.123 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:20.124 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:51:20.124 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:20.124 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:20.125 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:20.125 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:20.125 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:20.125 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:20.137 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:51:20.137 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:20.138 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:51:20.139 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:20.140 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:20.140 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:20.143 DEBUG 33428 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:20.144 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:20.144 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:51:20.144 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:51:20.144 DEBUG 33428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:51:20.144 DEBUG 33428 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:20.145 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:20.145 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:51:20.145 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:51:20.146 DEBUG 33428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:51:20.146 DEBUG 33428 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:20.147 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:20.147 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:20.147 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:51:20.148 DEBUG 33428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:20.149  INFO 33428 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:20.156 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:20.157 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:20.158 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:20.159 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:20.168 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:20.169 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:51:20.170 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:20.170 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:20.207 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:20.207 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:51:20.208 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:20.208 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:32.520 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 15:51:32.520 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:32.523 DEBUG 33428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:51:32.524 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 15:51:32.524 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 15:51:32.524 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 15:51:32.524 DEBUG 33428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 15:51:32.535  INFO 33428 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 15:51:32.539  INFO 33428 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 15:51:32.539  INFO 33428 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 15:51:32.540  INFO 33428 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 15:51:32.541  INFO 33428 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 15:51:32.541  INFO 33428 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 15:51:32.541 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:32.542 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 15:51:32.544 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:32.545 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:33.494 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 15:51:33.495 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:33.498 DEBUG 33428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:51:33.498 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 15:51:33.498 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 15:51:33.498 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 15:51:33.499 DEBUG 33428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 15:51:33.515 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:33.515 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 15:51:33.517 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:33.517 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:35.669 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 15:51:35.669 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:35.675 DEBUG 33428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:51:35.675 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 15:51:35.676 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 15:51:35.676 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 15:51:35.676 DEBUG 33428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 15:51:35.683  INFO 33428 --- [http-nio-8090-exec-3] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 15:51:35.685  INFO 33428 --- [http-nio-8090-exec-3] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 15:51:35.686  INFO 33428 --- [http-nio-8090-exec-3] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 15:51:35.686  INFO 33428 --- [http-nio-8090-exec-3] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 15:51:35.686  INFO 33428 --- [http-nio-8090-exec-3] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 15:51:35.686  INFO 33428 --- [http-nio-8090-exec-3] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 15:51:35.687 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:35.687 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 15:51:35.688 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:35.689 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:37.248 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 15:51:37.249 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:37.252 DEBUG 33428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:51:37.253 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 15:51:37.253 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 15:51:37.253 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 15:51:37.254 DEBUG 33428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 15:51:37.268 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:37.268 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 15:51:37.269 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:37.269 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.398 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:51:54.399 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.400 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.406 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:51:54.406 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.413 DEBUG 33428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:54.414 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:54.414 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:51:54.415 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:51:54.415 DEBUG 33428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:54.416  INFO 33428 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:54.428 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:54.428 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:54.429 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:54.430 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.473 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:51:54.474 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.473 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:51:54.474 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.474 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:54.474 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.475 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.475 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.475 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.476 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:51:54.477 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.478 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.482 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:51:54.482 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:51:54.482 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.483 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.485 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:51:54.485 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:54.485 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.485 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.488 DEBUG 33428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:54.488 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:54.488 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:51:54.489 DEBUG 33428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:54.489 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:51:54.489 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:54.489 DEBUG 33428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:54.489 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:51:54.489 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:51:54.490 DEBUG 33428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:51:54.490 DEBUG 33428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:54.490 DEBUG 33428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:54.490 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:54.490 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:54.490 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:51:54.490 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:54.490  INFO 33428 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:54.491 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:51:54.491 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:51:54.491 DEBUG 33428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:51:54.491 DEBUG 33428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:54.493  INFO 33428 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:54.499 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:54.500 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:54.501 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:54.501 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:54.501 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.502 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:54.503 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:54.503 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.516 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:54.516 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:51:54.517 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:54.517 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.553 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:54.554 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:51:54.555 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:54.555 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.582 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:51:54.582 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.582 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.583 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:51:54.583 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.583 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.590 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:51:54.590 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.591 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:51:54.591 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.592 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:54.593 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.593 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.594 DEBUG 33428 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:54.594 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:54.594 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:51:54.595 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:51:54.595 DEBUG 33428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:51:54.595 DEBUG 33428 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:54.596 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:54.596 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:51:54.596 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:51:54.597 DEBUG 33428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:51:54.601 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:54.601 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.606 DEBUG 33428 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:54.606 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:54.606 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:54.607 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:51:54.607 DEBUG 33428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:54.608  INFO 33428 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:54.614 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:54.614 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:54.615 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:54.615 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:54.615 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.616 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:51:54.616 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:54.617 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.647 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:54.647 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:51:54.648 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:54.648 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.405 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:51:55.405 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.406 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.410 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:51:55.410 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.415 DEBUG 33428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:55.416 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:55.416 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:51:55.416 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:51:55.417 DEBUG 33428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:55.417  INFO 33428 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:55.426 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:55.426 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:55.427 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:55.427 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.441 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:51:55.441 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.442 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.442 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:51:55.442 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.444 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.445 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:55.445 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.445 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.450 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:51:55.450 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.450 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:51:55.451 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.453 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:55.453 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.456 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:51:55.456 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.457 DEBUG 33428 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:55.458 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:55.458 DEBUG 33428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:55.458 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:51:55.458 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:51:55.459 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:55.459 DEBUG 33428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:51:55.459 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:51:55.459 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:51:55.459 DEBUG 33428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:51:55.460 DEBUG 33428 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:55.460 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:55.460 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:55.461 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:51:55.461 DEBUG 33428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:55.461 DEBUG 33428 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:55.462 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:55.462  INFO 33428 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:55.462 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:51:55.462 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:51:55.463 DEBUG 33428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:55.464  INFO 33428 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:55.468 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:55.468 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:55.469 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:55.470 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.474 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:55.474 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:55.476 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:55.476 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.484 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:55.485 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:51:55.486 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:55.486 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.513 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:51:55.513 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.516 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:55.517 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:51:55.517 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:51:55.517 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.518 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:55.518 DEBUG 33428 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:55.518 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.518 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:55.518 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.518 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:55.519 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:51:55.519 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:51:55.519 DEBUG 33428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:51:55.523 DEBUG 33428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:55.523 DEBUG 33428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:55.524 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:55.524 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:55.524 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:55.524 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:51:55.524 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:51:55.524 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:51:55.525 DEBUG 33428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:55.525 DEBUG 33428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:51:55.526  INFO 33428 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:55.532 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:55.532 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:55.533 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:55.533 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.542 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:55.543 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:51:55.544 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:55.544 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.567 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:55.567 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:51:55.568 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:55.568 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:53:27.986 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:53:27.986 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:53:27.987 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:53:27.988 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:53:27.988 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:53:27.991 DEBUG 33428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:53:27.991 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:53:27.992 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:53:27.992 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:53:27.992 DEBUG 33428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:53:27.993  INFO 33428 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:53:27.998 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:53:27.999 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 15:53:28.000 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:53:28.001 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:53:28.090 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:53:28.090 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:53:28.090 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:53:28.090 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:53:28.091 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:53:28.091 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:53:28.092 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:53:28.092 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:53:28.092 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:53:28.098 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:53:28.098 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:53:28.102 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:53:28.102 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:53:28.102 DEBUG 33428 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:53:28.103 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:53:28.103 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:53:28.103 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:53:28.103 DEBUG 33428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:53:28.105 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:53:28.106 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:53:28.106 DEBUG 33428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:53:28.106 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:53:28.106 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:53:28.107 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:53:28.107 DEBUG 33428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:53:28.110 DEBUG 33428 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:53:28.111 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:53:28.111 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:53:28.111 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:53:28.112 DEBUG 33428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:53:28.113  INFO 33428 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:53:28.119 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:53:28.119 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 15:53:28.120 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:53:28.120 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:53:28.123 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:53:28.123 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:53:28.125 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:53:28.125 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:53:28.154 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:53:28.154 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:53:28.155 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:53:28.155 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:54:16.962 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:54:16.962 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:54:16.963 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:54:16.965 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:54:16.965 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:54:16.969 DEBUG 33428 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:54:16.969 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:54:16.969 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:54:16.970 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:54:16.970 DEBUG 33428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:54:16.971  INFO 33428 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:54:16.976 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:54:16.977 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 15:54:16.977 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:54:16.978 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:54:17.059 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:54:17.060 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:54:17.060 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:54:17.060 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:54:17.060 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:54:17.063 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:54:17.063 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:54:17.063 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:54:17.063 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:54:17.084 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:54:17.084 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:54:17.086 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:54:17.087 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:54:17.089 DEBUG 33428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:54:17.089 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:54:17.090 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:54:17.090 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:54:17.090 DEBUG 33428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:54:17.091 DEBUG 33428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:54:17.091 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:54:17.091 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:54:17.091 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:54:17.092 DEBUG 33428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:54:17.093 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:54:17.093 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:54:17.093  INFO 33428 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:54:17.097 DEBUG 33428 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:54:17.097 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:54:17.098 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:54:17.098 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:54:17.098 DEBUG 33428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:54:17.099 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:54:17.099 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 15:54:17.101 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:54:17.101 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:54:17.117 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:54:17.118 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:54:17.119 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:54:17.119 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:54:17.139 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:54:17.139 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:54:17.140 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:54:17.140 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
