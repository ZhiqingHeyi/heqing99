2025-05-04 09:14:33.373  INFO 13472 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 13472 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 09:14:33.399 DEBUG 13472 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 09:14:33.400  INFO 13472 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 09:14:36.321  INFO 13472 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 09:14:36.861  INFO 13472 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 516 ms. Found 19 JPA repository interfaces.
2025-05-04 09:14:38.416  INFO 13472 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 09:14:38.420  INFO 13472 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 09:14:38.421  INFO 13472 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 09:14:38.423  INFO 13472 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 09:14:38.510  INFO 13472 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 09:14:38.542  INFO 13472 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 09:14:38.542  INFO 13472 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 09:14:38.924  INFO 13472 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 09:14:38.925  INFO 13472 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5302 ms
2025-05-04 09:14:39.447  INFO 13472 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 09:14:39.598  INFO 13472 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 09:14:40.067  INFO 13472 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 09:14:40.368  INFO 13472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 09:14:41.159  INFO 13472 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 09:14:41.197  INFO 13472 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 09:14:44.373  INFO 13472 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 09:14:44.400  INFO 13472 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 09:14:45.886 DEBUG 13472 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 09:14:45.888 DEBUG 13472 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 09:14:48.116 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 09:14:48.131 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 09:14:48.132 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 09:14:48.133 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 09:14:48.133 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 09:14:48.134 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 09:14:48.135 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 09:14:48.135 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 09:14:48.136 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 09:14:48.138 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 09:14:48.138 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 09:14:48.138 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 09:14:48.139 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 09:14:48.140 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 09:14:48.140 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 09:14:48.140 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 09:14:48.141 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 09:14:48.141 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 09:14:48.141 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 09:14:48.141 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 09:14:48.142 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 09:14:48.142 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 09:14:48.143 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 09:14:48.143 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 09:14:48.143 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 09:14:48.144 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 09:14:48.145 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 09:14:48.145 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 09:14:48.145 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 09:14:48.145 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 09:14:48.145 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 09:14:48.146 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 09:14:48.146 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 09:14:48.146 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 09:14:48.146 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 09:14:48.146 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 09:14:48.150 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 09:14:48.150 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 09:14:48.150 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 09:14:48.151 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 09:14:48.152 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 09:14:48.153 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 09:14:48.153 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 09:14:48.154 DEBUG 13472 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 09:14:48.171  INFO 13472 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7da59f6e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fb8d720, org.springframework.security.web.context.SecurityContextPersistenceFilter@130ad58d, org.springframework.security.web.header.HeaderWriterFilter@3b8c15de, org.springframework.web.filter.CorsFilter@544733a4, org.springframework.security.web.authentication.logout.LogoutFilter@65a01901, com.hotel.config.JwtAuthenticationFilter@49bc1f6c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@383a5260, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4986b0ea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21b792c2, org.springframework.security.web.session.SessionManagementFilter@24ea71d, org.springframework.security.web.access.ExceptionTranslationFilter@1da5635e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@657e7e8]
2025-05-04 09:14:48.327  WARN 13472 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 09:14:48.697 DEBUG 13472 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 09:14:48.780  INFO 13472 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 09:14:48.993 DEBUG 13472 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 09:14:49.006 DEBUG 13472 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 09:14:49.046 DEBUG 13472 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 09:14:49.066 DEBUG 13472 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 09:14:49.488  INFO 13472 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 09:14:49.505  INFO 13472 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 17.764 seconds (JVM running for 19.849)
2025-05-04 09:15:30.735  INFO 13472 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 09:15:30.736  INFO 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 09:15:30.736 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 09:15:30.737 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 09:15:30.737 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 09:15:30.739 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2f143ea
2025-05-04 09:15:30.740 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4f96e484
2025-05-04 09:15:30.740 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 09:15:30.740  INFO 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-04 09:15:30.764 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 09:15:30.775 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:15:30.921 DEBUG 13472 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 09:15:30.947 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 09:15:30.948 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 09:15:30.952 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 09:15:30.961 DEBUG 13472 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 09:15:31.355 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:15:31.356 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=8, totalUsers=18, availableRooms=15, newUser (truncated)...]
2025-05-04 09:15:31.448 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:15:31.453 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:29.393 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:22:29.394 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:29.409 DEBUG 13472 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:29.416 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:22:29.416 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:22:29.416 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:22:29.419 DEBUG 13472 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:22:29.473 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:29.474 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:22:29.480 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:29.480 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:30.775 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:30.775 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:30.780 DEBUG 13472 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:30.781 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:22:30.781 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:30.782 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:22:30.782 DEBUG 13472 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:22:30.816 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:30.816 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:22:30.829 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:30.829 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:34.588 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 09:22:34.589 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:34.594 DEBUG 13472 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:34.595 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 09:22:34.595 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 09:22:34.595 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 09:22:34.595 DEBUG 13472 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:22:34.615 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:34.616 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:22:34.618 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:34.619 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:35.308 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 09:22:35.308 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:35.313 DEBUG 13472 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:35.314 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED] with attributes [authenticated]
2025-05-04 09:22:35.314 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 09:22:35.314 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CONFIRMED", parameters={masked}
2025-05-04 09:22:35.314 DEBUG 13472 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:22:35.323 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:35.323 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 09:22:35.324 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:35.324 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:35.574 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 09:22:35.575 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:35.580 DEBUG 13472 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:35.582 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED] with attributes [authenticated]
2025-05-04 09:22:35.582 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 09:22:35.582 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=COMPLETED", parameters={masked}
2025-05-04 09:22:35.583 DEBUG 13472 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:22:35.592 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:35.592 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 09:22:35.593 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:35.593 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:35.872 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:35.872 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:35.876 DEBUG 13472 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:35.877 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:22:35.877 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:35.877 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:22:35.877 DEBUG 13472 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:22:35.889 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:35.890 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:22:35.892 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:35.892 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:36.947 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:22:36.947 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:36.953 DEBUG 13472 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:36.953 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:22:36.953 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:22:36.954 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:22:36.954 DEBUG 13472 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:22:36.983 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:36.983 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:22:36.985 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:36.985 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:40.433 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 09:22:40.434 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:40.435 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:22:40.435 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 09:22:40.438 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 09:22:40.438 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 09:22:40.439 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 09:22:40.439 DEBUG 13472 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 09:22:40.484 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:40.484 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 09:22:40.487 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:40.488 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:40.748 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:22:40.748 DEBUG 13472 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:40.752 DEBUG 13472 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:40.753 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:22:40.753 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:22:40.753 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:22:40.754 DEBUG 13472 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:22:40.760 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:40.761 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:22:40.762 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:40.762 DEBUG 13472 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:55.460 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 09:22:55.461 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:55.475 DEBUG 13472 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:55.476 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 09:22:55.476 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 09:22:55.476 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 09:22:55.476 DEBUG 13472 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 09:22:55.487 DEBUG 13472 --- [http-nio-8090-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=4, checkIn=2025-06-02T16:00:00.000Z, checkOut=2025-06-29T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 09:22:55.659 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:55.659 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订创建成功, data={discountRate=0.85, reservationId=13, origi (truncated)...]
2025-05-04 09:22:55.663 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:55.664 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:55.698 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-04 09:22:55.698 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:55.703 DEBUG 13472 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:55.704 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-04 09:22:55.704 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-04 09:22:55.704 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-04 09:22:55.705 DEBUG 13472 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-04 09:22:55.714 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:55.714 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=MembershipDTO(userId=18, username=dawwadw, name=asdwd, memberLevel=钻石会员, memberLevel (truncated)...]
2025-05-04 09:22:55.718 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:55.719 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:59.114 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:22:59.115 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:59.120 DEBUG 13472 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:59.121 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:22:59.122 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:22:59.122 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:22:59.123 DEBUG 13472 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:22:59.130 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:59.130 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:22:59.132 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:59.132 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:59.420 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:59.420 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:59.425 DEBUG 13472 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:59.426 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:22:59.426 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:59.426 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:22:59.426 DEBUG 13472 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:22:59.440 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:59.440 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:22:59.442 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:59.442 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:22:59.751 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:59.751 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:22:59.755 DEBUG 13472 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:22:59.756 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:22:59.756 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:22:59.756 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:22:59.756 DEBUG 13472 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:22:59.770 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:22:59.770 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:22:59.771 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:22:59.771 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:47.977 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:23:47.977 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:47.982 DEBUG 13472 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:47.983 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:23:47.984 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:23:47.984 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:23:47.984 DEBUG 13472 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:23:47.989 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:47.990 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:23:47.991 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:47.991 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:48.940 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:48.940 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:48.945 DEBUG 13472 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:48.946 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:23:48.946 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:48.947 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:23:48.947 DEBUG 13472 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:23:48.957 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:48.957 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:23:48.958 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:48.958 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:50.430 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:50.430 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:50.435 DEBUG 13472 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:50.435 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:23:50.435 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:50.436 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:23:50.436 DEBUG 13472 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:23:50.449 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:50.449 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:23:50.450 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:50.450 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:52.582 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:52.583 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:52.589 DEBUG 13472 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:52.590 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:23:52.590 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:52.591 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:23:52.592 DEBUG 13472 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:23:52.605 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:52.605 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:23:52.606 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:52.607 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:55.277 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:55.278 DEBUG 13472 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:55.282 DEBUG 13472 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:55.283 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:23:55.283 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:55.283 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:23:55.283 DEBUG 13472 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:23:55.295 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:55.295 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:23:55.296 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:55.297 DEBUG 13472 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:55.545 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:55.545 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:55.549 DEBUG 13472 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:55.550 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:23:55.550 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:55.550 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:23:55.550 DEBUG 13472 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:23:55.564 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:55.565 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:23:55.566 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:55.567 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:56.143 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:56.143 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:56.149 DEBUG 13472 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:56.149 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:23:56.149 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:56.149 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:23:56.150 DEBUG 13472 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:23:56.159 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:56.160 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:23:56.161 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:56.161 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:56.902 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:56.902 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:56.906 DEBUG 13472 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:56.907 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:23:56.907 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:56.907 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:23:56.908 DEBUG 13472 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:23:56.921 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:56.922 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:23:56.923 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:56.923 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:57.155 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:57.155 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:57.159 DEBUG 13472 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:57.159 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:23:57.159 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:23:57.159 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:23:57.160 DEBUG 13472 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:23:57.167 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:57.167 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:23:57.168 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:57.168 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:23:58.455 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:58.455 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:23:58.460 DEBUG 13472 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:23:58.460 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:23:58.461 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:23:58.461 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:23:58.461 DEBUG 13472 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:23:58.476 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:23:58.477 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:23:58.478 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:23:58.478 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:06.199 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:24:06.200 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:06.205 DEBUG 13472 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:06.205 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:24:06.206 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:24:06.206 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:24:06.207 DEBUG 13472 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:24:06.213 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:06.213 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:24:06.214 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:06.215 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:07.467 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:24:07.468 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:07.475 DEBUG 13472 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:07.476 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:24:07.476 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:24:07.476 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:24:07.477 DEBUG 13472 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:24:07.492 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:07.492 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:24:07.493 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:07.494 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:24.540 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 09:24:24.540 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:24.544 DEBUG 13472 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:24.545 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 09:24:24.546 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 09:24:24.546 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 09:24:24.546 DEBUG 13472 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:24:24.558 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:24.558 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:24:24.560 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:24.560 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:25.652 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:24:25.652 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:25.656 DEBUG 13472 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:25.657 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:24:25.657 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:24:25.657 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:24:25.658 DEBUG 13472 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:24:25.670 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:25.671 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:24:25.672 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:25.672 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:39.934 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:24:39.934 DEBUG 13472 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:39.938 DEBUG 13472 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:39.940 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:24:39.940 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:24:39.940 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:24:39.940 DEBUG 13472 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:24:39.943 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:39.943 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:24:39.945 DEBUG 13472 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:39.945 DEBUG 13472 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:41.139 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:24:41.139 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:41.143 DEBUG 13472 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:41.144 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:24:41.144 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:24:41.144 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:24:41.145 DEBUG 13472 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:24:41.153 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:41.153 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:24:41.154 DEBUG 13472 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:41.154 DEBUG 13472 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:48.403 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:24:48.404 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:48.408 DEBUG 13472 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:48.409 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:24:48.409 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:24:48.409 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:24:48.409 DEBUG 13472 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:24:48.422 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:48.423 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:24:48.424 DEBUG 13472 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:48.424 DEBUG 13472 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:51.199 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:24:51.199 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:51.203 DEBUG 13472 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:51.204 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:24:51.204 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:24:51.205 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:24:51.205 DEBUG 13472 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:24:51.209 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:51.210 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:24:51.212 DEBUG 13472 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:51.212 DEBUG 13472 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:24:59.432 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:24:59.432 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:24:59.436 DEBUG 13472 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:24:59.436 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:24:59.436 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:24:59.436 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:24:59.437 DEBUG 13472 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:24:59.441 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:24:59.441 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:24:59.442 DEBUG 13472 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:24:59.442 DEBUG 13472 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:25:00.990 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:25:00.990 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:25:00.993 DEBUG 13472 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:25:00.994 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:25:00.994 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:25:00.994 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:25:00.996 DEBUG 13472 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:25:01.006 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:25:01.006 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:25:01.007 DEBUG 13472 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:25:01.008 DEBUG 13472 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:25:04.336 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:25:04.337 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:25:04.339 DEBUG 13472 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:25:04.340 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:25:04.340 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:25:04.341 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:25:04.341 DEBUG 13472 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:25:04.346 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:25:04.346 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:25:04.347 DEBUG 13472 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:25:04.347 DEBUG 13472 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:25:05.548 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:25:05.548 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:25:05.553 DEBUG 13472 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:25:05.553 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:25:05.554 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:25:05.554 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:25:05.554 DEBUG 13472 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:25:05.563 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:25:05.563 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:25:05.564 DEBUG 13472 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:25:05.564 DEBUG 13472 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:29:19.151 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:29:19.152 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:29:19.155 DEBUG 13472 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:29:19.156 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:29:19.156 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:29:19.156 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:29:19.156 DEBUG 13472 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:29:19.160 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:29:19.160 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:29:19.162 DEBUG 13472 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:29:19.162 DEBUG 13472 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:29:20.082 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:29:20.082 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:29:20.087 DEBUG 13472 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:29:20.088 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:29:20.088 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:29:20.088 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:29:20.089 DEBUG 13472 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:29:20.098 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:29:20.098 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:29:20.099 DEBUG 13472 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:29:20.099 DEBUG 13472 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:29:25.428  INFO 13472 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 09:29:25.434  INFO 13472 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 09:29:25.456  INFO 13472 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 09:29:33.563  INFO 30416 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 30416 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 09:29:33.566 DEBUG 30416 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 09:29:33.566  INFO 30416 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 09:29:34.897  INFO 30416 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 09:29:35.095  INFO 30416 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 190 ms. Found 19 JPA repository interfaces.
2025-05-04 09:29:35.612  INFO 30416 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 09:29:35.613  INFO 30416 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 09:29:35.613  INFO 30416 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 09:29:35.614  INFO 30416 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 09:29:35.620  INFO 30416 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 09:29:35.630  INFO 30416 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 09:29:35.630  INFO 30416 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 09:29:35.763  INFO 30416 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 09:29:35.763  INFO 30416 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2155 ms
2025-05-04 09:29:35.924  INFO 30416 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 09:29:35.980  INFO 30416 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 09:29:36.141  INFO 30416 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 09:29:36.985  INFO 30416 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 09:29:38.640  INFO 30416 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 09:29:38.657  INFO 30416 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 09:29:39.801  INFO 30416 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 09:29:39.809  INFO 30416 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 09:29:40.245 DEBUG 30416 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 09:29:40.245 DEBUG 30416 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 09:29:41.133 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 09:29:41.139 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 09:29:41.140 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 09:29:41.140 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 09:29:41.141 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 09:29:41.141 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 09:29:41.141 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 09:29:41.141 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 09:29:41.142 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 09:29:41.142 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 09:29:41.142 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 09:29:41.142 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 09:29:41.142 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 09:29:41.142 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 09:29:41.143 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 09:29:41.143 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 09:29:41.144 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 09:29:41.144 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 09:29:41.144 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 09:29:41.144 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 09:29:41.145 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 09:29:41.146 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 09:29:41.148 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 09:29:41.149 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 09:29:41.149 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 09:29:41.149 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 09:29:41.150 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 09:29:41.150 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 09:29:41.151 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 09:29:41.151 DEBUG 30416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 09:29:41.157  INFO 30416 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@66c91224, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4ffcb1bd, org.springframework.security.web.context.SecurityContextPersistenceFilter@304cad3a, org.springframework.security.web.header.HeaderWriterFilter@78de0f6f, org.springframework.web.filter.CorsFilter@293ba26c, org.springframework.security.web.authentication.logout.LogoutFilter@1b62ad1e, com.hotel.config.JwtAuthenticationFilter@69c6e5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19f9404d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5481f204, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5be8a92c, org.springframework.security.web.session.SessionManagementFilter@321c01c2, org.springframework.security.web.access.ExceptionTranslationFilter@1e9e4468, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@24f8707c]
2025-05-04 09:29:41.208  WARN 30416 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 09:29:41.332 DEBUG 30416 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 09:29:41.358  INFO 30416 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 09:29:41.427 DEBUG 30416 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 09:29:41.432 DEBUG 30416 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 09:29:41.447 DEBUG 30416 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 09:29:41.457 DEBUG 30416 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 09:29:41.611  INFO 30416 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 09:29:41.620  INFO 30416 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 8.558 seconds (JVM running for 9.443)
2025-05-04 09:29:54.730  INFO 30416 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 09:29:54.730  INFO 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 09:29:54.731 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 09:29:54.731 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 09:29:54.731 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 09:29:54.733 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1f031994
2025-05-04 09:29:54.733 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@789d45f7
2025-05-04 09:29:54.734 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 09:29:54.734  INFO 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-04 09:29:54.746 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:29:54.750 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:29:54.819 DEBUG 30416 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:29:54.826 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:29:54.826 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:29:54.829 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:29:54.832 DEBUG 30416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:29:54.969 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:29:54.970 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:29:55.007 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:29:55.009 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:29:55.109 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:29:55.109 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:29:55.114 DEBUG 30416 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:29:55.115 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:29:55.116 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:29:55.117 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:29:55.117 DEBUG 30416 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:29:55.139 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:29:55.139 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:29:55.145 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:29:55.145 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:29:55.872 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:29:55.873 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:29:55.876 DEBUG 30416 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:29:55.878 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:29:55.878 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:29:55.879 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:29:55.879 DEBUG 30416 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:29:55.892 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:29:55.892 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:29:55.893 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:29:55.893 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:29:57.553 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:29:57.554 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:29:57.558 DEBUG 30416 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:29:57.559 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:29:57.560 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:29:57.560 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:29:57.560 DEBUG 30416 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:29:57.571 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:29:57.572 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:29:57.574 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:29:57.574 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:00.023 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:30:00.024 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:00.032 DEBUG 30416 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:00.033 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:30:00.033 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:30:00.034 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:30:00.036 DEBUG 30416 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:30:00.049 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:00.050 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:30:00.053 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:00.054 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:03.261 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:03.262 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:03.268 DEBUG 30416 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:03.269 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:30:03.269 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:03.269 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:30:03.270 DEBUG 30416 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:30:03.282 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:03.282 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:30:03.283 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:03.284 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:05.025 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:30:05.026 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:05.031 DEBUG 30416 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:05.032 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:30:05.032 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:30:05.032 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:30:05.033 DEBUG 30416 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:30:05.040 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:05.040 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:30:05.042 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:05.042 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:06.379 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:06.379 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:06.384 DEBUG 30416 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:06.384 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:30:06.385 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:06.386 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:30:06.386 DEBUG 30416 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:30:06.399 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:06.399 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:30:06.401 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:06.401 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:07.226 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:30:07.226 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:07.231 DEBUG 30416 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:07.231 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:30:07.231 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:30:07.232 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:30:07.232 DEBUG 30416 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:30:07.248 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:07.248 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:30:07.250 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:07.250 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:15.708 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:15.708 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:15.715 DEBUG 30416 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:15.715 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:30:15.716 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:15.716 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:30:15.717 DEBUG 30416 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:30:15.728 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:15.728 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:30:15.729 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:15.729 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:16.813 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:30:16.814 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:16.818 DEBUG 30416 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:16.820 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:30:16.820 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:30:16.820 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:30:16.820 DEBUG 30416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:30:16.841 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:16.841 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:30:16.843 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:16.843 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:18.355 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:30:18.356 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:18.360 DEBUG 30416 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:18.361 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:30:18.361 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:30:18.361 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:30:18.362 DEBUG 30416 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:30:18.376 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:18.376 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:30:18.378 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:18.378 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:18.609 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:18.609 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:18.613 DEBUG 30416 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:18.613 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:30:18.613 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:18.614 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:30:18.614 DEBUG 30416 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:30:18.624 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:18.625 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:30:18.625 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:18.626 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:25.631 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 09:30:25.631 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:25.632 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:30:25.633 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 09:30:25.633 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 09:30:25.634 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 09:30:25.634 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 09:30:25.634 DEBUG 30416 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 09:30:25.685 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:25.685 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 09:30:25.687 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:25.688 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:25.944 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:30:25.944 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:25.948 DEBUG 30416 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:25.948 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:30:25.948 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:30:25.948 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:30:25.949 DEBUG 30416 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:30:25.953 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:25.953 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:30:25.955 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:25.955 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:33.841 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:30:33.841 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:33.846 DEBUG 30416 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:33.847 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:30:33.847 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:30:33.847 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:30:33.848 DEBUG 30416 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:30:33.854 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:33.854 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:30:33.855 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:33.855 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:30:35.536 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:35.537 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:30:35.541 DEBUG 30416 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:30:35.541 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:30:35.542 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:30:35.542 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:30:35.543 DEBUG 30416 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:30:35.552 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:30:35.553 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:30:35.554 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:30:35.554 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:35:04.028 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:35:04.029 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:35:04.034 DEBUG 30416 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:35:04.035 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:35:04.035 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:35:04.035 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:35:04.036 DEBUG 30416 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:35:04.042 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:35:04.042 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:35:04.044 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:35:04.044 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:35:20.911 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:35:20.912 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:35:20.917 DEBUG 30416 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:35:20.917 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:35:20.917 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:35:20.917 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:35:20.919 DEBUG 30416 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:35:20.925 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:35:20.925 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:35:20.926 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:35:20.927 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:36:18.001 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:36:18.001 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:36:18.006 DEBUG 30416 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:36:18.007 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:36:18.007 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:36:18.007 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:36:18.008 DEBUG 30416 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:36:18.013 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:36:18.014 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:36:18.015 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:36:18.015 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:36:22.404 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:36:22.405 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:36:22.409 DEBUG 30416 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:36:22.409 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:36:22.410 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:36:22.410 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:36:22.411 DEBUG 30416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:36:22.420 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:36:22.421 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:36:22.421 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:36:22.422 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:36:24.122 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:36:24.123 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:36:24.127 DEBUG 30416 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:36:24.128 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:36:24.128 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:36:24.129 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:36:24.129 DEBUG 30416 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:36:24.142 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:36:24.143 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:36:24.145 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:36:24.145 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:36:25.545 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:36:25.546 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:36:25.551 DEBUG 30416 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:36:25.551 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:36:25.552 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:36:25.552 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:36:25.553 DEBUG 30416 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:36:25.569 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:36:25.570 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:36:25.571 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:36:25.571 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:36:27.727 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:36:27.728 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:36:27.733 DEBUG 30416 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:36:27.734 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:36:27.734 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:36:27.734 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:36:27.734 DEBUG 30416 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:36:27.752 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:36:27.753 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:36:27.754 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:36:27.755 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:36:30.738 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:36:30.739 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:36:30.744 DEBUG 30416 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:36:30.745 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:36:30.746 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:36:30.746 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:36:30.746 DEBUG 30416 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:36:30.758 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:36:30.758 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:36:30.759 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:36:30.759 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:38:01.233 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:38:01.233 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:38:01.238 DEBUG 30416 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:38:01.239 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:38:01.239 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:38:01.240 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:38:01.240 DEBUG 30416 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:38:01.247 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:38:01.247 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:38:01.248 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:38:01.248 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:38:03.750 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:38:03.751 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:38:03.756 DEBUG 30416 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:38:03.757 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:38:03.757 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:38:03.757 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:38:03.758 DEBUG 30416 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:38:03.768 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:38:03.768 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:38:03.769 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:38:03.770 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:38:07.264 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:38:07.264 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:38:07.268 DEBUG 30416 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:38:07.269 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:38:07.271 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:38:07.272 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:38:07.272 DEBUG 30416 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:38:07.279 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:38:07.280 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:38:07.281 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:38:07.281 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:38:26.824 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:38:26.825 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:38:26.829 DEBUG 30416 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:38:26.829 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:38:26.830 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:38:26.830 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:38:26.830 DEBUG 30416 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:38:26.839 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:38:26.840 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:38:26.841 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:38:26.841 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:38:32.375 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:38:32.375 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:38:32.379 DEBUG 30416 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:38:32.379 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:38:32.379 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:38:32.379 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:38:32.380 DEBUG 30416 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:38:32.384 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:38:32.385 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:38:32.386 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:38:32.386 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:19.778 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 09:40:19.779 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:19.780 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:40:19.780 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 09:40:19.780 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 09:40:19.780 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 09:40:19.781 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 09:40:19.781 DEBUG 30416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 09:40:19.809 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:19.809 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 09:40:19.811 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:19.811 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:19.899 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:40:19.899 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:19.903 DEBUG 30416 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:19.903 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:40:19.903 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:40:19.903 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:40:19.904 DEBUG 30416 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:40:19.911 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:19.911 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:40:19.913 DEBUG 30416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:19.913 DEBUG 30416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:35.706 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 09:40:35.706 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:35.734 DEBUG 30416 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:35.735 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 09:40:35.736 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 09:40:35.736 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 09:40:35.736 DEBUG 30416 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 09:40:35.748 DEBUG 30416 --- [http-nio-8090-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=1, checkIn=2025-06-30T16:00:00.000Z, checkOut=2025-07-30T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 09:40:35.881 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:35.881 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订创建成功, data={discountRate=0.85, reservationId=14, origi (truncated)...]
2025-05-04 09:40:35.884 DEBUG 30416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:35.885 DEBUG 30416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:36.210 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-04 09:40:36.210 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:36.214 DEBUG 30416 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:36.214 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-04 09:40:36.214 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-04 09:40:36.214 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-04 09:40:36.214 DEBUG 30416 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-04 09:40:36.219 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:36.219 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=MembershipDTO(userId=18, username=dawwadw, name=asdwd, memberLevel=钻石会员, memberLevel (truncated)...]
2025-05-04 09:40:36.222 DEBUG 30416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:36.222 DEBUG 30416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:37.746 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:40:37.746 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:37.750 DEBUG 30416 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:37.751 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:40:37.752 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:40:37.752 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:40:37.753 DEBUG 30416 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:40:37.758 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:37.759 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:40:37.760 DEBUG 30416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:37.760 DEBUG 30416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:38.050 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:40:38.051 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:38.054 DEBUG 30416 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:38.055 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:40:38.055 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:40:38.055 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:40:38.055 DEBUG 30416 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:40:38.072 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:38.072 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:40:38.073 DEBUG 30416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:38.073 DEBUG 30416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:38.381 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:40:38.382 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:38.385 DEBUG 30416 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:38.385 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:40:38.385 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:40:38.385 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:40:38.385 DEBUG 30416 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:40:38.395 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:38.395 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:40:38.396 DEBUG 30416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:38.397 DEBUG 30416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:41.481 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:40:41.482 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:41.485 DEBUG 30416 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:41.486 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:40:41.486 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:40:41.486 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:40:41.486 DEBUG 30416 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:40:41.496 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:41.496 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:40:41.497 DEBUG 30416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:41.497 DEBUG 30416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:43.462 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:40:43.462 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:43.466 DEBUG 30416 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:43.466 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:40:43.467 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:40:43.467 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:40:43.467 DEBUG 30416 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:40:43.485 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:43.486 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:40:43.487 DEBUG 30416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:43.488 DEBUG 30416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:48.124 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:40:48.124 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:48.127 DEBUG 30416 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:48.130 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:40:48.130 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:40:48.130 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:40:48.131 DEBUG 30416 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:40:48.138 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:48.138 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:40:48.139 DEBUG 30416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:48.139 DEBUG 30416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:40:49.587 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:40:49.587 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:40:49.594 DEBUG 30416 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:40:49.594 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:40:49.594 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:40:49.595 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:40:49.596 DEBUG 30416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:40:49.605 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:40:49.605 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:40:49.605 DEBUG 30416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:40:49.606 DEBUG 30416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:43:53.222  INFO 30416 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 09:43:53.224  INFO 30416 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 09:43:53.232  INFO 30416 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 09:44:01.453  INFO 30384 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 30384 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 09:44:01.458 DEBUG 30384 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 09:44:01.458  INFO 30384 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 09:44:02.603  INFO 30384 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 09:44:02.842  INFO 30384 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 227 ms. Found 19 JPA repository interfaces.
2025-05-04 09:44:03.597  INFO 30384 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 09:44:03.598  INFO 30384 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 09:44:03.599  INFO 30384 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 09:44:03.600  INFO 30384 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 09:44:03.608  INFO 30384 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 09:44:03.620  INFO 30384 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 09:44:03.620  INFO 30384 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 09:44:03.797  INFO 30384 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 09:44:03.798  INFO 30384 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2281 ms
2025-05-04 09:44:04.042  INFO 30384 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 09:44:04.113  INFO 30384 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 09:44:04.310  INFO 30384 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 09:44:04.425  INFO 30384 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 09:44:04.755  INFO 30384 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 09:44:04.773  INFO 30384 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 09:44:05.987  INFO 30384 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 09:44:05.995  INFO 30384 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 09:44:06.437 DEBUG 30384 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 09:44:06.437 DEBUG 30384 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 09:44:07.293 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 09:44:07.299 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 09:44:07.300 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 09:44:07.300 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 09:44:07.300 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 09:44:07.300 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 09:44:07.301 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 09:44:07.301 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 09:44:07.301 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 09:44:07.301 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 09:44:07.301 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 09:44:07.302 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 09:44:07.302 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 09:44:07.302 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 09:44:07.302 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 09:44:07.302 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 09:44:07.303 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 09:44:07.303 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 09:44:07.303 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 09:44:07.303 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 09:44:07.303 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 09:44:07.304 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 09:44:07.304 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 09:44:07.304 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 09:44:07.304 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 09:44:07.305 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 09:44:07.307 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 09:44:07.307 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 09:44:07.307 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 09:44:07.307 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 09:44:07.308 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 09:44:07.308 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 09:44:07.308 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 09:44:07.308 DEBUG 30384 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 09:44:07.314  INFO 30384 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58c93be3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5dd62f07, org.springframework.security.web.context.SecurityContextPersistenceFilter@16718e1b, org.springframework.security.web.header.HeaderWriterFilter@77430c79, org.springframework.web.filter.CorsFilter@315365ef, org.springframework.security.web.authentication.logout.LogoutFilter@2b33f7a0, com.hotel.config.JwtAuthenticationFilter@81cd90e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@771ede0d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1fd73dcb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e669b5c, org.springframework.security.web.session.SessionManagementFilter@140fa482, org.springframework.security.web.access.ExceptionTranslationFilter@52c2d1e8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@65192f16]
2025-05-04 09:44:07.361  WARN 30384 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 09:44:07.482 DEBUG 30384 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 09:44:07.510  INFO 30384 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 09:44:07.573 DEBUG 30384 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 09:44:07.577 DEBUG 30384 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 09:44:07.594 DEBUG 30384 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 09:44:07.606 DEBUG 30384 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 09:44:07.760  INFO 30384 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 09:44:07.771  INFO 30384 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.845 seconds (JVM running for 7.844)
2025-05-04 09:44:12.656  INFO 30384 --- [http-nio-8090-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 09:44:12.657  INFO 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 09:44:12.657 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 09:44:12.657 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 09:44:12.658 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 09:44:12.659 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3fecdd00
2025-05-04 09:44:12.660 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2f1b8770
2025-05-04 09:44:12.660 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 09:44:12.661  INFO 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-04 09:44:12.674 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:44:12.674 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 09:44:12.679 DEBUG 30384 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:12.679 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:12.686 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:44:12.686 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 09:44:12.695 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 09:44:12.696 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 09:44:12.699 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 09:44:12.705 DEBUG 30384 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 09:44:12.765 DEBUG 30384 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:12.766 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:44:12.766 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:44:12.766 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:44:12.767 DEBUG 30384 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:44:12.841 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:12.842 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 09:44:12.849 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:12.850 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:44:12.869 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:12.869 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:12.871 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:12.871 DEBUG 30384 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:27.892 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 09:44:27.893 DEBUG 30384 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:27.908 DEBUG 30384 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:27.909 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 09:44:27.909 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 09:44:27.910 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 09:44:27.910 DEBUG 30384 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 09:44:27.920 DEBUG 30384 --- [http-nio-8090-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=1, checkIn=2025-07-31T16:00:00.000Z, checkOut=2025-08-30T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 09:44:28.043 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:28.043 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订创建成功, data={discountRate=0.85, reservationId=15, origi (truncated)...]
2025-05-04 09:44:28.047 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:28.047 DEBUG 30384 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:28.369 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-04 09:44:28.369 DEBUG 30384 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:28.373 DEBUG 30384 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:28.374 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-04 09:44:28.374 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-04 09:44:28.374 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-04 09:44:28.375 DEBUG 30384 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-04 09:44:28.385 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:28.385 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=MembershipDTO(userId=18, username=dawwadw, name=asdwd, memberLevel=钻石会员, memberLevel (truncated)...]
2025-05-04 09:44:28.388 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:28.388 DEBUG 30384 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:29.555 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:44:29.555 DEBUG 30384 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:29.561 DEBUG 30384 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:29.562 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:44:29.563 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:44:29.563 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:44:29.564 DEBUG 30384 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:44:29.571 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:29.571 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:44:29.573 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:29.573 DEBUG 30384 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:29.860 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:44:29.861 DEBUG 30384 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:29.865 DEBUG 30384 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:29.865 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:44:29.865 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:44:29.866 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:44:29.866 DEBUG 30384 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:44:29.893 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:29.893 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:44:29.903 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:29.903 DEBUG 30384 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:30.209 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:44:30.209 DEBUG 30384 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:30.212 DEBUG 30384 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:30.213 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:44:30.213 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:44:30.214 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:44:30.214 DEBUG 30384 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:44:30.231 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:30.232 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:44:30.233 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:30.233 DEBUG 30384 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:34.128 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:44:34.129 DEBUG 30384 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:34.132 DEBUG 30384 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:34.133 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:44:34.133 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:44:34.133 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:44:34.134 DEBUG 30384 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:44:34.141  INFO 30384 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 consumption records for userId: 18
2025-05-04 09:44:34.144  INFO 30384 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:44:34.145  INFO 30384 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 144777
2025-05-04 09:44:34.145  INFO 30384 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:44:34.146  WARN 30384 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Page start index 0 is out of bounds, history is empty. Returning empty list.
2025-05-04 09:44:34.146  INFO 30384 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 0 history items for page 0 (size 10) for userId: 18. Total items: 0
2025-05-04 09:44:34.146 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:34.147 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:44:34.148 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:34.148 DEBUG 30384 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:35.687 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:44:35.687 DEBUG 30384 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:35.691 DEBUG 30384 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:35.692 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:44:35.692 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:44:35.692 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:44:35.692 DEBUG 30384 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:44:35.708 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:35.709 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:44:35.711 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:35.712 DEBUG 30384 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:44:37.026 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:44:37.027 DEBUG 30384 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:44:37.031 DEBUG 30384 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:44:37.031 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:44:37.031 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:44:37.031 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:44:37.032 DEBUG 30384 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:44:37.038  INFO 30384 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 consumption records for userId: 18
2025-05-04 09:44:37.040  INFO 30384 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:44:37.040  INFO 30384 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 144777
2025-05-04 09:44:37.040  INFO 30384 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:44:37.040  WARN 30384 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Page start index 0 is out of bounds, history is empty. Returning empty list.
2025-05-04 09:44:37.040  INFO 30384 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 0 history items for page 0 (size 10) for userId: 18. Total items: 0
2025-05-04 09:44:37.040 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:44:37.040 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:44:37.041 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:44:37.042 DEBUG 30384 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:04.830 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-04 09:47:04.830 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:04.834 DEBUG 30384 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 09:47:04.843 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users?page=1&pageSize=10&username=&phone=&status=] with attributes [hasRole('ROLE_ADMIN')]
2025-05-04 09:47:04.843 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-04 09:47:04.844 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users?page=1&pageSize=10&username=&phone=&status=", parameters={masked}
2025-05-04 09:47:04.844 DEBUG 30384 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllUsers(int, int, String, String, String, String)
2025-05-04 09:47:04.876 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:04.876 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=18, users=[UserDTO(id=18, username=dawwa (truncated)...]
2025-05-04 09:47:04.879 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:04.880 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:06.056 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/staff?page=0&pageSize=10
2025-05-04 09:47:06.056 DEBUG 30384 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:06.061 DEBUG 30384 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 09:47:06.061 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/staff?page=0&pageSize=10] with attributes [authenticated]
2025-05-04 09:47:06.062 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/staff?page=0&pageSize=10
2025-05-04 09:47:06.062 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/staff?page=0&pageSize=10", parameters={masked}
2025-05-04 09:47:06.062 DEBUG 30384 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllStaffPaginated(int, int, String, String, String)
2025-05-04 09:47:06.077 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:06.077 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=5, users=[UserDTO(id=17, username=保洁7号阿姨 (truncated)...]
2025-05-04 09:47:06.078 DEBUG 30384 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:06.079 DEBUG 30384 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:07.526 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=0&size=10
2025-05-04 09:47:07.527 DEBUG 30384 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:07.531 DEBUG 30384 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 09:47:07.532 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 09:47:07.532 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=0&size=10
2025-05-04 09:47:07.532 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=0&size=10", parameters={masked}
2025-05-04 09:47:07.533 DEBUG 30384 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-04 09:47:07.558 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:07.558 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=21, list=[{roomNumber=501, lastCleanTime=2025-05-01T15:04:43, notes=, needCle (truncated)...]
2025-05-04 09:47:07.560 DEBUG 30384 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:07.561 DEBUG 30384 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:07.630 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/roomtypes
2025-05-04 09:47:07.630 DEBUG 30384 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:07.634 DEBUG 30384 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 09:47:07.634 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/roomtypes] with attributes [hasRole('ROLE_ADMIN')]
2025-05-04 09:47:07.635 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/roomtypes
2025-05-04 09:47:07.635 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/roomtypes", parameters={}
2025-05-04 09:47:07.635 DEBUG 30384 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getAllRoomTypes()
2025-05-04 09:47:07.641 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:07.641 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{amenities=无限量矿泉水、咖啡、茶叶等, createTime=2025-04-28T11:22:57, name=行政套房, description=高端 (truncated)...]
2025-05-04 09:47:07.642 DEBUG 30384 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:07.642 DEBUG 30384 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:42.149 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:47:42.149 DEBUG 30384 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:42.154 DEBUG 30384 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:47:42.154 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:47:42.154 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:47:42.155 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:47:42.155 DEBUG 30384 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:47:42.169 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:42.169 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:47:42.170 DEBUG 30384 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:42.171 DEBUG 30384 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:43.273 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:47:43.273 DEBUG 30384 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:43.278 DEBUG 30384 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:47:43.279 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:47:43.279 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:47:43.279 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:47:43.281 DEBUG 30384 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:47:43.298 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:43.299 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:47:43.300 DEBUG 30384 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:43.300 DEBUG 30384 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:44.308 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:47:44.308 DEBUG 30384 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:44.313 DEBUG 30384 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:47:44.314 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:47:44.314 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:47:44.314 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:47:44.314 DEBUG 30384 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:47:44.321  INFO 30384 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 consumption records for userId: 18
2025-05-04 09:47:44.323  INFO 30384 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:47:44.323  INFO 30384 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 144777
2025-05-04 09:47:44.323  INFO 30384 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:47:44.324  WARN 30384 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Page start index 0 is out of bounds, history is empty. Returning empty list.
2025-05-04 09:47:44.324  INFO 30384 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 0 history items for page 0 (size 10) for userId: 18. Total items: 0
2025-05-04 09:47:44.324 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:44.324 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:47:44.325 DEBUG 30384 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:44.325 DEBUG 30384 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:44.575 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:47:44.575 DEBUG 30384 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:44.578 DEBUG 30384 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:47:44.579 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:47:44.579 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:47:44.579 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:47:44.579 DEBUG 30384 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:47:44.590 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:44.591 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:47:44.592 DEBUG 30384 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:44.593 DEBUG 30384 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:47:45.896 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:47:45.896 DEBUG 30384 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:47:45.900 DEBUG 30384 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:47:45.901 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:47:45.901 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:47:45.901 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:47:45.902 DEBUG 30384 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:47:45.909  INFO 30384 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 consumption records for userId: 18
2025-05-04 09:47:45.911  INFO 30384 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:47:45.911  INFO 30384 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 144777
2025-05-04 09:47:45.911  INFO 30384 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:47:45.911  WARN 30384 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Page start index 0 is out of bounds, history is empty. Returning empty list.
2025-05-04 09:47:45.911  INFO 30384 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 0 history items for page 0 (size 10) for userId: 18. Total items: 0
2025-05-04 09:47:45.911 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:47:45.912 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:47:45.913 DEBUG 30384 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:47:45.913 DEBUG 30384 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:48:40.029 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 09:48:40.030 DEBUG 30384 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:48:40.030 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:48:40.030 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 09:48:40.031 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 09:48:40.033 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 09:48:40.033 DEBUG 30384 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:48:40.036 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 09:48:40.036 DEBUG 30384 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:48:40.036 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:48:40.036 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 09:48:40.042 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 09:48:40.042 DEBUG 30384 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 09:48:40.044 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:48:40.045 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 09:48:40.047 DEBUG 30384 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 09:48:40.047 DEBUG 30384 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:48:42.341 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 09:48:42.341 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:48:42.342 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:48:42.342 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 09:48:42.342 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 09:48:42.343 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 09:48:42.343 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:48:42.343 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 09:48:42.343 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:48:42.343 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:48:42.344 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 09:48:42.344 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 09:48:42.344 DEBUG 30384 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 09:48:42.345 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:48:42.345 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 09:48:42.346 DEBUG 30384 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 09:48:42.347 DEBUG 30384 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:51:42.500  INFO 30384 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 09:51:42.501  INFO 30384 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 09:51:42.509  INFO 30384 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 09:51:49.574  INFO 29640 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 29640 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 09:51:49.577 DEBUG 29640 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 09:51:49.577  INFO 29640 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 09:51:50.410  INFO 29640 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 09:51:50.597  INFO 29640 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 178 ms. Found 19 JPA repository interfaces.
2025-05-04 09:51:51.063  INFO 29640 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 09:51:51.065  INFO 29640 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 09:51:51.065  INFO 29640 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 09:51:51.065  INFO 29640 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 09:51:51.068  INFO 29640 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 09:51:51.076  INFO 29640 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 09:51:51.077  INFO 29640 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 09:51:51.197  INFO 29640 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 09:51:51.198  INFO 29640 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1579 ms
2025-05-04 09:51:51.361  INFO 29640 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 09:51:51.400  INFO 29640 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 09:51:51.521  INFO 29640 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 09:51:51.619  INFO 29640 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 09:51:51.874  INFO 29640 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 09:51:51.887  INFO 29640 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 09:51:52.916  INFO 29640 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 09:51:52.923  INFO 29640 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 09:51:53.323 DEBUG 29640 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 09:51:53.324 DEBUG 29640 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 09:51:54.125 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 09:51:54.131 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 09:51:54.131 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 09:51:54.131 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 09:51:54.132 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 09:51:54.137 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 09:51:54.137 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 09:51:54.137 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 09:51:54.137 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 09:51:54.138 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 09:51:54.138 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 09:51:54.138 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 09:51:54.138 DEBUG 29640 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 09:51:54.144  INFO 29640 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@253c7189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@cfe72b0, org.springframework.security.web.context.SecurityContextPersistenceFilter@1503f434, org.springframework.security.web.header.HeaderWriterFilter@383a5260, org.springframework.web.filter.CorsFilter@61c0fb12, org.springframework.security.web.authentication.logout.LogoutFilter@7c7b27c, com.hotel.config.JwtAuthenticationFilter@6cb759d5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7af17d31, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40612056, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12f933c7, org.springframework.security.web.session.SessionManagementFilter@64f1b2fb, org.springframework.security.web.access.ExceptionTranslationFilter@76055d02, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@439047ef]
2025-05-04 09:51:54.184  WARN 29640 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 09:51:54.305 DEBUG 29640 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 09:51:54.324  INFO 29640 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 09:51:54.392 DEBUG 29640 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 09:51:54.400 DEBUG 29640 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 09:51:54.415 DEBUG 29640 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 09:51:54.423 DEBUG 29640 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 09:51:54.571  INFO 29640 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 09:51:54.579  INFO 29640 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 5.432 seconds (JVM running for 6.204)
2025-05-04 09:52:45.858  INFO 29640 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 09:52:45.858  INFO 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 09:52:45.859 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 09:52:45.859 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 09:52:45.859 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 09:52:45.860 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2e871e93
2025-05-04 09:52:45.860 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@54c1878b
2025-05-04 09:52:45.861 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 09:52:45.861  INFO 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-04 09:52:45.873 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:52:45.877 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:45.937 DEBUG 29640 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:52:45.945 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:52:45.946 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:52:45.947 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:52:45.951 DEBUG 29640 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:52:46.107 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:46.107 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:52:46.142 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:46.144 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:52:47.155 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:52:47.155 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:47.160 DEBUG 29640 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:52:47.161 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:52:47.161 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:52:47.161 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:52:47.162 DEBUG 29640 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:52:47.172  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 consumption records for userId: 18
2025-05-04 09:52:47.175  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:52:47.176  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 144777
2025-05-04 09:52:47.176  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:52:47.176  WARN 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Page start index 0 is out of bounds, history is empty. Returning empty list.
2025-05-04 09:52:47.176  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 0 history items for page 0 (size 10) for userId: 18. Total items: 0
2025-05-04 09:52:47.178 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:47.179 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:52:47.183 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:47.183 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:52:49.774 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:52:49.775 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:49.778 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:52:49.778 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:49.781 DEBUG 29640 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:52:49.783 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:52:49.783 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:52:49.783 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:52:49.785 DEBUG 29640 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:52:49.785 DEBUG 29640 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:52:49.785 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:52:49.785 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:52:49.787 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:52:49.788 DEBUG 29640 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:52:49.798 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:49.798 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:52:49.803 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:49.803 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:52:49.812 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:49.813 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:52:49.814 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:49.815 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:52:49.820 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:52:49.820 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:49.825 DEBUG 29640 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:52:49.826 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:52:49.826 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:52:49.827 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:52:49.827 DEBUG 29640 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:52:49.846 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:49.846 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:52:49.848 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:49.848 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:52:50.990 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:52:50.990 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:50.995 DEBUG 29640 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:52:50.995 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:52:50.996 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:52:50.996 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:52:50.997 DEBUG 29640 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:52:51.005  INFO 29640 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 consumption records for userId: 18
2025-05-04 09:52:51.007  INFO 29640 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:52:51.008  INFO 29640 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 144777
2025-05-04 09:52:51.008  INFO 29640 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:52:51.008  WARN 29640 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Page start index 0 is out of bounds, history is empty. Returning empty list.
2025-05-04 09:52:51.008  INFO 29640 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 0 history items for page 0 (size 10) for userId: 18. Total items: 0
2025-05-04 09:52:51.009 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:51.010 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=0, list=[]}, success=true, message=获取成功}]
2025-05-04 09:52:51.011 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:51.011 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:52:52.696 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 09:52:52.696 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:52:52.697 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:52.697 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:52:52.699 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:52:52.699 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 09:52:52.700 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 09:52:52.700 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 09:52:52.701 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 09:52:52.701 DEBUG 29640 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 09:52:52.704 DEBUG 29640 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:52:52.705 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:52:52.705 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:52:52.705 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:52:52.706 DEBUG 29640 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:52:52.714 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:52.714 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:52:52.715 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:52.716 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:52:52.753 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:52:52.754 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 09:52:52.756 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:52:52.756 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:00.364 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:53:00.364 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:00.369 DEBUG 29640 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:00.369 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:53:00.370 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:53:00.370 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:53:00.370 DEBUG 29640 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:53:00.376 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:00.376 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:53:00.377 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:00.377 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:01.319 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:01.320 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:01.324 DEBUG 29640 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:01.325 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:53:01.325 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:01.326 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:53:01.327 DEBUG 29640 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:53:01.342 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:01.343 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:53:01.345 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:01.345 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:06.183 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 09:53:06.183 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:53:06.183 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:06.183 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:06.184 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 09:53:06.184 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 09:53:06.185 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 09:53:06.185 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 09:53:06.186 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 09:53:06.186 DEBUG 29640 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 09:53:06.188 DEBUG 29640 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:06.189 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:53:06.189 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:53:06.189 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:53:06.190 DEBUG 29640 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:53:06.196 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:06.196 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:53:06.197 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:06.198 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:06.215 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:06.216 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 09:53:06.217 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:06.218 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:20.699 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 09:53:20.700 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:20.710 DEBUG 29640 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:20.710 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 09:53:20.711 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 09:53:20.711 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 09:53:20.711 DEBUG 29640 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 09:53:20.723 DEBUG 29640 --- [http-nio-8090-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=1, checkIn=2025-08-31T16:00:00.000Z, checkOut=2025-09-29T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 09:53:20.813  INFO 29640 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : [POINTS_ON_CREATE] Triggering consumption record for Reservation ID: 16
2025-05-04 09:53:20.817  INFO 29640 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] Calculated pointsEarned: 41402 for amount: 20701.07
2025-05-04 09:53:20.818  INFO 29640 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] ConsumptionRecord before save: [FAILED toString()]
2025-05-04 09:53:20.859  INFO 29640 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] Inside addConsumptionRecord. Saved entity ID: 1, Points Earned: 41402
2025-05-04 09:53:20.860  INFO 29640 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] ConsumptionRecord saved successfully. ID: 1, Points Earned in returned entity: 41402
2025-05-04 09:53:20.860  INFO 29640 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] User points before update: 144777, adding: 41402, after update: 186179
2025-05-04 09:53:20.868  INFO 29640 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] userService.updateUser called successfully for userId: 18
2025-05-04 09:53:20.868  INFO 29640 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : [POINTS_ON_CREATE] Consumption record processing finished for Reservation ID: 16
2025-05-04 09:53:20.893 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:20.893 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订创建成功, data={discountRate=0.85, reservationId=16, origi (truncated)...]
2025-05-04 09:53:20.897 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:20.897 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:21.213 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-04 09:53:21.213 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:21.217 DEBUG 29640 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:21.218 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-04 09:53:21.218 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-04 09:53:21.218 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-04 09:53:21.219 DEBUG 29640 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-04 09:53:21.225 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:21.225 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=MembershipDTO(userId=18, username=dawwadw, name=asdwd, memberLevel=钻石会员, memberLevel (truncated)...]
2025-05-04 09:53:21.229 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:21.229 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:22.081 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:53:22.081 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:22.087 DEBUG 29640 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:22.087 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:53:22.088 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:53:22.088 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:53:22.088 DEBUG 29640 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:53:22.095 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:22.096 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:53:22.097 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:22.098 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:22.390 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:22.390 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:22.393 DEBUG 29640 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:22.394 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:53:22.394 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:22.394 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:53:22.395 DEBUG 29640 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:53:22.411 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:22.412 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:53:22.413 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:22.413 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:22.722 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:22.723 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:22.727 DEBUG 29640 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:22.727 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:53:22.727 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:22.728 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:53:22.728 DEBUG 29640 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:53:22.746 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:22.746 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:53:22.747 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:22.748 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:25.868 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:53:25.868 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:25.872 DEBUG 29640 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:25.873 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:53:25.874 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:53:25.874 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:53:25.874 DEBUG 29640 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:53:25.882  INFO 29640 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 09:53:25.884  INFO 29640 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:53:25.884  INFO 29640 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 09:53:25.885  INFO 29640 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 09:53:25.885  INFO 29640 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:53:25.885  INFO 29640 --- [http-nio-8090-exec-7] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 09:53:25.885 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:25.885 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 09:53:25.888 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:25.888 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:28.218 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:28.218 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:28.223 DEBUG 29640 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:28.224 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:53:28.224 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:53:28.224 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:53:28.225 DEBUG 29640 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:53:28.245 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:28.245 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:53:28.247 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:28.248 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:53:29.883 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:53:29.883 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:53:29.886 DEBUG 29640 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:53:29.887 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:53:29.888 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:53:29.888 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:53:29.888 DEBUG 29640 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:53:29.894  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 09:53:29.896  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:53:29.896  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 09:53:29.896  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 09:53:29.897  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:53:29.897  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 09:53:29.898 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:53:29.898 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 09:53:29.899 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:53:29.899 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:56:56.413 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:56:56.414 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:56:56.421 DEBUG 29640 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:56:56.422 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:56:56.422 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:56:56.423 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:56:56.423 DEBUG 29640 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:56:56.430 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:56:56.430 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:56:56.431 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:56:56.432 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:56:56.466 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:56:56.466 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:56:56.471 DEBUG 29640 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:56:56.472 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:56:56.472 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:56:56.472 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:56:56.473 DEBUG 29640 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:56:56.493 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:56:56.493 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:56:56.494 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:56:56.494 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:56:56.726 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:56:56.727 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:56:56.730 DEBUG 29640 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:56:56.731 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:56:56.732 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:56:56.732 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:56:56.732 DEBUG 29640 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:56:56.753 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:56:56.753 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:56:56.755 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:56:56.755 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:57:59.525 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 09:57:59.525 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:57:59.526 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:57:59.526 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:57:59.530 DEBUG 29640 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:57:59.530 DEBUG 29640 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:57:59.531 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:57:59.531 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 09:57:59.531 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:57:59.531 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 09:57:59.532 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 09:57:59.532 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:57:59.532 DEBUG 29640 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 09:57:59.533 DEBUG 29640 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:57:59.538 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:57:59.539 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 09:57:59.540 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:57:59.540 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:57:59.551 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:57:59.551 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:57:59.553 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:57:59.553 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:57:59.563 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:57:59.564 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:57:59.567 DEBUG 29640 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:57:59.569 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 09:57:59.569 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 09:57:59.569 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 09:57:59.570 DEBUG 29640 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 09:57:59.589 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:57:59.589 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 09:57:59.591 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:57:59.591 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 09:58:01.044 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:58:01.045 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 09:58:01.049 DEBUG 29640 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 09:58:01.049 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 09:58:01.050 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 09:58:01.050 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 09:58:01.050 DEBUG 29640 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 09:58:01.057  INFO 29640 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 09:58:01.059  INFO 29640 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 09:58:01.060  INFO 29640 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 09:58:01.060  INFO 29640 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 09:58:01.060  INFO 29640 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 09:58:01.060  INFO 29640 --- [http-nio-8090-exec-8] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 09:58:01.060 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 09:58:01.061 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 09:58:01.062 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 09:58:01.062 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:05.532 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 10:02:05.532 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:05.538 DEBUG 29640 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:05.539 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 10:02:05.539 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 10:02:05.539 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 10:02:05.540 DEBUG 29640 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 10:02:05.546 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:05.547 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 10:02:05.548 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:05.549 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:05.562 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:05.562 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:05.567 DEBUG 29640 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:05.567 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 10:02:05.567 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:05.567 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 10:02:05.568 DEBUG 29640 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:05.584 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:05.585 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 10:02:05.586 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:05.587 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:05.848 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:05.848 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:05.853 DEBUG 29640 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:05.853 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 10:02:05.853 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:05.853 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 10:02:05.853 DEBUG 29640 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:05.870 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:05.870 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 10:02:05.871 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:05.871 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:13.607 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 10:02:13.608 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:13.608 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:13.608 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:13.611 DEBUG 29640 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:13.611 DEBUG 29640 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:13.612 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 10:02:13.612 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 10:02:13.612 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:13.612 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 10:02:13.612 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 10:02:13.612 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 10:02:13.613 DEBUG 29640 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:13.613 DEBUG 29640 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 10:02:13.619 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:13.619 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 10:02:13.620 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:13.620 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:13.632 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:13.633 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 10:02:13.635 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:13.635 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:13.642 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:13.642 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:13.646 DEBUG 29640 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:13.647 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 10:02:13.647 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:13.647 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 10:02:13.648 DEBUG 29640 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:13.665 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:13.665 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 10:02:13.666 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:13.666 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:15.089 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 10:02:15.090 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:15.095 DEBUG 29640 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:15.095 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 10:02:15.096 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 10:02:15.096 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 10:02:15.096 DEBUG 29640 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:15.125 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:15.126 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 10:02:15.127 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:15.127 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:15.588 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 10:02:15.588 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:15.592 DEBUG 29640 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:15.592 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED] with attributes [authenticated]
2025-05-04 10:02:15.592 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 10:02:15.593 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CONFIRMED", parameters={masked}
2025-05-04 10:02:15.593 DEBUG 29640 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:15.601 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:15.601 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 10:02:15.602 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:15.602 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:16.110 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 10:02:16.110 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:16.114 DEBUG 29640 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:16.114 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED] with attributes [authenticated]
2025-05-04 10:02:16.114 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 10:02:16.115 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=COMPLETED", parameters={masked}
2025-05-04 10:02:16.115 DEBUG 29640 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:16.121 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:16.122 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 10:02:16.123 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:16.123 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:16.797 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED
2025-05-04 10:02:16.798 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:16.801 DEBUG 29640 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:16.802 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED] with attributes [authenticated]
2025-05-04 10:02:16.803 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED
2025-05-04 10:02:16.803 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CANCELLED", parameters={masked}
2025-05-04 10:02:16.803 DEBUG 29640 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:16.810 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:16.811 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 10:02:16.812 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:16.812 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:17.186 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:17.187 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:17.191 DEBUG 29640 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:17.191 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 10:02:17.191 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:17.191 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 10:02:17.192 DEBUG 29640 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:17.205 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:17.206 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 10:02:17.207 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:17.208 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:18.910 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 10:02:18.910 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:18.915 DEBUG 29640 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:18.915 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 10:02:18.915 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 10:02:18.916 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 10:02:18.917 DEBUG 29640 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 10:02:18.924  INFO 29640 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 10:02:18.926  INFO 29640 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 10:02:18.926  INFO 29640 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 10:02:18.926  INFO 29640 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 10:02:18.926  INFO 29640 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 10:02:18.926  INFO 29640 --- [http-nio-8090-exec-9] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 10:02:18.926 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:18.927 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 10:02:18.928 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:18.928 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:31.542 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 10:02:31.543 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:31.545 DEBUG 29640 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:31.546 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 10:02:31.546 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 10:02:31.547 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 10:02:31.547 DEBUG 29640 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 10:02:31.553  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 10:02:31.554  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 10:02:31.555  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 10:02:31.555  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 10:02:31.555  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 10:02:31.555  INFO 29640 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 10:02:31.555 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:31.555 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 10:02:31.556 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:31.556 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:34.612 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 10:02:34.612 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:34.615 DEBUG 29640 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:34.616 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 10:02:34.616 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 10:02:34.617 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 10:02:34.617 DEBUG 29640 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 10:02:34.623  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 10:02:34.625  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 10:02:34.625  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 10:02:34.625  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 10:02:34.625  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 10:02:34.626  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 10:02:34.626 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:34.626 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 10:02:34.627 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:34.627 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:34.876 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:34.876 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:34.880 DEBUG 29640 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:34.881 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 10:02:34.881 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 10:02:34.881 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 10:02:34.881 DEBUG 29640 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 10:02:34.897 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:34.897 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 10:02:34.898 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:34.899 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:02:39.531 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 10:02:39.531 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:02:39.534 DEBUG 29640 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 10:02:39.535 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 10:02:39.535 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 10:02:39.535 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 10:02:39.535 DEBUG 29640 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 10:02:39.540 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:02:39.541 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 10:02:39.542 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:02:39.542 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:04:00.906 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/invitation-codes/all
2025-05-04 10:04:00.907 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:04:00.911 DEBUG 29640 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 10:04:00.911 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/invitation-codes/all] with attributes [authenticated]
2025-05-04 10:04:00.912 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/invitation-codes/all
2025-05-04 10:04:00.912 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/invitation-codes/all", parameters={}
2025-05-04 10:04:00.912 DEBUG 29640 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.InvitationCodeController#getAllInvitationCodes()
2025-05-04 10:04:00.930 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:04:00.931 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[InvitationCode(id=12, code=L1R1O7TC, role=CLEANER, maxUses=1, currentUses=0, expiryDate=2025-06-01T (truncated)...]
2025-05-04 10:04:00.934 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:04:00.935 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:04:09.845 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 10:04:09.846 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:04:09.846 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 10:04:09.846 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 10:04:09.853 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 10:04:09.854 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 10:04:09.855 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:04:09.857 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 10:04:09.857 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:04:09.858 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 10:04:09.858 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 10:04:09.864 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 10:04:09.864 DEBUG 29640 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 10:04:09.867 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:04:09.867 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 10:04:09.868 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 10:04:09.868 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:16:21.187 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-04 10:16:21.188 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:16:21.188 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 10:16:21.188 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 10:16:21.189 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-04 10:16:21.189 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-04 10:16:21.189 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-04 10:16:21.190 DEBUG 29640 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-04 10:16:21.213 DEBUG 29640 --- [http-nio-8090-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=18999177256, password=18999177256)]
2025-05-04 10:16:21.355 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-04 10:16:21.369 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:16:21.370 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=16, username=18999177256, role=RECEPTIONIST, token= (truncated)...]
2025-05-04 10:16:21.370 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 10:16:21.371 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:16:21.545 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 10:16:21.545 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:16:21.545 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 10:16:21.545 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 10:16:21.546 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 10:16:21.546 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 10:16:21.546 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 10:16:21.546 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 10:16:21.546 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 10:16:21.546 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 10:16:21.546 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 10:16:21.547 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 10:16:21.548 DEBUG 29640 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 10:16:21.549 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 10:16:21.549 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 10:16:21.549 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 10:16:21.550 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:39:57.921 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:39:57.929 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:39:57.934 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:39:57.935 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:39:57.952 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:39:57.955 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:39:57.957 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:39:57.958 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:39:57.958 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:39:57.958 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:39:57.958 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:39:57.966 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:39:57.973 DEBUG 29640 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:39:57.991 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:39:57.992 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:39:57.998 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:39:57.999 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:04.029 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 11:40:04.029 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:04.109 DEBUG 29640 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 11:40:04.111 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 11:40:04.111 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 11:40:04.112 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 11:40:04.115 DEBUG 29640 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 11:40:04.144 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:40:04.146 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 11:40:04.148 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:40:04.148 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:13.208 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:40:13.209 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:13.210 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:13.210 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:40:13.211 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:40:13.212 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:40:13.213 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:13.214 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:40:13.214 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:13.214 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:13.215 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:40:13.216 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:40:13.216 DEBUG 29640 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:40:13.217 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:40:13.218 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:40:13.222 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:40:13.223 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:25.363 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:40:25.364 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:25.365 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:25.365 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:40:25.366 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:40:25.366 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:40:25.368 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:25.368 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:40:25.368 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:25.368 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:25.368 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:40:25.368 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:40:25.369 DEBUG 29640 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:40:25.370 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:40:25.371 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:40:25.372 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:40:25.372 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:39.111 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:40:39.112 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:39.112 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:39.112 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:40:39.113 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:40:39.114 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:40:39.114 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:39.114 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:40:39.115 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:39.115 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:39.115 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:40:39.116 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:40:39.116 DEBUG 29640 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:40:39.117 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:40:39.117 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:40:39.118 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:40:39.118 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:48.604 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-04 11:40:48.604 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:48.606 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:48.607 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:40:48.608 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-04 11:40:48.608 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-04 11:40:48.608 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-04 11:40:48.610 DEBUG 29640 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-04 11:40:48.613 DEBUG 29640 --- [http-nio-8090-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=18999177256, password=18999177256)]
2025-05-04 11:40:48.705 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-04 11:40:48.710 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:40:48.711 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=16, username=18999177256, role=RECEPTIONIST, token= (truncated)...]
2025-05-04 11:40:48.713 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:40:48.713 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:48.879 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:40:48.879 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:48.879 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:48.879 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:40:48.880 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:40:48.880 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:40:48.880 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:48.880 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:40:48.881 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:48.881 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:48.881 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:40:48.881 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:40:48.882 DEBUG 29640 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:40:48.883 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:40:48.883 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:40:48.883 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:40:48.884 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:52.741 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:40:52.742 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:52.742 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:52.742 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:40:52.743 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:40:52.743 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:40:52.743 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:40:52.744 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:40:52.744 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:40:52.744 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:40:52.744 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:40:52.745 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:40:52.746 DEBUG 29640 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:40:52.747 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:40:52.747 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:40:52.747 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:40:52.747 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:41:22.199 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 11:41:22.200 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:41:22.207 DEBUG 29640 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 11:41:22.209 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:41:22.209 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 11:41:22.210 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 11:41:22.211 DEBUG 29640 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 11:41:22.509 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:41:22.510 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=18, availableRooms=15, newUse (truncated)...]
2025-05-04 11:41:22.512 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:41:22.512 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:41:25.577 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-04 11:41:25.578 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:41:25.582 DEBUG 29640 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 11:41:25.586 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users?page=1&pageSize=10&username=&phone=&status=] with attributes [hasRole('ROLE_ADMIN')]
2025-05-04 11:41:25.587 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-04 11:41:25.587 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users?page=1&pageSize=10&username=&phone=&status=", parameters={masked}
2025-05-04 11:41:25.587 DEBUG 29640 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllUsers(int, int, String, String, String, String)
2025-05-04 11:41:25.642 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:41:25.643 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=18, users=[UserDTO(id=18, username=dawwa (truncated)...]
2025-05-04 11:41:25.647 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:41:25.647 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:41:26.805 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/staff?page=0&pageSize=10
2025-05-04 11:41:26.805 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:41:26.809 DEBUG 29640 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 11:41:26.810 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/staff?page=0&pageSize=10] with attributes [authenticated]
2025-05-04 11:41:26.810 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/staff?page=0&pageSize=10
2025-05-04 11:41:26.811 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/staff?page=0&pageSize=10", parameters={masked}
2025-05-04 11:41:26.811 DEBUG 29640 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllStaffPaginated(int, int, String, String, String)
2025-05-04 11:41:26.842 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:41:26.843 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=5, users=[UserDTO(id=17, username=保洁7号阿姨 (truncated)...]
2025-05-04 11:41:26.844 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:41:26.844 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:42:09.963 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:42:09.964 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:42:09.964 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:42:09.965 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:42:09.965 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:42:09.965 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:42:09.966 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:42:09.967 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:42:09.967 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:42:09.967 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:42:09.968 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:42:09.968 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:42:09.969 DEBUG 29640 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:42:09.969 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:42:09.970 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:42:09.970 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:42:09.971 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:42:25.247 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:42:25.248 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:42:25.248 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:42:25.248 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:42:25.249 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:42:25.250 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:42:25.251 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:42:25.251 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:42:25.252 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:42:25.252 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:42:25.252 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:42:25.253 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:42:25.253 DEBUG 29640 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:42:25.254 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:42:25.254 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:42:25.255 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:42:25.256 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:42:32.810 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:42:32.811 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:42:32.811 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:42:32.811 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:42:32.812 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:42:32.812 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:42:32.813 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:42:32.813 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:42:32.814 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:42:32.814 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:42:32.814 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:42:32.814 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:42:32.815 DEBUG 29640 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:42:32.816 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:42:32.816 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:42:32.817 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:42:32.817 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:43:19.472 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:43:19.473 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:43:19.473 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:43:19.474 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:43:19.474 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:43:19.475 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:43:19.475 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:43:19.477 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:43:19.477 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:43:19.477 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:43:19.477 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:43:19.477 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:43:19.478 DEBUG 29640 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:43:19.479 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:43:19.479 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:43:19.480 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:43:19.481 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:43:45.692 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:43:45.693 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:43:45.693 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:43:45.694 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:43:45.695 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:43:45.695 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:43:45.696 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:43:45.697 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:43:45.697 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:43:45.697 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:43:45.697 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:43:45.699 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:43:45.699 DEBUG 29640 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:43:45.700 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:43:45.701 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:43:45.702 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:43:45.702 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:43:48.445 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:43:48.446 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:43:48.446 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:43:48.446 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:43:48.446 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:43:48.447 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:43:48.447 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:43:48.447 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:43:48.448 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:43:48.448 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:43:48.448 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:43:48.448 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:43:48.448 DEBUG 29640 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:43:48.450 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:43:48.450 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:43:48.451 DEBUG 29640 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:43:48.452 DEBUG 29640 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:43:56.142 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 11:43:56.143 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:43:56.148 DEBUG 29640 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 11:43:56.149 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 11:43:56.149 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 11:43:56.150 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 11:43:56.150 DEBUG 29640 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 11:43:56.155 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:43:56.155 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 11:43:56.156 DEBUG 29640 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:43:56.156 DEBUG 29640 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:44:02.126 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-04 11:44:02.127 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:44:02.128 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:44:02.128 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 11:44:02.128 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-04 11:44:02.128 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-04 11:44:02.129 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-04 11:44:02.129 DEBUG 29640 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-04 11:44:02.129 DEBUG 29640 --- [http-nio-8090-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=17777777778, password=17777777778)]
2025-05-04 11:44:02.220 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-04 11:44:02.224 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:44:02.224 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=18, username=dawwadw, role=CUSTOMER, token=eyJhbGci (truncated)...]
2025-05-04 11:44:02.225 DEBUG 29640 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:44:02.225 DEBUG 29640 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:44:02.374 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 11:44:02.375 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:44:02.378 DEBUG 29640 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 11:44:02.379 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 11:44:02.379 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 11:44:02.379 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 11:44:02.379 DEBUG 29640 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 11:44:02.383 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:44:02.383 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 11:44:02.384 DEBUG 29640 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:44:02.384 DEBUG 29640 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:44:02.544 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-04 11:44:02.544 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:44:02.548 DEBUG 29640 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 11:44:02.548 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-04 11:44:02.549 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-04 11:44:02.549 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-04 11:44:02.549 DEBUG 29640 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-04 11:44:02.555 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:44:02.557 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=MembershipDTO(userId=18, username=dawwadw, name=asdwd, memberLevel=钻石会员, memberLevel (truncated)...]
2025-05-04 11:44:02.558 DEBUG 29640 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:44:02.559 DEBUG 29640 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:44:04.583 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 11:44:04.584 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:44:04.589 DEBUG 29640 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 11:44:04.589 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 11:44:04.590 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 11:44:04.591 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 11:44:04.591 DEBUG 29640 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 11:44:04.597 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:44:04.597 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 11:44:04.598 DEBUG 29640 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:44:04.599 DEBUG 29640 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:44:05.957 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 11:44:05.958 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:44:05.964 DEBUG 29640 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 11:44:05.964 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 11:44:05.965 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 11:44:05.965 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 11:44:05.966 DEBUG 29640 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 11:44:05.997 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:44:06.000 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 11:44:06.002 DEBUG 29640 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:44:06.003 DEBUG 29640 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:44:06.434 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 11:44:06.434 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:44:06.438 DEBUG 29640 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 11:44:06.439 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 11:44:06.439 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 11:44:06.440 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 11:44:06.440 DEBUG 29640 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 11:44:06.452  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 11:44:06.456  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 11:44:06.456  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 11:44:06.457  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 11:44:06.457  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 11:44:06.457  INFO 29640 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 11:44:06.457 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:44:06.458 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 11:44:06.459 DEBUG 29640 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:44:06.459 DEBUG 29640 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:44:07.663 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 11:44:07.664 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:44:07.668 DEBUG 29640 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 11:44:07.668 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 11:44:07.668 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 11:44:07.669 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 11:44:07.669 DEBUG 29640 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 11:44:07.678  INFO 29640 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 11:44:07.680  INFO 29640 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 11:44:07.680  INFO 29640 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 11:44:07.680  INFO 29640 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 11:44:07.680  INFO 29640 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 11:44:07.681  INFO 29640 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 11:44:07.681 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:44:07.682 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 11:44:07.683 DEBUG 29640 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:44:07.683 DEBUG 29640 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:44:09.077 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 11:44:09.078 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:44:09.084 DEBUG 29640 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 11:44:09.085 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 11:44:09.085 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 11:44:09.086 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 11:44:09.086 DEBUG 29640 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 11:44:09.112 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:44:09.113 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 11:44:09.114 DEBUG 29640 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:44:09.115 DEBUG 29640 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:44:54.954  INFO 29640 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 11:44:54.967  INFO 29640 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 11:44:54.977  INFO 29640 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 11:44:59.868  INFO 3428 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 3428 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 11:44:59.871 DEBUG 3428 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 11:44:59.872  INFO 3428 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 11:45:01.035  INFO 3428 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 11:45:01.259  INFO 3428 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 213 ms. Found 19 JPA repository interfaces.
2025-05-04 11:45:01.868  INFO 3428 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 11:45:01.870  INFO 3428 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 11:45:01.871  INFO 3428 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 11:45:01.871  INFO 3428 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 11:45:01.882  INFO 3428 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 11:45:01.893  INFO 3428 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 11:45:01.894  INFO 3428 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 11:45:02.033  INFO 3428 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 11:45:02.034  INFO 3428 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2098 ms
2025-05-04 11:45:02.206  INFO 3428 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 11:45:02.270  INFO 3428 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 11:45:02.441  INFO 3428 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 11:45:02.568  INFO 3428 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 11:45:02.937  INFO 3428 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 11:45:02.953  INFO 3428 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 11:45:04.217  INFO 3428 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 11:45:04.226  INFO 3428 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 11:45:04.692 DEBUG 3428 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 11:45:04.692 DEBUG 3428 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 11:45:05.573 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 11:45:05.581 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 11:45:05.581 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 11:45:05.582 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 11:45:05.582 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 11:45:05.582 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 11:45:05.582 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 11:45:05.582 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 11:45:05.583 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 11:45:05.583 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 11:45:05.583 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 11:45:05.583 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 11:45:05.584 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 11:45:05.584 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 11:45:05.584 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 11:45:05.585 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 11:45:05.585 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 11:45:05.586 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 11:45:05.586 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 11:45:05.586 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 11:45:05.586 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 11:45:05.586 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 11:45:05.587 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 11:45:05.587 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 11:45:05.587 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 11:45:05.587 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 11:45:05.587 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 11:45:05.588 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 11:45:05.588 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 11:45:05.588 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 11:45:05.588 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 11:45:05.588 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 11:45:05.588 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 11:45:05.588 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 11:45:05.589 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 11:45:05.589 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 11:45:05.591 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 11:45:05.591 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 11:45:05.592 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 11:45:05.592 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 11:45:05.593 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 11:45:05.593 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 11:45:05.593 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 11:45:05.593 DEBUG 3428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 11:45:05.602  INFO 3428 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fae6f43, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55f54852, org.springframework.security.web.context.SecurityContextPersistenceFilter@2b33f7a0, org.springframework.security.web.header.HeaderWriterFilter@19f9404d, org.springframework.web.filter.CorsFilter@5b53c3c5, org.springframework.security.web.authentication.logout.LogoutFilter@5de32e00, com.hotel.config.JwtAuthenticationFilter@3adb4cc8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f541f60, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1dcc0bb8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4bca2a09, org.springframework.security.web.session.SessionManagementFilter@3b9c386d, org.springframework.security.web.access.ExceptionTranslationFilter@d5eca06, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6037748a]
2025-05-04 11:45:05.650  WARN 3428 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 11:45:05.802 DEBUG 3428 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 11:45:05.824  INFO 3428 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 11:45:05.899 DEBUG 3428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 11:45:05.904 DEBUG 3428 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 11:45:05.920 DEBUG 3428 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 11:45:05.928 DEBUG 3428 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 11:45:06.070  INFO 3428 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 11:45:06.078  INFO 3428 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.941 seconds (JVM running for 7.911)
2025-05-04 11:45:10.775  INFO 3428 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 11:45:10.776  INFO 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 11:45:10.776 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 11:45:10.776 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 11:45:10.776 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 11:45:10.777 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@776b7fa2
2025-05-04 11:45:10.778 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@696a6506
2025-05-04 11:45:10.778 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 11:45:10.778  INFO 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-04 11:45:10.790 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:45:10.794 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:45:10.798 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:45:10.798 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:45:10.809 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:45:10.810 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:45:10.810 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:45:10.813 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:45:10.813 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:45:10.813 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:45:10.814 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:45:10.824 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:45:10.828 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:45:10.858 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:45:10.858 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:45:10.877 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:45:10.879 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:46:20.517 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-04 11:46:20.518 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:46:20.527 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:46:20.527 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:46:20.528 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-04 11:46:20.528 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-04 11:46:20.528 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-04 11:46:20.529 DEBUG 3428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-04 11:46:20.592 DEBUG 3428 --- [http-nio-8090-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=18999177256, password=18999177256)]
2025-05-04 11:46:20.753 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-04 11:46:20.841 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:46:20.841 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=16, username=18999177256, role=RECEPTIONIST, token= (truncated)...]
2025-05-04 11:46:20.843 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 11:46:20.843 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:46:21.074 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 11:46:21.074 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:46:21.075 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:46:21.075 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 11:46:21.075 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 11:46:21.075 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 11:46:21.076 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 11:46:21.076 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 11:46:21.076 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 11:46:21.076 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 11:46:21.077 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 11:46:21.078 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 11:46:21.079 DEBUG 3428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 11:46:21.080 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 11:46:21.080 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 11:46:21.081 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 11:46:21.082 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:35:25.509 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:35:25.510 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:35:25.510 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:35:25.511 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:35:25.511 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:35:25.511 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:35:25.511 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:35:25.512 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:35:25.513 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:35:25.514 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:35:25.514 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:35:25.515 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:35:25.515 DEBUG 3428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:35:25.516 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:35:25.516 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:35:25.518 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:35:25.519 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:35:30.423 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:35:30.424 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:35:30.424 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:35:30.424 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:35:30.425 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:35:30.425 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:35:30.426 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:35:30.426 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:35:30.427 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:35:30.427 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:35:30.427 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:35:30.427 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:35:30.428 DEBUG 3428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:35:30.429 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:35:30.429 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:35:30.431 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:35:30.431 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:40:36.845 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:40:36.846 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:40:36.846 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:40:36.847 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:40:36.847 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:40:36.848 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:40:36.848 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:40:36.848 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:40:36.849 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:40:36.849 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:40:36.849 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:40:36.850 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:40:36.850 DEBUG 3428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:40:36.851 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:40:36.851 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:40:36.852 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:40:36.852 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:41:32.940 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:41:32.940 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:41:32.941 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:41:32.941 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:41:32.941 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:41:32.941 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:41:32.942 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:41:32.942 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:41:32.942 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:41:32.942 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:41:32.942 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:41:32.943 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:41:32.944 DEBUG 3428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:41:32.944 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:41:32.945 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:41:32.946 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:41:32.946 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:42:03.189 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:42:03.189 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:42:03.190 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:42:03.190 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:42:03.190 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:42:03.191 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:42:03.191 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:42:03.192 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:42:03.192 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:42:03.192 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:42:03.192 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:42:03.192 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:42:03.192 DEBUG 3428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:42:03.194 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:42:03.194 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:42:03.195 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:42:03.195 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:43:00.804 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:43:00.805 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:43:00.805 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:43:00.805 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:43:00.806 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:43:00.807 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:43:00.807 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:43:00.807 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:43:00.807 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:43:00.807 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:43:00.807 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:43:00.808 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:43:00.809 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:43:00.809 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:43:00.809 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:43:00.810 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:43:00.811 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:43:06.079 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:43:06.080 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:43:06.080 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:43:06.081 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:43:06.081 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:43:06.081 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:43:06.082 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:43:06.082 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:43:06.082 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:43:06.082 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:43:06.082 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:43:06.084 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:43:06.084 DEBUG 3428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:43:06.085 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:43:06.085 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:43:06.087 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:43:06.087 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:43:43.517 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-04 14:43:43.517 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:43:43.519 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:43:43.519 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:43:43.519 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-04 14:43:43.519 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-04 14:43:43.520 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-04 14:43:43.520 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-04 14:43:43.521 DEBUG 3428 --- [http-nio-8090-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=18999177256, password=18999177256)]
2025-05-04 14:43:43.596 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-04 14:43:43.601 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:43:43.601 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=16, username=18999177256, role=RECEPTIONIST, token= (truncated)...]
2025-05-04 14:43:43.602 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:43:43.602 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:43:43.821 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:43:43.821 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:43:43.821 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:43:43.821 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:43:43.822 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:43:43.823 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:43:43.823 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:43:43.823 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:43:43.823 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:43:43.823 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:43:43.823 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:43:43.824 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:43:43.824 DEBUG 3428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:43:43.825 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:43:43.825 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:43:43.825 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:43:43.826 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:47:03.514 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:47:03.515 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:47:03.515 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:47:03.516 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:47:03.516 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:47:03.517 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:47:03.517 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:47:03.517 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:47:03.517 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:47:03.518 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:47:03.518 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:47:03.520 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:47:03.521 DEBUG 3428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:47:03.522 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:47:03.522 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:47:03.523 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:47:03.523 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:50:16.068 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:50:16.069 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:50:16.069 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:50:16.069 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:50:16.070 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:50:16.070 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:50:16.070 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:50:16.070 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:50:16.071 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:50:16.071 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:50:16.072 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:50:16.072 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:50:16.072 DEBUG 3428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:50:16.073 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:50:16.073 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:50:16.074 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:50:16.075 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:50:40.842 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:50:40.843 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:50:40.844 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:50:40.844 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:50:40.844 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:50:40.844 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:50:40.844 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:50:40.844 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:50:40.845 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:50:40.845 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:50:40.845 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:50:40.845 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:50:40.845 DEBUG 3428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:50:40.846 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:50:40.846 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:50:40.847 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:50:40.847 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:50:51.763 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:50:51.763 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:50:51.764 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:50:51.764 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 14:50:51.764 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:50:51.764 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:50:51.764 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:50:51.765 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:50:51.765 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:50:51.765 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:50:51.765 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:50:51.766 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:50:51.766 DEBUG 3428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:50:51.767 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.7, */*;q=0.8] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:50:51.767 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:50:51.767 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:50:51.768 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:30.054 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 14:55:30.054 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:30.096 DEBUG 3428 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:30.096 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 14:55:30.096 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 14:55:30.097 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 14:55:30.097 DEBUG 3428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 14:55:30.146 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:30.148 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 14:55:30.159 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:30.160 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:33.114 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 14:55:33.114 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:33.120 DEBUG 3428 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:33.121 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 14:55:33.121 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 14:55:33.122 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 14:55:33.122 DEBUG 3428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 14:55:33.128 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:33.129 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 14:55:33.130 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:33.130 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:34.354 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 14:55:34.354 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 14:55:34.356 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:34.356 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:34.356 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:55:34.356 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 14:55:34.356 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 14:55:34.356 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 14:55:34.356 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 14:55:34.357 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 14:55:34.361 DEBUG 3428 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:34.362 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 14:55:34.362 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 14:55:34.362 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 14:55:34.363 DEBUG 3428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 14:55:34.370 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:34.371 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 14:55:34.372 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:34.372 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:34.438 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:34.438 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 14:55:34.443 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:34.444 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:44.076 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 14:55:44.076 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:44.081 DEBUG 3428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:44.081 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 14:55:44.082 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 14:55:44.082 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 14:55:44.082 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 14:55:44.087 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:44.087 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 14:55:44.089 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:44.089 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:48.848 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 14:55:48.848 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:48.852 DEBUG 3428 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:48.853 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 14:55:48.853 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 14:55:48.854 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 14:55:48.854 DEBUG 3428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 14:55:48.901 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:48.902 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 14:55:48.914 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:48.914 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:50.258 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 14:55:50.258 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 14:55:50.259 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:50.259 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:50.259 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:55:50.259 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 14:55:50.260 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 14:55:50.260 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 14:55:50.260 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 14:55:50.260 DEBUG 3428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 14:55:50.264 DEBUG 3428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:50.264 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 14:55:50.265 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 14:55:50.265 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 14:55:50.265 DEBUG 3428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 14:55:50.271 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:50.271 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 14:55:50.272 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:50.272 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:50.290 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:50.290 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 14:55:50.292 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:50.292 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:51.506 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 14:55:51.506 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:51.510 DEBUG 3428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:51.511 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 14:55:51.511 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 14:55:51.512 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 14:55:51.512 DEBUG 3428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 14:55:51.516 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:51.519 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 14:55:51.520 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:51.520 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:53.008 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 14:55:53.008 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:53.014 DEBUG 3428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:53.014 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 14:55:53.014 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 14:55:53.015 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 14:55:53.015 DEBUG 3428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 14:55:53.035 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:53.036 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 14:55:53.037 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:53.038 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:54.750 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 14:55:54.751 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:54.756 DEBUG 3428 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:54.757 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 14:55:54.757 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 14:55:54.758 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 14:55:54.758 DEBUG 3428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 14:55:54.786 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:54.786 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 14:55:54.787 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:54.788 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:55.665 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 14:55:55.665 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:55.668 DEBUG 3428 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:55.669 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED] with attributes [authenticated]
2025-05-04 14:55:55.669 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 14:55:55.669 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=COMPLETED", parameters={masked}
2025-05-04 14:55:55.669 DEBUG 3428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 14:55:55.677 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:55.678 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 14:55:55.679 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:55.679 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:56.155 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED
2025-05-04 14:55:56.155 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:56.161 DEBUG 3428 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:56.161 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED] with attributes [authenticated]
2025-05-04 14:55:56.161 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED
2025-05-04 14:55:56.161 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CANCELLED", parameters={masked}
2025-05-04 14:55:56.162 DEBUG 3428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 14:55:56.178 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:56.179 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 14:55:56.180 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:56.181 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:57.350 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 14:55:57.351 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:57.355 DEBUG 3428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:57.356 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED] with attributes [authenticated]
2025-05-04 14:55:57.356 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 14:55:57.356 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=COMPLETED", parameters={masked}
2025-05-04 14:55:57.356 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 14:55:57.371 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:57.371 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 14:55:57.372 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:57.372 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:57.616 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 14:55:57.617 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:57.620 DEBUG 3428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:57.621 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED] with attributes [authenticated]
2025-05-04 14:55:57.621 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 14:55:57.621 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CONFIRMED", parameters={masked}
2025-05-04 14:55:57.621 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 14:55:57.634 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:57.634 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 14:55:57.635 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:57.636 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:57.855 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 14:55:57.855 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:57.859 DEBUG 3428 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:57.859 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 14:55:57.860 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 14:55:57.860 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 14:55:57.860 DEBUG 3428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 14:55:57.876 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:57.877 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 14:55:57.878 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:57.878 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:58.612 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 14:55:58.612 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:58.616 DEBUG 3428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:58.616 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 14:55:58.616 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 14:55:58.616 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 14:55:58.617 DEBUG 3428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 14:55:58.634 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:58.634 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 14:55:58.635 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:58.635 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:55:59.099 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 14:55:59.100 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:55:59.105 DEBUG 3428 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:55:59.106 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 14:55:59.106 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 14:55:59.106 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 14:55:59.106 DEBUG 3428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 14:55:59.120  INFO 3428 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 14:55:59.124  INFO 3428 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 14:55:59.124  INFO 3428 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 14:55:59.126  INFO 3428 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 14:55:59.127  INFO 3428 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 14:55:59.127  INFO 3428 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 14:55:59.127 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:55:59.128 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 14:55:59.132 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:55:59.132 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:56:02.078 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 14:56:02.078 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:56:02.083 DEBUG 3428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:56:02.083 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 14:56:02.083 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 14:56:02.083 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 14:56:02.084 DEBUG 3428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 14:56:02.090  INFO 3428 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 14:56:02.092  INFO 3428 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 14:56:02.092  INFO 3428 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 14:56:02.092  INFO 3428 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 14:56:02.092  INFO 3428 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 14:56:02.092  INFO 3428 --- [http-nio-8090-exec-10] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 14:56:02.093 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:56:02.093 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 14:56:02.094 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:56:02.094 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:56:02.329 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 14:56:02.329 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:56:02.332 DEBUG 3428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 14:56:02.332 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 14:56:02.333 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 14:56:02.333 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 14:56:02.333 DEBUG 3428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 14:56:02.353 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:56:02.353 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 14:56:02.354 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:56:02.355 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:58:23.138 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 14:58:23.139 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:58:23.143 DEBUG 3428 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 14:58:23.144 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:58:23.144 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 14:58:23.145 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 14:58:23.145 DEBUG 3428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 14:58:23.220 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:58:23.221 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=18, availableRooms=15, newUse (truncated)...]
2025-05-04 14:58:23.222 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:58:23.223 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:58:27.381 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-04 14:58:27.381 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:58:27.382 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:58:27.383 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-04 14:58:27.383 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-04 14:58:27.383 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-04 14:58:27.384 DEBUG 3428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-04 14:58:27.384 DEBUG 3428 --- [http-nio-8090-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=admin, password=admin123)]
2025-05-04 14:58:27.456 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-04 14:58:27.460 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:58:27.461 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=1, username=admin, role=ADMIN, token=eyJhbGciOiJIUz (truncated)...]
2025-05-04 14:58:27.462 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:58:27.462 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:58:27.605 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 14:58:27.605 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:58:27.610 DEBUG 3428 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 14:58:27.610 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:58:27.610 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 14:58:27.611 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 14:58:27.611 DEBUG 3428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 14:58:27.669 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:58:27.670 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=18, availableRooms=15, newUse (truncated)...]
2025-05-04 14:58:27.671 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:58:27.671 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:58:28.577 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/invitation-codes/all
2025-05-04 14:58:28.578 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:58:28.583 DEBUG 3428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 14:58:28.583 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/invitation-codes/all] with attributes [authenticated]
2025-05-04 14:58:28.584 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/invitation-codes/all
2025-05-04 14:58:28.584 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/invitation-codes/all", parameters={}
2025-05-04 14:58:28.584 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.InvitationCodeController#getAllInvitationCodes()
2025-05-04 14:58:28.599 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:58:28.599 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[InvitationCode(id=12, code=L1R1O7TC, role=CLEANER, maxUses=1, currentUses=0, expiryDate=2025-06-01T (truncated)...]
2025-05-04 14:58:28.606 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:58:28.607 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:58:42.522 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/invitation-codes/validate/2QEX6HMK
2025-05-04 14:58:42.523 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:58:42.529 DEBUG 3428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 14:58:42.531 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/invitation-codes/validate/2QEX6HMK] with attributes [permitAll]
2025-05-04 14:58:42.531 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/invitation-codes/validate/2QEX6HMK
2025-05-04 14:58:42.531 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/invitation-codes/validate/2QEX6HMK", parameters={}
2025-05-04 14:58:42.531 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.InvitationCodeController#validateCode(String)
2025-05-04 14:58:42.543 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:58:42.543 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{role=RECEPTIONIST}]
2025-05-04 14:58:42.545 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:58:42.545 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:59:26.678 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/users/register/staff
2025-05-04 14:59:26.679 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:59:26.683 DEBUG 3428 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 14:59:26.684 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/register/staff] with attributes [permitAll]
2025-05-04 14:59:26.684 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/users/register/staff
2025-05-04 14:59:26.685 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/users/register/staff", parameters={}
2025-05-04 14:59:26.685 DEBUG 3428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#registerStaff(StaffRegistrationDto)
2025-05-04 14:59:26.688 DEBUG 3428 --- [http-nio-8090-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [StaffRegistrationDto(username=前台妹妹001, phone=15699887856, password=15699887856, email=15699887856@16 (truncated)...]
2025-05-04 14:59:26.906 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:59:26.906 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=员工注册成功，请等待审核, data=UserDTO(id=19, username=前台妹妹001, name (truncated)...]
2025-05-04 14:59:26.908 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 201 CREATED
2025-05-04 14:59:26.908 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:59:28.580 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 14:59:28.581 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:59:28.587 DEBUG 3428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 14:59:28.588 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:59:28.589 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 14:59:28.590 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 14:59:28.590 DEBUG 3428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 14:59:28.645 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:59:28.646 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 14:59:28.648 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:59:28.648 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:59:37.232 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-04 14:59:37.233 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:59:37.233 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:59:37.234 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-04 14:59:37.234 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-04 14:59:37.235 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-04 14:59:37.235 DEBUG 3428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-04 14:59:37.236 DEBUG 3428 --- [http-nio-8090-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=15699887856, password=15699887856)]
2025-05-04 14:59:37.324 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-04 14:59:37.329 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:59:37.329 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=19, username=前台妹妹001, role=RECEPTIONIST, token=eyJh (truncated)...]
2025-05-04 14:59:37.330 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 14:59:37.331 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:59:37.623 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 14:59:37.623 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:59:37.624 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:59:37.624 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 14:59:37.625 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 14:59:37.625 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 14:59:37.625 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 14:59:37.625 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 14:59:37.626 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 14:59:37.626 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 14:59:37.627 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 14:59:37.627 DEBUG 3428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 14:59:37.628 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 14:59:37.628 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 14:59:37.629 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 14:59:37.629 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:00:00.368 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:00:00.368 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:00:00.369 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:00:00.369 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:00:00.369 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:00:00.370 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:00:00.370 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:00:00.370 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:00:00.371 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:00:00.371 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:00:00.371 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:00:00.372 DEBUG 3428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:00:00.372 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:00:00.373 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:00:00.374 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:00:00.374 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:02:43.891 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:02:43.892 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:02:43.892 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:02:43.892 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:02:43.893 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:02:43.893 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:02:43.893 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:02:43.893 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:02:43.894 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:02:43.894 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:02:43.894 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:02:43.894 DEBUG 3428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:02:43.895 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:02:43.895 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:02:43.896 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:02:43.896 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:02:44.237 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:02:44.237 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:02:44.238 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:02:44.238 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 15:02:44.238 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:02:44.238 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:02:44.239 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:02:44.239 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:02:44.239 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:02:44.239 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:02:44.240 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:02:44.240 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:02:44.240 DEBUG 3428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:02:44.241 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:02:44.241 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:02:44.242 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:02:44.242 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:03:56.109 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:03:56.110 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:03:56.110 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:03:56.111 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:03:56.111 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:03:56.111 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:03:56.111 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:03:56.112 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:03:56.112 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:03:56.112 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:03:56.112 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:03:56.113 DEBUG 3428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:03:56.114 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:03:56.114 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:03:56.115 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:03:56.115 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:04:03.046 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:04:03.046 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:04:03.046 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:04:03.047 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:04:03.047 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:04:03.048 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:04:03.048 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:04:03.048 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:04:03.048 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:04:03.048 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:04:03.049 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:04:03.050 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:04:03.050 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:04:03.051 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:04:03.051 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:04:03.051 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:04:39.698 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:04:39.699 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:04:39.699 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:04:39.701 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:04:39.701 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:04:39.701 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:04:39.701 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:04:39.702 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:04:39.702 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:04:39.702 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:04:39.702 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:04:39.703 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:04:39.703 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:04:39.704 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:04:39.705 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:04:39.705 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:04:53.571 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:04:53.571 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:04:53.572 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:04:53.572 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 15:04:53.573 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:04:53.573 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:04:53.573 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:04:53.574 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:04:53.574 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:04:53.574 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:04:53.574 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:04:53.574 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:04:53.575 DEBUG 3428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:04:53.575 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:04:53.576 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:04:53.576 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:04:53.576 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:04:56.748 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-04 15:04:56.748 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:04:56.752 DEBUG 3428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:04:56.752 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-04 15:04:56.752 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-04 15:04:56.752 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-04 15:04:56.752 DEBUG 3428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-04 15:04:56.757 DEBUG 3428 --- [http-nio-8090-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=18999177256, password=18999177256)]
2025-05-04 15:04:56.839 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-04 15:04:56.843 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:04:56.843 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=16, username=18999177256, role=RECEPTIONIST, token= (truncated)...]
2025-05-04 15:04:56.844 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:04:56.844 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:04:57.012 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/16
2025-05-04 15:04:57.012 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:04:57.017 DEBUG 3428 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:04:57.017 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/16] with attributes [authenticated]
2025-05-04 15:04:57.017 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/16
2025-05-04 15:04:57.017 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/16", parameters={}
2025-05-04 15:04:57.017 DEBUG 3428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 15:04:57.021 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:04:57.022 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=16, username=18999177256, name=爱我爱的我 (truncated)...]
2025-05-04 15:04:57.023 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:04:57.023 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:04:57.168 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-04 15:04:57.169 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:04:57.172 DEBUG 3428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:04:57.173 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-04 15:04:57.173 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-04 15:04:57.173 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-04 15:04:57.173 DEBUG 3428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-04 15:04:57.181 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:04:57.181 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=MembershipDTO(userId=16, username=18999177256, name=爱我爱的我, memberLevel=普通用户, memberL (truncated)...]
2025-05-04 15:04:57.184 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:04:57.185 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:05:02.238 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:05:02.239 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:05:02.239 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:05:02.239 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 15:05:02.240 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:05:02.240 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:05:02.240 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:05:02.240 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:05:02.240 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:05:02.241 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:05:02.241 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:05:02.242 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:05:02.242 DEBUG 3428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:05:02.242 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:05:02.243 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:05:02.243 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:05:02.243 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:05:13.205 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:05:13.206 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:05:13.206 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:05:13.207 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:05:13.207 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:05:13.207 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:05:13.208 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:05:13.208 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:05:13.208 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:05:13.208 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:05:13.209 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:05:13.210 DEBUG 3428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:05:13.211 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:05:13.211 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:05:13.212 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:05:13.212 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:08:27.394 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:08:27.394 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:08:27.395 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:08:27.395 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:08:27.395 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:08:27.395 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:08:27.396 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:08:27.396 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:08:27.396 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:08:27.396 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:08:27.397 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:08:27.397 DEBUG 3428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:08:27.398 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:08:27.398 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:08:27.399 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:08:27.399 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:08:27.730 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:08:27.730 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:08:27.732 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:08:27.732 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:08:27.732 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:08:27.733 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:08:27.733 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:08:27.733 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:08:27.733 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:08:27.733 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:08:27.734 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:08:27.734 DEBUG 3428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:08:27.735 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:08:27.735 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:08:27.736 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:08:27.737 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:08:59.208 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:08:59.208 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:08:59.209 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:08:59.210 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:08:59.210 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:08:59.210 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:08:59.211 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:08:59.211 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:08:59.211 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:08:59.211 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:08:59.212 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:08:59.213 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:08:59.213 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:08:59.213 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:08:59.214 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:08:59.215 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:09:04.986 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:09:04.986 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:09:04.987 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:09:04.988 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:09:04.988 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:09:04.988 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:09:04.988 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:09:04.988 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:09:04.989 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:09:04.989 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:09:04.990 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:09:04.990 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:09:04.991 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:09:04.991 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:09:04.992 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:09:04.992 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:09:13.000 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:09:13.000 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:09:13.001 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:09:13.002 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:09:13.002 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 15:09:13.002 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:09:13.002 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 15:09:13.003 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:09:13.003 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:09:13.003 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 15:09:13.004 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 15:09:13.004 DEBUG 3428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 15:09:13.005 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:09:13.005 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 15:09:13.006 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 15:09:13.006 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.146 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:13:14.146 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.147 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.150 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:13:14.150 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.155 DEBUG 3428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:14.155 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:14.155 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:13:14.156 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:13:14.156 DEBUG 3428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:14.188 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:14.205 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:14.287 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:14.287 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.363 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:13:14.363 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.364 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.368 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:13:14.368 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.370 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:13:14.370 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.371 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.373 DEBUG 3428 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:14.373 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:14.373 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:13:14.374 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:13:14.374 DEBUG 3428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:13:14.375 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:14.375 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.375 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.377 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:13:14.378 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.383 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:14.383 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.383 DEBUG 3428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:14.385 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:14.385 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:13:14.385 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:13:14.386 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:13:14.389 DEBUG 3428 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:14.390 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:14.390 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:14.390 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:13:14.391 DEBUG 3428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:14.414 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:14.415 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:13:14.417 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:14.417 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:14.417 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.427 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:14.428 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:14.428 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:13:14.428 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:14.429 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.449 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:13:14.450 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.450 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.453 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:14.453 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.455 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:13:14.455 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.459 DEBUG 3428 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:13:14.460 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:14.460 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:13:14.460 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:13:14.460 DEBUG 3428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:14.486 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:14.495 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:14.531 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:14.531 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.669 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:13:14.669 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.669 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.671 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:13:14.671 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.672 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.672 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:14.673 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.674 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.676 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:13:14.676 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.678 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:13:14.678 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.681 DEBUG 3428 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:13:14.681 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:14.681 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:14.681 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:14.681 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:13:14.681 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:13:14.682 DEBUG 3428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:13:14.683 DEBUG 3428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:13:14.684 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:14.684 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:13:14.684 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:13:14.684 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:13:14.685 DEBUG 3428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:13:14.685 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:14.686 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:14.686 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:13:14.686 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:14.700 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:14.701 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:13:14.702 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:14.702 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.708 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:14.716 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:14.726 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:14.726 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:13:14.727 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:14.727 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:14.739 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:14.739 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:35.634 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:13:35.634 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:35.635 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:35.637 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:13:35.637 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:35.646 DEBUG 3428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:35.646 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:35.646 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:13:35.647 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:13:35.647 DEBUG 3428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:35.667 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:35.674 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:35.717 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:35.717 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:35.809 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:13:35.809 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:35.809 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:35.812 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:13:35.812 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:35.813 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:13:35.813 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:35.813 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:35.817 DEBUG 3428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:35.817 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:35.818 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:35.818 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:35.818 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:13:35.818 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:13:35.818 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:35.818 DEBUG 3428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:13:35.821 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:13:35.821 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:35.826 DEBUG 3428 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:35.827 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:35.827 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:13:35.828 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:13:35.828 DEBUG 3428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:13:35.834 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:35.834 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:35.839 DEBUG 3428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:35.840 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:35.840 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:35.840 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:13:35.841 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:35.845 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:35.846 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:13:35.847 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:35.847 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:35.866 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:35.868 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:35.868 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:13:35.869 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:35.869 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:35.875 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:35.900 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:35.900 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:49.100 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:13:49.100 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:49.101 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:49.103 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:13:49.103 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:49.107 DEBUG 3428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:49.107 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:49.108 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:13:49.108 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:13:49.108 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:49.132 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:49.139 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:49.178 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:49.179 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:49.258 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:13:49.259 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:49.259 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:49.263 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:13:49.263 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:49.265 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:13:49.266 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:49.266 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:49.268 DEBUG 3428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:49.268 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:49.268 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:13:49.268 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:13:49.269 DEBUG 3428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:13:49.285 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:13:49.285 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:49.286 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:49.286 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:49.287 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:49.290 DEBUG 3428 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:49.290 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:49.291 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:13:49.291 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:13:49.291 DEBUG 3428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:13:49.295 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:49.295 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:49.299 DEBUG 3428 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:49.299 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:49.299 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:49.300 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:13:49.300 DEBUG 3428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:49.306 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:49.307 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:13:49.308 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:49.308 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:49.311 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:49.312 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:13:49.312 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:49.313 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:49.318 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:49.329 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:49.353 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:49.353 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:51.612 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10&status=pending
2025-05-04 15:13:51.613 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:51.614 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:51.623 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10&status=pending
2025-05-04 15:13:51.623 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:51.627 DEBUG 3428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:51.627 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:51.628 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10&status=pending
2025-05-04 15:13:51.628 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10&status=pending", parameters={masked}
2025-05-04 15:13:51.628 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:51.649 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:51.658 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:51.694 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:51.695 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:51.733 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:13:51.733 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:51.738 DEBUG 3428 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:51.738 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:51.740 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:13:51.740 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:13:51.740 DEBUG 3428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:13:51.742 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:13:51.742 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:51.752 DEBUG 3428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:51.753 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:51.754 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:13:51.755 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:13:51.756 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:13:51.765 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:51.765 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:51.781 DEBUG 3428 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:51.781 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:51.781 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:51.782 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:13:51.783 DEBUG 3428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:51.821 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:51.837 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:51.840 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:51.840 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:13:51.842 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:51.843 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:51.862 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:51.863 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:13:51.864 DEBUG 3428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:51.864 DEBUG 3428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:51.877 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:51.877 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:59.246 DEBUG 3428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:13:59.247 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:59.247 DEBUG 3428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:59.249 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:13:59.249 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:59.253 DEBUG 3428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:59.253 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:59.253 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:13:59.254 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:13:59.254 DEBUG 3428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:59.271 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:59.277 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:59.312 DEBUG 3428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:59.312 DEBUG 3428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:59.407 DEBUG 3428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:13:59.407 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:59.407 DEBUG 3428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:59.412 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:13:59.412 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:59.414 DEBUG 3428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:13:59.414 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:59.414 DEBUG 3428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:59.416 DEBUG 3428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:59.417 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:59.417 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:13:59.417 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:13:59.417 DEBUG 3428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:13:59.424 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:59.425 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:59.426 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:59.428 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:13:59.428 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:59.433 DEBUG 3428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:59.434 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:59.434 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:13:59.435 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:13:59.435 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:13:59.437 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:59.437 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:13:59.441 DEBUG 3428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:13:59.442 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:13:59.442 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:13:59.442 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:13:59.443 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(int, int, String, String, String, String, String)
2025-05-04 15:13:59.454 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:59.455 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:13:59.456 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:59.457 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:59.477 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:59.477 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:13:59.477 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:13:59.478 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:59.479 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:13:59.488 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [java.lang.StackOverflowError]
2025-05-04 15:13:59.517 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:13:59.517 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:34:29.629 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 15:34:29.630 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:34:29.634 DEBUG 3428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:34:29.634 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 15:34:29.634 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 15:34:29.634 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 15:34:29.635 DEBUG 3428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 15:34:29.640 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:34:29.640 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 15:34:29.640 DEBUG 3428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:34:29.641 DEBUG 3428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:34:31.220 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 15:34:31.220 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:34:31.224 DEBUG 3428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:34:31.224 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 15:34:31.224 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 15:34:31.224 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 15:34:31.224 DEBUG 3428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 15:34:31.228 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:34:31.228 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 15:34:31.229 DEBUG 3428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:34:31.229 DEBUG 3428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:34:31.960 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 15:34:31.960 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 15:34:31.960 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:34:31.960 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:34:31.960 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 15:34:31.961 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 15:34:31.961 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 15:34:31.961 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 15:34:31.961 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 15:34:31.961 DEBUG 3428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 15:34:31.965 DEBUG 3428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:34:31.965 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 15:34:31.965 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 15:34:31.965 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 15:34:31.966 DEBUG 3428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 15:34:31.970 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:34:31.971 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 15:34:31.971 DEBUG 3428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:34:31.972 DEBUG 3428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:34:31.979 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:34:31.980 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 15:34:31.981 DEBUG 3428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:34:31.982 DEBUG 3428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:34:34.825 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 15:34:34.826 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:34:34.828 DEBUG 3428 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:34:34.828 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 15:34:34.828 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 15:34:34.828 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 15:34:34.829 DEBUG 3428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 15:34:34.833 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:34:34.834 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 15:34:34.835 DEBUG 3428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:34:34.835 DEBUG 3428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:36:31.922  INFO 3428 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 15:36:31.930  INFO 3428 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 15:36:31.937  INFO 3428 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 15:41:21.155  INFO 38576 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 38576 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 15:41:21.158 DEBUG 38576 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 15:41:21.158  INFO 38576 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 15:41:22.238  INFO 38576 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 15:41:22.459  INFO 38576 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 208 ms. Found 19 JPA repository interfaces.
2025-05-04 15:41:23.172  INFO 38576 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 15:41:23.174  INFO 38576 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 15:41:23.175  INFO 38576 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 15:41:23.175  INFO 38576 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 15:41:23.181  INFO 38576 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 15:41:23.193  INFO 38576 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 15:41:23.193  INFO 38576 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 15:41:23.450  INFO 38576 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 15:41:23.453  INFO 38576 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2232 ms
2025-05-04 15:41:24.192  INFO 38576 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 15:41:24.330  INFO 38576 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 15:41:24.693  INFO 38576 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 15:41:24.851  INFO 38576 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 15:41:25.211  INFO 38576 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 15:41:25.226  INFO 38576 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 15:41:26.644  INFO 38576 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 15:41:26.656  INFO 38576 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 15:41:27.157 DEBUG 38576 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 15:41:27.158 DEBUG 38576 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 15:41:27.447  WARN 38576 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminDashboardController' defined in file [E:\桌面\javahotel\heqing99\target\classes\com\hotel\controller\AdminDashboardController.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reservationServiceImpl': Unsatisfied dependency expressed through field 'reservationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
2025-05-04 15:41:27.448  INFO 38576 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 15:41:27.450  INFO 38576 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 15:41:27.459  INFO 38576 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 15:41:27.461  INFO 38576 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-04 15:41:27.472  INFO 38576 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-05-04 15:41:27.504 ERROR 38576 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminDashboardController' defined in file [E:\桌面\javahotel\heqing99\target\classes\com\hotel\controller\AdminDashboardController.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reservationServiceImpl': Unsatisfied dependency expressed through field 'reservationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]
	at com.hotel.HotelManagementApplication.main(HotelManagementApplication.java:10) ~[classes/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reservationServiceImpl': Unsatisfied dependency expressed through field 'reservationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.20.jar:5.3.20]
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:106) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:94) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1061) ~[na:na]
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:96) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:364) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:322) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:230) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:328) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.20.jar:5.3.20]
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:96) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:69) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:51) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:163) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:252) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:87) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:102) ~[spring-data-commons-2.7.0.jar:2.7.0]
	... 66 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=u,role=com.hotel.entity.Reservation.user,tableName=users,tableAlias=user1_,origin=reservations reservatio0_,columns={reservatio0_.user_id,className=com.hotel.entity.User}}] [select count(r) FROM com.hotel.entity.Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) AND (:guestName IS NULL OR r.guestName LIKE :guestName) AND (:guestPhone IS NULL OR r.guestPhone LIKE :guestPhone) AND (:startDate IS NULL OR r.checkInTime >= :startDate) AND (:endDate IS NULL OR r.checkOutTime <= :endDate) AND (:bookingNo IS NULL OR CAST(r.id AS string) LIKE :bookingNo)]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:757) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy127.createQuery(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:90) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	... 72 common frames omitted
Caused by: org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=u,role=com.hotel.entity.Reservation.user,tableName=users,tableAlias=user1_,origin=reservations reservatio0_,columns={reservatio0_.user_id,className=com.hotel.entity.User}}] [select count(r) FROM com.hotel.entity.Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) AND (:guestName IS NULL OR r.guestName LIKE :guestName) AND (:guestPhone IS NULL OR r.guestPhone LIKE :guestPhone) AND (:startDate IS NULL OR r.checkInTime >= :startDate) AND (:endDate IS NULL OR r.checkOutTime <= :endDate) AND (:bookingNo IS NULL OR CAST(r.id AS string) LIKE :bookingNo)]
	at org.hibernate.QueryException.generateQueryException(QueryException.java:120) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.QueryException.wrapWithQueryString(QueryException.java:103) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:220) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	... 78 common frames omitted
Caused by: org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=u,role=com.hotel.entity.Reservation.user,tableName=users,tableAlias=user1_,origin=reservations reservatio0_,columns={reservatio0_.user_id,className=com.hotel.entity.User}}]
	at org.hibernate.hql.internal.ast.tree.SelectClause.initializeExplicitSelectClause(SelectClause.java:230) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.useSelectClause(HqlSqlWalker.java:1039) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.processQuery(HqlSqlWalker.java:807) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:703) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	... 84 common frames omitted

2025-05-04 15:44:27.758  INFO 32268 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 32268 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 15:44:27.762 DEBUG 32268 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 15:44:27.763  INFO 32268 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 15:44:28.638  INFO 32268 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 15:44:28.861  INFO 32268 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 212 ms. Found 19 JPA repository interfaces.
2025-05-04 15:44:29.386  INFO 32268 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 15:44:29.390  INFO 32268 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 15:44:29.391  INFO 32268 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 15:44:29.391  INFO 32268 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 15:44:29.396  INFO 32268 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 15:44:29.407  INFO 32268 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 15:44:29.407  INFO 32268 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 15:44:29.540  INFO 32268 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 15:44:29.540  INFO 32268 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1723 ms
2025-05-04 15:44:29.700  INFO 32268 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 15:44:29.740  INFO 32268 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 15:44:29.866  INFO 32268 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 15:44:29.952  INFO 32268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 15:44:30.252  INFO 32268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 15:44:30.267  INFO 32268 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 15:44:31.439  INFO 32268 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 15:44:31.448  INFO 32268 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 15:44:31.906 DEBUG 32268 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 15:44:31.906 DEBUG 32268 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 15:44:32.161  WARN 32268 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminDashboardController' defined in file [E:\桌面\javahotel\heqing99\target\classes\com\hotel\controller\AdminDashboardController.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reservationServiceImpl': Unsatisfied dependency expressed through field 'reservationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
2025-05-04 15:44:32.162  INFO 32268 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 15:44:32.163  INFO 32268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 15:44:32.175  INFO 32268 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 15:44:32.177  INFO 32268 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-04 15:44:32.188  INFO 32268 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-05-04 15:44:32.214 ERROR 32268 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminDashboardController' defined in file [E:\桌面\javahotel\heqing99\target\classes\com\hotel\controller\AdminDashboardController.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reservationServiceImpl': Unsatisfied dependency expressed through field 'reservationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]
	at com.hotel.HotelManagementApplication.main(HotelManagementApplication.java:10) ~[classes/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reservationServiceImpl': Unsatisfied dependency expressed through field 'reservationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.20.jar:5.3.20]
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!; nested exception is java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:106) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:94) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1061) ~[na:na]
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:96) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:364) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:322) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:230) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:328) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.20.jar:5.3.20]
	... 44 common frames omitted
Caused by: java.lang.IllegalArgumentException: Count query validation failed for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)!
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:96) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:69) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:51) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:163) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:252) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:87) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:102) ~[spring-data-commons-2.7.0.jar:2.7.0]
	... 66 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=u,role=com.hotel.entity.Reservation.user,tableName=users,tableAlias=user1_,origin=reservations reservatio0_,columns={reservatio0_.user_id,className=com.hotel.entity.User}}] [select count(r) FROM com.hotel.entity.Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) AND (:guestName IS NULL OR r.guestName LIKE :guestName) AND (:guestPhone IS NULL OR r.guestPhone LIKE :guestPhone) AND (:startDate IS NULL OR r.checkInTime >= :startDate) AND (:endDate IS NULL OR r.checkOutTime <= :endDate) AND (:bookingNo IS NULL OR CAST(r.id AS string) LIKE :bookingNo)]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:138) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:757) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy127.createQuery(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:90) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	... 72 common frames omitted
Caused by: org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=u,role=com.hotel.entity.Reservation.user,tableName=users,tableAlias=user1_,origin=reservations reservatio0_,columns={reservatio0_.user_id,className=com.hotel.entity.User}}] [select count(r) FROM com.hotel.entity.Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) AND (:guestName IS NULL OR r.guestName LIKE :guestName) AND (:guestPhone IS NULL OR r.guestPhone LIKE :guestPhone) AND (:startDate IS NULL OR r.checkInTime >= :startDate) AND (:endDate IS NULL OR r.checkOutTime <= :endDate) AND (:bookingNo IS NULL OR CAST(r.id AS string) LIKE :bookingNo)]
	at org.hibernate.QueryException.generateQueryException(QueryException.java:120) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.QueryException.wrapWithQueryString(QueryException.java:103) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:220) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	... 78 common frames omitted
Caused by: org.hibernate.QueryException: query specified join fetching, but the owner of the fetched association was not present in the select list [FromElement{explicit,not a collection join,fetch join,fetch non-lazy properties,classAlias=u,role=com.hotel.entity.Reservation.user,tableName=users,tableAlias=user1_,origin=reservations reservatio0_,columns={reservatio0_.user_id,className=com.hotel.entity.User}}]
	at org.hibernate.hql.internal.ast.tree.SelectClause.initializeExplicitSelectClause(SelectClause.java:230) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.useSelectClause(HqlSqlWalker.java:1039) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.processQuery(HqlSqlWalker.java:807) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:703) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	... 84 common frames omitted

2025-05-04 15:47:51.055  INFO 33428 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 33428 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 15:47:51.057 DEBUG 33428 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 15:47:51.057  INFO 33428 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 15:47:52.107  INFO 33428 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 15:47:52.309  INFO 33428 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 192 ms. Found 19 JPA repository interfaces.
2025-05-04 15:47:52.783  INFO 33428 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 15:47:52.783  INFO 33428 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 15:47:52.784  INFO 33428 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 15:47:52.784  INFO 33428 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 15:47:52.790  INFO 33428 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 15:47:52.798  INFO 33428 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 15:47:52.798  INFO 33428 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 15:47:52.938  INFO 33428 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 15:47:52.939  INFO 33428 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1830 ms
2025-05-04 15:47:53.105  INFO 33428 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 15:47:53.147  INFO 33428 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 15:47:53.285  INFO 33428 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 15:47:53.382  INFO 33428 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 15:47:53.657  INFO 33428 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 15:47:53.670  INFO 33428 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 15:47:54.809  INFO 33428 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 15:47:54.819  INFO 33428 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 15:47:55.269 DEBUG 33428 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 15:47:55.269 DEBUG 33428 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 15:47:56.167 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 15:47:56.174 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 15:47:56.175 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 15:47:56.175 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 15:47:56.175 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 15:47:56.175 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 15:47:56.176 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 15:47:56.176 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 15:47:56.176 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 15:47:56.176 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 15:47:56.176 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 15:47:56.176 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 15:47:56.177 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 15:47:56.177 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 15:47:56.177 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 15:47:56.177 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 15:47:56.178 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 15:47:56.178 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 15:47:56.178 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 15:47:56.178 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 15:47:56.178 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 15:47:56.178 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 15:47:56.178 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 15:47:56.178 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 15:47:56.179 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 15:47:56.179 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 15:47:56.179 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 15:47:56.179 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 15:47:56.179 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 15:47:56.179 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 15:47:56.179 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 15:47:56.179 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 15:47:56.179 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 15:47:56.180 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 15:47:56.180 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 15:47:56.180 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 15:47:56.182 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 15:47:56.182 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 15:47:56.182 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 15:47:56.182 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 15:47:56.183 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 15:47:56.183 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 15:47:56.184 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 15:47:56.184 DEBUG 33428 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 15:47:56.190  INFO 33428 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1df83569, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@439047ef, org.springframework.security.web.context.SecurityContextPersistenceFilter@31c29db1, org.springframework.security.web.header.HeaderWriterFilter@5b7d5eca, org.springframework.web.filter.CorsFilter@36dc6b9, org.springframework.security.web.authentication.logout.LogoutFilter@bafc754, com.hotel.config.JwtAuthenticationFilter@6e53bb4f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2279e7c7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c5e123d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e0393df, org.springframework.security.web.session.SessionManagementFilter@5de32e00, org.springframework.security.web.access.ExceptionTranslationFilter@714a4ba2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7da59f6e]
2025-05-04 15:47:56.231  WARN 33428 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 15:47:56.353 DEBUG 33428 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 15:47:56.377  INFO 33428 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 15:47:56.449 DEBUG 33428 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 15:47:56.454 DEBUG 33428 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 15:47:56.469 DEBUG 33428 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 15:47:56.477 DEBUG 33428 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 15:47:56.617  INFO 33428 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 15:47:56.625  INFO 33428 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.008 seconds (JVM running for 6.77)
2025-05-04 15:48:01.944  INFO 33428 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 15:48:01.944  INFO 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 15:48:01.945 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 15:48:01.945 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 15:48:01.945 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 15:48:01.947 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@37bac0f4
2025-05-04 15:48:01.948 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@240c626d
2025-05-04 15:48:01.948 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 15:48:01.948  INFO 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-04 15:48:01.960 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 15:48:01.966 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:02.046 DEBUG 33428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:48:02.056 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 15:48:02.057 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 15:48:02.059 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 15:48:02.063 DEBUG 33428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 15:48:02.224 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:48:02.225 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 15:48:02.258 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:48:02.260 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:48:04.036 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 15:48:04.036 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:04.041 DEBUG 33428 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:48:04.042 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 15:48:04.042 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 15:48:04.042 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 15:48:04.044 DEBUG 33428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 15:48:04.052 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:48:04.053 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 15:48:04.056 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:48:04.056 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:48:05.394 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 15:48:05.395 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:05.400 DEBUG 33428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:48:05.402 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 15:48:05.402 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 15:48:05.402 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 15:48:05.403 DEBUG 33428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 15:48:05.421 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:48:05.421 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 15:48:05.423 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:48:05.423 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:48:13.246 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:48:13.246 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:13.253 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:48:13.256 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:48:13.257 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:13.263 DEBUG 33428 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:48:13.268 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:48:13.269 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:48:13.269 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:48:13.270 DEBUG 33428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:48:13.279  INFO 33428 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:48:13.292 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:48:13.292 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 15:48:13.294 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:48:13.294 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:48:13.341 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:48:13.341 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:13.342 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:48:13.342 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:48:13.343 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:13.343 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:48:13.343 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:48:13.343 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:13.344 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:48:13.347 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:48:13.347 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:13.350 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:48:13.350 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:13.354 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:48:13.354 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:48:13.354 DEBUG 33428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:48:13.355 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:48:13.356 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:48:13.356 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:48:13.357 DEBUG 33428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:48:13.358 DEBUG 33428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:48:13.360 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:48:13.360 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:48:13.361 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:48:13.361 DEBUG 33428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:48:13.361 DEBUG 33428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:48:13.362 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:48:13.362 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:48:13.362 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:48:13.363 DEBUG 33428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:48:13.373  INFO 33428 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:48:13.381 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:48:13.382 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 15:48:13.384 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:48:13.384 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:48:13.408 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:48:13.409 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:48:13.418 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:48:13.418 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:48:13.458 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:48:13.459 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:48:13.461 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:48:13.461 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.185 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&size=10
2025-05-04 15:51:06.186 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.186 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.189 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&size=10
2025-05-04 15:51:06.189 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.193 DEBUG 33428 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:06.193 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:06.194 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&size=10
2025-05-04 15:51:06.194 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&size=10", parameters={masked}
2025-05-04 15:51:06.194 DEBUG 33428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:06.194  INFO 33428 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:06.200 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:06.200 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:06.201 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:06.202 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.238 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:51:06.239 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.239 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:51:06.239 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.239 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.240 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.241 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:06.241 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.242 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.254 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:51:06.254 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.256 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:51:06.257 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.261 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:06.262 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.264 DEBUG 33428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:06.265 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:06.265 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:51:06.265 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:51:06.266 DEBUG 33428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:51:06.267 DEBUG 33428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:06.268 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:06.268 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:51:06.268 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:51:06.269 DEBUG 33428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:51:06.271 DEBUG 33428 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:06.272 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:06.273 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:06.273 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:51:06.273 DEBUG 33428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:06.275  INFO 33428 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:06.286 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:06.286 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:06.288 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:06.289 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.307 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:06.308 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:51:06.310 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:06.310 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.348 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:06.348 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:51:06.350 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:06.350 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.581 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&size=10
2025-05-04 15:51:06.581 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.582 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.587 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&size=10
2025-05-04 15:51:06.587 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.593 DEBUG 33428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:06.593 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:06.593 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&size=10
2025-05-04 15:51:06.593 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&size=10", parameters={masked}
2025-05-04 15:51:06.594 DEBUG 33428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:06.595  INFO 33428 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:06.604 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:06.605 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:06.606 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:06.607 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.621 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:51:06.621 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.622 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.624 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:51:06.624 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.625 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:06.626 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.626 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.626 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.629 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:51:06.629 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.633 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:51:06.634 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.634 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:06.634 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:06.636 DEBUG 33428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:06.636 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:06.637 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:51:06.637 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:51:06.637 DEBUG 33428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:51:06.639 DEBUG 33428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:06.639 DEBUG 33428 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:06.640 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:06.640 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:06.640 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:06.640 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:51:06.640 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:51:06.641 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:51:06.641 DEBUG 33428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:51:06.641 DEBUG 33428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:06.642  INFO 33428 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:06.649 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:06.649 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:06.650 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:06.651 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.663 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:06.663 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:51:06.664 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:06.664 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:06.691 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:06.691 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:51:06.691 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:06.692 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:20.023 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&size=10
2025-05-04 15:51:20.023 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:20.024 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:20.025 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&size=10
2025-05-04 15:51:20.026 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:20.029 DEBUG 33428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:20.030 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:20.030 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&size=10
2025-05-04 15:51:20.030 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&size=10", parameters={masked}
2025-05-04 15:51:20.030 DEBUG 33428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:20.031  INFO 33428 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:20.037 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:20.038 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:20.038 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:20.039 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:20.123 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:51:20.123 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:20.124 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:51:20.124 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:20.124 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:20.125 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:20.125 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:20.125 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:20.125 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:20.137 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:51:20.137 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:20.138 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:51:20.139 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:20.140 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:20.140 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:20.143 DEBUG 33428 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:20.144 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:20.144 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:51:20.144 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:51:20.144 DEBUG 33428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:51:20.144 DEBUG 33428 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:20.145 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:20.145 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:51:20.145 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:51:20.146 DEBUG 33428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:51:20.146 DEBUG 33428 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:20.147 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:20.147 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:20.147 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:51:20.148 DEBUG 33428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:20.149  INFO 33428 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:20.156 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:20.157 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:20.158 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:20.159 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:20.168 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:20.169 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:51:20.170 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:20.170 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:20.207 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:20.207 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:51:20.208 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:20.208 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:32.520 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 15:51:32.520 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:32.523 DEBUG 33428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:51:32.524 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 15:51:32.524 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 15:51:32.524 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 15:51:32.524 DEBUG 33428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 15:51:32.535  INFO 33428 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 15:51:32.539  INFO 33428 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 15:51:32.539  INFO 33428 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 15:51:32.540  INFO 33428 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 15:51:32.541  INFO 33428 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 15:51:32.541  INFO 33428 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 15:51:32.541 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:32.542 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 15:51:32.544 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:32.545 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:33.494 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 15:51:33.495 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:33.498 DEBUG 33428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:51:33.498 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 15:51:33.498 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 15:51:33.498 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 15:51:33.499 DEBUG 33428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 15:51:33.515 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:33.515 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 15:51:33.517 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:33.517 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:35.669 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 15:51:35.669 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:35.675 DEBUG 33428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:51:35.675 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 15:51:35.676 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 15:51:35.676 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 15:51:35.676 DEBUG 33428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 15:51:35.683  INFO 33428 --- [http-nio-8090-exec-3] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 1 consumption records for userId: 18
2025-05-04 15:51:35.685  INFO 33428 --- [http-nio-8090-exec-3] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 15:51:35.686  INFO 33428 --- [http-nio-8090-exec-3] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 15:51:35.686  INFO 33428 --- [http-nio-8090-exec-3] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 186179
2025-05-04 15:51:35.686  INFO 33428 --- [http-nio-8090-exec-3] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 15:51:35.686  INFO 33428 --- [http-nio-8090-exec-3] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 1 history items for page 0 (size 10) for userId: 18. Total items: 1
2025-05-04 15:51:35.687 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:35.687 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=1, list=[PointsHistoryDTO(id=1, userId=18, points=41402, type=earn, descripti (truncated)...]
2025-05-04 15:51:35.688 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:35.689 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:37.248 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 15:51:37.249 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:37.252 DEBUG 33428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 15:51:37.253 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 15:51:37.253 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 15:51:37.253 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 15:51:37.254 DEBUG 33428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 15:51:37.268 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:37.268 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 15:51:37.269 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:37.269 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.398 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:51:54.399 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.400 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.406 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:51:54.406 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.413 DEBUG 33428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:54.414 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:54.414 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:51:54.415 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:51:54.415 DEBUG 33428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:54.416  INFO 33428 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:54.428 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:54.428 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:54.429 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:54.430 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.473 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:51:54.474 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.473 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:51:54.474 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.474 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:54.474 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.475 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.475 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.475 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.476 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:51:54.477 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.478 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.482 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:51:54.482 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:51:54.482 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.483 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.485 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:51:54.485 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:54.485 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.485 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.488 DEBUG 33428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:54.488 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:54.488 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:51:54.489 DEBUG 33428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:54.489 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:51:54.489 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:54.489 DEBUG 33428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:54.489 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:51:54.489 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:51:54.490 DEBUG 33428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:51:54.490 DEBUG 33428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:54.490 DEBUG 33428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:54.490 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:54.490 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:54.490 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:51:54.490 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:54.490  INFO 33428 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:54.491 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:51:54.491 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:51:54.491 DEBUG 33428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:51:54.491 DEBUG 33428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:54.493  INFO 33428 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:54.499 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:54.500 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:54.501 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:54.501 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:54.501 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.502 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:54.503 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:54.503 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.516 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:54.516 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:51:54.517 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:54.517 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.553 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:54.554 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:51:54.555 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:54.555 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.582 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:51:54.582 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.582 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.583 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:51:54.583 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.583 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.590 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:51:54.590 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.591 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:51:54.591 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.592 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:54.593 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.593 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.594 DEBUG 33428 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:54.594 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:54.594 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:51:54.595 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:51:54.595 DEBUG 33428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:51:54.595 DEBUG 33428 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:54.596 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:54.596 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:51:54.596 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:51:54.597 DEBUG 33428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:51:54.601 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:54.601 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:54.606 DEBUG 33428 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:54.606 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:54.606 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:54.607 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:51:54.607 DEBUG 33428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:54.608  INFO 33428 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:54.614 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:54.614 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:54.615 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:54.615 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:54.615 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.616 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:51:54.616 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:54.617 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:54.647 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:54.647 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:51:54.648 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:54.648 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.405 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:51:55.405 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.406 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.410 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:51:55.410 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.415 DEBUG 33428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:55.416 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:55.416 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:51:55.416 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:51:55.417 DEBUG 33428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:55.417  INFO 33428 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:55.426 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:55.426 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:55.427 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:55.427 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.441 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:51:55.441 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.442 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.442 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:51:55.442 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.444 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.445 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:55.445 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.445 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.450 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:51:55.450 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.450 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:51:55.451 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.453 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:55.453 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.456 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:51:55.456 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.457 DEBUG 33428 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:55.458 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:55.458 DEBUG 33428 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:55.458 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:51:55.458 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:51:55.459 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:55.459 DEBUG 33428 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:51:55.459 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:51:55.459 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:51:55.459 DEBUG 33428 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:51:55.460 DEBUG 33428 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 15:51:55.460 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:55.460 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:55.461 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:51:55.461 DEBUG 33428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:55.461 DEBUG 33428 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:55.462 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:55.462  INFO 33428 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:55.462 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:51:55.462 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:51:55.463 DEBUG 33428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:55.464  INFO 33428 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:55.468 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:55.468 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:55.469 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:55.470 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.474 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:55.474 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:55.476 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:55.476 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.484 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:55.485 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:51:55.486 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:55.486 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.513 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:51:55.513 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.516 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:55.517 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:51:55.517 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:51:55.517 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.518 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:55.518 DEBUG 33428 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:55.518 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:51:55.518 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:55.518 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.518 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:55.519 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:51:55.519 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:51:55.519 DEBUG 33428 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:51:55.523 DEBUG 33428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:55.523 DEBUG 33428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:51:55.524 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:55.524 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:51:55.524 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:51:55.524 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:51:55.524 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:51:55.524 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:51:55.525 DEBUG 33428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:51:55.525 DEBUG 33428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:51:55.526  INFO 33428 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:51:55.532 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:55.532 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 15:51:55.533 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:55.533 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.542 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:55.543 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:51:55.544 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:55.544 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:51:55.567 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:51:55.567 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:51:55.568 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:51:55.568 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:53:27.986 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:53:27.986 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:53:27.987 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:53:27.988 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:53:27.988 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:53:27.991 DEBUG 33428 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:53:27.991 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:53:27.992 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:53:27.992 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:53:27.992 DEBUG 33428 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:53:27.993  INFO 33428 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:53:27.998 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:53:27.999 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 15:53:28.000 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:53:28.001 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:53:28.090 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:53:28.090 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:53:28.090 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:53:28.090 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:53:28.091 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:53:28.091 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:53:28.092 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:53:28.092 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:53:28.092 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:53:28.098 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:53:28.098 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:53:28.102 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:53:28.102 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:53:28.102 DEBUG 33428 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:53:28.103 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:53:28.103 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:53:28.103 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:53:28.103 DEBUG 33428 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:53:28.105 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:53:28.106 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:53:28.106 DEBUG 33428 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:53:28.106 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:53:28.106 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:53:28.107 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:53:28.107 DEBUG 33428 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:53:28.110 DEBUG 33428 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:53:28.111 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:53:28.111 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:53:28.111 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:53:28.112 DEBUG 33428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:53:28.113  INFO 33428 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:53:28.119 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:53:28.119 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 15:53:28.120 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:53:28.120 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:53:28.123 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:53:28.123 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:53:28.125 DEBUG 33428 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:53:28.125 DEBUG 33428 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:53:28.154 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:53:28.154 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:53:28.155 DEBUG 33428 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:53:28.155 DEBUG 33428 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:54:16.962 DEBUG 33428 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?page=1&pageSize=10
2025-05-04 15:54:16.962 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:54:16.963 DEBUG 33428 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:54:16.965 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 15:54:16.965 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:54:16.969 DEBUG 33428 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:54:16.969 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:54:16.969 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 15:54:16.970 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 15:54:16.970 DEBUG 33428 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:54:16.971  INFO 33428 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:54:16.976 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:54:16.977 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 15:54:16.977 DEBUG 33428 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:54:16.978 DEBUG 33428 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:54:17.059 DEBUG 33428 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/dashboard/stats
2025-05-04 15:54:17.060 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:54:17.060 DEBUG 33428 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:54:17.060 DEBUG 33428 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:54:17.060 DEBUG 33428 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing OPTIONS /api/admin/checkin/today-stats
2025-05-04 15:54:17.063 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:54:17.063 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:54:17.063 DEBUG 33428 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:54:17.063 DEBUG 33428 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:54:17.084 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 15:54:17.084 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:54:17.086 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:54:17.087 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:54:17.089 DEBUG 33428 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:54:17.089 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:54:17.090 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 15:54:17.090 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 15:54:17.090 DEBUG 33428 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 15:54:17.091 DEBUG 33428 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:54:17.091 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:54:17.091 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 15:54:17.091 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 15:54:17.092 DEBUG 33428 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 15:54:17.093 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 15:54:17.093 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 15:54:17.093  INFO 33428 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 15:54:17.097 DEBUG 33428 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 15:54:17.097 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 15:54:17.098 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 15:54:17.098 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 15:54:17.098 DEBUG 33428 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 15:54:17.099 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:54:17.099 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 15:54:17.101 DEBUG 33428 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:54:17.101 DEBUG 33428 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:54:17.117 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:54:17.118 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 15:54:17.119 DEBUG 33428 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:54:17.119 DEBUG 33428 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 15:54:17.139 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 15:54:17.139 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 15:54:17.140 DEBUG 33428 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 15:54:17.140 DEBUG 33428 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:10:51.933  INFO 32764 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 32764 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 18:10:51.938 DEBUG 32764 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 18:10:51.940  INFO 32764 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 18:10:53.401  INFO 32764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 18:10:53.751  INFO 32764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 338 ms. Found 19 JPA repository interfaces.
2025-05-04 18:10:54.518  INFO 32764 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 18:10:54.520  INFO 32764 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 18:10:54.521  INFO 32764 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 18:10:54.522  INFO 32764 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 18:10:54.596  INFO 32764 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 18:10:54.612  INFO 32764 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 18:10:54.613  INFO 32764 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 18:10:54.809  INFO 32764 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 18:10:54.809  INFO 32764 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2788 ms
2025-05-04 18:10:55.051  INFO 32764 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 18:10:55.143  INFO 32764 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 18:10:55.406  INFO 32764 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 18:10:55.533  INFO 32764 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 18:10:55.959  INFO 32764 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 18:10:55.978  INFO 32764 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 18:10:57.452  INFO 32764 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 18:10:57.465  INFO 32764 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 18:10:58.816 DEBUG 32764 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 18:10:58.817 DEBUG 32764 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 18:11:00.045 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 18:11:00.055 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 18:11:00.056 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 18:11:00.056 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 18:11:00.057 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 18:11:00.057 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 18:11:00.057 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 18:11:00.057 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 18:11:00.058 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 18:11:00.058 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 18:11:00.058 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 18:11:00.058 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 18:11:00.059 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 18:11:00.059 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 18:11:00.059 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 18:11:00.059 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 18:11:00.060 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 18:11:00.060 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 18:11:00.060 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 18:11:00.060 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 18:11:00.060 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 18:11:00.060 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 18:11:00.061 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 18:11:00.061 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 18:11:00.061 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 18:11:00.061 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 18:11:00.061 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 18:11:00.061 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 18:11:00.061 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 18:11:00.062 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 18:11:00.062 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 18:11:00.062 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 18:11:00.062 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 18:11:00.062 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 18:11:00.062 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 18:11:00.063 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 18:11:00.066 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 18:11:00.066 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 18:11:00.066 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 18:11:00.066 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 18:11:00.067 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 18:11:00.067 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 18:11:00.067 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 18:11:00.068 DEBUG 32764 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 18:11:00.077  INFO 32764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@253c7189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@cfe72b0, org.springframework.security.web.context.SecurityContextPersistenceFilter@1503f434, org.springframework.security.web.header.HeaderWriterFilter@383a5260, org.springframework.web.filter.CorsFilter@5cff6d1d, org.springframework.security.web.authentication.logout.LogoutFilter@7c7b27c, com.hotel.config.JwtAuthenticationFilter@5929059c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7af17d31, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40612056, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12f933c7, org.springframework.security.web.session.SessionManagementFilter@64f1b2fb, org.springframework.security.web.access.ExceptionTranslationFilter@76055d02, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@439047ef]
2025-05-04 18:11:00.119  WARN 32764 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 18:11:00.263 DEBUG 32764 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 18:11:00.297  INFO 32764 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 18:11:00.392 DEBUG 32764 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 18:11:00.398 DEBUG 32764 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 18:11:00.414 DEBUG 32764 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 18:11:00.424 DEBUG 32764 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 18:11:00.584  INFO 32764 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 18:11:00.593  INFO 32764 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 9.395 seconds (JVM running for 10.689)
2025-05-04 18:11:18.330  INFO 32764 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 18:11:18.330  INFO 32764 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 18:11:18.331 DEBUG 32764 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 18:11:18.331 DEBUG 32764 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 18:11:18.331 DEBUG 32764 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 18:11:18.333 DEBUG 32764 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@22825762
2025-05-04 18:11:18.334 DEBUG 32764 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3e79473d
2025-05-04 18:11:18.334 DEBUG 32764 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 18:11:18.334  INFO 32764 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-04 18:11:18.354 DEBUG 32764 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 18:11:18.363 DEBUG 32764 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:11:18.520 DEBUG 32764 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:11:18.538 DEBUG 32764 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 18:11:18.539 DEBUG 32764 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 18:11:18.543 DEBUG 32764 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 18:11:18.554 DEBUG 32764 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 18:11:18.854 DEBUG 32764 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:11:18.856 DEBUG 32764 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 18:11:18.911 DEBUG 32764 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:11:18.915 DEBUG 32764 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:11:19.913 DEBUG 32764 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:11:19.913 DEBUG 32764 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:11:19.919 DEBUG 32764 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:11:19.920 DEBUG 32764 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 18:11:19.920 DEBUG 32764 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:11:19.920 DEBUG 32764 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 18:11:19.921 DEBUG 32764 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 18:11:19.993 DEBUG 32764 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:11:19.994 DEBUG 32764 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:11:20.016 DEBUG 32764 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:11:20.017 DEBUG 32764 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:11:21.152 DEBUG 32764 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 18:11:21.152 DEBUG 32764 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:11:21.158 DEBUG 32764 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:11:21.159 DEBUG 32764 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 18:11:21.160 DEBUG 32764 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 18:11:21.160 DEBUG 32764 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 18:11:21.161 DEBUG 32764 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 18:11:21.181  INFO 32764 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 2 consumption records for userId: 18
2025-05-04 18:11:21.187  INFO 32764 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 18:11:21.188  INFO 32764 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 18:11:21.192  INFO 32764 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 2, Points Earned from DB: 53973
2025-05-04 18:11:21.194  INFO 32764 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 240152
2025-05-04 18:11:21.194  INFO 32764 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 18:11:21.194  INFO 32764 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 2 history items for page 0 (size 10) for userId: 18. Total items: 2
2025-05-04 18:11:21.198 DEBUG 32764 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:11:21.199 DEBUG 32764 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=2, list=[PointsHistoryDTO(id=2, userId=18, points=53973, type=earn, descripti (truncated)...]
2025-05-04 18:11:21.209 DEBUG 32764 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:11:21.210 DEBUG 32764 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:11:22.128 DEBUG 32764 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:11:22.129 DEBUG 32764 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:11:22.134 DEBUG 32764 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:11:22.134 DEBUG 32764 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 18:11:22.135 DEBUG 32764 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:11:22.135 DEBUG 32764 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 18:11:22.135 DEBUG 32764 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 18:11:22.154 DEBUG 32764 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:11:22.154 DEBUG 32764 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:11:22.156 DEBUG 32764 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:11:22.156 DEBUG 32764 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:11:28.893 DEBUG 32764 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-04 18:11:28.893 DEBUG 32764 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:11:28.902 DEBUG 32764 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:11:28.903 DEBUG 32764 --- [http-nio-8090-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 18:11:28.903 DEBUG 32764 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-04 18:11:28.903 DEBUG 32764 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-04 18:11:28.903 DEBUG 32764 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-04 18:11:28.904 DEBUG 32764 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-04 18:11:28.928 DEBUG 32764 --- [http-nio-8090-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=admin, password=admin123)]
2025-05-04 18:11:29.075 DEBUG 32764 --- [http-nio-8090-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-04 18:11:29.092 DEBUG 32764 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:11:29.092 DEBUG 32764 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=1, username=admin, role=ADMIN, token=eyJhbGciOiJIUz (truncated)...]
2025-05-04 18:11:29.093 DEBUG 32764 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:11:29.093 DEBUG 32764 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:11:29.393 DEBUG 32764 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:11:29.394 DEBUG 32764 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:11:29.398 DEBUG 32764 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 18:11:29.404 DEBUG 32764 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:11:29.404 DEBUG 32764 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:11:29.405 DEBUG 32764 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:11:29.405 DEBUG 32764 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:11:29.493 DEBUG 32764 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:11:29.493 DEBUG 32764 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:11:29.496 DEBUG 32764 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:11:29.496 DEBUG 32764 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:11:32.181 DEBUG 32764 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-04 18:11:32.182 DEBUG 32764 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:11:32.186 DEBUG 32764 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 18:11:32.187 DEBUG 32764 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users?page=1&pageSize=10&username=&phone=&status=] with attributes [hasRole('ROLE_ADMIN')]
2025-05-04 18:11:32.187 DEBUG 32764 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-04 18:11:32.188 DEBUG 32764 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users?page=1&pageSize=10&username=&phone=&status=", parameters={masked}
2025-05-04 18:11:32.188 DEBUG 32764 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllUsers(int, int, String, String, String, String)
2025-05-04 18:11:32.216 DEBUG 32764 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:11:32.216 DEBUG 32764 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=19, users=[UserDTO(id=19, username=前台妹妹0 (truncated)...]
2025-05-04 18:11:32.219 DEBUG 32764 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:11:32.219 DEBUG 32764 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:11:33.164 DEBUG 32764 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/staff?page=0&pageSize=10
2025-05-04 18:11:33.164 DEBUG 32764 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:11:33.171 DEBUG 32764 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 18:11:33.172 DEBUG 32764 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/staff?page=0&pageSize=10] with attributes [authenticated]
2025-05-04 18:11:33.172 DEBUG 32764 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/staff?page=0&pageSize=10
2025-05-04 18:11:33.172 DEBUG 32764 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/staff?page=0&pageSize=10", parameters={masked}
2025-05-04 18:11:33.173 DEBUG 32764 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllStaffPaginated(int, int, String, String, String)
2025-05-04 18:11:33.197 DEBUG 32764 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:11:33.197 DEBUG 32764 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=6, users=[UserDTO(id=19, username=前台妹妹00 (truncated)...]
2025-05-04 18:11:33.199 DEBUG 32764 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:11:33.200 DEBUG 32764 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:11:33.819 DEBUG 32764 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=0&size=10
2025-05-04 18:11:33.820 DEBUG 32764 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:11:33.824 DEBUG 32764 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 18:11:33.824 DEBUG 32764 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:11:33.825 DEBUG 32764 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=0&size=10
2025-05-04 18:11:33.825 DEBUG 32764 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=0&size=10", parameters={masked}
2025-05-04 18:11:33.825 DEBUG 32764 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-04 18:11:33.851 DEBUG 32764 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:11:33.852 DEBUG 32764 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=21, list=[{roomNumber=501, lastCleanTime=2025-05-01T15:04:43, notes=, needCle (truncated)...]
2025-05-04 18:11:33.854 DEBUG 32764 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:11:33.855 DEBUG 32764 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:11:34.236 DEBUG 32764 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/roomtypes
2025-05-04 18:11:34.236 DEBUG 32764 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:11:34.240 DEBUG 32764 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 18:11:34.241 DEBUG 32764 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/roomtypes] with attributes [hasRole('ROLE_ADMIN')]
2025-05-04 18:11:34.241 DEBUG 32764 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/roomtypes
2025-05-04 18:11:34.241 DEBUG 32764 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/roomtypes", parameters={}
2025-05-04 18:11:34.242 DEBUG 32764 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getAllRoomTypes()
2025-05-04 18:11:34.251 DEBUG 32764 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:11:34.251 DEBUG 32764 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{amenities=无限量矿泉水、咖啡、茶叶等, createTime=2025-04-28T11:22:57, name=行政套房, description=高端 (truncated)...]
2025-05-04 18:11:34.252 DEBUG 32764 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:11:34.253 DEBUG 32764 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:11:34.499 DEBUG 32764 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/invitation-codes/all
2025-05-04 18:11:34.499 DEBUG 32764 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:11:34.503 DEBUG 32764 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 18:11:34.504 DEBUG 32764 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/invitation-codes/all] with attributes [authenticated]
2025-05-04 18:11:34.504 DEBUG 32764 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/invitation-codes/all
2025-05-04 18:11:34.504 DEBUG 32764 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/invitation-codes/all", parameters={}
2025-05-04 18:11:34.504 DEBUG 32764 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.InvitationCodeController#getAllInvitationCodes()
2025-05-04 18:11:34.516 DEBUG 32764 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:11:34.517 DEBUG 32764 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[InvitationCode(id=12, code=L1R1O7TC, role=CLEANER, maxUses=1, currentUses=0, expiryDate=2025-06-01T (truncated)...]
2025-05-04 18:11:34.522 DEBUG 32764 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:11:34.523 DEBUG 32764 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:11:40.812 DEBUG 32764 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 18:11:40.813 DEBUG 32764 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:11:40.814 DEBUG 32764 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:11:40.815 DEBUG 32764 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:11:40.816 DEBUG 32764 --- [http-nio-8090-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 18:11:40.817 DEBUG 32764 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:11:40.821 DEBUG 32764 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 18:11:40.821 DEBUG 32764 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:11:40.821 DEBUG 32764 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:11:40.821 DEBUG 32764 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 18:11:40.826 DEBUG 32764 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 18:11:40.826 DEBUG 32764 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 18:11:40.828 DEBUG 32764 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:11:40.828 DEBUG 32764 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 18:11:40.829 DEBUG 32764 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 18:11:40.830 DEBUG 32764 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:11:55.284 DEBUG 32764 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 18:11:55.284 DEBUG 32764 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:11:55.285 DEBUG 32764 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:11:55.286 DEBUG 32764 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:11:55.286 DEBUG 32764 --- [http-nio-8090-exec-2] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 18:11:55.286 DEBUG 32764 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:11:55.287 DEBUG 32764 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 18:11:55.287 DEBUG 32764 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:11:55.288 DEBUG 32764 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:11:55.288 DEBUG 32764 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 18:11:55.288 DEBUG 32764 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 18:11:55.289 DEBUG 32764 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 18:11:55.290 DEBUG 32764 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:11:55.290 DEBUG 32764 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 18:11:55.291 DEBUG 32764 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 18:11:55.291 DEBUG 32764 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:12:02.855 DEBUG 32764 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 18:12:02.856 DEBUG 32764 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:12:02.856 DEBUG 32764 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:12:02.856 DEBUG 32764 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:12:02.857 DEBUG 32764 --- [http-nio-8090-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 18:12:02.857 DEBUG 32764 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:12:02.859 DEBUG 32764 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 18:12:02.859 DEBUG 32764 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:12:02.859 DEBUG 32764 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:12:02.859 DEBUG 32764 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 18:12:02.861 DEBUG 32764 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 18:12:02.861 DEBUG 32764 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 18:12:02.862 DEBUG 32764 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:12:02.862 DEBUG 32764 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 18:12:02.863 DEBUG 32764 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 18:12:02.863 DEBUG 32764 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:15:20.810 DEBUG 32764 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 18:15:20.812 DEBUG 32764 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:15:20.824 DEBUG 32764 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:15:20.825 DEBUG 32764 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:15:20.826 DEBUG 32764 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 18:15:20.826 DEBUG 32764 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 18:15:20.828 DEBUG 32764 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:15:20.844  INFO 32764 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:15:20.863 DEBUG 32764 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:15:20.864 DEBUG 32764 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 18:15:20.866 DEBUG 32764 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:15:20.867 DEBUG 32764 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:15:20.937 DEBUG 32764 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:15:20.937 DEBUG 32764 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:15:20.944 DEBUG 32764 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:15:20.945 DEBUG 32764 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:15:20.945 DEBUG 32764 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:15:20.945 DEBUG 32764 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:15:20.945 DEBUG 32764 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:15:20.947 DEBUG 32764 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:15:20.948 DEBUG 32764 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:15:20.954 DEBUG 32764 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:15:20.956 DEBUG 32764 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:15:20.962 DEBUG 32764 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:15:20.963 DEBUG 32764 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:15:20.964 DEBUG 32764 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:15:20.964 DEBUG 32764 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:15:20.964 DEBUG 32764 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:15:20.977 DEBUG 32764 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:15:20.978 DEBUG 32764 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:15:20.978 DEBUG 32764 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:15:20.979 DEBUG 32764 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:15:20.979 DEBUG 32764 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:15:20.981  INFO 32764 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:15:20.999 DEBUG 32764 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:15:20.999 DEBUG 32764 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:15:21.001 DEBUG 32764 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:15:21.001 DEBUG 32764 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:15:21.014 DEBUG 32764 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:15:21.014 DEBUG 32764 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:15:21.018 DEBUG 32764 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:15:21.018 DEBUG 32764 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:15:21.034 DEBUG 32764 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:15:21.035 DEBUG 32764 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:15:21.036 DEBUG 32764 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:15:21.036 DEBUG 32764 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:15:39.827  INFO 32764 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 18:15:39.829  INFO 32764 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 18:15:39.847  INFO 32764 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 18:15:46.728  INFO 39632 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 39632 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 18:15:46.731 DEBUG 39632 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 18:15:46.732  INFO 39632 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 18:15:47.895  INFO 39632 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 18:15:48.177  INFO 39632 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 269 ms. Found 19 JPA repository interfaces.
2025-05-04 18:15:48.853  INFO 39632 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 18:15:48.855  INFO 39632 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 18:15:48.856  INFO 39632 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 18:15:48.856  INFO 39632 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 18:15:48.865  INFO 39632 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 18:15:48.876  INFO 39632 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 18:15:48.876  INFO 39632 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 18:15:49.020  INFO 39632 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 18:15:49.020  INFO 39632 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2239 ms
2025-05-04 18:15:49.230  INFO 39632 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 18:15:49.299  INFO 39632 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 18:15:49.537  INFO 39632 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 18:15:49.688  INFO 39632 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 18:15:50.079  INFO 39632 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 18:15:50.099  INFO 39632 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 18:15:51.462  INFO 39632 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 18:15:51.472  INFO 39632 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 18:15:52.057 DEBUG 39632 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 18:15:52.057 DEBUG 39632 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 18:15:53.206 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 18:15:53.213 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 18:15:53.214 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 18:15:53.214 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 18:15:53.214 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 18:15:53.215 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 18:15:53.215 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 18:15:53.215 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 18:15:53.216 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 18:15:53.216 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 18:15:53.216 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 18:15:53.216 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 18:15:53.216 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 18:15:53.217 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 18:15:53.217 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 18:15:53.217 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 18:15:53.218 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 18:15:53.218 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 18:15:53.218 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 18:15:53.218 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 18:15:53.218 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 18:15:53.218 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 18:15:53.218 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 18:15:53.219 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 18:15:53.220 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 18:15:53.220 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 18:15:53.221 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 18:15:53.221 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 18:15:53.221 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 18:15:53.221 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 18:15:53.221 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 18:15:53.222 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 18:15:53.222 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 18:15:53.222 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 18:15:53.222 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 18:15:53.223 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 18:15:53.225 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 18:15:53.225 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 18:15:53.226 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 18:15:53.226 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 18:15:53.227 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 18:15:53.227 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 18:15:53.227 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 18:15:53.227 DEBUG 39632 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 18:15:53.236  INFO 39632 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4a985388, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15c8b75c, org.springframework.security.web.context.SecurityContextPersistenceFilter@77430c79, org.springframework.security.web.header.HeaderWriterFilter@75708130, org.springframework.web.filter.CorsFilter@31921151, org.springframework.security.web.authentication.logout.LogoutFilter@19f9404d, com.hotel.config.JwtAuthenticationFilter@477d6f66, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4468ced2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21f421b8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@26fc464f, org.springframework.security.web.session.SessionManagementFilter@1a67bcaf, org.springframework.security.web.access.ExceptionTranslationFilter@5101b9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@66ad7167]
2025-05-04 18:15:53.310  WARN 39632 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 18:15:53.485 DEBUG 39632 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 18:15:53.522  INFO 39632 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 18:15:53.609 DEBUG 39632 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 18:15:53.616 DEBUG 39632 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 18:15:53.641 DEBUG 39632 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 18:15:53.658 DEBUG 39632 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 18:15:53.952  INFO 39632 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 18:15:53.967  INFO 39632 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.827 seconds (JVM running for 9.195)
2025-05-04 18:16:03.767  INFO 39632 --- [http-nio-8090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 18:16:03.768  INFO 39632 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 18:16:03.770 DEBUG 39632 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 18:16:03.771 DEBUG 39632 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 18:16:03.771 DEBUG 39632 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 18:16:03.773 DEBUG 39632 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@8b93c88
2025-05-04 18:16:03.775 DEBUG 39632 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2f08e6d3
2025-05-04 18:16:03.775 DEBUG 39632 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 18:16:03.775  INFO 39632 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-05-04 18:16:03.795 DEBUG 39632 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:16:03.801 DEBUG 39632 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:16:03.902 DEBUG 39632 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:16:03.921 DEBUG 39632 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 18:16:03.922 DEBUG 39632 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:16:03.926 DEBUG 39632 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 18:16:03.933 DEBUG 39632 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 18:16:04.214 DEBUG 39632 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:16:04.216 DEBUG 39632 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:16:04.311 DEBUG 39632 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:16:04.314 DEBUG 39632 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:16:05.109 DEBUG 39632 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 18:16:05.110 DEBUG 39632 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:16:05.118 DEBUG 39632 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:16:05.119 DEBUG 39632 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 18:16:05.119 DEBUG 39632 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 18:16:05.119 DEBUG 39632 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 18:16:05.120 DEBUG 39632 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 18:16:05.142  INFO 39632 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 2 consumption records for userId: 18
2025-05-04 18:16:05.147  INFO 39632 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 18:16:05.148  INFO 39632 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 18:16:05.149  INFO 39632 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 2, Points Earned from DB: 53973
2025-05-04 18:16:05.150  INFO 39632 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 240152
2025-05-04 18:16:05.150  INFO 39632 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 18:16:05.150  INFO 39632 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 2 history items for page 0 (size 10) for userId: 18. Total items: 2
2025-05-04 18:16:05.154 DEBUG 39632 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:16:05.155 DEBUG 39632 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=2, list=[PointsHistoryDTO(id=2, userId=18, points=53973, type=earn, descripti (truncated)...]
2025-05-04 18:16:05.167 DEBUG 39632 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:16:05.168 DEBUG 39632 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:16:06.257 DEBUG 39632 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:16:06.257 DEBUG 39632 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:16:06.263 DEBUG 39632 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:16:06.263 DEBUG 39632 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 18:16:06.264 DEBUG 39632 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:16:06.265 DEBUG 39632 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 18:16:06.265 DEBUG 39632 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 18:16:06.296 DEBUG 39632 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:16:06.297 DEBUG 39632 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:16:06.299 DEBUG 39632 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:16:06.299 DEBUG 39632 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:16:27.476 DEBUG 39632 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 18:16:27.477 DEBUG 39632 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:16:27.483 DEBUG 39632 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:16:27.491 DEBUG 39632 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:16:27.491 DEBUG 39632 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 18:16:27.492 DEBUG 39632 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 18:16:27.492 DEBUG 39632 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:16:27.506  INFO 39632 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:16:27.524 DEBUG 39632 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:16:27.525 DEBUG 39632 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 18:16:27.528 DEBUG 39632 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:16:27.528 DEBUG 39632 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:16:27.642 DEBUG 39632 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:16:27.643 DEBUG 39632 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:16:27.644 DEBUG 39632 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:16:27.644 DEBUG 39632 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:16:27.644 DEBUG 39632 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:16:27.644 DEBUG 39632 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:16:27.650 DEBUG 39632 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:16:27.651 DEBUG 39632 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:16:27.652 DEBUG 39632 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:16:27.652 DEBUG 39632 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:16:27.653 DEBUG 39632 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:16:27.657 DEBUG 39632 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:16:27.658 DEBUG 39632 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:16:27.659 DEBUG 39632 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:16:27.659 DEBUG 39632 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:16:27.660 DEBUG 39632 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:16:27.660 DEBUG 39632 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:16:27.661 DEBUG 39632 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:16:27.661 DEBUG 39632 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:16:27.662 DEBUG 39632 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:16:27.663 DEBUG 39632 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:16:27.679  INFO 39632 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:16:27.692 DEBUG 39632 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:16:27.693 DEBUG 39632 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:16:27.695 DEBUG 39632 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:16:27.696 DEBUG 39632 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:16:27.719 DEBUG 39632 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:16:27.720 DEBUG 39632 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:16:27.724 DEBUG 39632 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:16:27.724 DEBUG 39632 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:16:27.815 DEBUG 39632 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:16:27.816 DEBUG 39632 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:16:27.821 DEBUG 39632 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:16:27.822 DEBUG 39632 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:25:35.097 DEBUG 39632 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 18:25:35.098 DEBUG 39632 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:25:35.099 DEBUG 39632 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:25:35.100 DEBUG 39632 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:25:35.103 DEBUG 39632 --- [http-nio-8090-exec-8] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 18:25:35.103 DEBUG 39632 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:25:35.108 DEBUG 39632 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 18:25:35.108 DEBUG 39632 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:25:35.108 DEBUG 39632 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:25:35.108 DEBUG 39632 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 18:25:35.116 DEBUG 39632 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 18:25:35.116 DEBUG 39632 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 18:25:35.119 DEBUG 39632 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, application/xml;q=0.9, */*;q=0.8] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:25:35.120 DEBUG 39632 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 18:25:35.121 DEBUG 39632 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 18:25:35.122 DEBUG 39632 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:25:40.955 DEBUG 39632 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 18:25:40.955 DEBUG 39632 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:25:40.956 DEBUG 39632 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:25:40.957 DEBUG 39632 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:25:40.957 DEBUG 39632 --- [http-nio-8090-exec-9] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 18:25:40.958 DEBUG 39632 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:25:40.959 DEBUG 39632 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 18:25:40.959 DEBUG 39632 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:25:40.959 DEBUG 39632 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:25:40.959 DEBUG 39632 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 18:25:40.960 DEBUG 39632 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 18:25:40.961 DEBUG 39632 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 18:25:40.962 DEBUG 39632 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, application/xml;q=0.9, */*;q=0.8] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:25:40.962 DEBUG 39632 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 18:25:40.963 DEBUG 39632 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 18:25:40.963 DEBUG 39632 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:25:56.349 DEBUG 39632 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 18:25:56.350 DEBUG 39632 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:25:56.358 DEBUG 39632 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:25:56.360 DEBUG 39632 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:25:56.360 DEBUG 39632 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 18:25:56.360 DEBUG 39632 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 18:25:56.361 DEBUG 39632 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:25:56.362  INFO 39632 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:25:56.374 DEBUG 39632 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:25:56.375 DEBUG 39632 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 18:25:56.377 DEBUG 39632 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:25:56.378 DEBUG 39632 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:25:56.655 DEBUG 39632 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:25:56.655 DEBUG 39632 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:25:56.659 DEBUG 39632 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:25:56.659 DEBUG 39632 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:25:56.663 DEBUG 39632 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:25:56.663 DEBUG 39632 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:25:56.663 DEBUG 39632 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:25:56.664 DEBUG 39632 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:25:56.664 DEBUG 39632 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:25:56.664 DEBUG 39632 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:25:56.665 DEBUG 39632 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:25:56.667 DEBUG 39632 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:25:56.669 DEBUG 39632 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:25:56.669 DEBUG 39632 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:25:56.669 DEBUG 39632 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:25:56.670 DEBUG 39632 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:25:56.672 DEBUG 39632 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:25:56.673 DEBUG 39632 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:25:56.673 DEBUG 39632 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:25:56.673 DEBUG 39632 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:25:56.674 DEBUG 39632 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:25:56.675  INFO 39632 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:25:56.685 DEBUG 39632 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:25:56.686 DEBUG 39632 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:25:56.688 DEBUG 39632 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:25:56.688 DEBUG 39632 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:25:56.701 DEBUG 39632 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:25:56.701 DEBUG 39632 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:25:56.702 DEBUG 39632 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:25:56.702 DEBUG 39632 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:25:56.745 DEBUG 39632 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:25:56.745 DEBUG 39632 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:25:56.746 DEBUG 39632 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:25:56.747 DEBUG 39632 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:26:57.624 DEBUG 39632 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 18:26:57.625 DEBUG 39632 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:26:57.626 DEBUG 39632 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:26:57.627 DEBUG 39632 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:26:57.627 DEBUG 39632 --- [http-nio-8090-exec-4] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 18:26:57.628 DEBUG 39632 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:26:57.629 DEBUG 39632 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 18:26:57.629 DEBUG 39632 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:26:57.629 DEBUG 39632 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:26:57.630 DEBUG 39632 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 18:26:57.631 DEBUG 39632 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 18:26:57.631 DEBUG 39632 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 18:26:57.633 DEBUG 39632 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, application/xml;q=0.9, */*;q=0.8] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:26:57.633 DEBUG 39632 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 18:26:57.634 DEBUG 39632 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 18:26:57.635 DEBUG 39632 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:27:19.825 DEBUG 39632 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 18:27:19.826 DEBUG 39632 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:27:19.827 DEBUG 39632 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:27:19.827 DEBUG 39632 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:27:19.828 DEBUG 39632 --- [http-nio-8090-exec-7] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 18:27:19.829 DEBUG 39632 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:27:19.829 DEBUG 39632 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 18:27:19.829 DEBUG 39632 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:27:19.830 DEBUG 39632 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:27:19.830 DEBUG 39632 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 18:27:19.831 DEBUG 39632 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 18:27:19.832 DEBUG 39632 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 18:27:19.834 DEBUG 39632 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, application/xml;q=0.9, */*;q=0.8] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:27:19.835 DEBUG 39632 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 18:27:19.837 DEBUG 39632 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 18:27:19.837 DEBUG 39632 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:32:52.247 DEBUG 39632 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 18:32:52.248 DEBUG 39632 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:32:52.254 DEBUG 39632 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:32:52.255 DEBUG 39632 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:32:52.255 DEBUG 39632 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 18:32:52.256 DEBUG 39632 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 18:32:52.256 DEBUG 39632 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:32:52.257  INFO 39632 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:32:52.272 DEBUG 39632 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:32:52.272 DEBUG 39632 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 18:32:52.274 DEBUG 39632 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:32:52.274 DEBUG 39632 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:32:52.416 DEBUG 39632 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:32:52.417 DEBUG 39632 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:32:52.420 DEBUG 39632 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:32:52.420 DEBUG 39632 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:32:52.421 DEBUG 39632 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:32:52.421 DEBUG 39632 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:32:52.424 DEBUG 39632 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:32:52.425 DEBUG 39632 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:32:52.425 DEBUG 39632 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:32:52.426 DEBUG 39632 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:32:52.428 DEBUG 39632 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:32:52.428 DEBUG 39632 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:32:52.428 DEBUG 39632 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:32:52.429 DEBUG 39632 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:32:52.429 DEBUG 39632 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:32:52.429 DEBUG 39632 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:32:52.429 DEBUG 39632 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:32:52.430 DEBUG 39632 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:32:52.430 DEBUG 39632 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:32:52.430 DEBUG 39632 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:32:52.431 DEBUG 39632 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:32:52.432  INFO 39632 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:32:52.441 DEBUG 39632 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:32:52.441 DEBUG 39632 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:32:52.443 DEBUG 39632 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:32:52.443 DEBUG 39632 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:32:52.466 DEBUG 39632 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:32:52.467 DEBUG 39632 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:32:52.468 DEBUG 39632 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:32:52.468 DEBUG 39632 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:32:52.522 DEBUG 39632 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:32:52.522 DEBUG 39632 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:32:52.524 DEBUG 39632 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:32:52.525 DEBUG 39632 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:33:05.025  INFO 39632 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 18:33:05.037  INFO 39632 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 18:33:05.069  INFO 39632 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 18:33:15.966  INFO 30724 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 30724 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 18:33:15.969 DEBUG 30724 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 18:33:15.969  INFO 30724 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 18:33:17.444  INFO 30724 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 18:33:17.701  INFO 30724 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 243 ms. Found 19 JPA repository interfaces.
2025-05-04 18:33:18.357  INFO 30724 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 18:33:18.359  INFO 30724 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 18:33:18.360  INFO 30724 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 18:33:18.362  INFO 30724 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 18:33:18.370  INFO 30724 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 18:33:18.379  INFO 30724 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 18:33:18.380  INFO 30724 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 18:33:18.545  INFO 30724 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 18:33:18.545  INFO 30724 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2500 ms
2025-05-04 18:33:18.788  INFO 30724 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 18:33:18.859  INFO 30724 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 18:33:19.064  INFO 30724 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 18:33:19.204  INFO 30724 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 18:33:19.606  INFO 30724 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 18:33:19.626  INFO 30724 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 18:33:21.012  INFO 30724 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 18:33:21.022  INFO 30724 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 18:33:21.538 DEBUG 30724 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 18:33:21.538 DEBUG 30724 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 18:33:22.482 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 18:33:22.489 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 18:33:22.490 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 18:33:22.490 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 18:33:22.491 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 18:33:22.491 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 18:33:22.492 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 18:33:22.492 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 18:33:22.493 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 18:33:22.493 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 18:33:22.493 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 18:33:22.493 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 18:33:22.494 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 18:33:22.494 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 18:33:22.494 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 18:33:22.495 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 18:33:22.496 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 18:33:22.496 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 18:33:22.496 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 18:33:22.496 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 18:33:22.497 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 18:33:22.497 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 18:33:22.497 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 18:33:22.497 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 18:33:22.498 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 18:33:22.498 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 18:33:22.499 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 18:33:22.499 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 18:33:22.499 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 18:33:22.499 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 18:33:22.499 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 18:33:22.500 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 18:33:22.500 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 18:33:22.500 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 18:33:22.500 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 18:33:22.500 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 18:33:22.503 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 18:33:22.503 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 18:33:22.503 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 18:33:22.503 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 18:33:22.504 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 18:33:22.504 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 18:33:22.504 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 18:33:22.504 DEBUG 30724 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 18:33:22.512  INFO 30724 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2c56e044, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d970881, org.springframework.security.web.context.SecurityContextPersistenceFilter@1d160161, org.springframework.security.web.header.HeaderWriterFilter@e0c03bd, org.springframework.web.filter.CorsFilter@5570ee6d, org.springframework.security.web.authentication.logout.LogoutFilter@1fd73dcb, com.hotel.config.JwtAuthenticationFilter@1dbfbd94, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48cbb4c5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@af04d6d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@153cf928, org.springframework.security.web.session.SessionManagementFilter@75708130, org.springframework.security.web.access.ExceptionTranslationFilter@3fe59f84, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@34f2d3a6]
2025-05-04 18:33:22.580  WARN 30724 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 18:33:22.766 DEBUG 30724 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 18:33:22.799  INFO 30724 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 18:33:22.893 DEBUG 30724 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 18:33:22.901 DEBUG 30724 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 18:33:22.920 DEBUG 30724 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 18:33:22.931 DEBUG 30724 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 18:33:23.128  INFO 30724 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 18:33:23.138  INFO 30724 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.746 seconds (JVM running for 8.929)
2025-05-04 18:33:26.955  INFO 30724 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 18:33:26.956  INFO 30724 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 18:33:26.960 DEBUG 30724 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 18:33:26.961 DEBUG 30724 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 18:33:26.962 DEBUG 30724 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 18:33:26.968 DEBUG 30724 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5a8d03ce
2025-05-04 18:33:26.969 DEBUG 30724 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4fe8ac61
2025-05-04 18:33:26.971 DEBUG 30724 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 18:33:26.972  INFO 30724 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 12 ms
2025-05-04 18:33:26.997 DEBUG 30724 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 18:33:27.006 DEBUG 30724 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:33:27.121 DEBUG 30724 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:33:27.135 DEBUG 30724 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 18:33:27.136 DEBUG 30724 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 18:33:27.139 DEBUG 30724 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 18:33:27.148 DEBUG 30724 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 18:33:27.332 DEBUG 30724 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:33:27.333 DEBUG 30724 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 18:33:27.363 DEBUG 30724 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:33:27.365 DEBUG 30724 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:33:28.005 DEBUG 30724 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:33:28.005 DEBUG 30724 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:33:28.010 DEBUG 30724 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:33:28.011 DEBUG 30724 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 18:33:28.011 DEBUG 30724 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:33:28.011 DEBUG 30724 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 18:33:28.012 DEBUG 30724 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 18:33:28.068 DEBUG 30724 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:33:28.069 DEBUG 30724 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:33:28.086 DEBUG 30724 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:33:28.087 DEBUG 30724 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:33:29.147 DEBUG 30724 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 18:33:29.148 DEBUG 30724 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:33:29.156 DEBUG 30724 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:33:29.157 DEBUG 30724 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 18:33:29.158 DEBUG 30724 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 18:33:29.158 DEBUG 30724 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 18:33:29.158 DEBUG 30724 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 18:33:29.182  INFO 30724 --- [http-nio-8090-exec-3] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 2 consumption records for userId: 18
2025-05-04 18:33:29.189  INFO 30724 --- [http-nio-8090-exec-3] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 18:33:29.190  INFO 30724 --- [http-nio-8090-exec-3] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 18:33:29.191  INFO 30724 --- [http-nio-8090-exec-3] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 2, Points Earned from DB: 53973
2025-05-04 18:33:29.191  INFO 30724 --- [http-nio-8090-exec-3] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 240152
2025-05-04 18:33:29.192  INFO 30724 --- [http-nio-8090-exec-3] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 18:33:29.192  INFO 30724 --- [http-nio-8090-exec-3] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 2 history items for page 0 (size 10) for userId: 18. Total items: 2
2025-05-04 18:33:29.194 DEBUG 30724 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:33:29.194 DEBUG 30724 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=2, list=[PointsHistoryDTO(id=2, userId=18, points=53973, type=earn, descripti (truncated)...]
2025-05-04 18:33:29.199 DEBUG 30724 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:33:29.199 DEBUG 30724 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:33:29.938 DEBUG 30724 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:33:29.939 DEBUG 30724 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:33:29.945 DEBUG 30724 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:33:29.946 DEBUG 30724 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 18:33:29.946 DEBUG 30724 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:33:29.946 DEBUG 30724 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 18:33:29.946 DEBUG 30724 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 18:33:29.970 DEBUG 30724 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:33:29.971 DEBUG 30724 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:33:29.972 DEBUG 30724 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:33:29.973 DEBUG 30724 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:33:36.300 DEBUG 30724 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 18:33:36.301 DEBUG 30724 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:33:36.307 DEBUG 30724 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:33:36.317 DEBUG 30724 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:33:36.317 DEBUG 30724 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 18:33:36.318 DEBUG 30724 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 18:33:36.319 DEBUG 30724 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:33:36.335  INFO 30724 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:33:36.349 DEBUG 30724 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:33:36.349 DEBUG 30724 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 1 containing UNKNOWN instances)]
2025-05-04 18:33:36.351 DEBUG 30724 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:33:36.352 DEBUG 30724 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:33:36.468 DEBUG 30724 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:33:36.468 DEBUG 30724 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:33:36.468 DEBUG 30724 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:33:36.469 DEBUG 30724 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:33:36.469 DEBUG 30724 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:33:36.469 DEBUG 30724 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:33:36.477 DEBUG 30724 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:33:36.478 DEBUG 30724 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:33:36.478 DEBUG 30724 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:33:36.478 DEBUG 30724 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:33:36.479 DEBUG 30724 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:33:36.480 DEBUG 30724 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:33:36.480 DEBUG 30724 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:33:36.481 DEBUG 30724 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:33:36.481 DEBUG 30724 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:33:36.481 DEBUG 30724 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:33:36.482 DEBUG 30724 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:33:36.482 DEBUG 30724 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:33:36.482 DEBUG 30724 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:33:36.483 DEBUG 30724 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:33:36.483 DEBUG 30724 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:33:36.498  INFO 30724 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:33:36.540 DEBUG 30724 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:33:36.541 DEBUG 30724 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:33:36.546 DEBUG 30724 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:33:36.546 DEBUG 30724 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:33:36.561 DEBUG 30724 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:33:36.562 DEBUG 30724 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:33:36.569 DEBUG 30724 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:33:36.570 DEBUG 30724 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:33:36.636 DEBUG 30724 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:33:36.637 DEBUG 30724 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:33:36.640 DEBUG 30724 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:33:36.641 DEBUG 30724 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:34:35.377 DEBUG 30724 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 18:34:35.378 DEBUG 30724 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:34:35.385 DEBUG 30724 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:34:35.385 DEBUG 30724 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:34:35.385 DEBUG 30724 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 18:34:35.386 DEBUG 30724 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 18:34:35.386 DEBUG 30724 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:34:35.387  INFO 30724 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:34:35.397 DEBUG 30724 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:34:35.397 DEBUG 30724 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 1 containing UNKNOWN instances)]
2025-05-04 18:34:35.399 DEBUG 30724 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:34:35.399 DEBUG 30724 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:34:35.480 DEBUG 30724 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:34:35.480 DEBUG 30724 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:34:35.482 DEBUG 30724 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:34:35.483 DEBUG 30724 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:34:35.489 DEBUG 30724 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:34:35.489 DEBUG 30724 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:34:35.489 DEBUG 30724 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:34:35.489 DEBUG 30724 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:34:35.490 DEBUG 30724 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:34:35.490 DEBUG 30724 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:34:35.490 DEBUG 30724 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:34:35.492 DEBUG 30724 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:34:35.494 DEBUG 30724 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:34:35.495 DEBUG 30724 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:34:35.495 DEBUG 30724 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:34:35.495 DEBUG 30724 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:34:35.496 DEBUG 30724 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:34:35.497 DEBUG 30724 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:34:35.498 DEBUG 30724 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:34:35.499 DEBUG 30724 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:34:35.500 DEBUG 30724 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:34:35.502  INFO 30724 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:34:35.530 DEBUG 30724 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:34:35.531 DEBUG 30724 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:34:35.533 DEBUG 30724 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:34:35.534 DEBUG 30724 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:34:35.549 DEBUG 30724 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:34:35.550 DEBUG 30724 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:34:35.553 DEBUG 30724 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:34:35.553 DEBUG 30724 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:34:35.578 DEBUG 30724 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:34:35.579 DEBUG 30724 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:34:35.580 DEBUG 30724 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:34:35.581 DEBUG 30724 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:34:54.443 DEBUG 30724 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 18:34:54.444 DEBUG 30724 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:34:54.445 DEBUG 30724 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:34:54.446 DEBUG 30724 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:34:54.448 DEBUG 30724 --- [http-nio-8090-exec-3] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 18:34:54.448 DEBUG 30724 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:34:54.452 DEBUG 30724 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 18:34:54.452 DEBUG 30724 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:34:54.452 DEBUG 30724 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:34:54.452 DEBUG 30724 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 18:34:54.458 DEBUG 30724 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 18:34:54.458 DEBUG 30724 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 18:34:54.460 DEBUG 30724 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, application/xml;q=0.9, */*;q=0.8] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:34:54.461 DEBUG 30724 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 18:34:54.462 DEBUG 30724 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 18:34:54.463 DEBUG 30724 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:38:51.004  INFO 30724 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 18:38:51.006  INFO 30724 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 18:38:51.018  INFO 30724 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 18:39:04.761  INFO 5556 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 5556 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 18:39:04.765 DEBUG 5556 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 18:39:04.765  INFO 5556 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 18:39:06.904  INFO 5556 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 18:39:07.560  INFO 5556 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 639 ms. Found 19 JPA repository interfaces.
2025-05-04 18:39:08.634  INFO 5556 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 18:39:08.637  INFO 5556 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 18:39:08.638  INFO 5556 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 18:39:08.639  INFO 5556 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 18:39:08.650  INFO 5556 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 18:39:08.668  INFO 5556 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 18:39:08.668  INFO 5556 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 18:39:08.861  INFO 5556 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 18:39:08.861  INFO 5556 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4041 ms
2025-05-04 18:39:09.067  INFO 5556 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 18:39:09.149  INFO 5556 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 18:39:09.383  INFO 5556 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 18:39:09.523  INFO 5556 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 18:39:09.943  INFO 5556 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 18:39:09.960  INFO 5556 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 18:39:11.705  INFO 5556 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 18:39:11.717  INFO 5556 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 18:39:12.399 DEBUG 5556 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 18:39:12.400 DEBUG 5556 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 18:39:13.646 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 18:39:13.657 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 18:39:13.658 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 18:39:13.658 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 18:39:13.659 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 18:39:13.659 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 18:39:13.659 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 18:39:13.659 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 18:39:13.660 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 18:39:13.660 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 18:39:13.661 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 18:39:13.661 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 18:39:13.661 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 18:39:13.661 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 18:39:13.662 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 18:39:13.662 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 18:39:13.663 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 18:39:13.663 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 18:39:13.663 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 18:39:13.663 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 18:39:13.664 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 18:39:13.664 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 18:39:13.664 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 18:39:13.664 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 18:39:13.664 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 18:39:13.665 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 18:39:13.665 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 18:39:13.665 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 18:39:13.665 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 18:39:13.665 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 18:39:13.665 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 18:39:13.665 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 18:39:13.665 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 18:39:13.666 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 18:39:13.666 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 18:39:13.666 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 18:39:13.668 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 18:39:13.669 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 18:39:13.669 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 18:39:13.669 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 18:39:13.670 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 18:39:13.670 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 18:39:13.670 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 18:39:13.670 DEBUG 5556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 18:39:13.680  INFO 5556 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3368cf02, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e76ade9, org.springframework.security.web.context.SecurityContextPersistenceFilter@1784fcab, org.springframework.security.web.header.HeaderWriterFilter@2396dc4e, org.springframework.web.filter.CorsFilter@7833407, org.springframework.security.web.authentication.logout.LogoutFilter@24ea71d, com.hotel.config.JwtAuthenticationFilter@1952ad9d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@455cb6d9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d7a343f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7a3ab73a, org.springframework.security.web.session.SessionManagementFilter@edf4973, org.springframework.security.web.access.ExceptionTranslationFilter@54c697c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4ffcb1bd]
2025-05-04 18:39:13.749  WARN 5556 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 18:39:13.940 DEBUG 5556 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 18:39:13.967  INFO 5556 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 18:39:14.054 DEBUG 5556 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 18:39:14.064 DEBUG 5556 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 18:39:14.086 DEBUG 5556 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 18:39:14.094 DEBUG 5556 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 18:39:14.307  INFO 5556 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 18:39:14.319  INFO 5556 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 10.181 seconds (JVM running for 11.499)
2025-05-04 18:39:20.920  INFO 5556 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 18:39:20.920  INFO 5556 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 18:39:20.921 DEBUG 5556 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 18:39:20.922 DEBUG 5556 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 18:39:20.922 DEBUG 5556 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 18:39:20.924 DEBUG 5556 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2e871e93
2025-05-04 18:39:20.925 DEBUG 5556 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@27f6e2c3
2025-05-04 18:39:20.925 DEBUG 5556 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 18:39:20.926  INFO 5556 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-04 18:39:20.949 DEBUG 5556 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 18:39:20.957 DEBUG 5556 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:39:21.089 DEBUG 5556 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:39:21.103 DEBUG 5556 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:39:21.104 DEBUG 5556 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 18:39:21.108 DEBUG 5556 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 18:39:21.117 DEBUG 5556 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:39:21.179  INFO 5556 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:39:21.302 DEBUG 5556 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:39:21.304 DEBUG 5556 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 18:39:21.341 DEBUG 5556 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:39:21.343 DEBUG 5556 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:39:21.358 DEBUG 5556 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:39:21.359 DEBUG 5556 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:39:21.362 DEBUG 5556 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:39:21.363 DEBUG 5556 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:39:21.366 DEBUG 5556 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:39:21.367 DEBUG 5556 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:39:21.367 DEBUG 5556 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:39:21.368 DEBUG 5556 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:39:21.368 DEBUG 5556 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:39:21.368 DEBUG 5556 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:39:21.368 DEBUG 5556 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:39:21.373 DEBUG 5556 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:39:21.374 DEBUG 5556 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:39:21.374 DEBUG 5556 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:39:21.375 DEBUG 5556 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:39:21.375 DEBUG 5556 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:39:21.379 DEBUG 5556 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:39:21.379 DEBUG 5556 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:39:21.380 DEBUG 5556 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:39:21.380 DEBUG 5556 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:39:21.380 DEBUG 5556 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:39:21.390  INFO 5556 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:39:21.398 DEBUG 5556 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:39:21.399 DEBUG 5556 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:39:21.401 DEBUG 5556 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:39:21.402 DEBUG 5556 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:39:21.427 DEBUG 5556 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:39:21.428 DEBUG 5556 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:39:21.439 DEBUG 5556 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:39:21.441 DEBUG 5556 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:39:21.566 DEBUG 5556 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:39:21.567 DEBUG 5556 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:39:21.574 DEBUG 5556 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:39:21.574 DEBUG 5556 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:39:28.810 DEBUG 5556 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 18:39:28.811 DEBUG 5556 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:39:28.819 DEBUG 5556 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:39:28.820 DEBUG 5556 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:39:28.821 DEBUG 5556 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 18:39:28.822 DEBUG 5556 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 18:39:28.822 DEBUG 5556 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:39:28.824  INFO 5556 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 1, Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:39:28.839 DEBUG 5556 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:39:28.840 DEBUG 5556 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 0 containing UNKNOWN instances)]
2025-05-04 18:39:28.841 DEBUG 5556 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:39:28.842 DEBUG 5556 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:39:29.002 DEBUG 5556 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:39:29.002 DEBUG 5556 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:39:29.002 DEBUG 5556 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:39:29.002 DEBUG 5556 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:39:29.008 DEBUG 5556 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:39:29.008 DEBUG 5556 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:39:29.009 DEBUG 5556 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:39:29.009 DEBUG 5556 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:39:29.009 DEBUG 5556 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:39:29.009 DEBUG 5556 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:39:29.009 DEBUG 5556 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:39:29.009 DEBUG 5556 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:39:29.009 DEBUG 5556 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:39:29.009 DEBUG 5556 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:39:29.016 DEBUG 5556 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:39:29.018 DEBUG 5556 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:39:29.027 DEBUG 5556 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:39:29.028 DEBUG 5556 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:39:29.029 DEBUG 5556 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:39:29.029 DEBUG 5556 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:39:29.030 DEBUG 5556 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:39:29.031  INFO 5556 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Fetching reservations with filters - Page: 0, Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:39:29.042 DEBUG 5556 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:39:29.042 DEBUG 5556 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:39:29.043 DEBUG 5556 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:39:29.044 DEBUG 5556 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:39:29.045 DEBUG 5556 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:39:29.045 DEBUG 5556 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:39:29.046 DEBUG 5556 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:39:29.046 DEBUG 5556 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:39:29.115 DEBUG 5556 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:39:29.116 DEBUG 5556 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:39:29.118 DEBUG 5556 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:39:29.119 DEBUG 5556 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:40:57.454  INFO 5556 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 18:40:57.456  INFO 5556 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 18:40:57.472  INFO 5556 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 18:41:07.709  INFO 6352 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 6352 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 18:41:07.711 DEBUG 6352 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 18:41:07.712  INFO 6352 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 18:41:08.800  INFO 6352 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 18:41:09.027  INFO 6352 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 218 ms. Found 19 JPA repository interfaces.
2025-05-04 18:41:09.609  INFO 6352 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 18:41:09.611  INFO 6352 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 18:41:09.611  INFO 6352 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 18:41:09.613  INFO 6352 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 18:41:09.623  INFO 6352 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 18:41:09.633  INFO 6352 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 18:41:09.634  INFO 6352 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 18:41:09.787  INFO 6352 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 18:41:09.787  INFO 6352 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2027 ms
2025-05-04 18:41:09.990  INFO 6352 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 18:41:10.067  INFO 6352 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 18:41:10.289  INFO 6352 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 18:41:10.419  INFO 6352 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 18:41:10.819  INFO 6352 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 18:41:10.837  INFO 6352 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 18:41:12.123  INFO 6352 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 18:41:12.136  INFO 6352 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 18:41:12.704 DEBUG 6352 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 18:41:12.705 DEBUG 6352 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 18:41:13.634 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 18:41:13.643 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 18:41:13.644 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 18:41:13.644 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 18:41:13.645 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 18:41:13.645 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 18:41:13.645 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 18:41:13.645 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 18:41:13.646 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 18:41:13.647 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 18:41:13.647 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 18:41:13.647 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 18:41:13.647 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 18:41:13.647 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 18:41:13.648 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 18:41:13.648 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 18:41:13.649 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 18:41:13.649 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 18:41:13.649 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 18:41:13.649 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 18:41:13.649 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 18:41:13.649 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 18:41:13.649 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 18:41:13.649 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 18:41:13.650 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 18:41:13.650 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 18:41:13.650 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 18:41:13.650 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 18:41:13.650 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 18:41:13.651 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 18:41:13.651 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 18:41:13.651 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 18:41:13.651 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 18:41:13.651 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 18:41:13.651 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 18:41:13.652 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 18:41:13.654 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 18:41:13.654 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 18:41:13.654 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 18:41:13.655 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 18:41:13.656 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 18:41:13.656 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 18:41:13.656 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 18:41:13.656 DEBUG 6352 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 18:41:13.664  INFO 6352 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@f776b4a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2fb555e8, org.springframework.security.web.context.SecurityContextPersistenceFilter@117be84a, org.springframework.security.web.header.HeaderWriterFilter@52c2d1e8, org.springframework.web.filter.CorsFilter@7e2f16bd, org.springframework.security.web.authentication.logout.LogoutFilter@1bd6bfb0, com.hotel.config.JwtAuthenticationFilter@ec1b776, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78de0f6f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@588614f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19a544cd, org.springframework.security.web.session.SessionManagementFilter@5e0b7f58, org.springframework.security.web.access.ExceptionTranslationFilter@2d6e09f0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1978eab7]
2025-05-04 18:41:13.729  WARN 6352 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 18:41:13.892 DEBUG 6352 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 18:41:13.924  INFO 6352 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 18:41:14.011 DEBUG 6352 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 18:41:14.018 DEBUG 6352 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 18:41:14.037 DEBUG 6352 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 18:41:14.048 DEBUG 6352 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 18:41:14.258  INFO 6352 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 18:41:14.269  INFO 6352 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.129 seconds (JVM running for 8.127)
2025-05-04 18:41:19.429  INFO 6352 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 18:41:19.429  INFO 6352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 18:41:19.430 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 18:41:19.430 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 18:41:19.431 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 18:41:19.432 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@32c114d9
2025-05-04 18:41:19.434 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@571b4bf6
2025-05-04 18:41:19.434 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 18:41:19.434  INFO 6352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-04 18:41:19.455 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 18:41:19.462 DEBUG 6352 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:41:19.584 DEBUG 6352 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:41:19.597 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:41:19.598 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 18:41:19.602 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 18:41:19.609 DEBUG 6352 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:41:19.656  INFO 6352 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 1, Page Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:41:19.656 DEBUG 6352 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=1, PageSize=20
2025-05-04 18:41:19.707 DEBUG 6352 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: Number=17, Size=20, TotalElements=17, TotalPages=1
2025-05-04 18:41:19.766 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:41:19.767 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 1 containing UNKNOWN instances)]
2025-05-04 18:41:19.798 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:41:19.800 DEBUG 6352 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:41:19.815 DEBUG 6352 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:41:19.816 DEBUG 6352 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:41:19.819 DEBUG 6352 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:41:19.819 DEBUG 6352 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:41:19.821 DEBUG 6352 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:41:19.822 DEBUG 6352 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:41:19.822 DEBUG 6352 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:41:19.822 DEBUG 6352 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:41:19.822 DEBUG 6352 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:41:19.822 DEBUG 6352 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:41:19.823 DEBUG 6352 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:41:19.825 DEBUG 6352 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:41:19.826 DEBUG 6352 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:41:19.826 DEBUG 6352 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:41:19.826 DEBUG 6352 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:41:19.827 DEBUG 6352 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:41:19.830 DEBUG 6352 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:41:19.830 DEBUG 6352 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:41:19.831 DEBUG 6352 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:41:19.831 DEBUG 6352 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:41:19.831 DEBUG 6352 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:41:19.841  INFO 6352 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:41:19.841 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:41:19.873 DEBUG 6352 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:41:19.874 DEBUG 6352 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:41:19.884 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: Number=17, Size=20, TotalElements=17, TotalPages=1
2025-05-04 18:41:19.885 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 18:41:19.885 DEBUG 6352 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:41:19.886 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:41:19.886 DEBUG 6352 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:41:19.887 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:41:19.887 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:41:19.888 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:41:19.889 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 18:41:19.889 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 18:41:19.890 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:41:19.890 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:41:19.890 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:41:19.890 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:41:19.890 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 18:41:19.890 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 18:41:19.890 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:41:19.890 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:41:19.890 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 18:41:19.891 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 18:41:19.891 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 18:41:19.891 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 18:41:19.891 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:41:19.891 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:41:19.891 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:41:19.891 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:41:19.891 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 18:41:19.891 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 18:41:19.891 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:41:19.892 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:41:19.892 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:41:19.892 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:41:19.892 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 18:41:19.892 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 18:41:19.893 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:41:19.893 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:41:19.893 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:41:19.893 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:41:19.893 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 18:41:19.893 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 18:41:19.893 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:41:19.893 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:41:19.893 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:41:19.893 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:41:19.893 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 18:41:19.894 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 18:41:19.894 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:41:19.894 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:41:19.894 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:41:19.894 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:41:19.895 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 18:41:19.895 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 18:41:19.895 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:41:19.895 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:41:19.895 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:41:19.895 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:41:19.895 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 18:41:19.895 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 18:41:19.895 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:41:19.895 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:41:19.896 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:41:19.896 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:41:19.896 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 18:41:19.896 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 11
2025-05-04 18:41:19.896 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:41:19.896 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:41:19.897 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:41:19.897 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:41:19.897 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 11
2025-05-04 18:41:19.897 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 12
2025-05-04 18:41:19.897 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:41:19.897 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:41:19.897 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:41:19.897 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:41:19.898 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 12
2025-05-04 18:41:19.898 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 13
2025-05-04 18:41:19.898 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:41:19.898 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:41:19.898 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:41:19.898 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:41:19.898 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 13
2025-05-04 18:41:19.898 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 14
2025-05-04 18:41:19.898 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:41:19.898 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:41:19.898 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 18:41:19.899 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 18:41:19.899 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 14
2025-05-04 18:41:19.899 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 15
2025-05-04 18:41:19.899 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:41:19.899 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:41:19.899 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 18:41:19.899 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 18:41:19.899 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 15
2025-05-04 18:41:19.900 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 16
2025-05-04 18:41:19.900 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:41:19.900 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:41:19.900 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 18:41:19.900 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 18:41:19.900 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 16
2025-05-04 18:41:19.900 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 17
2025-05-04 18:41:19.900 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:41:19.900 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:41:19.900 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:41:19.900 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:41:19.901 DEBUG 6352 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 17
2025-05-04 18:41:19.907 DEBUG 6352 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:41:19.907 DEBUG 6352 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:41:19.920 DEBUG 6352 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:41:19.921 DEBUG 6352 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:41:19.989 DEBUG 6352 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:41:19.989 DEBUG 6352 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:41:19.992 DEBUG 6352 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:41:19.992 DEBUG 6352 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:43:24.705 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 18:43:24.706 DEBUG 6352 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:43:24.706 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:43:24.707 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:43:24.708 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 18:43:24.709 DEBUG 6352 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:43:24.713 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 18:43:24.713 DEBUG 6352 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:43:24.713 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:43:24.713 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 18:43:24.724 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 18:43:24.725 DEBUG 6352 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 18:43:24.727 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, application/xml;q=0.9, */*;q=0.8] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:43:24.728 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 18:43:24.729 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 18:43:24.729 DEBUG 6352 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:43:44.986 DEBUG 6352 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-04 18:43:44.988 DEBUG 6352 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:43:45.001 DEBUG 6352 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:43:45.001 DEBUG 6352 --- [http-nio-8090-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 18:43:45.001 DEBUG 6352 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-04 18:43:45.002 DEBUG 6352 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-04 18:43:45.002 DEBUG 6352 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-04 18:43:45.002 DEBUG 6352 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-04 18:43:45.041 DEBUG 6352 --- [http-nio-8090-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=18999177256, password=18999177256)]
2025-05-04 18:43:45.222 DEBUG 6352 --- [http-nio-8090-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-04 18:43:45.243 DEBUG 6352 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:43:45.243 DEBUG 6352 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=16, username=18999177256, role=RECEPTIONIST, token= (truncated)...]
2025-05-04 18:43:45.244 DEBUG 6352 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:43:45.244 DEBUG 6352 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:43:45.576 DEBUG 6352 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 18:43:45.576 DEBUG 6352 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:43:45.582 DEBUG 6352 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:43:45.582 DEBUG 6352 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:43:45.583 DEBUG 6352 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 18:43:45.583 DEBUG 6352 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 18:43:45.584 DEBUG 6352 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:43:45.586  INFO 6352 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 1, Page Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:43:45.586 DEBUG 6352 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=1, PageSize=20
2025-05-04 18:43:45.595 DEBUG 6352 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: Number=17, Size=20, TotalElements=17, TotalPages=1
2025-05-04 18:43:45.597 DEBUG 6352 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:43:45.597 DEBUG 6352 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 1 containing UNKNOWN instances)]
2025-05-04 18:43:45.599 DEBUG 6352 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:43:45.599 DEBUG 6352 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:43:45.951 DEBUG 6352 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:43:45.951 DEBUG 6352 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:43:45.952 DEBUG 6352 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:43:45.952 DEBUG 6352 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:43:45.952 DEBUG 6352 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:43:45.952 DEBUG 6352 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:43:45.958 DEBUG 6352 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:43:45.959 DEBUG 6352 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:43:45.959 DEBUG 6352 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:43:45.959 DEBUG 6352 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:43:45.959 DEBUG 6352 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:43:45.959 DEBUG 6352 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:43:45.959 DEBUG 6352 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:43:45.959 DEBUG 6352 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:43:45.960 DEBUG 6352 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:43:45.960 DEBUG 6352 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:43:45.960 DEBUG 6352 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:43:45.960 DEBUG 6352 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:43:45.960 DEBUG 6352 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:43:45.960 DEBUG 6352 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:43:45.960 DEBUG 6352 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:43:45.961  INFO 6352 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:43:45.962 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:43:45.983 DEBUG 6352 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:43:45.983 DEBUG 6352 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:43:45.984 DEBUG 6352 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:43:45.985 DEBUG 6352 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:43:45.993 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: Number=17, Size=20, TotalElements=17, TotalPages=1
2025-05-04 18:43:45.993 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 18:43:45.993 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:45.993 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:45.993 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:45.993 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:45.993 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 18:43:45.993 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 18:43:45.993 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:45.993 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:45.994 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:45.994 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:45.994 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 18:43:45.994 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 18:43:45.994 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:45.994 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:45.994 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 18:43:45.995 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 18:43:45.995 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 18:43:45.995 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 18:43:45.995 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:45.995 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:45.995 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:45.995 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:45.995 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 18:43:45.995 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 18:43:45.995 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:45.995 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:45.995 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:45.996 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:45.996 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 18:43:45.996 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 18:43:45.996 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:45.996 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:45.996 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:45.996 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:45.996 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 18:43:45.996 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 18:43:45.996 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:45.996 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:45.996 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:45.996 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:45.996 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 18:43:45.996 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 18:43:45.997 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:45.997 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:45.997 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:45.997 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:45.997 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 18:43:45.997 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 18:43:45.997 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:45.997 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:45.997 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:45.997 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:45.997 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 18:43:45.997 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 18:43:45.997 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:45.997 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:45.997 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:45.998 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:45.998 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 18:43:45.998 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 11
2025-05-04 18:43:45.998 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:45.998 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:45.998 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:45.998 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:45.998 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 11
2025-05-04 18:43:45.998 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 12
2025-05-04 18:43:45.998 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:45.998 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:45.998 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:45.998 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:45.998 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 12
2025-05-04 18:43:45.999 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 13
2025-05-04 18:43:46.000 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:46.000 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:46.000 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:46.000 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:46.000 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 13
2025-05-04 18:43:46.000 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 14
2025-05-04 18:43:46.000 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:46.000 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:46.000 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 18:43:46.000 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 18:43:46.000 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 14
2025-05-04 18:43:46.000 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 15
2025-05-04 18:43:46.000 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:46.000 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:46.000 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 18:43:46.000 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 18:43:46.000 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 15
2025-05-04 18:43:46.000 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 16
2025-05-04 18:43:46.000 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:46.000 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:46.001 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 18:43:46.001 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 18:43:46.001 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 16
2025-05-04 18:43:46.001 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 17
2025-05-04 18:43:46.001 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:46.001 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:46.001 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:46.001 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:46.001 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 17
2025-05-04 18:43:46.004 DEBUG 6352 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:43:46.005 DEBUG 6352 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:43:46.008 DEBUG 6352 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:43:46.008 DEBUG 6352 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:43:46.037 DEBUG 6352 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:43:46.038 DEBUG 6352 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:43:46.039 DEBUG 6352 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:43:46.039 DEBUG 6352 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:43:50.925 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 18:43:50.925 DEBUG 6352 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:43:50.931 DEBUG 6352 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:43:50.931 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:43:50.931 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=1&pageSize=10
2025-05-04 18:43:50.932 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=1&pageSize=10", parameters={masked}
2025-05-04 18:43:50.932 DEBUG 6352 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:43:50.933  INFO 6352 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 1, Page Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:43:50.933 DEBUG 6352 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=1, PageSize=20
2025-05-04 18:43:50.938 DEBUG 6352 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: Number=17, Size=20, TotalElements=17, TotalPages=1
2025-05-04 18:43:50.940 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:43:50.940 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 1 containing UNKNOWN instances)]
2025-05-04 18:43:50.942 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:43:50.942 DEBUG 6352 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:43:51.020 DEBUG 6352 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:43:51.021 DEBUG 6352 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:43:51.022 DEBUG 6352 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:43:51.022 DEBUG 6352 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:43:51.027 DEBUG 6352 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:43:51.028 DEBUG 6352 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:43:51.028 DEBUG 6352 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:43:51.028 DEBUG 6352 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:43:51.029 DEBUG 6352 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:43:51.029 DEBUG 6352 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:43:51.030 DEBUG 6352 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:43:51.030 DEBUG 6352 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:43:51.031 DEBUG 6352 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:43:51.032 DEBUG 6352 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:43:51.064 DEBUG 6352 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:43:51.065 DEBUG 6352 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:43:51.068 DEBUG 6352 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:43:51.068 DEBUG 6352 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:43:51.111 DEBUG 6352 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:43:51.111 DEBUG 6352 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:43:51.113 DEBUG 6352 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:43:51.114 DEBUG 6352 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:43:51.333 DEBUG 6352 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:43:51.333 DEBUG 6352 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:43:51.339 DEBUG 6352 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:43:51.339 DEBUG 6352 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:43:51.340 DEBUG 6352 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:43:51.340 DEBUG 6352 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:43:51.340 DEBUG 6352 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:43:51.341  INFO 6352 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:43:51.341 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:43:51.382 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: Number=17, Size=20, TotalElements=17, TotalPages=1
2025-05-04 18:43:51.382 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 18:43:51.382 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:51.382 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:51.382 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:51.382 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:51.382 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 18:43:51.382 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 18:43:51.383 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:51.383 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:51.383 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:51.383 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:51.383 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 18:43:51.383 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 18:43:51.383 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:51.384 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:51.384 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 18:43:51.384 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 18:43:51.384 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 18:43:51.384 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 18:43:51.384 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:51.384 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:51.384 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:51.384 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:51.385 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 18:43:51.385 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 18:43:51.385 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:51.385 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:51.385 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:51.385 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:51.385 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 18:43:51.385 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 18:43:51.385 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:51.385 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:51.385 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:51.385 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:51.385 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 18:43:51.386 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 18:43:51.386 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:51.386 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:51.386 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:51.386 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:51.386 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 18:43:51.386 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 18:43:51.386 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:51.386 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:51.387 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:51.387 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:51.387 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 18:43:51.387 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 18:43:51.387 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:51.387 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:51.387 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:51.387 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:51.388 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 18:43:51.388 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 18:43:51.388 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:51.388 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:51.388 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:51.388 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:51.388 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 18:43:51.388 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 11
2025-05-04 18:43:51.388 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:51.388 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:51.388 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:51.388 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:51.388 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 11
2025-05-04 18:43:51.388 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 12
2025-05-04 18:43:51.388 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:51.388 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:51.388 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:51.388 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:51.388 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 12
2025-05-04 18:43:51.389 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 13
2025-05-04 18:43:51.389 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:51.389 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:51.389 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:51.389 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:51.389 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 13
2025-05-04 18:43:51.389 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 14
2025-05-04 18:43:51.389 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:51.389 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:51.389 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 18:43:51.389 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 18:43:51.389 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 14
2025-05-04 18:43:51.390 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 15
2025-05-04 18:43:51.390 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:51.390 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:51.390 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 18:43:51.390 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 18:43:51.390 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 15
2025-05-04 18:43:51.390 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 16
2025-05-04 18:43:51.390 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:51.390 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:51.390 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 18:43:51.390 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 18:43:51.390 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 16
2025-05-04 18:43:51.390 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 17
2025-05-04 18:43:51.391 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:43:51.391 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:43:51.391 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:43:51.391 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:43:51.391 DEBUG 6352 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 17
2025-05-04 18:43:51.396 DEBUG 6352 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:43:51.396 DEBUG 6352 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:43:51.399 DEBUG 6352 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:43:51.399 DEBUG 6352 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:43:59.717 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=1&pageSize=10
2025-05-04 18:43:59.717 DEBUG 6352 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:43:59.717 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:43:59.718 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 18:43:59.719 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=1&pageSize=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:43:59.719 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 18:43:59.719 DEBUG 6352 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:43:59.719 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /error?page=1&pageSize=10
2025-05-04 18:43:59.720 DEBUG 6352 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:43:59.720 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:43:59.720 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /error?page=1&pageSize=10
2025-05-04 18:43:59.721 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=1&pageSize=10", parameters={masked}
2025-05-04 18:43:59.721 DEBUG 6352 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 18:43:59.722 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.7, */*;q=0.8] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:43:59.722 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 18:43:59.723 DEBUG 6352 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 18:43:59.723 DEBUG 6352 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:44:59.419 DEBUG 6352 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 18:44:59.420 DEBUG 6352 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:44:59.431 DEBUG 6352 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:44:59.432 DEBUG 6352 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:44:59.432 DEBUG 6352 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 18:44:59.432 DEBUG 6352 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 18:44:59.433 DEBUG 6352 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:44:59.434  INFO 6352 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:44:59.434 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 18:44:59.465 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: Number=17, Size=10, TotalElements=17, TotalPages=2
2025-05-04 18:44:59.465 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 18:44:59.465 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.465 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.465 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.465 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.465 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 18:44:59.465 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 18:44:59.465 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.466 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.466 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.466 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.466 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 18:44:59.466 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 18:44:59.466 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.466 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.466 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 18:44:59.467 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 18:44:59.467 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 18:44:59.467 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 18:44:59.467 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.467 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.467 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.467 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.467 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 18:44:59.467 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 18:44:59.467 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.467 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.467 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.467 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.467 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 18:44:59.468 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 18:44:59.468 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.468 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.468 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.468 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.468 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 18:44:59.468 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 18:44:59.468 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.468 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.468 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.469 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.469 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 18:44:59.469 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 18:44:59.469 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.469 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.469 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.469 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.469 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 18:44:59.469 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 18:44:59.469 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.469 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.469 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.469 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.470 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 18:44:59.470 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 18:44:59.470 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.470 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.470 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.470 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.470 DEBUG 6352 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 18:44:59.475 DEBUG 6352 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:44:59.476 DEBUG 6352 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:44:59.478 DEBUG 6352 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:44:59.478 DEBUG 6352 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:44:59.540 DEBUG 6352 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:44:59.540 DEBUG 6352 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:44:59.545 DEBUG 6352 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:44:59.545 DEBUG 6352 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:44:59.546 DEBUG 6352 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:44:59.547 DEBUG 6352 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:44:59.547 DEBUG 6352 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:44:59.548 DEBUG 6352 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:44:59.548 DEBUG 6352 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:44:59.552 DEBUG 6352 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:44:59.552 DEBUG 6352 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:44:59.554 DEBUG 6352 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:44:59.554 DEBUG 6352 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:44:59.555 DEBUG 6352 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:44:59.555 DEBUG 6352 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:44:59.555 DEBUG 6352 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:44:59.561 DEBUG 6352 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:44:59.562 DEBUG 6352 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:44:59.562 DEBUG 6352 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:44:59.562 DEBUG 6352 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:44:59.563 DEBUG 6352 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:44:59.564  INFO 6352 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:44:59.565 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:44:59.580 DEBUG 6352 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:44:59.581 DEBUG 6352 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:44:59.583 DEBUG 6352 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:44:59.583 DEBUG 6352 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:44:59.598 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: Number=17, Size=20, TotalElements=17, TotalPages=1
2025-05-04 18:44:59.598 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 18:44:59.598 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.598 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.598 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.598 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.598 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 18:44:59.598 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 18:44:59.598 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.598 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.598 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.598 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.598 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 18:44:59.599 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 18:44:59.599 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.600 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.600 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 18:44:59.600 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 18:44:59.600 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 18:44:59.600 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 18:44:59.601 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.601 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.601 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.601 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.601 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 18:44:59.601 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 18:44:59.601 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.601 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.601 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.601 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.601 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 18:44:59.602 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 18:44:59.602 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.602 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.602 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.602 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.602 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 18:44:59.602 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 18:44:59.602 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.602 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.602 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.602 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.602 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 18:44:59.602 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 18:44:59.602 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.602 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.603 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.603 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.603 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 18:44:59.603 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 18:44:59.603 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.603 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.603 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.603 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.603 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 18:44:59.603 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 18:44:59.603 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.603 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.603 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.603 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.603 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 18:44:59.604 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 11
2025-05-04 18:44:59.604 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.604 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.604 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.604 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.604 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 11
2025-05-04 18:44:59.604 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 12
2025-05-04 18:44:59.604 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.604 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.604 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.604 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.604 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 12
2025-05-04 18:44:59.604 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 13
2025-05-04 18:44:59.604 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.604 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.604 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.605 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.605 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 13
2025-05-04 18:44:59.605 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 14
2025-05-04 18:44:59.606 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.606 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.606 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 18:44:59.606 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 18:44:59.606 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 14
2025-05-04 18:44:59.606 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 15
2025-05-04 18:44:59.606 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.606 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.607 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 18:44:59.607 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 18:44:59.607 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 15
2025-05-04 18:44:59.607 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 16
2025-05-04 18:44:59.607 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.607 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.607 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 18:44:59.607 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 18:44:59.607 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 16
2025-05-04 18:44:59.607 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 17
2025-05-04 18:44:59.607 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.608 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.608 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.608 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.608 DEBUG 6352 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 17
2025-05-04 18:44:59.612 DEBUG 6352 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:44:59.613 DEBUG 6352 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:44:59.615 DEBUG 6352 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:44:59.615 DEBUG 6352 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:44:59.624 DEBUG 6352 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:44:59.625 DEBUG 6352 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:44:59.627 DEBUG 6352 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:44:59.627 DEBUG 6352 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:44:59.709 DEBUG 6352 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 18:44:59.709 DEBUG 6352 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:44:59.717 DEBUG 6352 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:44:59.718 DEBUG 6352 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:44:59.718 DEBUG 6352 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 18:44:59.718 DEBUG 6352 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 18:44:59.719 DEBUG 6352 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:44:59.720  INFO 6352 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:44:59.720 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 18:44:59.749 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: Number=17, Size=10, TotalElements=17, TotalPages=2
2025-05-04 18:44:59.749 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 18:44:59.749 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.749 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.749 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.749 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.749 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 18:44:59.749 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 18:44:59.749 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.749 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.749 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.749 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.749 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 18:44:59.749 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.750 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.751 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.751 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 18:44:59.751 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 18:44:59.751 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.751 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.751 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.751 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.751 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 18:44:59.751 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 18:44:59.751 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.751 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.751 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.751 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.751 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 18:44:59.751 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 18:44:59.751 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:44:59.751 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:44:59.751 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:44:59.751 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:44:59.751 DEBUG 6352 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 18:44:59.754 DEBUG 6352 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:44:59.754 DEBUG 6352 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:44:59.756 DEBUG 6352 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:44:59.756 DEBUG 6352 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:44:59.783 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:44:59.783 DEBUG 6352 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:44:59.789 DEBUG 6352 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:44:59.790 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:44:59.790 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:44:59.790 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:44:59.790 DEBUG 6352 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:44:59.860 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:44:59.860 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:44:59.862 DEBUG 6352 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:44:59.862 DEBUG 6352 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:45:00.090 DEBUG 6352 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:45:00.090 DEBUG 6352 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:45:00.090 DEBUG 6352 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:45:00.091 DEBUG 6352 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:45:00.095 DEBUG 6352 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:45:00.095 DEBUG 6352 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:45:00.095 DEBUG 6352 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:45:00.095 DEBUG 6352 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:45:00.096 DEBUG 6352 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:45:00.096 DEBUG 6352 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:45:00.096 DEBUG 6352 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:45:00.096 DEBUG 6352 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:45:00.097 DEBUG 6352 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:45:00.097 DEBUG 6352 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:45:00.099  INFO 6352 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:45:00.099 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:45:00.118 DEBUG 6352 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:45:00.119 DEBUG 6352 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:45:00.119 DEBUG 6352 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:45:00.120 DEBUG 6352 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:45:00.123 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: Number=17, Size=20, TotalElements=17, TotalPages=1
2025-05-04 18:45:00.123 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 18:45:00.123 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:45:00.123 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 18:45:00.124 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:45:00.125 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 11
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 11
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 12
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 12
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 13
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 13
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 14
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 14
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 15
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 18:45:00.126 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 18:45:00.127 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 15
2025-05-04 18:45:00.127 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 16
2025-05-04 18:45:00.127 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:45:00.127 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:45:00.127 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 18:45:00.127 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 18:45:00.127 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 16
2025-05-04 18:45:00.127 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 17
2025-05-04 18:45:00.127 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 18:45:00.127 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 18:45:00.127 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 18:45:00.127 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 18:45:00.127 DEBUG 6352 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 17
2025-05-04 18:45:00.130 DEBUG 6352 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:45:00.130 DEBUG 6352 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:45:00.133 DEBUG 6352 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:45:00.133 DEBUG 6352 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:45:34.597  INFO 6352 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 18:45:34.599  INFO 6352 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 18:45:34.610  INFO 6352 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 18:45:44.234  INFO 24416 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 24416 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 18:45:44.236 DEBUG 24416 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 18:45:44.237  INFO 24416 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 18:45:45.223  INFO 24416 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 18:45:45.473  INFO 24416 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 240 ms. Found 19 JPA repository interfaces.
2025-05-04 18:45:46.110  INFO 24416 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 18:45:46.113  INFO 24416 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 18:45:46.114  INFO 24416 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 18:45:46.115  INFO 24416 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 18:45:46.125  INFO 24416 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 18:45:46.135  INFO 24416 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 18:45:46.135  INFO 24416 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 18:45:46.292  INFO 24416 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 18:45:46.292  INFO 24416 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2000 ms
2025-05-04 18:45:46.485  INFO 24416 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 18:45:46.552  INFO 24416 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 18:45:46.761  INFO 24416 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 18:45:46.910  INFO 24416 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 18:45:47.379  INFO 24416 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 18:45:47.400  INFO 24416 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 18:45:48.753  INFO 24416 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 18:45:48.761  INFO 24416 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 18:45:49.284 DEBUG 24416 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 18:45:49.285 DEBUG 24416 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 18:45:50.414 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 18:45:50.422 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 18:45:50.422 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 18:45:50.422 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 18:45:50.423 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 18:45:50.423 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 18:45:50.423 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 18:45:50.423 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 18:45:50.424 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 18:45:50.424 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 18:45:50.424 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 18:45:50.424 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 18:45:50.425 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 18:45:50.425 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 18:45:50.425 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 18:45:50.425 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 18:45:50.426 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 18:45:50.426 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 18:45:50.427 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 18:45:50.427 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 18:45:50.427 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 18:45:50.427 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 18:45:50.427 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 18:45:50.427 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 18:45:50.428 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 18:45:50.428 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 18:45:50.428 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 18:45:50.428 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 18:45:50.428 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 18:45:50.428 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 18:45:50.428 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 18:45:50.429 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 18:45:50.429 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 18:45:50.429 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 18:45:50.429 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 18:45:50.429 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 18:45:50.432 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 18:45:50.433 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 18:45:50.433 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 18:45:50.433 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 18:45:50.433 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 18:45:50.434 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 18:45:50.434 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 18:45:50.434 DEBUG 24416 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 18:45:50.442  INFO 24416 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5620470a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29682244, org.springframework.security.web.context.SecurityContextPersistenceFilter@29767156, org.springframework.security.web.header.HeaderWriterFilter@55159007, org.springframework.web.filter.CorsFilter@47d4468a, org.springframework.security.web.authentication.logout.LogoutFilter@751526a7, com.hotel.config.JwtAuthenticationFilter@13868c41, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60493524, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1da5635e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3368cf02, org.springframework.security.web.session.SessionManagementFilter@71b6edfb, org.springframework.security.web.access.ExceptionTranslationFilter@19f9404d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1483c738]
2025-05-04 18:45:50.496  WARN 24416 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 18:45:50.655 DEBUG 24416 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 18:45:50.693  INFO 24416 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 18:45:50.769 DEBUG 24416 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 18:45:50.775 DEBUG 24416 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 18:45:50.789 DEBUG 24416 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 18:45:50.797 DEBUG 24416 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 18:45:50.952  INFO 24416 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 18:45:50.963  INFO 24416 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.29 seconds (JVM running for 8.263)
2025-05-04 18:45:57.711  INFO 24416 --- [http-nio-8090-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 18:45:57.712  INFO 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 18:45:57.714 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 18:45:57.715 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 18:45:57.715 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 18:45:57.718 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2403c1c5
2025-05-04 18:45:57.720 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@69b436a7
2025-05-04 18:45:57.720 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 18:45:57.721  INFO 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2025-05-04 18:45:57.748 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 18:45:57.759 DEBUG 24416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:45:57.891 DEBUG 24416 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:45:57.908 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:45:57.909 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 18:45:57.913 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 18:45:57.921 DEBUG 24416 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:45:57.974  INFO 24416 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:45:57.975 DEBUG 24416 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 18:45:58.018 DEBUG 24416 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-04 18:45:58.096 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:45:58.097 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:45:58.138 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:45:58.141 DEBUG 24416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:45:58.157 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:45:58.158 DEBUG 24416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:45:58.162 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:45:58.163 DEBUG 24416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:45:58.163 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:45:58.163 DEBUG 24416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:45:58.166 DEBUG 24416 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:45:58.167 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:45:58.168 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:45:58.168 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:45:58.168 DEBUG 24416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:45:58.170 DEBUG 24416 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:45:58.171 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:45:58.172 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:45:58.172 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:45:58.172 DEBUG 24416 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:45:58.173 DEBUG 24416 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:45:58.173 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:45:58.174 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:45:58.174 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:45:58.174 DEBUG 24416 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:45:58.188  INFO 24416 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:45:58.189 DEBUG 24416 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:45:58.195 DEBUG 24416 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:45:58.197 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:45:58.198 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:45:58.202 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:45:58.203 DEBUG 24416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:45:58.232 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:45:58.233 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:45:58.245 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:45:58.246 DEBUG 24416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:45:58.374 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:45:58.374 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:45:58.381 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:45:58.382 DEBUG 24416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:46:24.050 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:46:24.051 DEBUG 24416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:46:24.059 DEBUG 24416 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:46:24.063 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 18:46:24.063 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:46:24.064 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 18:46:24.064 DEBUG 24416 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 18:46:24.117 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:46:24.117 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:46:24.126 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:46:24.127 DEBUG 24416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:46:27.299 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 18:46:27.300 DEBUG 24416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:46:27.311 DEBUG 24416 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:46:27.312 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:46:27.313 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 18:46:27.314 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 18:46:27.314 DEBUG 24416 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:46:27.316  INFO 24416 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:46:27.316 DEBUG 24416 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 18:46:27.329 DEBUG 24416 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-04 18:46:27.333 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:46:27.333 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:46:27.336 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:46:27.336 DEBUG 24416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:46:27.690 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:46:27.691 DEBUG 24416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:46:27.694 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:46:27.694 DEBUG 24416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:46:27.699 DEBUG 24416 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:46:27.700 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:46:27.700 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:46:27.700 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:46:27.701 DEBUG 24416 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:46:27.703 DEBUG 24416 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:46:27.704 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:46:27.705 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:46:27.705 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:46:27.705 DEBUG 24416 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:46:27.708 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:46:27.759 DEBUG 24416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:46:27.767 DEBUG 24416 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:46:27.767 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:46:27.768 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:46:27.768 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:46:27.768 DEBUG 24416 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:46:27.770  INFO 24416 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:46:27.770 DEBUG 24416 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:46:27.776 DEBUG 24416 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:46:27.780 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:46:27.781 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:46:27.782 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:46:27.783 DEBUG 24416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:46:27.966 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:46:27.967 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:46:27.970 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:46:27.971 DEBUG 24416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:46:27.981 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:46:27.982 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:46:27.984 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:46:27.984 DEBUG 24416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:46:29.251 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 18:46:29.252 DEBUG 24416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:46:29.267 DEBUG 24416 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:46:29.268 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 18:46:29.268 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 18:46:29.268 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 18:46:29.271 DEBUG 24416 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 18:46:29.298 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:46:29.299 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 18:46:29.312 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:46:29.314 DEBUG 24416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:46:30.904 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:46:30.905 DEBUG 24416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:46:30.919 DEBUG 24416 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:46:30.921 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 18:46:30.922 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:46:30.922 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 18:46:30.923 DEBUG 24416 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 18:46:30.962 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:46:30.962 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:46:30.965 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:46:30.966 DEBUG 24416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:46:33.764 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=2&pageSize=5
2025-05-04 18:46:33.765 DEBUG 24416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:46:33.773 DEBUG 24416 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:46:33.773 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=2&pageSize=5] with attributes [authenticated]
2025-05-04 18:46:33.774 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=2&pageSize=5
2025-05-04 18:46:33.775 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=2&pageSize=5", parameters={masked}
2025-05-04 18:46:33.775 DEBUG 24416 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 18:46:33.789 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:46:33.789 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:46:33.791 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:46:33.792 DEBUG 24416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:46:35.490 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:46:35.491 DEBUG 24416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:46:35.498 DEBUG 24416 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:46:35.499 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 18:46:35.499 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:46:35.500 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 18:46:35.500 DEBUG 24416 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 18:46:35.519 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:46:35.520 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:46:35.522 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:46:35.523 DEBUG 24416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:46:39.058 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 18:46:39.059 DEBUG 24416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:46:39.067 DEBUG 24416 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:46:39.067 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 18:46:39.068 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 18:46:39.068 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 18:46:39.069 DEBUG 24416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 18:46:39.086  INFO 24416 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 2 consumption records for userId: 18
2025-05-04 18:46:39.091  INFO 24416 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 18:46:39.091  INFO 24416 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 18:46:39.095  INFO 24416 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 2, Points Earned from DB: 53973
2025-05-04 18:46:39.097  INFO 24416 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 240152
2025-05-04 18:46:39.097  INFO 24416 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 18:46:39.097  INFO 24416 --- [http-nio-8090-exec-1] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 2 history items for page 0 (size 10) for userId: 18. Total items: 2
2025-05-04 18:46:39.099 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:46:39.100 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=2, list=[PointsHistoryDTO(id=2, userId=18, points=53973, type=earn, descripti (truncated)...]
2025-05-04 18:46:39.105 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:46:39.106 DEBUG 24416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:46:43.604 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:46:43.605 DEBUG 24416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:46:43.610 DEBUG 24416 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:46:43.611 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 18:46:43.613 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:46:43.613 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 18:46:43.614 DEBUG 24416 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 18:46:43.637 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:46:43.637 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:46:43.639 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:46:43.639 DEBUG 24416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:46:52.759 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 18:46:52.760 DEBUG 24416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:46:52.765 DEBUG 24416 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:46:52.766 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:46:52.766 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 18:46:52.766 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 18:46:52.766 DEBUG 24416 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:46:52.767  INFO 24416 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:46:52.767 DEBUG 24416 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 18:46:52.772 DEBUG 24416 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-04 18:46:52.773 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:46:52.773 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:46:52.774 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:46:52.774 DEBUG 24416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:46:52.864 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:46:52.864 DEBUG 24416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:46:52.864 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:46:52.865 DEBUG 24416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:46:52.866 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:46:52.867 DEBUG 24416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:46:52.871 DEBUG 24416 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:46:52.871 DEBUG 24416 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:46:52.871 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:46:52.871 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:46:52.872 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:46:52.872 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:46:52.872 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:46:52.872 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:46:52.872 DEBUG 24416 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:46:52.872 DEBUG 24416 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:46:52.872 DEBUG 24416 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:46:52.873 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:46:52.873  INFO 24416 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:46:52.873 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:46:52.873 DEBUG 24416 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:46:52.874 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:46:52.874 DEBUG 24416 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:46:52.881 DEBUG 24416 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:46:52.884 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:46:52.885 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:46:52.887 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:46:52.887 DEBUG 24416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:46:52.903 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:46:52.904 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:46:52.905 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:46:52.905 DEBUG 24416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:46:52.955 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:46:52.956 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:46:52.958 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:46:52.959 DEBUG 24416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:47:05.554 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 18:47:05.554 DEBUG 24416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:47:05.559 DEBUG 24416 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:47:05.560 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:47:05.560 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 18:47:05.560 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 18:47:05.561 DEBUG 24416 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:47:05.562  INFO 24416 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:47:05.562 DEBUG 24416 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 18:47:05.566 DEBUG 24416 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-04 18:47:05.568 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:47:05.568 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:47:05.569 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:47:05.570 DEBUG 24416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:47:05.812 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:47:05.813 DEBUG 24416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:47:05.818 DEBUG 24416 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:47:05.818 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:47:05.818 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:47:05.818 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:47:05.819 DEBUG 24416 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:47:05.866 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:47:05.866 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:47:05.868 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:47:05.869 DEBUG 24416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:47:05.889 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:47:05.889 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:47:05.889 DEBUG 24416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:47:05.889 DEBUG 24416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:47:05.896 DEBUG 24416 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:47:05.896 DEBUG 24416 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:47:05.897 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:47:05.897 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:47:05.898 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:47:05.898 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:47:05.898 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:47:05.898 DEBUG 24416 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:47:05.898 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:47:05.898 DEBUG 24416 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:47:05.899  INFO 24416 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:47:05.899 DEBUG 24416 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:47:05.905 DEBUG 24416 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:47:05.906 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:47:05.907 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:47:05.907 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:47:05.907 DEBUG 24416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:47:05.919 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:47:05.919 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:47:05.920 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:47:05.920 DEBUG 24416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:48:14.380 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 18:48:14.380 DEBUG 24416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:48:14.385 DEBUG 24416 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:48:14.386 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:48:14.386 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 18:48:14.387 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 18:48:14.387 DEBUG 24416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:48:14.388  INFO 24416 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:48:14.388 DEBUG 24416 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 18:48:14.392 DEBUG 24416 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-04 18:48:14.394 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:48:14.395 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:48:14.396 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:48:14.397 DEBUG 24416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:48:14.503 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:48:14.503 DEBUG 24416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:48:14.509 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:48:14.509 DEBUG 24416 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:48:14.509 DEBUG 24416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:48:14.509 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:48:14.509 DEBUG 24416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:48:14.510 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:48:14.510 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:48:14.510 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:48:14.510 DEBUG 24416 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:48:14.514 DEBUG 24416 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:48:14.514 DEBUG 24416 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:48:14.515 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:48:14.515 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:48:14.515 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:48:14.515 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:48:14.515 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:48:14.516 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:48:14.516 DEBUG 24416 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:48:14.516 DEBUG 24416 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:48:14.517  INFO 24416 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:48:14.518 DEBUG 24416 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:48:14.522 DEBUG 24416 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:48:14.525 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:48:14.525 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:48:14.526 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:48:14.527 DEBUG 24416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:48:14.535 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:48:14.536 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:48:14.537 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:48:14.538 DEBUG 24416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:48:14.566 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:48:14.566 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:48:14.568 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:48:14.568 DEBUG 24416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:23.261 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 18:49:23.261 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 18:49:23.261 DEBUG 24416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:23.261 DEBUG 24416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:23.269 DEBUG 24416 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:49:23.269 DEBUG 24416 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:23.270 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:23.270 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:23.270 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 18:49:23.270 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 18:49:23.271 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 18:49:23.271 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 18:49:23.272 DEBUG 24416 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:49:23.272 DEBUG 24416 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:49:23.273  INFO 24416 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:49:23.273  INFO 24416 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:49:23.273 DEBUG 24416 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 18:49:23.273 DEBUG 24416 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 18:49:23.280 DEBUG 24416 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-04 18:49:23.280 DEBUG 24416 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-04 18:49:23.283 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:23.283 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:23.283 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:49:23.283 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:49:23.285 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:23.285 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:23.285 DEBUG 24416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:23.285 DEBUG 24416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:23.352 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:49:23.352 DEBUG 24416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:23.359 DEBUG 24416 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:49:23.360 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:23.360 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:49:23.360 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:49:23.361 DEBUG 24416 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:49:23.396 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:49:23.396 DEBUG 24416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:23.406 DEBUG 24416 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:23.408 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:23.408 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:49:23.408 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:49:23.408 DEBUG 24416 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:49:23.418 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:49:23.419 DEBUG 24416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:23.419 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:49:23.420 DEBUG 24416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:23.431 DEBUG 24416 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:23.432 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:23.432 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:49:23.433 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:49:23.434 DEBUG 24416 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:49:23.435  INFO 24416 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:49:23.436 DEBUG 24416 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:49:23.436 DEBUG 24416 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:23.437 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:23.437 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:49:23.437 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:49:23.438 DEBUG 24416 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:49:23.442 DEBUG 24416 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:49:23.444 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:23.445 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:49:23.446 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:23.447 DEBUG 24416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:23.455 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:23.456 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:49:23.457 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:23.458 DEBUG 24416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:23.475 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:23.475 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:49:23.483 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:23.483 DEBUG 24416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:23.520 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:23.521 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:49:23.523 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:23.523 DEBUG 24416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:23.675 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:49:23.675 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:49:23.675 DEBUG 24416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:23.675 DEBUG 24416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:23.683 DEBUG 24416 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:49:23.685 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:23.685 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:49:23.685 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:49:23.686 DEBUG 24416 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:49:23.686 DEBUG 24416 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:49:23.687 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:23.687 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:49:23.687 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:49:23.687  INFO 24416 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:49:23.687 DEBUG 24416 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:49:23.687 DEBUG 24416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:49:23.695 DEBUG 24416 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:49:23.698 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:23.699 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:49:23.701 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:23.702 DEBUG 24416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:23.722 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:23.722 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:49:23.724 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:23.725 DEBUG 24416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:33.429 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 18:49:33.430 DEBUG 24416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:33.434 DEBUG 24416 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:33.435 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:33.435 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 18:49:33.435 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 18:49:33.436 DEBUG 24416 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:49:33.437  INFO 24416 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:49:33.438 DEBUG 24416 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 18:49:33.443 DEBUG 24416 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-04 18:49:33.445 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:33.445 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:49:33.446 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:33.446 DEBUG 24416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:33.538 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:49:33.539 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:49:33.539 DEBUG 24416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:33.539 DEBUG 24416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:33.541 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:49:33.541 DEBUG 24416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:33.544 DEBUG 24416 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:33.544 DEBUG 24416 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:33.545 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:33.545 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:33.546 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:49:33.546 DEBUG 24416 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:33.546 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:49:33.546 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:49:33.546 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:49:33.546 DEBUG 24416 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:49:33.546 DEBUG 24416 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:49:33.546 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:33.546 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:49:33.547 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:49:33.547 DEBUG 24416 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:49:33.549  INFO 24416 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:49:33.549 DEBUG 24416 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:49:33.554 DEBUG 24416 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:49:33.557 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:33.558 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:49:33.560 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:33.560 DEBUG 24416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:33.573 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:33.574 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:49:33.575 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:33.576 DEBUG 24416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:33.612 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:33.612 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:49:33.613 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:33.614 DEBUG 24416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:46.624 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=20
2025-05-04 18:49:46.624 DEBUG 24416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:46.628 DEBUG 24416 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:46.629 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=20] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:46.629 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=20
2025-05-04 18:49:46.630 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=20", parameters={masked}
2025-05-04 18:49:46.630 DEBUG 24416 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:49:46.632  INFO 24416 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:49:46.632 DEBUG 24416 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:49:46.637 DEBUG 24416 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:49:46.639 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:46.639 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:49:46.640 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:46.640 DEBUG 24416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:46.659 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:49:46.659 DEBUG 24416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:46.665 DEBUG 24416 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:46.665 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:49:46.665 DEBUG 24416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:46.666 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:46.666 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:49:46.667 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:49:46.667 DEBUG 24416 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:49:46.667 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:49:46.667 DEBUG 24416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:46.671 DEBUG 24416 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:46.672 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:46.672 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:49:46.672 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:49:46.672 DEBUG 24416 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:49:46.673 DEBUG 24416 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:46.674 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:46.674 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:49:46.674 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:49:46.674 DEBUG 24416 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:49:46.676  INFO 24416 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:49:46.676 DEBUG 24416 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:49:46.680 DEBUG 24416 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:49:46.682 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:46.683 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:49:46.684 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:46.684 DEBUG 24416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:46.692 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:46.692 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:49:46.694 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:46.694 DEBUG 24416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:46.725 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:46.725 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:49:46.726 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:46.727 DEBUG 24416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:48.284 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=50
2025-05-04 18:49:48.285 DEBUG 24416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:48.289 DEBUG 24416 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:48.290 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=50] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:48.291 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=50
2025-05-04 18:49:48.291 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=50", parameters={masked}
2025-05-04 18:49:48.291 DEBUG 24416 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:49:48.292  INFO 24416 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 50, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:49:48.293 DEBUG 24416 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=50
2025-05-04 18:49:48.296 DEBUG 24416 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=50, TotalElements=0, TotalPages=0
2025-05-04 18:49:48.298 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:48.299 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:49:48.300 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:48.300 DEBUG 24416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:48.317 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:49:48.317 DEBUG 24416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:48.323 DEBUG 24416 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:48.323 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:49:48.323 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:49:48.323 DEBUG 24416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:48.323 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:48.324 DEBUG 24416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:48.324 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:49:48.324 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:49:48.324 DEBUG 24416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:49:48.328 DEBUG 24416 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:48.328 DEBUG 24416 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:48.328 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:48.328 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:49:48.328 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:49:48.328 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:48.328 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:49:48.328 DEBUG 24416 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:49:48.328 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:49:48.329 DEBUG 24416 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:49:48.329  INFO 24416 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:49:48.329 DEBUG 24416 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:49:48.332 DEBUG 24416 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:49:48.334 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:48.334 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:49:48.336 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:48.337 DEBUG 24416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:48.347 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:48.347 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:49:48.348 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:48.348 DEBUG 24416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:48.371 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:48.371 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:49:48.372 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:48.372 DEBUG 24416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:49.448 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=100
2025-05-04 18:49:49.448 DEBUG 24416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:49.452 DEBUG 24416 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:49.452 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=100] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:49.452 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=100
2025-05-04 18:49:49.453 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=100", parameters={masked}
2025-05-04 18:49:49.453 DEBUG 24416 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:49:49.454  INFO 24416 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 100, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:49:49.454 DEBUG 24416 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=100
2025-05-04 18:49:49.458 DEBUG 24416 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=100, TotalElements=0, TotalPages=0
2025-05-04 18:49:49.461 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:49.462 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:49:49.463 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:49.463 DEBUG 24416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:49.477 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:49:49.478 DEBUG 24416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:49.482 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:49:49.483 DEBUG 24416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:49.484 DEBUG 24416 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:49.484 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:49.485 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:49:49.485 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:49:49.485 DEBUG 24416 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:49:49.487 DEBUG 24416 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:49.487 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:49.487 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:49:49.487 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:49:49.488 DEBUG 24416 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:49:49.497 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:49:49.497 DEBUG 24416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:49.503 DEBUG 24416 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:49.504 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:49.504 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:49:49.505 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:49:49.505 DEBUG 24416 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:49:49.506  INFO 24416 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:49:49.506 DEBUG 24416 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:49:49.510 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:49.510 DEBUG 24416 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:49:49.511 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:49:49.512 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:49.512 DEBUG 24416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:49.513 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:49.513 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:49:49.515 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:49.515 DEBUG 24416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:49.544 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:49.544 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:49:49.545 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:49.546 DEBUG 24416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:50.618 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 18:49:50.618 DEBUG 24416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:50.622 DEBUG 24416 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:50.623 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:50.623 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 18:49:50.624 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 18:49:50.624 DEBUG 24416 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:49:50.625  INFO 24416 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:49:50.625 DEBUG 24416 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 18:49:50.629 DEBUG 24416 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-04 18:49:50.631 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:50.632 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:49:50.633 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:50.634 DEBUG 24416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:50.649 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:49:50.649 DEBUG 24416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:50.654 DEBUG 24416 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:50.654 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:49:50.655 DEBUG 24416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:50.655 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:50.655 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:49:50.655 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:49:50.656 DEBUG 24416 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:49:50.656 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:49:50.656 DEBUG 24416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:50.658 DEBUG 24416 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:50.658 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:50.659 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:49:50.659 DEBUG 24416 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:50.659 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:49:50.659 DEBUG 24416 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:49:50.659 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:50.659 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:49:50.659 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:49:50.660 DEBUG 24416 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:49:50.660  INFO 24416 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:49:50.661 DEBUG 24416 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:49:50.664 DEBUG 24416 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:49:50.666 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:50.666 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:49:50.667 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:50.668 DEBUG 24416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:50.673 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:50.674 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:49:50.674 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:50.675 DEBUG 24416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:50.696 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:50.697 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:49:50.698 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:50.698 DEBUG 24416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:55.351 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 18:49:55.351 DEBUG 24416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:55.360 DEBUG 24416 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:55.361 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:55.361 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 18:49:55.361 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 18:49:55.361 DEBUG 24416 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:49:55.362  INFO 24416 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:49:55.362 DEBUG 24416 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 18:49:55.366 DEBUG 24416 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-04 18:49:55.368 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:55.369 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:49:55.369 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:55.370 DEBUG 24416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:55.382 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:49:55.382 DEBUG 24416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:55.385 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:49:55.386 DEBUG 24416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:55.386 DEBUG 24416 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:55.387 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:55.387 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:49:55.387 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:49:55.388 DEBUG 24416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:49:55.388 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:49:55.388 DEBUG 24416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:49:55.389 DEBUG 24416 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:55.390 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:55.390 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:49:55.390 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:49:55.391 DEBUG 24416 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:49:55.392 DEBUG 24416 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:49:55.393 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:49:55.394 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:49:55.394 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:49:55.394 DEBUG 24416 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:49:55.396  INFO 24416 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:49:55.396 DEBUG 24416 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:49:55.402 DEBUG 24416 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:49:55.404 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:55.404 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:49:55.405 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:55.406 DEBUG 24416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:55.413 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:55.414 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:49:55.416 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:55.416 DEBUG 24416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:49:55.443 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:49:55.443 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:49:55.444 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:49:55.444 DEBUG 24416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:50:36.255 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 18:50:36.256 DEBUG 24416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:50:36.256 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 18:50:36.256 DEBUG 24416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:50:36.261 DEBUG 24416 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:50:36.261 DEBUG 24416 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:50:36.262 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:50:36.262 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:50:36.262 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 18:50:36.262 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 18:50:36.263 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 18:50:36.263 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 18:50:36.264 DEBUG 24416 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:50:36.264 DEBUG 24416 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:50:36.265  INFO 24416 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:50:36.265  INFO 24416 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:50:36.266 DEBUG 24416 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 18:50:36.266 DEBUG 24416 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 18:50:36.269 DEBUG 24416 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-04 18:50:36.269 DEBUG 24416 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-04 18:50:36.271 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:50:36.271 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:50:36.272 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:50:36.272 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:50:36.273 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:50:36.273 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:50:36.273 DEBUG 24416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:50:36.273 DEBUG 24416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:50:36.312 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:50:36.313 DEBUG 24416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:50:36.319 DEBUG 24416 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:50:36.320 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:50:36.320 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:50:36.320 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:50:36.320 DEBUG 24416 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:50:36.388 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:50:36.388 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:50:36.389 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:50:36.389 DEBUG 24416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:50:36.417 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:50:36.417 DEBUG 24416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:50:36.418 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:50:36.418 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:50:36.418 DEBUG 24416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:50:36.418 DEBUG 24416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:50:36.422 DEBUG 24416 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:50:36.423 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:50:36.423 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:50:36.423 DEBUG 24416 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:50:36.423 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:50:36.423 DEBUG 24416 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:50:36.423 DEBUG 24416 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:50:36.423 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:50:36.423 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:50:36.424 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:50:36.424 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:50:36.424 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:50:36.424 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:50:36.424 DEBUG 24416 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:50:36.425 DEBUG 24416 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:50:36.426  INFO 24416 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:50:36.426 DEBUG 24416 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:50:36.427 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:50:36.428 DEBUG 24416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:50:36.428 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:50:36.428 DEBUG 24416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:50:36.432 DEBUG 24416 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:50:36.434 DEBUG 24416 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:50:36.435 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:50:36.435 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:50:36.435 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:50:36.435 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:50:36.436 DEBUG 24416 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:50:36.436 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:50:36.437 DEBUG 24416 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:50:36.437  INFO 24416 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:50:36.437 DEBUG 24416 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:50:36.438 DEBUG 24416 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:50:36.438 DEBUG 24416 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:50:36.438 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:50:36.438 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:50:36.439 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:50:36.439 DEBUG 24416 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:50:36.441 DEBUG 24416 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:50:36.444 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:50:36.444 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:50:36.444 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:50:36.445 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:50:36.446 DEBUG 24416 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:50:36.446 DEBUG 24416 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:50:36.446 DEBUG 24416 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:50:36.446 DEBUG 24416 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:50:36.468 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:50:36.468 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:50:36.470 DEBUG 24416 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:50:36.470 DEBUG 24416 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:50:36.506 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:50:36.506 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:50:36.507 DEBUG 24416 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:50:36.507 DEBUG 24416 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:52:19.478 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 18:52:19.478 DEBUG 24416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:52:19.479 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:52:19.479 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:52:19.480 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 18:52:19.481 DEBUG 24416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:52:19.485 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error?page=0&size=10
2025-05-04 18:52:19.485 DEBUG 24416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:52:19.485 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:52:19.486 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error?page=0&size=10
2025-05-04 18:52:19.493 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error?page=0&size=10", parameters={masked}
2025-05-04 18:52:19.493 DEBUG 24416 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 18:52:19.496 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, application/xml;q=0.9, */*;q=0.8] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:52:19.497 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 18:52:19.498 DEBUG 24416 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 18:52:19.498 DEBUG 24416 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:55:38.077 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 18:55:38.078 DEBUG 24416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:55:38.081 DEBUG 24416 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:55:38.081 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:55:38.081 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 18:55:38.082 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 18:55:38.082 DEBUG 24416 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:55:38.084  INFO 24416 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:55:38.084 DEBUG 24416 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 18:55:38.088 DEBUG 24416 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-04 18:55:38.090 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:55:38.090 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:55:38.091 DEBUG 24416 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:55:38.091 DEBUG 24416 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:55:38.190 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:55:38.190 DEBUG 24416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:55:38.191 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:55:38.191 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:55:38.192 DEBUG 24416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:55:38.192 DEBUG 24416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:55:38.194 DEBUG 24416 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:55:38.195 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:55:38.195 DEBUG 24416 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:55:38.195 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:55:38.195 DEBUG 24416 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:55:38.195 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:55:38.196 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:55:38.196 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:55:38.196 DEBUG 24416 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:55:38.196 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:55:38.196 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:55:38.196 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:55:38.196 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:55:38.196 DEBUG 24416 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:55:38.196 DEBUG 24416 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:55:38.197  INFO 24416 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:55:38.198 DEBUG 24416 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:55:38.201 DEBUG 24416 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:55:38.203 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:55:38.204 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:55:38.206 DEBUG 24416 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:55:38.206 DEBUG 24416 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:55:38.213 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:55:38.213 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:55:38.213 DEBUG 24416 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:55:38.214 DEBUG 24416 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:55:38.246 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:55:38.246 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:55:38.247 DEBUG 24416 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:55:38.248 DEBUG 24416 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:55:42.213  INFO 24416 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 18:55:42.216  INFO 24416 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 18:55:42.226  INFO 24416 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 18:55:50.986  INFO 22076 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 22076 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 18:55:50.988 DEBUG 22076 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 18:55:50.989  INFO 22076 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 18:55:51.977  INFO 22076 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 18:55:52.185  INFO 22076 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 196 ms. Found 19 JPA repository interfaces.
2025-05-04 18:55:52.787  INFO 22076 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 18:55:52.789  INFO 22076 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 18:55:52.789  INFO 22076 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 18:55:52.790  INFO 22076 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 18:55:52.797  INFO 22076 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 18:55:52.812  INFO 22076 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 18:55:52.812  INFO 22076 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 18:55:52.987  INFO 22076 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 18:55:52.987  INFO 22076 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1936 ms
2025-05-04 18:55:53.196  INFO 22076 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 18:55:53.270  INFO 22076 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 18:55:53.471  INFO 22076 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 18:55:53.589  INFO 22076 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 18:55:53.952  INFO 22076 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 18:55:53.967  INFO 22076 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 18:55:55.246  INFO 22076 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 18:55:55.257  INFO 22076 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 18:55:55.824 DEBUG 22076 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 18:55:55.824 DEBUG 22076 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 18:55:56.752 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 18:55:56.760 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 18:55:56.761 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 18:55:56.761 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 18:55:56.762 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 18:55:56.762 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 18:55:56.762 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 18:55:56.763 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 18:55:56.764 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 18:55:56.765 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 18:55:56.765 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 18:55:56.765 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 18:55:56.765 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 18:55:56.765 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 18:55:56.766 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 18:55:56.766 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 18:55:56.767 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 18:55:56.767 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 18:55:56.767 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 18:55:56.767 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 18:55:56.767 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 18:55:56.768 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 18:55:56.768 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 18:55:56.768 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 18:55:56.769 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 18:55:56.769 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 18:55:56.769 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 18:55:56.769 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 18:55:56.769 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 18:55:56.770 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 18:55:56.770 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 18:55:56.770 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 18:55:56.770 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 18:55:56.770 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 18:55:56.770 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 18:55:56.770 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 18:55:56.772 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 18:55:56.772 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 18:55:56.773 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 18:55:56.773 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 18:55:56.774 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 18:55:56.774 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 18:55:56.774 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 18:55:56.774 DEBUG 22076 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 18:55:56.782  INFO 22076 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58c93be3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5dd62f07, org.springframework.security.web.context.SecurityContextPersistenceFilter@16718e1b, org.springframework.security.web.header.HeaderWriterFilter@77430c79, org.springframework.web.filter.CorsFilter@5b53c3c5, org.springframework.security.web.authentication.logout.LogoutFilter@2b33f7a0, com.hotel.config.JwtAuthenticationFilter@3adb4cc8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@771ede0d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1fd73dcb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e669b5c, org.springframework.security.web.session.SessionManagementFilter@140fa482, org.springframework.security.web.access.ExceptionTranslationFilter@52c2d1e8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@65192f16]
2025-05-04 18:55:56.849  WARN 22076 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 18:55:56.997 DEBUG 22076 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 18:55:57.022  INFO 22076 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 18:55:57.088 DEBUG 22076 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 18:55:57.093 DEBUG 22076 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 18:55:57.112 DEBUG 22076 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 18:55:57.122 DEBUG 22076 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 18:55:57.309  INFO 22076 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 18:55:57.320  INFO 22076 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.922 seconds (JVM running for 8.051)
2025-05-04 18:56:52.187  INFO 22076 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 18:56:52.188  INFO 22076 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 18:56:52.189 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 18:56:52.189 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 18:56:52.189 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 18:56:52.190 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7b23aea2
2025-05-04 18:56:52.191 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7c16cc25
2025-05-04 18:56:52.191 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 18:56:52.191  INFO 22076 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-04 18:56:52.214 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 18:56:52.224 DEBUG 22076 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:56:52.346 DEBUG 22076 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:56:52.364 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:56:52.365 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 18:56:52.371 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 18:56:52.377 DEBUG 22076 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:56:52.441  INFO 22076 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:56:52.442 DEBUG 22076 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 18:56:52.494 DEBUG 22076 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-04 18:56:52.604 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:56:52.605 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:56:52.651 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:56:52.653 DEBUG 22076 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:56:52.670 DEBUG 22076 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:56:52.670 DEBUG 22076 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:56:52.673 DEBUG 22076 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:56:52.673 DEBUG 22076 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:56:52.676 DEBUG 22076 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:56:52.678 DEBUG 22076 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:56:52.678 DEBUG 22076 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:56:52.679 DEBUG 22076 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:56:52.679 DEBUG 22076 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:56:52.679 DEBUG 22076 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:56:52.679 DEBUG 22076 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:56:52.681 DEBUG 22076 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:56:52.683 DEBUG 22076 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:56:52.683 DEBUG 22076 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:56:52.684 DEBUG 22076 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:56:52.684 DEBUG 22076 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:56:52.693 DEBUG 22076 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:56:52.694 DEBUG 22076 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:56:52.695 DEBUG 22076 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:56:52.696 DEBUG 22076 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:56:52.696 DEBUG 22076 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:56:52.708  INFO 22076 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:56:52.708 DEBUG 22076 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:56:52.716 DEBUG 22076 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:56:52.719 DEBUG 22076 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:56:52.720 DEBUG 22076 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:56:52.722 DEBUG 22076 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:56:52.723 DEBUG 22076 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:56:52.742 DEBUG 22076 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:56:52.742 DEBUG 22076 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:56:52.752 DEBUG 22076 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:56:52.752 DEBUG 22076 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:56:52.857 DEBUG 22076 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:56:52.857 DEBUG 22076 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:56:52.864 DEBUG 22076 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:56:52.865 DEBUG 22076 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:56:55.604 DEBUG 22076 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 18:56:55.605 DEBUG 22076 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:56:55.611 DEBUG 22076 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:56:55.612 DEBUG 22076 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:56:55.612 DEBUG 22076 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 18:56:55.613 DEBUG 22076 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 18:56:55.613 DEBUG 22076 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:56:55.615  INFO 22076 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:56:55.616 DEBUG 22076 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 18:56:55.623 DEBUG 22076 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-04 18:56:55.626 DEBUG 22076 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:56:55.626 DEBUG 22076 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:56:55.627 DEBUG 22076 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:56:55.628 DEBUG 22076 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:56:55.647 DEBUG 22076 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:56:55.647 DEBUG 22076 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:56:55.652 DEBUG 22076 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:56:55.653 DEBUG 22076 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:56:55.655 DEBUG 22076 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:56:55.655 DEBUG 22076 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:56:55.656 DEBUG 22076 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:56:55.656 DEBUG 22076 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:56:55.656 DEBUG 22076 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:56:55.657 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:56:55.657 DEBUG 22076 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:56:55.661 DEBUG 22076 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:56:55.662 DEBUG 22076 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:56:55.662 DEBUG 22076 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:56:55.662 DEBUG 22076 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:56:55.662 DEBUG 22076 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:56:55.664 DEBUG 22076 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:56:55.665 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:56:55.665 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:56:55.666 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:56:55.666 DEBUG 22076 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:56:55.667  INFO 22076 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:56:55.668 DEBUG 22076 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:56:55.674 DEBUG 22076 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:56:55.676 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:56:55.676 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:56:55.678 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:56:55.678 DEBUG 22076 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:56:55.687 DEBUG 22076 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:56:55.688 DEBUG 22076 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:56:55.689 DEBUG 22076 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:56:55.690 DEBUG 22076 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:56:55.733 DEBUG 22076 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:56:55.734 DEBUG 22076 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:56:55.736 DEBUG 22076 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:56:55.736 DEBUG 22076 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:57:11.152 DEBUG 22076 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&guestPhone=17777777777
2025-05-04 18:57:11.153 DEBUG 22076 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:57:11.158 DEBUG 22076 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:57:11.159 DEBUG 22076 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&guestPhone=17777777777] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:57:11.159 DEBUG 22076 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&guestPhone=17777777777
2025-05-04 18:57:11.160 DEBUG 22076 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&guestPhone=17777777777", parameters={masked}
2025-05-04 18:57:11.161 DEBUG 22076 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:57:11.162  INFO 22076 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: 17777777777, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:57:11.163 DEBUG 22076 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 18:57:11.170 DEBUG 22076 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-04 18:57:11.173 DEBUG 22076 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:57:11.174 DEBUG 22076 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:57:11.175 DEBUG 22076 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:57:11.176 DEBUG 22076 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:57:11.196 DEBUG 22076 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:57:11.196 DEBUG 22076 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:57:11.202 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:57:11.202 DEBUG 22076 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:57:11.203 DEBUG 22076 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:57:11.204 DEBUG 22076 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:57:11.204 DEBUG 22076 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:57:11.205 DEBUG 22076 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:57:11.205 DEBUG 22076 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:57:11.205 DEBUG 22076 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:57:11.206 DEBUG 22076 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:57:11.209 DEBUG 22076 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:57:11.209 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:57:11.209 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:57:11.210 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:57:11.210 DEBUG 22076 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:57:11.212 DEBUG 22076 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:57:11.213 DEBUG 22076 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:57:11.213 DEBUG 22076 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:57:11.213 DEBUG 22076 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:57:11.214 DEBUG 22076 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:57:11.215  INFO 22076 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:57:11.216 DEBUG 22076 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:57:11.221 DEBUG 22076 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:57:11.224 DEBUG 22076 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:57:11.224 DEBUG 22076 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:57:11.225 DEBUG 22076 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:57:11.226 DEBUG 22076 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:57:11.236 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:57:11.237 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:57:11.238 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:57:11.238 DEBUG 22076 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:57:11.274 DEBUG 22076 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:57:11.276 DEBUG 22076 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:57:11.278 DEBUG 22076 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:57:11.278 DEBUG 22076 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:58:05.710 DEBUG 22076 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 18:58:05.711 DEBUG 22076 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:58:05.720 DEBUG 22076 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:58:05.727 DEBUG 22076 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 18:58:05.727 DEBUG 22076 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 18:58:05.728 DEBUG 22076 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 18:58:05.729 DEBUG 22076 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 18:58:05.745 DEBUG 22076 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:58:05.746 DEBUG 22076 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 18:58:05.754 DEBUG 22076 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:58:05.754 DEBUG 22076 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:58:06.607 DEBUG 22076 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:58:06.608 DEBUG 22076 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:58:06.615 DEBUG 22076 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:58:06.616 DEBUG 22076 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 18:58:06.616 DEBUG 22076 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:58:06.616 DEBUG 22076 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 18:58:06.616 DEBUG 22076 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 18:58:06.656 DEBUG 22076 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:58:06.657 DEBUG 22076 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:58:06.662 DEBUG 22076 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:58:06.662 DEBUG 22076 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:58:08.086 DEBUG 22076 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 18:58:08.087 DEBUG 22076 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:58:08.095 DEBUG 22076 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:58:08.096 DEBUG 22076 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 18:58:08.096 DEBUG 22076 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 18:58:08.098 DEBUG 22076 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 18:58:08.098 DEBUG 22076 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 18:58:08.119  INFO 22076 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 2 consumption records for userId: 18
2025-05-04 18:58:08.124  INFO 22076 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 18:58:08.124  INFO 22076 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 18:58:08.125  INFO 22076 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 2, Points Earned from DB: 53973
2025-05-04 18:58:08.126  INFO 22076 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 240152
2025-05-04 18:58:08.126  INFO 22076 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 18:58:08.127  INFO 22076 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 2 history items for page 0 (size 10) for userId: 18. Total items: 2
2025-05-04 18:58:08.128 DEBUG 22076 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:58:08.129 DEBUG 22076 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=2, list=[PointsHistoryDTO(id=2, userId=18, points=53973, type=earn, descripti (truncated)...]
2025-05-04 18:58:08.134 DEBUG 22076 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:58:08.134 DEBUG 22076 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:58:08.809 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:58:08.810 DEBUG 22076 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:58:08.815 DEBUG 22076 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:58:08.815 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 18:58:08.816 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:58:08.816 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 18:58:08.816 DEBUG 22076 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 18:58:08.835 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:58:08.835 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:58:08.837 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:58:08.837 DEBUG 22076 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:58:10.308 DEBUG 22076 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=10
2025-05-04 18:58:10.308 DEBUG 22076 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:58:10.313 DEBUG 22076 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:58:10.313 DEBUG 22076 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 18:58:10.314 DEBUG 22076 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=10
2025-05-04 18:58:10.314 DEBUG 22076 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=10", parameters={masked}
2025-05-04 18:58:10.314 DEBUG 22076 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 18:58:10.334 DEBUG 22076 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:58:10.335 DEBUG 22076 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:58:10.337 DEBUG 22076 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:58:10.337 DEBUG 22076 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:58:11.891 DEBUG 22076 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=20
2025-05-04 18:58:11.892 DEBUG 22076 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:58:11.898 DEBUG 22076 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:58:11.898 DEBUG 22076 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=20] with attributes [authenticated]
2025-05-04 18:58:11.898 DEBUG 22076 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=20
2025-05-04 18:58:11.899 DEBUG 22076 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=20", parameters={masked}
2025-05-04 18:58:11.900 DEBUG 22076 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 18:58:11.914 DEBUG 22076 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:58:11.914 DEBUG 22076 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:58:11.915 DEBUG 22076 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:58:11.915 DEBUG 22076 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:58:13.627 DEBUG 22076 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:58:13.628 DEBUG 22076 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:58:13.634 DEBUG 22076 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:58:13.635 DEBUG 22076 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 18:58:13.635 DEBUG 22076 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:58:13.635 DEBUG 22076 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 18:58:13.636 DEBUG 22076 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 18:58:13.653 DEBUG 22076 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:58:13.654 DEBUG 22076 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:58:13.655 DEBUG 22076 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:58:13.656 DEBUG 22076 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:58:16.382 DEBUG 22076 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=2&pageSize=5
2025-05-04 18:58:16.383 DEBUG 22076 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:58:16.387 DEBUG 22076 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:58:16.388 DEBUG 22076 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=2&pageSize=5] with attributes [authenticated]
2025-05-04 18:58:16.388 DEBUG 22076 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=2&pageSize=5
2025-05-04 18:58:16.388 DEBUG 22076 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=2&pageSize=5", parameters={masked}
2025-05-04 18:58:16.389 DEBUG 22076 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 18:58:16.401 DEBUG 22076 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:58:16.402 DEBUG 22076 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:58:16.404 DEBUG 22076 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:58:16.404 DEBUG 22076 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:58:17.878 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:58:17.878 DEBUG 22076 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:58:17.883 DEBUG 22076 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:58:17.883 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 18:58:17.884 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:58:17.885 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 18:58:17.885 DEBUG 22076 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 18:58:17.902 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:58:17.903 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:58:17.904 DEBUG 22076 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:58:17.904 DEBUG 22076 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:58:18.601 DEBUG 22076 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 18:58:18.602 DEBUG 22076 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:58:18.607 DEBUG 22076 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:58:18.607 DEBUG 22076 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 18:58:18.607 DEBUG 22076 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 18:58:18.607 DEBUG 22076 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 18:58:18.608 DEBUG 22076 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 18:58:18.624 DEBUG 22076 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:58:18.624 DEBUG 22076 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:58:18.626 DEBUG 22076 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:58:18.626 DEBUG 22076 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:58:19.614 DEBUG 22076 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:58:19.615 DEBUG 22076 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:58:19.619 DEBUG 22076 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:58:19.620 DEBUG 22076 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 18:58:19.620 DEBUG 22076 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:58:19.620 DEBUG 22076 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 18:58:19.622 DEBUG 22076 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 18:58:19.640 DEBUG 22076 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:58:19.640 DEBUG 22076 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:58:19.642 DEBUG 22076 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:58:19.642 DEBUG 22076 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:58:21.437 DEBUG 22076 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 18:58:21.438 DEBUG 22076 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:58:21.442 DEBUG 22076 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:58:21.443 DEBUG 22076 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 18:58:21.444 DEBUG 22076 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 18:58:21.444 DEBUG 22076 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 18:58:21.444 DEBUG 22076 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 18:58:21.451  INFO 22076 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 2 consumption records for userId: 18
2025-05-04 18:58:21.453  INFO 22076 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 18:58:21.453  INFO 22076 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 18:58:21.453  INFO 22076 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 2, Points Earned from DB: 53973
2025-05-04 18:58:21.454  INFO 22076 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 240152
2025-05-04 18:58:21.454  INFO 22076 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 18:58:21.455  INFO 22076 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 2 history items for page 0 (size 10) for userId: 18. Total items: 2
2025-05-04 18:58:21.455 DEBUG 22076 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:58:21.455 DEBUG 22076 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=2, list=[PointsHistoryDTO(id=2, userId=18, points=53973, type=earn, descripti (truncated)...]
2025-05-04 18:58:21.457 DEBUG 22076 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:58:21.457 DEBUG 22076 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:58:24.578 DEBUG 22076 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:58:24.578 DEBUG 22076 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:58:24.581 DEBUG 22076 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:58:24.582 DEBUG 22076 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 18:58:24.582 DEBUG 22076 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 18:58:24.582 DEBUG 22076 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 18:58:24.582 DEBUG 22076 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 18:58:24.595 DEBUG 22076 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:58:24.595 DEBUG 22076 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 18:58:24.596 DEBUG 22076 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:58:24.596 DEBUG 22076 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:58:32.661 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 18:58:32.661 DEBUG 22076 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:58:32.662 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 18:58:32.662 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 18:58:32.663 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 18:58:32.664 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 18:58:32.665 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 18:58:32.665 DEBUG 22076 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 18:58:32.693 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:58:32.694 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 18:58:32.696 DEBUG 22076 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:58:32.696 DEBUG 22076 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:58:32.968 DEBUG 22076 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 18:58:32.969 DEBUG 22076 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:58:32.974 DEBUG 22076 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:58:32.975 DEBUG 22076 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 18:58:32.975 DEBUG 22076 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 18:58:32.975 DEBUG 22076 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 18:58:32.976 DEBUG 22076 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 18:58:32.983 DEBUG 22076 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:58:32.983 DEBUG 22076 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 18:58:32.984 DEBUG 22076 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:58:32.985 DEBUG 22076 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:58:37.490 DEBUG 22076 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 18:58:37.491 DEBUG 22076 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:58:37.495 DEBUG 22076 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 18:58:37.497 DEBUG 22076 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 18:58:37.497 DEBUG 22076 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 18:58:37.497 DEBUG 22076 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 18:58:37.498 DEBUG 22076 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 18:58:37.505 DEBUG 22076 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:58:37.505 DEBUG 22076 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 18:58:37.506 DEBUG 22076 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:58:37.507 DEBUG 22076 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:59:03.006  INFO 22076 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 18:59:03.009  INFO 22076 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 18:59:03.022  INFO 22076 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 18:59:11.693  INFO 24820 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 24820 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 18:59:11.695 DEBUG 24820 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 18:59:11.696  INFO 24820 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 18:59:12.753  INFO 24820 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 18:59:13.005  INFO 24820 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 240 ms. Found 19 JPA repository interfaces.
2025-05-04 18:59:13.613  INFO 24820 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 18:59:13.615  INFO 24820 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 18:59:13.616  INFO 24820 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 18:59:13.617  INFO 24820 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 18:59:13.622  INFO 24820 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 18:59:13.633  INFO 24820 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 18:59:13.633  INFO 24820 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 18:59:13.790  INFO 24820 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 18:59:13.790  INFO 24820 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2045 ms
2025-05-04 18:59:13.997  INFO 24820 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 18:59:14.052  INFO 24820 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 18:59:14.227  INFO 24820 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 18:59:14.343  INFO 24820 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 18:59:14.655  INFO 24820 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 18:59:14.671  INFO 24820 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 18:59:15.936  INFO 24820 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 18:59:15.947  INFO 24820 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 18:59:16.472 DEBUG 24820 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 18:59:16.472 DEBUG 24820 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 18:59:17.511 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 18:59:17.520 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 18:59:17.520 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 18:59:17.520 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 18:59:17.521 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 18:59:17.521 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 18:59:17.521 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 18:59:17.521 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 18:59:17.523 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 18:59:17.523 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 18:59:17.523 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 18:59:17.523 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 18:59:17.523 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 18:59:17.523 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 18:59:17.524 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 18:59:17.524 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 18:59:17.525 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 18:59:17.525 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 18:59:17.525 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 18:59:17.525 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 18:59:17.525 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 18:59:17.526 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 18:59:17.526 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 18:59:17.526 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 18:59:17.526 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 18:59:17.526 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 18:59:17.526 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 18:59:17.527 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 18:59:17.527 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 18:59:17.527 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 18:59:17.527 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 18:59:17.527 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 18:59:17.527 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 18:59:17.528 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 18:59:17.528 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 18:59:17.528 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 18:59:17.530 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 18:59:17.531 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 18:59:17.531 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 18:59:17.531 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 18:59:17.532 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 18:59:17.532 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 18:59:17.532 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 18:59:17.532 DEBUG 24820 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 18:59:17.538  INFO 24820 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7e4a6afd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c7aac7c, org.springframework.security.web.context.SecurityContextPersistenceFilter@45775a15, org.springframework.security.web.header.HeaderWriterFilter@2e7dd504, org.springframework.web.filter.CorsFilter@7d0312a, org.springframework.security.web.authentication.logout.LogoutFilter@1da5635e, com.hotel.config.JwtAuthenticationFilter@145f1f97, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7bb888b7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5825932c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ab8f93, org.springframework.security.web.session.SessionManagementFilter@54c697c, org.springframework.security.web.access.ExceptionTranslationFilter@21f421b8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@19a544cd]
2025-05-04 18:59:17.595  WARN 24820 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 18:59:17.749 DEBUG 24820 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 18:59:17.776  INFO 24820 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 18:59:17.855 DEBUG 24820 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 18:59:17.861 DEBUG 24820 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 18:59:17.876 DEBUG 24820 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 18:59:17.885 DEBUG 24820 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 18:59:18.055  INFO 24820 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 18:59:18.065  INFO 24820 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.921 seconds (JVM running for 8.003)
2025-05-04 18:59:22.106  INFO 24820 --- [http-nio-8090-exec-7] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 18:59:22.107  INFO 24820 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 18:59:22.108 DEBUG 24820 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 18:59:22.108 DEBUG 24820 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 18:59:22.109 DEBUG 24820 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 18:59:22.111 DEBUG 24820 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@700b035b
2025-05-04 18:59:22.111 DEBUG 24820 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@68e6856c
2025-05-04 18:59:22.112 DEBUG 24820 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 18:59:22.112  INFO 24820 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-04 18:59:22.134 DEBUG 24820 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 18:59:22.143 DEBUG 24820 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:59:22.308 DEBUG 24820 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:59:22.331 DEBUG 24820 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:59:22.332 DEBUG 24820 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 18:59:22.338 DEBUG 24820 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 18:59:22.350 DEBUG 24820 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:59:22.400  INFO 24820 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:59:22.401 DEBUG 24820 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 18:59:22.446 DEBUG 24820 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-04 18:59:22.550 DEBUG 24820 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:59:22.551 DEBUG 24820 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:59:22.594 DEBUG 24820 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:59:22.595 DEBUG 24820 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:59:22.623 DEBUG 24820 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:59:22.623 DEBUG 24820 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:59:22.632 DEBUG 24820 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:59:22.633 DEBUG 24820 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:59:22.633 DEBUG 24820 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:59:22.633 DEBUG 24820 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:59:22.634 DEBUG 24820 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:59:22.634 DEBUG 24820 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:59:22.634 DEBUG 24820 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:59:22.634 DEBUG 24820 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:59:22.635 DEBUG 24820 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:59:22.642 DEBUG 24820 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:59:22.642 DEBUG 24820 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 18:59:22.644 DEBUG 24820 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:59:22.644 DEBUG 24820 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:59:22.644 DEBUG 24820 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:59:22.644 DEBUG 24820 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:59:22.645 DEBUG 24820 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:59:22.645 DEBUG 24820 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:59:22.645 DEBUG 24820 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:59:22.645 DEBUG 24820 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:59:22.655  INFO 24820 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:59:22.656 DEBUG 24820 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:59:22.661 DEBUG 24820 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:59:22.664 DEBUG 24820 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:59:22.665 DEBUG 24820 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:59:22.667 DEBUG 24820 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:59:22.671 DEBUG 24820 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:59:22.695 DEBUG 24820 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:59:22.696 DEBUG 24820 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:59:22.706 DEBUG 24820 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:59:22.706 DEBUG 24820 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:59:22.807 DEBUG 24820 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:59:22.807 DEBUG 24820 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:59:22.813 DEBUG 24820 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:59:22.814 DEBUG 24820 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:59:34.129 DEBUG 24820 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 18:59:34.129 DEBUG 24820 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:59:34.133 DEBUG 24820 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:59:34.134 DEBUG 24820 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:59:34.134 DEBUG 24820 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 18:59:34.134 DEBUG 24820 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 18:59:34.135 DEBUG 24820 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:59:34.137  INFO 24820 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:59:34.137 DEBUG 24820 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 18:59:34.141 DEBUG 24820 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-04 18:59:34.144 DEBUG 24820 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:59:34.144 DEBUG 24820 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:59:34.146 DEBUG 24820 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:59:34.146 DEBUG 24820 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:59:34.225 DEBUG 24820 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 18:59:34.225 DEBUG 24820 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:59:34.228 DEBUG 24820 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:59:34.228 DEBUG 24820 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 18:59:34.229 DEBUG 24820 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:59:34.229 DEBUG 24820 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 18:59:34.234 DEBUG 24820 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:59:34.235 DEBUG 24820 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:59:34.235 DEBUG 24820 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 18:59:34.236 DEBUG 24820 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 18:59:34.237 DEBUG 24820 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 18:59:34.238 DEBUG 24820 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:59:34.239 DEBUG 24820 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:59:34.240 DEBUG 24820 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 18:59:34.240 DEBUG 24820 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 18:59:34.240 DEBUG 24820 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 18:59:34.241 DEBUG 24820 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 18:59:34.241 DEBUG 24820 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 18:59:34.241 DEBUG 24820 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 18:59:34.241 DEBUG 24820 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 18:59:34.242 DEBUG 24820 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 18:59:34.242  INFO 24820 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 18:59:34.242 DEBUG 24820 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 18:59:34.251 DEBUG 24820 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 18:59:34.254 DEBUG 24820 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:59:34.256 DEBUG 24820 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 18:59:34.258 DEBUG 24820 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:59:34.258 DEBUG 24820 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:59:34.274 DEBUG 24820 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:59:34.274 DEBUG 24820 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 18:59:34.277 DEBUG 24820 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:59:34.278 DEBUG 24820 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 18:59:34.332 DEBUG 24820 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 18:59:34.332 DEBUG 24820 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 18:59:34.333 DEBUG 24820 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 18:59:34.334 DEBUG 24820 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:00:37.298 DEBUG 24820 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 19:00:37.299 DEBUG 24820 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:00:37.304 DEBUG 24820 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:00:37.304 DEBUG 24820 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:00:37.304 DEBUG 24820 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 19:00:37.305 DEBUG 24820 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 19:00:37.305 DEBUG 24820 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:00:37.306  INFO 24820 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:00:37.306 DEBUG 24820 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 19:00:37.312 DEBUG 24820 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-04 19:00:37.315 DEBUG 24820 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:00:37.315 DEBUG 24820 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 19:00:37.317 DEBUG 24820 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:00:37.318 DEBUG 24820 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:00:37.451 DEBUG 24820 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 19:00:37.451 DEBUG 24820 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 19:00:37.452 DEBUG 24820 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:00:37.452 DEBUG 24820 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:00:37.453 DEBUG 24820 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:00:37.453 DEBUG 24820 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:00:37.458 DEBUG 24820 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:00:37.458 DEBUG 24820 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:00:37.460 DEBUG 24820 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:00:37.460 DEBUG 24820 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:00:37.460 DEBUG 24820 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 19:00:37.460 DEBUG 24820 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:00:37.460 DEBUG 24820 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 19:00:37.460 DEBUG 24820 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 19:00:37.461 DEBUG 24820 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:00:37.461 DEBUG 24820 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 19:00:37.461 DEBUG 24820 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 19:00:37.461 DEBUG 24820 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:00:37.461 DEBUG 24820 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 19:00:37.462 DEBUG 24820 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 19:00:37.462 DEBUG 24820 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:00:37.464  INFO 24820 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:00:37.464 DEBUG 24820 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 19:00:37.471 DEBUG 24820 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 19:00:37.473 DEBUG 24820 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:00:37.473 DEBUG 24820 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 19:00:37.475 DEBUG 24820 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:00:37.476 DEBUG 24820 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:00:37.489 DEBUG 24820 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:00:37.489 DEBUG 24820 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 19:00:37.490 DEBUG 24820 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:00:37.490 DEBUG 24820 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:00:37.540 DEBUG 24820 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:00:37.540 DEBUG 24820 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 19:00:37.541 DEBUG 24820 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:00:37.542 DEBUG 24820 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:01:19.557 DEBUG 24820 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&bookingNo=1
2025-05-04 19:01:19.558 DEBUG 24820 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:01:19.565 DEBUG 24820 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:01:19.568 DEBUG 24820 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&bookingNo=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:01:19.568 DEBUG 24820 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&bookingNo=1
2025-05-04 19:01:19.569 DEBUG 24820 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&bookingNo=1", parameters={masked}
2025-05-04 19:01:19.569 DEBUG 24820 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:01:19.571  INFO 24820 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: 1
2025-05-04 19:01:19.571 DEBUG 24820 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 19:01:19.586 DEBUG 24820 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=0, TotalPages=0
2025-05-04 19:01:19.589 DEBUG 24820 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:01:19.589 DEBUG 24820 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 19:01:19.591 DEBUG 24820 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:01:19.591 DEBUG 24820 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:01:19.619 DEBUG 24820 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 19:01:19.619 DEBUG 24820 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:01:19.625 DEBUG 24820 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 19:01:19.625 DEBUG 24820 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:01:19.627 DEBUG 24820 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:01:19.628 DEBUG 24820 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:01:19.629 DEBUG 24820 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 19:01:19.629 DEBUG 24820 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 19:01:19.629 DEBUG 24820 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:01:19.630 DEBUG 24820 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 19:01:19.630 DEBUG 24820 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:01:19.633 DEBUG 24820 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:01:19.634 DEBUG 24820 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:01:19.634 DEBUG 24820 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 19:01:19.635 DEBUG 24820 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 19:01:19.635 DEBUG 24820 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 19:01:19.638 DEBUG 24820 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:01:19.639 DEBUG 24820 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:01:19.639 DEBUG 24820 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:01:19.640 DEBUG 24820 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 19:01:19.640 DEBUG 24820 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:01:19.642  INFO 24820 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:01:19.642 DEBUG 24820 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 19:01:19.647 DEBUG 24820 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=0, TotalPages=0
2025-05-04 19:01:19.649 DEBUG 24820 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:01:19.650 DEBUG 24820 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 19:01:19.651 DEBUG 24820 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:01:19.652 DEBUG 24820 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:01:19.661 DEBUG 24820 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:01:19.662 DEBUG 24820 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 19:01:19.664 DEBUG 24820 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:01:19.664 DEBUG 24820 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:01:19.708 DEBUG 24820 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:01:19.709 DEBUG 24820 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 19:01:19.710 DEBUG 24820 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:01:19.711 DEBUG 24820 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:04:31.332  INFO 24820 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:04:31.336  INFO 24820 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 19:04:31.356  INFO 24820 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 19:04:40.736  INFO 23196 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 23196 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 19:04:40.738 DEBUG 23196 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 19:04:40.739  INFO 23196 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 19:04:42.066  INFO 23196 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 19:04:42.383  INFO 23196 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 303 ms. Found 19 JPA repository interfaces.
2025-05-04 19:04:43.213  INFO 23196 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 19:04:43.215  INFO 23196 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 19:04:43.216  INFO 23196 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 19:04:43.217  INFO 23196 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 19:04:43.227  INFO 23196 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 19:04:43.239  INFO 23196 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 19:04:43.239  INFO 23196 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 19:04:43.409  INFO 23196 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 19:04:43.409  INFO 23196 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2618 ms
2025-05-04 19:04:43.632  INFO 23196 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 19:04:43.708  INFO 23196 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 19:04:43.927  INFO 23196 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 19:04:44.055  INFO 23196 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 19:04:44.431  INFO 23196 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 19:04:44.446  INFO 23196 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 19:04:45.661  INFO 23196 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 19:04:45.676  INFO 23196 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:04:46.229 DEBUG 23196 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 19:04:46.229 DEBUG 23196 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 19:04:46.492  WARN 23196 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminDashboardController' defined in file [E:\桌面\javahotel\heqing99\target\classes\com\hotel\controller\AdminDashboardController.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reservationServiceImpl': Unsatisfied dependency expressed through field 'reservationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findAllWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Using named parameters for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findAllWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String) but parameter 'Optional[guestName]' not found in annotated query 'SELECT r FROM Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) '!; nested exception is java.lang.IllegalStateException: Using named parameters for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findAllWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String) but parameter 'Optional[guestName]' not found in annotated query 'SELECT r FROM Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) '!
2025-05-04 19:04:46.493  INFO 23196 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:04:46.494  INFO 23196 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 19:04:46.502  INFO 23196 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 19:04:46.504  INFO 23196 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-05-04 19:04:46.516  INFO 23196 --- [main] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-05-04 19:04:46.546 ERROR 23196 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminDashboardController' defined in file [E:\桌面\javahotel\heqing99\target\classes\com\hotel\controller\AdminDashboardController.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reservationServiceImpl': Unsatisfied dependency expressed through field 'reservationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findAllWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Using named parameters for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findAllWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String) but parameter 'Optional[guestName]' not found in annotated query 'SELECT r FROM Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) '!; nested exception is java.lang.IllegalStateException: Using named parameters for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findAllWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String) but parameter 'Optional[guestName]' not found in annotated query 'SELECT r FROM Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) '!
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]
	at com.hotel.HotelManagementApplication.main(HotelManagementApplication.java:10) ~[classes/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'reservationServiceImpl': Unsatisfied dependency expressed through field 'reservationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findAllWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Using named parameters for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findAllWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String) but parameter 'Optional[guestName]' not found in annotated query 'SELECT r FROM Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) '!; nested exception is java.lang.IllegalStateException: Using named parameters for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findAllWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String) but parameter 'Optional[guestName]' not found in annotated query 'SELECT r FROM Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) '!
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:659) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:639) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:619) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.20.jar:5.3.20]
	... 19 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reservationRepository' defined in com.hotel.repository.ReservationRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Invocation of init method failed; nested exception is org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findAllWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Using named parameters for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findAllWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String) but parameter 'Optional[guestName]' not found in annotated query 'SELECT r FROM Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) '!; nested exception is java.lang.IllegalStateException: Using named parameters for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findAllWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String) but parameter 'Optional[guestName]' not found in annotated query 'SELECT r FROM Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) '!
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:656) ~[spring-beans-5.3.20.jar:5.3.20]
	... 34 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findAllWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String)! Reason: Using named parameters for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findAllWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String) but parameter 'Optional[guestName]' not found in annotated query 'SELECT r FROM Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) '!; nested exception is java.lang.IllegalStateException: Using named parameters for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findAllWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String) but parameter 'Optional[guestName]' not found in annotated query 'SELECT r FROM Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) '!
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:106) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$mapMethodsToQuery$1(QueryExecutorMethodInterceptor.java:94) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133) ~[na:na]
	at java.base/java.util.Collections$UnmodifiableCollection$1.forEachRemaining(Collections.java:1061) ~[na:na]
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1845) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:96) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at java.base/java.util.Optional.map(Optional.java:260) ~[na:na]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:86) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:364) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$5(RepositoryFactoryBeanSupport.java:322) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:230) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.util.Lazy.get(Lazy.java:114) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:328) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:144) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.20.jar:5.3.20]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.20.jar:5.3.20]
	... 44 common frames omitted
Caused by: java.lang.IllegalStateException: Using named parameters for method public abstract org.springframework.data.domain.Page com.hotel.repository.ReservationRepository.findAllWithFilters(org.springframework.data.domain.Pageable,com.hotel.entity.Reservation$ReservationStatus,java.lang.String,java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime,java.lang.String) but parameter 'Optional[guestName]' not found in annotated query 'SELECT r FROM Reservation r LEFT JOIN FETCH r.user u LEFT JOIN FETCH r.room rm LEFT JOIN FETCH rm.roomType rt WHERE (:status IS NULL OR r.status = :status) '!
	at org.springframework.data.jpa.repository.query.JpaQueryMethod.assertParameterNamesInAnnotatedQuery(JpaQueryMethod.java:172) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryMethod.<init>(JpaQueryMethod.java:139) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.DefaultJpaQueryMethodFactory.build(DefaultJpaQueryMethodFactory.java:44) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:87) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:102) ~[spring-data-commons-2.7.0.jar:2.7.0]
	... 66 common frames omitted

2025-05-04 19:08:53.424  INFO 22536 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 22536 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 19:08:53.428 DEBUG 22536 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 19:08:53.429  INFO 22536 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 19:08:54.711  INFO 22536 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 19:08:54.950  INFO 22536 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 226 ms. Found 19 JPA repository interfaces.
2025-05-04 19:08:55.655  INFO 22536 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 19:08:55.657  INFO 22536 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 19:08:55.658  INFO 22536 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 19:08:55.659  INFO 22536 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 19:08:55.735  INFO 22536 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 19:08:55.749  INFO 22536 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 19:08:55.749  INFO 22536 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 19:08:55.932  INFO 22536 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 19:08:55.932  INFO 22536 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2441 ms
2025-05-04 19:08:56.149  INFO 22536 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 19:08:56.226  INFO 22536 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 19:08:56.454  INFO 22536 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 19:08:56.581  INFO 22536 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 19:08:56.948  INFO 22536 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 19:08:56.964  INFO 22536 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 19:08:58.280  INFO 22536 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 19:08:58.293  INFO 22536 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:08:58.895 DEBUG 22536 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 19:08:58.896 DEBUG 22536 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 19:08:59.929 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 19:08:59.939 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 19:08:59.940 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 19:08:59.940 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 19:08:59.940 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 19:08:59.940 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 19:08:59.940 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 19:08:59.940 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 19:08:59.941 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 19:08:59.941 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 19:08:59.941 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 19:08:59.942 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 19:08:59.942 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 19:08:59.942 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 19:08:59.942 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 19:08:59.943 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 19:08:59.943 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 19:08:59.943 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 19:08:59.944 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 19:08:59.944 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 19:08:59.944 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 19:08:59.944 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 19:08:59.944 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 19:08:59.944 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 19:08:59.945 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 19:08:59.945 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 19:08:59.945 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 19:08:59.945 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 19:08:59.945 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 19:08:59.945 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 19:08:59.945 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 19:08:59.946 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 19:08:59.946 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 19:08:59.946 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 19:08:59.946 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 19:08:59.946 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 19:08:59.950 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 19:08:59.951 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 19:08:59.951 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 19:08:59.951 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 19:08:59.951 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 19:08:59.952 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 19:08:59.952 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 19:08:59.952 DEBUG 22536 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 19:08:59.960  INFO 22536 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@45fa7fb7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@32eeef08, org.springframework.security.web.context.SecurityContextPersistenceFilter@52a3eba3, org.springframework.security.web.header.HeaderWriterFilter@29767156, org.springframework.web.filter.CorsFilter@7833407, org.springframework.security.web.authentication.logout.LogoutFilter@6d71f296, com.hotel.config.JwtAuthenticationFilter@1952ad9d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ec729be, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f7da3a2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@bbf361a, org.springframework.security.web.session.SessionManagementFilter@764d54a0, org.springframework.security.web.access.ExceptionTranslationFilter@2b33f7a0, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@53630682]
2025-05-04 19:09:00.017  WARN 22536 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 19:09:00.175 DEBUG 22536 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 19:09:00.206  INFO 22536 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 19:09:00.279 DEBUG 22536 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 19:09:00.285 DEBUG 22536 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 19:09:00.302 DEBUG 22536 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 19:09:00.310 DEBUG 22536 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 19:09:00.488  INFO 22536 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 19:09:00.498  INFO 22536 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.772 seconds (JVM running for 8.85)
2025-05-04 19:09:15.626  INFO 22536 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 19:09:15.626  INFO 22536 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 19:09:15.627 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 19:09:15.628 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 19:09:15.628 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 19:09:15.630 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4505ec36
2025-05-04 19:09:15.631 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2f1b8770
2025-05-04 19:09:15.631 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 19:09:15.631  INFO 22536 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-04 19:09:15.652 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 19:09:15.660 DEBUG 22536 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:09:15.788 DEBUG 22536 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:09:15.810 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:09:15.812 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 19:09:15.817 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 19:09:15.824 DEBUG 22536 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:09:15.875  INFO 22536 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:09:15.875 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 19:09:15.967 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=17, TotalPages=2
2025-05-04 19:09:15.969 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:09:15.969 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:15.970 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:15.970 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:15.970 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:15.970 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:09:15.970 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:09:15.970 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:15.971 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:15.971 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:15.971 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:15.971 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:09:15.971 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:09:15.971 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:15.971 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:15.971 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:09:15.971 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:09:15.971 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:09:15.971 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:09:15.971 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:15.971 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:15.972 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:15.972 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:15.972 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:09:15.972 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:09:15.972 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:15.972 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:15.972 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:15.972 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:15.972 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:09:15.972 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:09:15.973 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:15.974 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:15.974 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:15.974 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:15.974 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:09:15.974 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:09:15.975 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:15.975 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:15.975 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:15.975 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:15.975 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:09:15.975 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:09:15.975 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:15.975 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:15.975 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:15.975 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:15.976 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:09:15.976 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:09:15.976 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:15.976 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:15.976 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:15.976 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:15.976 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:09:15.976 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:09:15.976 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:15.977 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:15.977 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:15.977 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:15.977 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:09:16.053 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:09:16.054 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:09:16.096 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:09:16.098 DEBUG 22536 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:09:16.235 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 19:09:16.236 DEBUG 22536 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:09:16.239 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 19:09:16.240 DEBUG 22536 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:09:16.241 DEBUG 22536 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:09:16.242 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:09:16.242 DEBUG 22536 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:09:16.242 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:09:16.242 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 19:09:16.243 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 19:09:16.243 DEBUG 22536 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 19:09:16.245 DEBUG 22536 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:09:16.246 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:09:16.246 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 19:09:16.246 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 19:09:16.247 DEBUG 22536 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 19:09:16.249 DEBUG 22536 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:09:16.250 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:09:16.250 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:09:16.251 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 19:09:16.252 DEBUG 22536 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:09:16.266  INFO 22536 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:09:16.267 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 19:09:16.289 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=17, TotalPages=1
2025-05-04 19:09:16.289 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:09:16.289 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:16.289 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:16.289 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:16.289 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:16.289 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:09:16.290 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:09:16.290 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:16.290 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:16.291 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:16.291 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:16.291 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:09:16.291 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:09:16.291 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:16.291 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:16.291 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:09:16.291 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:09:16.291 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:09:16.291 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:09:16.291 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:16.291 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:16.291 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:16.291 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:16.291 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:09:16.291 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:09:16.291 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:16.291 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:16.292 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:16.292 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:16.292 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:09:16.292 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:09:16.292 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:16.292 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:16.292 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:16.292 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:16.292 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:09:16.292 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:09:16.293 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:16.293 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:16.293 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:16.293 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:16.293 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:09:16.293 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:09:16.293 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:16.293 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:16.293 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:16.293 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:16.294 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:09:16.294 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:09:16.294 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:16.294 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:16.294 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:16.294 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:16.294 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:09:16.294 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:09:16.294 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:16.294 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:16.294 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:16.294 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:16.294 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:09:16.294 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 11
2025-05-04 19:09:16.294 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:16.294 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:16.295 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:16.295 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:16.295 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 11
2025-05-04 19:09:16.295 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 12
2025-05-04 19:09:16.295 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:16.295 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:16.295 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:16.295 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:16.296 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 12
2025-05-04 19:09:16.296 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 13
2025-05-04 19:09:16.296 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:16.296 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:16.296 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:16.297 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:16.297 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 13
2025-05-04 19:09:16.297 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 14
2025-05-04 19:09:16.297 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:16.297 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:16.297 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:09:16.297 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:09:16.297 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 14
2025-05-04 19:09:16.297 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 15
2025-05-04 19:09:16.298 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:16.298 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:16.298 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:09:16.298 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:09:16.298 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 15
2025-05-04 19:09:16.298 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 16
2025-05-04 19:09:16.298 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:16.298 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:16.298 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:09:16.298 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:09:16.298 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 16
2025-05-04 19:09:16.298 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 17
2025-05-04 19:09:16.298 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:09:16.298 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:09:16.298 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:09:16.299 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:09:16.299 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 17
2025-05-04 19:09:16.304 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:09:16.305 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 19:09:16.305 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:09:16.306 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:09:16.309 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:09:16.310 DEBUG 22536 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:09:16.316 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:09:16.317 DEBUG 22536 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:09:16.396 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:09:16.397 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 19:09:16.400 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:09:16.401 DEBUG 22536 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:13:06.207 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 19:13:06.207 DEBUG 22536 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:13:06.216 DEBUG 22536 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:13:06.216 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:13:06.217 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 19:13:06.217 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 19:13:06.217 DEBUG 22536 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:13:06.218  INFO 22536 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:13:06.218 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 19:13:06.232 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=17, TotalPages=2
2025-05-04 19:13:06.232 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:13:06.232 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.232 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.232 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.232 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.232 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:13:06.232 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:13:06.233 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.233 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.233 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.233 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.233 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:13:06.233 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:13:06.234 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.234 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.234 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:13:06.234 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:13:06.234 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:13:06.234 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:13:06.234 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.234 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.234 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.234 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.234 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:13:06.235 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:13:06.235 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.235 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.235 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.235 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.235 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:13:06.235 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:13:06.235 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.235 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.235 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.235 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.236 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:13:06.236 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:13:06.236 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.236 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.236 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.236 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.236 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:13:06.236 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:13:06.236 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.236 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.236 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.236 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.237 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:13:06.237 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:13:06.237 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.237 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.237 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.237 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.237 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:13:06.237 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:13:06.237 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.237 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.237 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.237 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.237 DEBUG 22536 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:13:06.240 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:13:06.241 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:13:06.243 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:13:06.244 DEBUG 22536 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:13:06.523 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 19:13:06.523 DEBUG 22536 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:13:06.524 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 19:13:06.525 DEBUG 22536 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:13:06.528 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:13:06.529 DEBUG 22536 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:13:06.533 DEBUG 22536 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:13:06.535 DEBUG 22536 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:13:06.535 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:13:06.536 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 19:13:06.536 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 19:13:06.536 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:13:06.536 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 19:13:06.536 DEBUG 22536 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 19:13:06.538 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 19:13:06.539 DEBUG 22536 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 19:13:06.539 DEBUG 22536 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:13:06.539 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:13:06.539 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:13:06.540 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 19:13:06.540 DEBUG 22536 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:13:06.542  INFO 22536 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:13:06.542 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 19:13:06.558 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=17, TotalPages=1
2025-05-04 19:13:06.558 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:13:06.558 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.558 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.558 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.558 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.558 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:13:06.558 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:13:06.558 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.558 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.559 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.559 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.559 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:13:06.559 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:13:06.559 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.560 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.560 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:13:06.560 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:13:06.560 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:13:06.560 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:13:06.560 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.560 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.560 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.560 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.560 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:13:06.561 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:13:06.561 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.561 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.561 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.561 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.561 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:13:06.561 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:13:06.561 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.561 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.561 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.561 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.561 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:13:06.561 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:13:06.561 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.561 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.562 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.562 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.562 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:13:06.563 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:13:06.563 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.563 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.563 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.564 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.564 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:13:06.564 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:13:06.564 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.564 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.564 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.565 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.565 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:13:06.565 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:13:06.565 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.565 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.565 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.565 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.565 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:13:06.565 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 11
2025-05-04 19:13:06.565 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.566 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.566 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.566 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.566 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 11
2025-05-04 19:13:06.566 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 12
2025-05-04 19:13:06.566 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.566 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.566 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.566 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.566 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 12
2025-05-04 19:13:06.566 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 13
2025-05-04 19:13:06.566 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.566 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.566 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.566 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.566 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 13
2025-05-04 19:13:06.567 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 14
2025-05-04 19:13:06.567 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.567 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.567 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:13:06.567 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:13:06.567 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 14
2025-05-04 19:13:06.567 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 15
2025-05-04 19:13:06.567 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.567 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.567 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:13:06.567 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:13:06.568 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 15
2025-05-04 19:13:06.568 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 16
2025-05-04 19:13:06.568 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.568 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.568 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:13:06.568 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:13:06.568 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 16
2025-05-04 19:13:06.568 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 17
2025-05-04 19:13:06.568 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:13:06.568 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:13:06.568 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:13:06.568 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:13:06.568 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 17
2025-05-04 19:13:06.577 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:13:06.578 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:13:06.579 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:13:06.579 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 19:13:06.580 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:13:06.580 DEBUG 22536 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:13:06.580 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:13:06.581 DEBUG 22536 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:13:06.652 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:13:06.653 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 19:13:06.656 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:13:06.656 DEBUG 22536 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:15:22.953 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 19:15:22.954 DEBUG 22536 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:15:22.961 DEBUG 22536 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:15:22.962 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:15:22.962 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 19:15:22.962 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 19:15:22.963 DEBUG 22536 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:15:22.965  INFO 22536 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:15:22.965 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 19:15:22.978 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=17, TotalPages=2
2025-05-04 19:15:22.978 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:15:22.978 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:22.978 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:22.978 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:22.978 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:22.978 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:15:22.978 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:22.979 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:22.980 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:15:22.980 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:15:22.980 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:22.980 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:22.980 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:22.980 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:22.980 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:15:22.980 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:15:22.980 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:22.980 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:22.980 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:22.980 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:22.980 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:15:22.980 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:15:22.980 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:22.980 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:22.980 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:22.980 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:22.980 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:15:22.980 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:15:22.981 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:22.981 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:22.981 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:22.981 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:22.981 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:15:22.984 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:15:22.984 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:15:22.986 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:15:22.987 DEBUG 22536 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:15:23.194 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 19:15:23.195 DEBUG 22536 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:15:23.200 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 19:15:23.201 DEBUG 22536 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:15:23.203 DEBUG 22536 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:15:23.204 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:15:23.204 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 19:15:23.205 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 19:15:23.205 DEBUG 22536 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 19:15:23.208 DEBUG 22536 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:15:23.209 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:15:23.209 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 19:15:23.209 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 19:15:23.210 DEBUG 22536 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 19:15:23.211 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:15:23.211 DEBUG 22536 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:15:23.220 DEBUG 22536 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:15:23.221 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:15:23.221 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:15:23.222 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 19:15:23.222 DEBUG 22536 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:15:23.224  INFO 22536 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:15:23.224 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 19:15:23.236 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=17, TotalPages=1
2025-05-04 19:15:23.236 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:15:23.236 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.236 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.236 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.236 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.237 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:15:23.237 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:15:23.237 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.237 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.237 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.238 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.240 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:15:23.240 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:15:23.240 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.240 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.240 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:15:23.240 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:15:23.240 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:15:23.240 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:15:23.240 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.240 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.240 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.240 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.240 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:15:23.240 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:15:23.240 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.240 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.240 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.240 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.240 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:15:23.240 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:15:23.241 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.241 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.241 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.241 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.241 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:15:23.241 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:15:23.241 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.241 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.242 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.242 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.242 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:15:23.242 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:15:23.242 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.242 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.242 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.242 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.242 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:15:23.242 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:15:23.242 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.243 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:15:23.243 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.244 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.244 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 19:15:23.244 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.244 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:15:23.244 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:15:23.244 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.244 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.244 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.244 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.245 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:15:23.245 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 11
2025-05-04 19:15:23.245 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.245 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.245 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.245 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.245 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:15:23.245 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 11
2025-05-04 19:15:23.246 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 12
2025-05-04 19:15:23.246 DEBUG 22536 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:15:23.246 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.246 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.246 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.246 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.246 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 12
2025-05-04 19:15:23.246 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 13
2025-05-04 19:15:23.246 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.246 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.246 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.246 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.246 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 13
2025-05-04 19:15:23.247 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 14
2025-05-04 19:15:23.247 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.247 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.247 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:15:23.247 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:15:23.247 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 14
2025-05-04 19:15:23.247 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 15
2025-05-04 19:15:23.247 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.247 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.248 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:15:23.248 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:15:23.248 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 15
2025-05-04 19:15:23.248 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 16
2025-05-04 19:15:23.248 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.248 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.248 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:15:23.248 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:15:23.248 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 16
2025-05-04 19:15:23.248 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 17
2025-05-04 19:15:23.248 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.248 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.248 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.248 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.248 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 17
2025-05-04 19:15:23.253 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:15:23.254 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:15:23.256 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:15:23.256 DEBUG 22536 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:15:23.295 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:15:23.295 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 19:15:23.298 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:15:23.299 DEBUG 22536 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:15:23.362 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 19:15:23.363 DEBUG 22536 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:15:23.370 DEBUG 22536 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 19:15:23.376 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:15:23.377 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 19:15:23.377 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 19:15:23.377 DEBUG 22536 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:15:23.378  INFO 22536 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:15:23.378 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 19:15:23.394 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=17, TotalPages=2
2025-05-04 19:15:23.394 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:15:23.394 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.394 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.394 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.394 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.394 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:15:23.394 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:15:23.394 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.394 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.394 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.394 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.394 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.395 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.396 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:15:23.397 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:15:23.399 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.400 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.400 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.400 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.400 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:15:23.400 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:15:23.400 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.400 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.400 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.400 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.400 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:15:23.400 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:15:23.400 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.401 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.401 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.401 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.401 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:15:23.401 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:15:23.401 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.401 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.401 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.401 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.401 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:15:23.406 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:15:23.406 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:15:23.408 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:15:23.409 DEBUG 22536 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:15:23.577 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 19:15:23.577 DEBUG 22536 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:15:23.583 DEBUG 22536 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 19:15:23.584 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:15:23.584 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 19:15:23.584 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 19:15:23.585 DEBUG 22536 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 19:15:23.659 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:15:23.660 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 19:15:23.661 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:15:23.662 DEBUG 22536 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:15:23.889 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 19:15:23.889 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:15:23.889 DEBUG 22536 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:15:23.889 DEBUG 22536 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:15:23.896 DEBUG 22536 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 19:15:23.896 DEBUG 22536 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 19:15:23.897 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:15:23.897 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:15:23.897 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:15:23.897 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 19:15:23.898 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 19:15:23.898 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 19:15:23.898 DEBUG 22536 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:15:23.899 DEBUG 22536 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 19:15:23.900  INFO 22536 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:15:23.900 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 19:15:23.910 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=17, TotalPages=1
2025-05-04 19:15:23.910 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:15:23.910 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.910 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.910 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.910 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.910 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:15:23.910 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:15:23.910 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.910 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.910 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.910 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.910 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:15:23.910 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.911 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:15:23.912 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:15:23.912 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.912 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.912 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.912 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.912 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:15:23.912 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:15:23.912 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.912 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.912 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.912 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.912 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:15:23.912 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:15:23.912 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.912 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.912 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.912 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.913 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:15:23.913 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:15:23.913 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.913 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.913 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.913 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.913 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:15:23.913 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 11
2025-05-04 19:15:23.913 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.913 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.913 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.913 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.913 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 11
2025-05-04 19:15:23.913 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 12
2025-05-04 19:15:23.913 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.913 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.913 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.913 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.914 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 12
2025-05-04 19:15:23.914 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 13
2025-05-04 19:15:23.914 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.914 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.914 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.914 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.914 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 13
2025-05-04 19:15:23.914 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 14
2025-05-04 19:15:23.914 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.914 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.914 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:15:23.914 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:15:23.914 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 14
2025-05-04 19:15:23.914 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 15
2025-05-04 19:15:23.914 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.915 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.915 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:15:23.915 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:15:23.915 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 15
2025-05-04 19:15:23.915 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 16
2025-05-04 19:15:23.915 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.915 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.915 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:15:23.915 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:15:23.915 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 16
2025-05-04 19:15:23.915 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 17
2025-05-04 19:15:23.916 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:15:23.916 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:15:23.916 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:15:23.916 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:15:23.916 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 17
2025-05-04 19:15:23.919 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:15:23.920 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:15:23.922 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:15:23.922 DEBUG 22536 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:15:23.926 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:15:23.927 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 19:15:23.928 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:15:23.929 DEBUG 22536 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:15:38.721 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 19:15:38.722 DEBUG 22536 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:15:38.728 DEBUG 22536 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:15:38.732 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 19:15:38.732 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 19:15:38.732 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 19:15:38.732 DEBUG 22536 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 19:15:38.763 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:15:38.763 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:15:38.767 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:15:38.767 DEBUG 22536 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:15:40.289 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 19:15:40.290 DEBUG 22536 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:15:40.295 DEBUG 22536 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:15:40.296 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 19:15:40.296 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 19:15:40.296 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 19:15:40.298 DEBUG 22536 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 19:15:40.314  INFO 22536 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 2 consumption records for userId: 18
2025-05-04 19:15:40.321  INFO 22536 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 19:15:40.321  INFO 22536 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 19:15:40.325  INFO 22536 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 2, Points Earned from DB: 53973
2025-05-04 19:15:40.325  INFO 22536 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 240152
2025-05-04 19:15:40.325  INFO 22536 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 19:15:40.326  INFO 22536 --- [http-nio-8090-exec-6] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 2 history items for page 0 (size 10) for userId: 18. Total items: 2
2025-05-04 19:15:40.327 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:15:40.327 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=2, list=[PointsHistoryDTO(id=2, userId=18, points=53973, type=earn, descripti (truncated)...]
2025-05-04 19:15:40.330 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:15:40.330 DEBUG 22536 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:15:41.123 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 19:15:41.124 DEBUG 22536 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:15:41.128 DEBUG 22536 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:15:41.129 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 19:15:41.130 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 19:15:41.130 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 19:15:41.131 DEBUG 22536 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 19:15:41.151 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:15:41.152 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:15:41.153 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:15:41.153 DEBUG 22536 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:15:41.844 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 19:15:41.845 DEBUG 22536 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:15:41.850 DEBUG 22536 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:15:41.851 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 19:15:41.851 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 19:15:41.851 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 19:15:41.851 DEBUG 22536 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 19:15:41.868 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:15:41.868 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:15:41.870 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:15:41.870 DEBUG 22536 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:16:08.949 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending
2025-05-04 19:16:08.950 DEBUG 22536 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:16:08.955 DEBUG 22536 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:16:08.956 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:16:08.956 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending
2025-05-04 19:16:08.956 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending", parameters={masked}
2025-05-04 19:16:08.957 DEBUG 22536 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:16:08.957  INFO 22536 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:16:08.957 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 19:16:08.971 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=17, TotalPages=2
2025-05-04 19:16:08.971 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:16:08.971 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:08.971 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:08.971 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:08.971 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:08.971 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:16:08.971 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:16:08.971 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:08.971 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:08.971 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:08.971 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:08.971 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:16:08.971 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:16:08.971 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:08.971 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:08.971 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:16:08.971 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:16:08.971 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:16:08.971 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:16:08.972 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:08.972 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:08.972 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:08.972 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:08.972 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:16:08.972 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:16:08.972 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:08.972 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:08.972 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:08.972 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:08.972 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:16:08.973 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:16:08.973 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:08.973 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:08.973 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:08.973 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:08.973 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:16:08.973 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:16:08.973 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:08.973 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:08.973 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:08.973 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:08.973 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:16:08.973 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:16:08.973 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:08.973 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:08.974 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:08.974 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:08.974 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:16:08.974 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:16:08.974 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:08.974 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:08.974 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:08.974 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:08.974 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:16:08.974 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:16:08.974 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:08.974 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:08.974 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:08.974 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:08.974 DEBUG 22536 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:16:08.978 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:16:08.978 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:16:08.980 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:16:08.980 DEBUG 22536 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:16:09.039 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 19:16:09.039 DEBUG 22536 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:16:09.045 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 19:16:09.045 DEBUG 22536 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:16:09.047 DEBUG 22536 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:16:09.048 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:16:09.048 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 19:16:09.048 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 19:16:09.049 DEBUG 22536 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 19:16:09.051 DEBUG 22536 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:16:09.051 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:16:09.052 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 19:16:09.052 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 19:16:09.052 DEBUG 22536 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 19:16:09.053 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:16:09.053 DEBUG 22536 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:16:09.059 DEBUG 22536 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:16:09.060 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:16:09.060 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:16:09.060 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 19:16:09.061 DEBUG 22536 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:16:09.062  INFO 22536 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:16:09.062 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 19:16:09.068 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=17, TotalPages=1
2025-05-04 19:16:09.068 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:16:09.068 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:09.068 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:09.069 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:09.069 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:09.070 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:16:09.070 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:16:09.070 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:09.070 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:09.070 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:09.070 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:09.070 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:16:09.070 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:16:09.070 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:09.070 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:09.070 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:16:09.070 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:16:09.070 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:16:09.070 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:16:09.070 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:09.070 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:09.070 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:09.071 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:09.071 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:16:09.071 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:16:09.071 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:09.071 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:09.071 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:09.071 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:09.071 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:16:09.071 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:16:09.071 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:09.071 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:09.072 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:09.072 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:09.072 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:16:09.072 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:16:09.072 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:09.072 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:09.072 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:09.072 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:09.072 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:16:09.072 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:16:09.072 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:09.072 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:09.072 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:09.072 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:09.073 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:16:09.073 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:16:09.073 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:09.073 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:09.073 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:09.073 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:09.073 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:16:09.073 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:16:09.073 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:09.073 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:09.073 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:09.074 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:09.074 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:16:09.074 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 11
2025-05-04 19:16:09.074 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:09.074 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:09.074 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:09.074 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:09.074 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 11
2025-05-04 19:16:09.074 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 12
2025-05-04 19:16:09.074 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:09.075 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:09.075 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:16:09.075 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:09.075 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:09.075 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 12
2025-05-04 19:16:09.075 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 13
2025-05-04 19:16:09.075 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:09.075 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 19:16:09.076 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:09.076 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:09.076 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:09.076 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 13
2025-05-04 19:16:09.076 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 14
2025-05-04 19:16:09.076 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:09.076 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:09.076 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:16:09.076 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:16:09.076 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 14
2025-05-04 19:16:09.076 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 15
2025-05-04 19:16:09.076 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:09.077 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:09.077 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:16:09.077 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:16:09.077 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:16:09.077 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 15
2025-05-04 19:16:09.077 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 16
2025-05-04 19:16:09.077 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:09.077 DEBUG 22536 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:16:09.077 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:09.077 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:16:09.077 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:16:09.077 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 16
2025-05-04 19:16:09.077 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 17
2025-05-04 19:16:09.078 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:09.078 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:09.078 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:09.078 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:09.078 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 17
2025-05-04 19:16:09.080 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:16:09.081 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:16:09.085 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:16:09.085 DEBUG 22536 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:16:09.104 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:16:09.105 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 19:16:09.106 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:16:09.106 DEBUG 22536 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:16:35.342 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?pageSize=1000&page=1
2025-05-04 19:16:35.343 DEBUG 22536 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:16:35.347 DEBUG 22536 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:16:35.348 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?pageSize=1000&page=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:16:35.348 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?pageSize=1000&page=1
2025-05-04 19:16:35.348 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?pageSize=1000&page=1", parameters={masked}
2025-05-04 19:16:35.348 DEBUG 22536 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-04 19:16:35.373 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:16:35.374 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=21, list=[{roomNumber=209, lastCleanTime=2025-05-02T18:43:33, notes=, needCle (truncated)...]
2025-05-04 19:16:35.375 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:16:35.375 DEBUG 22536 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:16:37.875 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?pageSize=1000&page=1
2025-05-04 19:16:37.877 DEBUG 22536 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:16:37.881 DEBUG 22536 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:16:37.882 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?pageSize=1000&page=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:16:37.882 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?pageSize=1000&page=1
2025-05-04 19:16:37.883 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?pageSize=1000&page=1", parameters={masked}
2025-05-04 19:16:37.883 DEBUG 22536 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-04 19:16:37.901 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:16:37.902 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=21, list=[{roomNumber=209, lastCleanTime=2025-05-02T18:43:33, notes=, needCle (truncated)...]
2025-05-04 19:16:37.903 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:16:37.903 DEBUG 22536 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:16:40.216 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?pageSize=1000&page=1&floor=2
2025-05-04 19:16:40.217 DEBUG 22536 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:16:40.222 DEBUG 22536 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:16:40.223 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?pageSize=1000&page=1&floor=2] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:16:40.223 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?pageSize=1000&page=1&floor=2
2025-05-04 19:16:40.224 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?pageSize=1000&page=1&floor=2", parameters={masked}
2025-05-04 19:16:40.224 DEBUG 22536 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-04 19:16:40.248 ERROR 22536 --- [http-nio-8090-exec-7] o.h.hql.internal.ast.ErrorTracker        :  Invalid path: 'generatedAlias1.floor'
2025-05-04 19:16:40.256 ERROR 22536 --- [http-nio-8090-exec-7] o.h.hql.internal.ast.ErrorTracker        :  Invalid path: 'generatedAlias1.floor'

org.hibernate.hql.internal.ast.InvalidPathException: Invalid path: 'generatedAlias1.floor'
	at org.hibernate.hql.internal.ast.util.LiteralProcessor.lookupConstant(LiteralProcessor.java:111) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.tree.DotNode.resolve(DotNode.java:218) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:1066) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1319) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4797) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4261) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at com.hotel.service.impl.RoomServiceImpl.getRoomsWithFilters(RoomServiceImpl.java:110) ~[classes/:na]
	at com.hotel.service.impl.RoomServiceImpl$$FastClassBySpringCGLIB$$9ee3f1cc.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.RoomServiceImpl$$EnhancerBySpringCGLIB$$81f9b1a8.getRoomsWithFilters(<generated>) ~[classes/:na]
	at com.hotel.controller.AdminRoomController.getAllRooms(AdminRoomController.java:51) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-04 19:16:40.258 ERROR 22536 --- [http-nio-8090-exec-7] o.h.hql.internal.ast.ErrorTracker        : <AST>:0:0: unexpected end of subtree
2025-05-04 19:16:40.260 ERROR 22536 --- [http-nio-8090-exec-7] o.h.hql.internal.ast.ErrorTracker        : <AST>:0:0: unexpected end of subtree

antlr.NoViableAltException: unexpected end of subtree
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4879) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4264) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at com.hotel.service.impl.RoomServiceImpl.getRoomsWithFilters(RoomServiceImpl.java:110) ~[classes/:na]
	at com.hotel.service.impl.RoomServiceImpl$$FastClassBySpringCGLIB$$9ee3f1cc.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.RoomServiceImpl$$EnhancerBySpringCGLIB$$81f9b1a8.getRoomsWithFilters(<generated>) ~[classes/:na]
	at com.hotel.controller.AdminRoomController.getAllRooms(AdminRoomController.java:51) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-04 19:16:40.262 ERROR 22536 --- [http-nio-8090-exec-7] o.h.hql.internal.ast.ErrorTracker        :  left-hand operand of a binary operator was null
2025-05-04 19:16:40.265 ERROR 22536 --- [http-nio-8090-exec-7] o.h.hql.internal.ast.ErrorTracker        :  left-hand operand of a binary operator was null

antlr.SemanticException: left-hand operand of a binary operator was null
	at org.hibernate.hql.internal.ast.tree.BinaryLogicOperatorNode.initialize(BinaryLogicOperatorNode.java:41) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.prepareLogicOperator(HqlSqlWalker.java:1489) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4737) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at com.hotel.service.impl.RoomServiceImpl.getRoomsWithFilters(RoomServiceImpl.java:110) ~[classes/:na]
	at com.hotel.service.impl.RoomServiceImpl$$FastClassBySpringCGLIB$$9ee3f1cc.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.RoomServiceImpl$$EnhancerBySpringCGLIB$$81f9b1a8.getRoomsWithFilters(<generated>) ~[classes/:na]
	at com.hotel.controller.AdminRoomController.getAllRooms(AdminRoomController.java:51) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-04 19:16:40.291 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:16:40.291 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=500, success=false, message=获取房间列表失败: org.hibernate.hql.internal.ast.QuerySyntaxException: Inv (truncated)...]
2025-05-04 19:16:40.293 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 19:16:40.293 DEBUG 22536 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:16:40.923 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?pageSize=1000&page=1&floor=3
2025-05-04 19:16:40.923 DEBUG 22536 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:16:40.928 DEBUG 22536 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:16:40.928 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?pageSize=1000&page=1&floor=3] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:16:40.929 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?pageSize=1000&page=1&floor=3
2025-05-04 19:16:40.929 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?pageSize=1000&page=1&floor=3", parameters={masked}
2025-05-04 19:16:40.929 DEBUG 22536 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-04 19:16:40.933 ERROR 22536 --- [http-nio-8090-exec-6] o.h.hql.internal.ast.ErrorTracker        :  Invalid path: 'generatedAlias1.floor'
2025-05-04 19:16:40.934 ERROR 22536 --- [http-nio-8090-exec-6] o.h.hql.internal.ast.ErrorTracker        :  Invalid path: 'generatedAlias1.floor'

org.hibernate.hql.internal.ast.InvalidPathException: Invalid path: 'generatedAlias1.floor'
	at org.hibernate.hql.internal.ast.util.LiteralProcessor.lookupConstant(LiteralProcessor.java:111) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.tree.DotNode.resolve(DotNode.java:218) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:1066) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1319) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4797) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4261) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at com.hotel.service.impl.RoomServiceImpl.getRoomsWithFilters(RoomServiceImpl.java:110) ~[classes/:na]
	at com.hotel.service.impl.RoomServiceImpl$$FastClassBySpringCGLIB$$9ee3f1cc.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.RoomServiceImpl$$EnhancerBySpringCGLIB$$81f9b1a8.getRoomsWithFilters(<generated>) ~[classes/:na]
	at com.hotel.controller.AdminRoomController.getAllRooms(AdminRoomController.java:51) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-04 19:16:40.936 ERROR 22536 --- [http-nio-8090-exec-6] o.h.hql.internal.ast.ErrorTracker        : <AST>:0:0: unexpected end of subtree
2025-05-04 19:16:40.937 ERROR 22536 --- [http-nio-8090-exec-6] o.h.hql.internal.ast.ErrorTracker        : <AST>:0:0: unexpected end of subtree

antlr.NoViableAltException: unexpected end of subtree
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4879) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4264) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at com.hotel.service.impl.RoomServiceImpl.getRoomsWithFilters(RoomServiceImpl.java:110) ~[classes/:na]
	at com.hotel.service.impl.RoomServiceImpl$$FastClassBySpringCGLIB$$9ee3f1cc.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.RoomServiceImpl$$EnhancerBySpringCGLIB$$81f9b1a8.getRoomsWithFilters(<generated>) ~[classes/:na]
	at com.hotel.controller.AdminRoomController.getAllRooms(AdminRoomController.java:51) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-04 19:16:40.939 ERROR 22536 --- [http-nio-8090-exec-6] o.h.hql.internal.ast.ErrorTracker        :  left-hand operand of a binary operator was null
2025-05-04 19:16:40.942 ERROR 22536 --- [http-nio-8090-exec-6] o.h.hql.internal.ast.ErrorTracker        :  left-hand operand of a binary operator was null

antlr.SemanticException: left-hand operand of a binary operator was null
	at org.hibernate.hql.internal.ast.tree.BinaryLogicOperatorNode.initialize(BinaryLogicOperatorNode.java:41) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.prepareLogicOperator(HqlSqlWalker.java:1489) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4737) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at com.hotel.service.impl.RoomServiceImpl.getRoomsWithFilters(RoomServiceImpl.java:110) ~[classes/:na]
	at com.hotel.service.impl.RoomServiceImpl$$FastClassBySpringCGLIB$$9ee3f1cc.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.RoomServiceImpl$$EnhancerBySpringCGLIB$$81f9b1a8.getRoomsWithFilters(<generated>) ~[classes/:na]
	at com.hotel.controller.AdminRoomController.getAllRooms(AdminRoomController.java:51) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-04 19:16:40.948 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:16:40.948 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=500, success=false, message=获取房间列表失败: org.hibernate.hql.internal.ast.QuerySyntaxException: Inv (truncated)...]
2025-05-04 19:16:40.949 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 19:16:40.950 DEBUG 22536 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:16:41.446 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?pageSize=1000&page=1&floor=4
2025-05-04 19:16:41.446 DEBUG 22536 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:16:41.452 DEBUG 22536 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:16:41.452 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?pageSize=1000&page=1&floor=4] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:16:41.453 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?pageSize=1000&page=1&floor=4
2025-05-04 19:16:41.453 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?pageSize=1000&page=1&floor=4", parameters={masked}
2025-05-04 19:16:41.453 DEBUG 22536 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-04 19:16:41.456 ERROR 22536 --- [http-nio-8090-exec-9] o.h.hql.internal.ast.ErrorTracker        :  Invalid path: 'generatedAlias1.floor'
2025-05-04 19:16:41.457 ERROR 22536 --- [http-nio-8090-exec-9] o.h.hql.internal.ast.ErrorTracker        :  Invalid path: 'generatedAlias1.floor'

org.hibernate.hql.internal.ast.InvalidPathException: Invalid path: 'generatedAlias1.floor'
	at org.hibernate.hql.internal.ast.util.LiteralProcessor.lookupConstant(LiteralProcessor.java:111) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.tree.DotNode.resolve(DotNode.java:218) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:1066) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1319) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4797) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4261) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at com.hotel.service.impl.RoomServiceImpl.getRoomsWithFilters(RoomServiceImpl.java:110) ~[classes/:na]
	at com.hotel.service.impl.RoomServiceImpl$$FastClassBySpringCGLIB$$9ee3f1cc.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.RoomServiceImpl$$EnhancerBySpringCGLIB$$81f9b1a8.getRoomsWithFilters(<generated>) ~[classes/:na]
	at com.hotel.controller.AdminRoomController.getAllRooms(AdminRoomController.java:51) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-04 19:16:41.461 ERROR 22536 --- [http-nio-8090-exec-9] o.h.hql.internal.ast.ErrorTracker        : <AST>:0:0: unexpected end of subtree
2025-05-04 19:16:41.462 ERROR 22536 --- [http-nio-8090-exec-9] o.h.hql.internal.ast.ErrorTracker        : <AST>:0:0: unexpected end of subtree

antlr.NoViableAltException: unexpected end of subtree
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4879) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4264) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at com.hotel.service.impl.RoomServiceImpl.getRoomsWithFilters(RoomServiceImpl.java:110) ~[classes/:na]
	at com.hotel.service.impl.RoomServiceImpl$$FastClassBySpringCGLIB$$9ee3f1cc.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.RoomServiceImpl$$EnhancerBySpringCGLIB$$81f9b1a8.getRoomsWithFilters(<generated>) ~[classes/:na]
	at com.hotel.controller.AdminRoomController.getAllRooms(AdminRoomController.java:51) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-04 19:16:41.463 ERROR 22536 --- [http-nio-8090-exec-9] o.h.hql.internal.ast.ErrorTracker        :  left-hand operand of a binary operator was null
2025-05-04 19:16:41.464 ERROR 22536 --- [http-nio-8090-exec-9] o.h.hql.internal.ast.ErrorTracker        :  left-hand operand of a binary operator was null

antlr.SemanticException: left-hand operand of a binary operator was null
	at org.hibernate.hql.internal.ast.tree.BinaryLogicOperatorNode.initialize(BinaryLogicOperatorNode.java:41) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.prepareLogicOperator(HqlSqlWalker.java:1489) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4737) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at com.hotel.service.impl.RoomServiceImpl.getRoomsWithFilters(RoomServiceImpl.java:110) ~[classes/:na]
	at com.hotel.service.impl.RoomServiceImpl$$FastClassBySpringCGLIB$$9ee3f1cc.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.RoomServiceImpl$$EnhancerBySpringCGLIB$$81f9b1a8.getRoomsWithFilters(<generated>) ~[classes/:na]
	at com.hotel.controller.AdminRoomController.getAllRooms(AdminRoomController.java:51) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-04 19:16:41.469 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:16:41.470 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=500, success=false, message=获取房间列表失败: org.hibernate.hql.internal.ast.QuerySyntaxException: Inv (truncated)...]
2025-05-04 19:16:41.471 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 19:16:41.471 DEBUG 22536 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:16:41.815 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?pageSize=1000&page=1&floor=5
2025-05-04 19:16:41.816 DEBUG 22536 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:16:41.820 DEBUG 22536 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:16:41.821 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?pageSize=1000&page=1&floor=5] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:16:41.821 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?pageSize=1000&page=1&floor=5
2025-05-04 19:16:41.821 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?pageSize=1000&page=1&floor=5", parameters={masked}
2025-05-04 19:16:41.822 DEBUG 22536 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-04 19:16:41.825 ERROR 22536 --- [http-nio-8090-exec-1] o.h.hql.internal.ast.ErrorTracker        :  Invalid path: 'generatedAlias1.floor'
2025-05-04 19:16:41.827 ERROR 22536 --- [http-nio-8090-exec-1] o.h.hql.internal.ast.ErrorTracker        :  Invalid path: 'generatedAlias1.floor'

org.hibernate.hql.internal.ast.InvalidPathException: Invalid path: 'generatedAlias1.floor'
	at org.hibernate.hql.internal.ast.util.LiteralProcessor.lookupConstant(LiteralProcessor.java:111) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.tree.DotNode.resolve(DotNode.java:218) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:1066) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1319) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4797) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4261) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at com.hotel.service.impl.RoomServiceImpl.getRoomsWithFilters(RoomServiceImpl.java:110) ~[classes/:na]
	at com.hotel.service.impl.RoomServiceImpl$$FastClassBySpringCGLIB$$9ee3f1cc.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.RoomServiceImpl$$EnhancerBySpringCGLIB$$81f9b1a8.getRoomsWithFilters(<generated>) ~[classes/:na]
	at com.hotel.controller.AdminRoomController.getAllRooms(AdminRoomController.java:51) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-04 19:16:41.829 ERROR 22536 --- [http-nio-8090-exec-1] o.h.hql.internal.ast.ErrorTracker        : <AST>:0:0: unexpected end of subtree
2025-05-04 19:16:41.830 ERROR 22536 --- [http-nio-8090-exec-1] o.h.hql.internal.ast.ErrorTracker        : <AST>:0:0: unexpected end of subtree

antlr.NoViableAltException: unexpected end of subtree
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4879) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4264) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at com.hotel.service.impl.RoomServiceImpl.getRoomsWithFilters(RoomServiceImpl.java:110) ~[classes/:na]
	at com.hotel.service.impl.RoomServiceImpl$$FastClassBySpringCGLIB$$9ee3f1cc.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.RoomServiceImpl$$EnhancerBySpringCGLIB$$81f9b1a8.getRoomsWithFilters(<generated>) ~[classes/:na]
	at com.hotel.controller.AdminRoomController.getAllRooms(AdminRoomController.java:51) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-04 19:16:41.832 ERROR 22536 --- [http-nio-8090-exec-1] o.h.hql.internal.ast.ErrorTracker        :  left-hand operand of a binary operator was null
2025-05-04 19:16:41.833 ERROR 22536 --- [http-nio-8090-exec-1] o.h.hql.internal.ast.ErrorTracker        :  left-hand operand of a binary operator was null

antlr.SemanticException: left-hand operand of a binary operator was null
	at org.hibernate.hql.internal.ast.tree.BinaryLogicOperatorNode.initialize(BinaryLogicOperatorNode.java:41) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.prepareLogicOperator(HqlSqlWalker.java:1489) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4737) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at com.hotel.service.impl.RoomServiceImpl.getRoomsWithFilters(RoomServiceImpl.java:110) ~[classes/:na]
	at com.hotel.service.impl.RoomServiceImpl$$FastClassBySpringCGLIB$$9ee3f1cc.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.RoomServiceImpl$$EnhancerBySpringCGLIB$$81f9b1a8.getRoomsWithFilters(<generated>) ~[classes/:na]
	at com.hotel.controller.AdminRoomController.getAllRooms(AdminRoomController.java:51) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-04 19:16:41.837 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:16:41.838 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=500, success=false, message=获取房间列表失败: org.hibernate.hql.internal.ast.QuerySyntaxException: Inv (truncated)...]
2025-05-04 19:16:41.839 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 19:16:41.840 DEBUG 22536 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:16:42.315 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?pageSize=1000&page=1
2025-05-04 19:16:42.315 DEBUG 22536 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:16:42.319 DEBUG 22536 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:16:42.319 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?pageSize=1000&page=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:16:42.319 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?pageSize=1000&page=1
2025-05-04 19:16:42.320 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?pageSize=1000&page=1", parameters={masked}
2025-05-04 19:16:42.320 DEBUG 22536 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-04 19:16:42.335 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:16:42.336 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=21, list=[{roomNumber=209, lastCleanTime=2025-05-02T18:43:33, notes=, needCle (truncated)...]
2025-05-04 19:16:42.338 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:16:42.338 DEBUG 22536 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:16:45.023 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?pageSize=1000&page=1&floor=2
2025-05-04 19:16:45.023 DEBUG 22536 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:16:45.030 DEBUG 22536 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:16:45.030 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?pageSize=1000&page=1&floor=2] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:16:45.030 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?pageSize=1000&page=1&floor=2
2025-05-04 19:16:45.031 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?pageSize=1000&page=1&floor=2", parameters={masked}
2025-05-04 19:16:45.032 DEBUG 22536 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-04 19:16:45.036 ERROR 22536 --- [http-nio-8090-exec-3] o.h.hql.internal.ast.ErrorTracker        :  Invalid path: 'generatedAlias1.floor'
2025-05-04 19:16:45.036 ERROR 22536 --- [http-nio-8090-exec-3] o.h.hql.internal.ast.ErrorTracker        :  Invalid path: 'generatedAlias1.floor'

org.hibernate.hql.internal.ast.InvalidPathException: Invalid path: 'generatedAlias1.floor'
	at org.hibernate.hql.internal.ast.util.LiteralProcessor.lookupConstant(LiteralProcessor.java:111) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.tree.DotNode.resolve(DotNode.java:218) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:1066) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1319) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4797) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4261) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at com.hotel.service.impl.RoomServiceImpl.getRoomsWithFilters(RoomServiceImpl.java:110) ~[classes/:na]
	at com.hotel.service.impl.RoomServiceImpl$$FastClassBySpringCGLIB$$9ee3f1cc.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.RoomServiceImpl$$EnhancerBySpringCGLIB$$81f9b1a8.getRoomsWithFilters(<generated>) ~[classes/:na]
	at com.hotel.controller.AdminRoomController.getAllRooms(AdminRoomController.java:51) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-04 19:16:45.037 ERROR 22536 --- [http-nio-8090-exec-3] o.h.hql.internal.ast.ErrorTracker        : <AST>:0:0: unexpected end of subtree
2025-05-04 19:16:45.038 ERROR 22536 --- [http-nio-8090-exec-3] o.h.hql.internal.ast.ErrorTracker        : <AST>:0:0: unexpected end of subtree

antlr.NoViableAltException: unexpected end of subtree
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4879) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4264) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at com.hotel.service.impl.RoomServiceImpl.getRoomsWithFilters(RoomServiceImpl.java:110) ~[classes/:na]
	at com.hotel.service.impl.RoomServiceImpl$$FastClassBySpringCGLIB$$9ee3f1cc.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.RoomServiceImpl$$EnhancerBySpringCGLIB$$81f9b1a8.getRoomsWithFilters(<generated>) ~[classes/:na]
	at com.hotel.controller.AdminRoomController.getAllRooms(AdminRoomController.java:51) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-04 19:16:45.040 ERROR 22536 --- [http-nio-8090-exec-3] o.h.hql.internal.ast.ErrorTracker        :  left-hand operand of a binary operator was null
2025-05-04 19:16:45.041 ERROR 22536 --- [http-nio-8090-exec-3] o.h.hql.internal.ast.ErrorTracker        :  left-hand operand of a binary operator was null

antlr.SemanticException: left-hand operand of a binary operator was null
	at org.hibernate.hql.internal.ast.tree.BinaryLogicOperatorNode.initialize(BinaryLogicOperatorNode.java:41) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.prepareLogicOperator(HqlSqlWalker.java:1489) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4737) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at com.hotel.service.impl.RoomServiceImpl.getRoomsWithFilters(RoomServiceImpl.java:110) ~[classes/:na]
	at com.hotel.service.impl.RoomServiceImpl$$FastClassBySpringCGLIB$$9ee3f1cc.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.RoomServiceImpl$$EnhancerBySpringCGLIB$$81f9b1a8.getRoomsWithFilters(<generated>) ~[classes/:na]
	at com.hotel.controller.AdminRoomController.getAllRooms(AdminRoomController.java:51) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-04 19:16:45.046 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:16:45.046 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=500, success=false, message=获取房间列表失败: org.hibernate.hql.internal.ast.QuerySyntaxException: Inv (truncated)...]
2025-05-04 19:16:45.048 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 19:16:45.048 DEBUG 22536 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:16:45.551 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?pageSize=1000&page=1&floor=3
2025-05-04 19:16:45.551 DEBUG 22536 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:16:45.557 DEBUG 22536 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:16:45.557 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?pageSize=1000&page=1&floor=3] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:16:45.557 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?pageSize=1000&page=1&floor=3
2025-05-04 19:16:45.558 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?pageSize=1000&page=1&floor=3", parameters={masked}
2025-05-04 19:16:45.558 DEBUG 22536 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-04 19:16:45.562 ERROR 22536 --- [http-nio-8090-exec-2] o.h.hql.internal.ast.ErrorTracker        :  Invalid path: 'generatedAlias1.floor'
2025-05-04 19:16:45.564 ERROR 22536 --- [http-nio-8090-exec-2] o.h.hql.internal.ast.ErrorTracker        :  Invalid path: 'generatedAlias1.floor'

org.hibernate.hql.internal.ast.InvalidPathException: Invalid path: 'generatedAlias1.floor'
	at org.hibernate.hql.internal.ast.util.LiteralProcessor.lookupConstant(LiteralProcessor.java:111) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.tree.DotNode.resolve(DotNode.java:218) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.resolve(HqlSqlWalker.java:1066) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.expr(HqlSqlBaseWalker.java:1319) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4797) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4261) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at com.hotel.service.impl.RoomServiceImpl.getRoomsWithFilters(RoomServiceImpl.java:110) ~[classes/:na]
	at com.hotel.service.impl.RoomServiceImpl$$FastClassBySpringCGLIB$$9ee3f1cc.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.RoomServiceImpl$$EnhancerBySpringCGLIB$$81f9b1a8.getRoomsWithFilters(<generated>) ~[classes/:na]
	at com.hotel.controller.AdminRoomController.getAllRooms(AdminRoomController.java:51) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-04 19:16:45.565 ERROR 22536 --- [http-nio-8090-exec-2] o.h.hql.internal.ast.ErrorTracker        : <AST>:0:0: unexpected end of subtree
2025-05-04 19:16:45.567 ERROR 22536 --- [http-nio-8090-exec-2] o.h.hql.internal.ast.ErrorTracker        : <AST>:0:0: unexpected end of subtree

antlr.NoViableAltException: unexpected end of subtree
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.exprOrSubquery(HqlSqlBaseWalker.java:4879) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4264) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at com.hotel.service.impl.RoomServiceImpl.getRoomsWithFilters(RoomServiceImpl.java:110) ~[classes/:na]
	at com.hotel.service.impl.RoomServiceImpl$$FastClassBySpringCGLIB$$9ee3f1cc.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.RoomServiceImpl$$EnhancerBySpringCGLIB$$81f9b1a8.getRoomsWithFilters(<generated>) ~[classes/:na]
	at com.hotel.controller.AdminRoomController.getAllRooms(AdminRoomController.java:51) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-04 19:16:45.569 ERROR 22536 --- [http-nio-8090-exec-2] o.h.hql.internal.ast.ErrorTracker        :  left-hand operand of a binary operator was null
2025-05-04 19:16:45.571 ERROR 22536 --- [http-nio-8090-exec-2] o.h.hql.internal.ast.ErrorTracker        :  left-hand operand of a binary operator was null

antlr.SemanticException: left-hand operand of a binary operator was null
	at org.hibernate.hql.internal.ast.tree.BinaryLogicOperatorNode.initialize(BinaryLogicOperatorNode.java:41) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.HqlSqlWalker.prepareLogicOperator(HqlSqlWalker.java:1489) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.comparisonExpr(HqlSqlBaseWalker.java:4737) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.logicalExpr(HqlSqlBaseWalker.java:2180) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.whereClause(HqlSqlBaseWalker.java:841) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.query(HqlSqlBaseWalker.java:635) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.selectStatement(HqlSqlBaseWalker.java:339) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.antlr.HqlSqlBaseWalker.statement(HqlSqlBaseWalker.java:287) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.analyze(QueryTranslatorImpl.java:276) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.doCompile(QueryTranslatorImpl.java:192) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.compile(QueryTranslatorImpl.java:144) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:113) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.<init>(HQLQueryPlan.java:73) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.QueryPlanCache.getHQLQueryPlan(QueryPlanCache.java:162) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.getQueryPlan(AbstractSharedSessionContract.java:636) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.CriteriaQueryImpl$1.buildCompiledQuery(CriteriaQueryImpl.java:314) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.criteria.internal.compile.CriteriaCompiler.compile(CriteriaCompiler.java:170) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:774) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:114) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy128.createQuery(Unknown Source) ~[na:na]
	at com.hotel.service.impl.RoomServiceImpl.getRoomsWithFilters(RoomServiceImpl.java:110) ~[classes/:na]
	at com.hotel.service.impl.RoomServiceImpl$$FastClassBySpringCGLIB$$9ee3f1cc.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.RoomServiceImpl$$EnhancerBySpringCGLIB$$81f9b1a8.getRoomsWithFilters(<generated>) ~[classes/:na]
	at com.hotel.controller.AdminRoomController.getAllRooms(AdminRoomController.java:51) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-04 19:16:45.577 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:16:45.577 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=500, success=false, message=获取房间列表失败: org.hibernate.hql.internal.ast.QuerySyntaxException: Inv (truncated)...]
2025-05-04 19:16:45.579 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 19:16:45.580 DEBUG 22536 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:16:46.348 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?pageSize=1000&page=1
2025-05-04 19:16:46.348 DEBUG 22536 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:16:46.352 DEBUG 22536 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:16:46.353 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?pageSize=1000&page=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:16:46.353 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?pageSize=1000&page=1
2025-05-04 19:16:46.353 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?pageSize=1000&page=1", parameters={masked}
2025-05-04 19:16:46.353 DEBUG 22536 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-04 19:16:46.368 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:16:46.368 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=21, list=[{roomNumber=209, lastCleanTime=2025-05-02T18:43:33, notes=, needCle (truncated)...]
2025-05-04 19:16:46.369 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:16:46.369 DEBUG 22536 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:16:54.505 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 19:16:54.506 DEBUG 22536 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:16:54.510 DEBUG 22536 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:16:54.511 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:16:54.511 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 19:16:54.511 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 19:16:54.512 DEBUG 22536 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:16:54.513  INFO 22536 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:16:54.514 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 19:16:54.525 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=17, TotalPages=2
2025-05-04 19:16:54.525 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:16:54.525 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.525 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.525 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.525 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.525 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:16:54.526 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:16:54.526 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.526 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.526 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.526 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.527 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:16:54.527 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:16:54.527 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.527 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.527 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:16:54.527 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:16:54.527 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:16:54.527 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:16:54.527 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.527 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.527 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.528 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.528 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:16:54.528 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:16:54.528 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.528 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.528 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.529 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.529 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:16:54.529 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:16:54.529 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.529 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.529 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.529 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.529 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:16:54.529 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:16:54.529 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.529 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.529 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.529 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.529 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:16:54.530 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:16:54.530 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.530 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.530 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.530 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.530 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:16:54.530 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:16:54.530 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.530 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.530 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.530 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.530 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:16:54.531 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:16:54.531 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.531 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.531 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.531 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.531 DEBUG 22536 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:16:54.534 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:16:54.534 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:16:54.535 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:16:54.535 DEBUG 22536 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:16:54.692 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 19:16:54.692 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 19:16:54.692 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:16:54.692 DEBUG 22536 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:16:54.693 DEBUG 22536 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:16:54.693 DEBUG 22536 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:16:54.697 DEBUG 22536 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:16:54.697 DEBUG 22536 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:16:54.698 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:16:54.698 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:16:54.698 DEBUG 22536 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:16:54.698 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 19:16:54.698 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:16:54.699 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 19:16:54.699 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 19:16:54.699 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:16:54.699 DEBUG 22536 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 19:16:54.699 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 19:16:54.699 DEBUG 22536 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:16:54.699 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 19:16:54.700 DEBUG 22536 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 19:16:54.700  INFO 22536 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:16:54.701 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 19:16:54.707 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=17, TotalPages=1
2025-05-04 19:16:54.707 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:16:54.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:16:54.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:16:54.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:16:54.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:16:54.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:16:54.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:16:54.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:16:54.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:16:54.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.709 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.709 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:16:54.709 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:16:54.709 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.709 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.709 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.709 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.709 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:16:54.709 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:16:54.709 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.709 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.709 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.709 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.709 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:16:54.709 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:16:54.709 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.709 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.709 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.709 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.710 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:16:54.710 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:16:54.710 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.710 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.710 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.710 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.710 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:16:54.710 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:16:54.710 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.710 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.710 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.710 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.710 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:16:54.710 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:16:54.710 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.710 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.710 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.711 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.711 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:16:54.711 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 11
2025-05-04 19:16:54.711 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.711 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.711 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.711 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.711 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 11
2025-05-04 19:16:54.711 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 12
2025-05-04 19:16:54.711 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.711 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.711 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.711 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.711 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 12
2025-05-04 19:16:54.711 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 13
2025-05-04 19:16:54.711 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.711 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.711 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.711 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.712 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 13
2025-05-04 19:16:54.712 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 14
2025-05-04 19:16:54.712 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.712 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.712 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:16:54.712 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:16:54.712 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 14
2025-05-04 19:16:54.712 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 15
2025-05-04 19:16:54.712 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.712 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.712 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:16:54.712 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:16:54.712 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 15
2025-05-04 19:16:54.712 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 16
2025-05-04 19:16:54.712 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.712 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.712 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:16:54.713 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:16:54.714 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 16
2025-05-04 19:16:54.714 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 17
2025-05-04 19:16:54.714 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:16:54.714 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:16:54.714 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:16:54.714 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:16:54.715 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 17
2025-05-04 19:16:54.718 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:16:54.718 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:16:54.721 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:16:54.722 DEBUG 22536 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:16:54.728 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:16:54.728 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 19:16:54.729 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:16:54.730 DEBUG 22536 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:16:54.784 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:16:54.785 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 19:16:54.786 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:16:54.786 DEBUG 22536 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:19:19.458 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 19:19:19.459 DEBUG 22536 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:19:19.464 DEBUG 22536 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:19:19.464 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:19:19.464 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 19:19:19.464 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 19:19:19.464 DEBUG 22536 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:19:19.465  INFO 22536 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:19:19.465 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 19:19:19.474 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=17, TotalPages=2
2025-05-04 19:19:19.475 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:19:19.475 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.476 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.476 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.476 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.476 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:19:19.476 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:19:19.476 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.477 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.477 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.477 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.477 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:19:19.477 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:19:19.477 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.477 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.477 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:19:19.477 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:19:19.477 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:19:19.477 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:19:19.477 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.477 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.477 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.477 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.477 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:19:19.477 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:19:19.478 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.478 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.478 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.478 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.478 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:19:19.478 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:19:19.478 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.478 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.478 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.478 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.478 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:19:19.478 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:19:19.479 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.479 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.479 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.479 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.479 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:19:19.479 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:19:19.479 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.479 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.479 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.479 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.479 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:19:19.479 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:19:19.479 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.479 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.479 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.479 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.479 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:19:19.479 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:19:19.480 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.480 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.480 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.480 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.480 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:19:19.482 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:19:19.483 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:19:19.485 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:19:19.485 DEBUG 22536 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:19:19.702 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 19:19:19.702 DEBUG 22536 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:19:19.707 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:19:19.708 DEBUG 22536 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:19:19.708 DEBUG 22536 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:19:19.708 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 19:19:19.708 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:19:19.708 DEBUG 22536 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:19:19.708 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 19:19:19.708 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 19:19:19.709 DEBUG 22536 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 19:19:19.713 DEBUG 22536 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:19:19.714 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:19:19.714 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:19:19.714 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 19:19:19.715 DEBUG 22536 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:19:19.716 DEBUG 22536 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:19:19.716  INFO 22536 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:19:19.716 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 19:19:19.717 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:19:19.717 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 19:19:19.717 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 19:19:19.717 DEBUG 22536 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 19:19:19.724 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=17, TotalPages=1
2025-05-04 19:19:19.724 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:19:19.724 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.724 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.724 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.724 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.725 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:19:19.725 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:19:19.725 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.725 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.725 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.725 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.725 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:19:19.726 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:19:19.726 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.726 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.726 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:19:19.726 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:19:19.726 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:19:19.726 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:19:19.726 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.726 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.726 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.726 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.726 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:19:19.726 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:19:19.726 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.727 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.727 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.727 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.727 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:19:19.727 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:19:19.727 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.727 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.727 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.727 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.727 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:19:19.727 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:19:19.727 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.727 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.727 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.727 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.727 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:19:19.727 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:19:19.728 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.728 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.728 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.728 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.728 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:19:19.728 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:19:19.728 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.728 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.728 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.728 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.728 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:19:19.728 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:19:19.728 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.728 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.728 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.728 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.728 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:19:19.729 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 11
2025-05-04 19:19:19.729 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.729 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.729 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.729 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.729 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 11
2025-05-04 19:19:19.729 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 12
2025-05-04 19:19:19.729 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.729 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.729 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.729 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.729 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 12
2025-05-04 19:19:19.729 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 13
2025-05-04 19:19:19.729 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.730 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.730 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.730 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.730 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 13
2025-05-04 19:19:19.730 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 14
2025-05-04 19:19:19.730 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.730 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.730 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:19:19.730 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:19:19.730 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 14
2025-05-04 19:19:19.730 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 15
2025-05-04 19:19:19.730 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.731 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.731 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:19:19.731 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:19:19.731 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 15
2025-05-04 19:19:19.731 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 16
2025-05-04 19:19:19.731 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.731 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.731 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:19:19.731 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:19:19.731 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 16
2025-05-04 19:19:19.731 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 17
2025-05-04 19:19:19.731 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.731 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.731 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.731 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.732 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 17
2025-05-04 19:19:19.734 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:19:19.734 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:19:19.736 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:19:19.737 DEBUG 22536 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:19:19.742 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:19:19.742 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 19:19:19.744 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:19:19.744 DEBUG 22536 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:19:19.774 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:19:19.774 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 19:19:19.776 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:19:19.776 DEBUG 22536 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:19:19.837 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 19:19:19.837 DEBUG 22536 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:19:19.842 DEBUG 22536 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 19:19:19.842 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:19:19.843 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 19:19:19.843 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 19:19:19.843 DEBUG 22536 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:19:19.844  INFO 22536 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:19:19.844 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 19:19:19.854 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=17, TotalPages=2
2025-05-04 19:19:19.854 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:19:19.854 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.854 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.854 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.854 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.854 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:19:19.854 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:19:19.854 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.854 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.854 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.854 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.854 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:19:19.854 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:19:19.854 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.855 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.855 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:19:19.855 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:19:19.855 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:19:19.855 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:19:19.855 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.855 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.855 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.855 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.856 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:19:19.856 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:19:19.856 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.856 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.856 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.856 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.856 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:19:19.856 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:19:19.856 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.856 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.856 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.856 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.856 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:19:19.857 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:19:19.857 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.857 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.857 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.857 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.857 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:19:19.857 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:19:19.857 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.857 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.857 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.857 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.857 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:19:19.857 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:19:19.857 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.857 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.858 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.858 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.858 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:19:19.858 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:19:19.858 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:19.858 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:19.858 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:19.858 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:19.858 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:19:19.860 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:19:19.861 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:19:19.862 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:19:19.863 DEBUG 22536 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:19:20.041 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 19:19:20.041 DEBUG 22536 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:19:20.049 DEBUG 22536 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 19:19:20.049 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:19:20.049 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 19:19:20.050 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 19:19:20.050 DEBUG 22536 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 19:19:20.107 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:19:20.108 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 19:19:20.109 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:19:20.109 DEBUG 22536 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:19:20.348 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 19:19:20.348 DEBUG 22536 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:19:20.351 DEBUG 22536 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 19:19:20.352 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:19:20.352 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 19:19:20.352 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 19:19:20.352 DEBUG 22536 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 19:19:20.364 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:19:20.364 DEBUG 22536 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:19:20.368 DEBUG 22536 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 19:19:20.369 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:19:20.369 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:19:20.369 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 19:19:20.369 DEBUG 22536 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:19:20.370  INFO 22536 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:19:20.370 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 19:19:20.370 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:19:20.371 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 19:19:20.371 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:19:20.372 DEBUG 22536 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:19:20.376 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=17, TotalPages=1
2025-05-04 19:19:20.376 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:19:20.376 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:20.376 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:20.376 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:20.376 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:20.376 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:19:20.376 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:19:20.376 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:20.376 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:19:20.377 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:19:20.378 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:20.378 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:20.378 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:20.378 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:20.378 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:19:20.378 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:19:20.378 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:20.378 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:20.378 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:20.378 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:20.378 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:19:20.378 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:19:20.378 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:20.378 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:20.378 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:20.379 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:20.379 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:19:20.379 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:19:20.379 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:20.379 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:20.379 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:20.379 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:20.379 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:19:20.379 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:19:20.379 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:20.379 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:20.379 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:20.380 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:20.380 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:19:20.380 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 11
2025-05-04 19:19:20.380 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:20.380 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:20.380 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:20.380 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:20.380 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 11
2025-05-04 19:19:20.380 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 12
2025-05-04 19:19:20.380 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:20.380 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:20.380 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:20.381 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:20.381 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 12
2025-05-04 19:19:20.381 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 13
2025-05-04 19:19:20.381 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:20.381 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:20.381 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:20.381 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:20.381 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 13
2025-05-04 19:19:20.381 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 14
2025-05-04 19:19:20.381 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:20.381 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:20.381 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:19:20.381 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:19:20.381 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 14
2025-05-04 19:19:20.381 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 15
2025-05-04 19:19:20.381 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:20.381 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:20.382 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:19:20.382 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:19:20.382 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 15
2025-05-04 19:19:20.382 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 16
2025-05-04 19:19:20.382 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:20.382 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:20.382 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:19:20.382 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:19:20.382 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 16
2025-05-04 19:19:20.382 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 17
2025-05-04 19:19:20.382 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:20.382 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:20.382 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:20.382 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:20.382 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 17
2025-05-04 19:19:20.387 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:19:20.387 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:19:20.388 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:19:20.389 DEBUG 22536 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:19:33.708 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 19:19:33.709 DEBUG 22536 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:19:33.714 DEBUG 22536 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:19:33.714 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:19:33.715 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 19:19:33.715 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 19:19:33.716 DEBUG 22536 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:19:33.717  INFO 22536 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:19:33.717 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 19:19:33.728 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=17, TotalPages=2
2025-05-04 19:19:33.728 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:19:33.728 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.728 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.728 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.728 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.728 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:19:33.728 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:19:33.728 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.728 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.728 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.728 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.728 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:19:33.728 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:19:33.728 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.729 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.729 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:19:33.729 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:19:33.729 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:19:33.729 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:19:33.729 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.729 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.729 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.729 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.729 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:19:33.729 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:19:33.729 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.729 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.729 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.729 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.729 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:19:33.729 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:19:33.729 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.729 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.730 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.730 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.730 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:19:33.730 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:19:33.730 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.730 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.730 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.731 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.731 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:19:33.731 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:19:33.731 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.731 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.731 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.731 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.731 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:19:33.731 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:19:33.731 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.731 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.731 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.731 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.731 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:19:33.731 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:19:33.732 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.732 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.732 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.733 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.733 DEBUG 22536 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:19:33.735 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:19:33.736 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:19:33.737 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:19:33.737 DEBUG 22536 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:19:33.933 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 19:19:33.933 DEBUG 22536 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:19:33.935 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 19:19:33.935 DEBUG 22536 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:19:33.937 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:19:33.937 DEBUG 22536 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:19:33.939 DEBUG 22536 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:19:33.940 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:19:33.940 DEBUG 22536 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:19:33.940 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 19:19:33.940 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 19:19:33.941 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:19:33.941 DEBUG 22536 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 19:19:33.941 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 19:19:33.941 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 19:19:33.941 DEBUG 22536 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 19:19:33.942 DEBUG 22536 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:19:33.942 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:19:33.943 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:19:33.943 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 19:19:33.944 DEBUG 22536 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:19:33.945  INFO 22536 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:19:33.946 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 19:19:33.954 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=17, TotalPages=1
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.955 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:19:33.956 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:19:33.957 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.957 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.957 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.957 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.957 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:19:33.957 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:19:33.957 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.957 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.957 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.957 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.957 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 11
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 11
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 12
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 12
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 13
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 13
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 14
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 14
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 15
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 15
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 16
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.958 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.959 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:19:33.959 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:19:33.959 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 16
2025-05-04 19:19:33.959 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 17
2025-05-04 19:19:33.959 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:19:33.959 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:19:33.959 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:19:33.959 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:19:33.959 DEBUG 22536 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 17
2025-05-04 19:19:33.962 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:19:33.962 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:19:33.964 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:19:33.964 DEBUG 22536 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:19:33.965 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:19:33.965 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 19:19:33.967 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:19:33.967 DEBUG 22536 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:19:34.015 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:19:34.015 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 19:19:34.016 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:19:34.017 DEBUG 22536 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:20:00.798 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 19:20:00.799 DEBUG 22536 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:20:00.803 DEBUG 22536 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:20:00.803 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 19:20:00.803 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 19:20:00.804 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 19:20:00.804 DEBUG 22536 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 19:20:00.821 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:20:00.821 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:20:00.822 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:20:00.823 DEBUG 22536 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:23:06.389 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 19:23:06.390 DEBUG 22536 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:23:06.396 DEBUG 22536 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:23:06.397 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:23:06.398 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 19:23:06.400 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 19:23:06.400 DEBUG 22536 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:23:06.402  INFO 22536 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:23:06.403 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 19:23:06.413 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=17, TotalPages=2
2025-05-04 19:23:06.413 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:23:06.414 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.414 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.414 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.414 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.414 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:23:06.414 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:23:06.414 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.414 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.414 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.414 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.415 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:23:06.415 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:23:06.415 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.415 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.415 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:23:06.415 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:23:06.415 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:23:06.415 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:23:06.416 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.416 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.416 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.416 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.416 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:23:06.416 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:23:06.416 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.416 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.416 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.417 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.417 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:23:06.417 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:23:06.417 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.417 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.417 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.417 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.417 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:23:06.417 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:23:06.417 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.417 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.417 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.417 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.417 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:23:06.417 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:23:06.417 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.417 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.417 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.418 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.418 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:23:06.418 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:23:06.418 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.418 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.418 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.418 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.418 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:23:06.418 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:23:06.418 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.418 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.418 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.418 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.418 DEBUG 22536 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:23:06.421 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:23:06.422 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:23:06.423 DEBUG 22536 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:23:06.424 DEBUG 22536 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:23:06.551 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 19:23:06.551 DEBUG 22536 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:23:06.556 DEBUG 22536 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 19:23:06.556 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:23:06.556 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 19:23:06.556 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 19:23:06.557 DEBUG 22536 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:23:06.557  INFO 22536 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:23:06.557 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 19:23:06.569 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=17, TotalPages=2
2025-05-04 19:23:06.570 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:23:06.570 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.570 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.570 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.570 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.570 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:23:06.570 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:23:06.570 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.570 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.570 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.570 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.571 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:23:06.571 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:23:06.571 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.571 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.571 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:23:06.571 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:23:06.572 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:23:06.573 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:23:06.573 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.573 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.573 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.573 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.573 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:23:06.573 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:23:06.573 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.573 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.573 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.573 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.573 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:23:06.574 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:23:06.574 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.574 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.574 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.574 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.574 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:23:06.574 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:23:06.574 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.574 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.574 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.574 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.574 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:23:06.574 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:23:06.574 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.574 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.575 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.575 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.575 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:23:06.575 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:23:06.575 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.575 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.575 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.575 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.575 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:23:06.575 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:23:06.575 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.575 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.575 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.575 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.575 DEBUG 22536 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:23:06.579 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:23:06.579 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:23:06.581 DEBUG 22536 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:23:06.582 DEBUG 22536 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:23:06.640 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 19:23:06.643 DEBUG 22536 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:23:06.649 DEBUG 22536 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:23:06.650 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:23:06.650 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 19:23:06.650 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 19:23:06.650 DEBUG 22536 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 19:23:06.651 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 19:23:06.651 DEBUG 22536 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:23:06.656 DEBUG 22536 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:23:06.656 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:23:06.657 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 19:23:06.657 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 19:23:06.657 DEBUG 22536 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 19:23:06.671 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:23:06.671 DEBUG 22536 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:23:06.677 DEBUG 22536 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:23:06.679 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:23:06.679 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:23:06.680 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 19:23:06.680 DEBUG 22536 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:23:06.681  INFO 22536 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:23:06.682 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 19:23:06.690 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=17, TotalPages=1
2025-05-04 19:23:06.691 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:23:06.691 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.691 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.691 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.691 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.691 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:23:06.691 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:23:06.691 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.691 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.691 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.691 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.691 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:23:06.691 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:23:06.691 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.691 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.691 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:23:06.691 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:23:06.691 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:23:06.691 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:23:06.691 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.692 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.692 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.692 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.692 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:23:06.692 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:23:06.692 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.692 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.692 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.692 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.692 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:23:06.692 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:23:06.692 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.692 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.692 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.692 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.692 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:23:06.692 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:23:06.693 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.693 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.693 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.693 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.693 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:23:06.693 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:23:06.693 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.693 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.693 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.693 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.693 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:23:06.693 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:23:06.695 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.695 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.695 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.695 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.696 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:23:06.696 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:23:06.696 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.697 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:23:06.698 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.698 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.698 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.698 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:23:06.698 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 11
2025-05-04 19:23:06.698 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.699 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.699 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.699 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 19:23:06.699 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.699 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 11
2025-05-04 19:23:06.699 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 12
2025-05-04 19:23:06.699 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.700 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.700 DEBUG 22536 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:23:06.700 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.700 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.700 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 12
2025-05-04 19:23:06.700 DEBUG 22536 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:23:06.700 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 13
2025-05-04 19:23:06.703 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.703 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.704 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.704 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.704 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 13
2025-05-04 19:23:06.704 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 14
2025-05-04 19:23:06.704 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.704 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.704 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:23:06.704 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:23:06.704 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 14
2025-05-04 19:23:06.704 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 15
2025-05-04 19:23:06.704 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.704 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.704 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:23:06.704 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:23:06.705 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 15
2025-05-04 19:23:06.706 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 16
2025-05-04 19:23:06.707 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.707 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.707 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:23:06.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:23:06.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 16
2025-05-04 19:23:06.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 17
2025-05-04 19:23:06.708 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:06.709 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:06.710 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:06.710 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:06.710 DEBUG 22536 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 17
2025-05-04 19:23:06.718 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:23:06.719 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:23:06.721 DEBUG 22536 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:23:06.721 DEBUG 22536 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:23:06.727 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:23:06.727 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 19:23:06.728 DEBUG 22536 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:23:06.728 DEBUG 22536 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:23:06.779 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 19:23:06.779 DEBUG 22536 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:23:06.785 DEBUG 22536 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 19:23:06.786 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:23:06.786 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 19:23:06.786 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 19:23:06.786 DEBUG 22536 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 19:23:06.851 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:23:06.852 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 19:23:06.853 DEBUG 22536 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:23:06.854 DEBUG 22536 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:23:07.098 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 19:23:07.098 DEBUG 22536 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:23:07.098 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:23:07.098 DEBUG 22536 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:23:07.105 DEBUG 22536 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 19:23:07.105 DEBUG 22536 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 19:23:07.105 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:23:07.105 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:23:07.106 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 19:23:07.106 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 19:23:07.106 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 19:23:07.106 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 19:23:07.107 DEBUG 22536 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 19:23:07.107 DEBUG 22536 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:23:07.108  INFO 22536 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:23:07.108 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 19:23:07.114 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=17, TotalPages=1
2025-05-04 19:23:07.114 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 19:23:07.114 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:07.114 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:07.114 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:07.114 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:07.114 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 19:23:07.114 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 19:23:07.114 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:07.114 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:07.115 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:07.116 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 19:23:07.116 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 19:23:07.116 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:07.116 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:07.116 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:07.116 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:07.116 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 19:23:07.116 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 19:23:07.116 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:07.116 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:07.116 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:07.117 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:07.117 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 19:23:07.117 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 19:23:07.117 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:07.117 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:07.117 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:07.117 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:07.117 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 19:23:07.117 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 19:23:07.117 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:07.117 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:07.117 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:07.117 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:07.117 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 19:23:07.117 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 11
2025-05-04 19:23:07.118 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:07.118 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:07.118 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:07.118 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:07.118 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 11
2025-05-04 19:23:07.118 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 12
2025-05-04 19:23:07.118 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:07.118 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:07.118 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:07.118 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:07.118 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 12
2025-05-04 19:23:07.118 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 13
2025-05-04 19:23:07.119 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:07.119 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:07.119 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:07.119 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:07.119 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 13
2025-05-04 19:23:07.119 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 14
2025-05-04 19:23:07.119 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:07.119 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:07.119 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:23:07.119 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:23:07.119 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 14
2025-05-04 19:23:07.119 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 15
2025-05-04 19:23:07.119 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:07.119 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:07.119 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:23:07.119 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:23:07.119 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 15
2025-05-04 19:23:07.119 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 16
2025-05-04 19:23:07.120 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:07.120 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:07.120 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 19:23:07.120 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 19:23:07.120 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 16
2025-05-04 19:23:07.120 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 17
2025-05-04 19:23:07.120 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 19:23:07.120 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 19:23:07.120 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 19:23:07.120 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 19:23:07.120 DEBUG 22536 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 17
2025-05-04 19:23:07.122 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:23:07.123 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 19:23:07.124 DEBUG 22536 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:23:07.125 DEBUG 22536 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:23:07.128 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:23:07.129 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 19:23:07.130 DEBUG 22536 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:23:07.130 DEBUG 22536 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:23:27.403 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 19:23:27.403 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 19:23:27.404 DEBUG 22536 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:23:27.404 DEBUG 22536 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:23:27.404 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 19:23:27.404 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 19:23:27.404 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 19:23:27.404 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 19:23:27.405 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 19:23:27.405 DEBUG 22536 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 19:23:27.406 DEBUG 22536 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:23:27.406 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 19:23:27.406 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 19:23:27.406 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 19:23:27.407 DEBUG 22536 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 19:23:27.416 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:23:27.417 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 19:23:27.419 DEBUG 22536 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:23:27.419 DEBUG 22536 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:23:27.440 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.web.util.NestedServletException: Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: 'void com.hotel.controller.RoomController$2.<init>(com.hotel.controller.RoomController, java.util.List)'
2025-05-04 19:23:27.441 DEBUG 22536 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:23:27.443 ERROR 22536 --- [http-nio-8090-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.NoSuchMethodError: 'void com.hotel.controller.RoomController$2.<init>(com.hotel.controller.RoomController, java.util.List)'] with root cause

java.lang.NoSuchMethodError: 'void com.hotel.controller.RoomController$2.<init>(com.hotel.controller.RoomController, java.util.List)'
	at com.hotel.controller.RoomController.getAllRoomTypes(RoomController.java:313) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2025-05-04 19:23:27.446 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-04 19:23:27.446 DEBUG 22536 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:23:27.446 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 19:23:27.447 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-04 19:23:27.447 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-04 19:23:27.447 DEBUG 22536 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 19:23:27.449 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:23:27.450 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Internal Server Error, message=An error occurred, status=500}]
2025-05-04 19:23:27.451 DEBUG 22536 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2025-05-04 19:23:27.451 DEBUG 22536 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:23:47.160  INFO 22536 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:23:47.162  INFO 22536 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 19:23:47.177  INFO 22536 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 19:23:57.402  INFO 36012 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 36012 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 19:23:57.404 DEBUG 36012 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 19:23:57.405  INFO 36012 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 19:23:58.451  INFO 36012 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 19:23:58.692  INFO 36012 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 232 ms. Found 19 JPA repository interfaces.
2025-05-04 19:23:59.386  INFO 36012 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 19:23:59.388  INFO 36012 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 19:23:59.388  INFO 36012 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 19:23:59.389  INFO 36012 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 19:23:59.399  INFO 36012 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 19:23:59.410  INFO 36012 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 19:23:59.411  INFO 36012 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 19:23:59.585  INFO 36012 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 19:23:59.586  INFO 36012 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2127 ms
2025-05-04 19:23:59.806  INFO 36012 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 19:23:59.877  INFO 36012 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 19:24:00.085  INFO 36012 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 19:24:00.216  INFO 36012 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 19:24:00.587  INFO 36012 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 19:24:00.604  INFO 36012 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 19:24:01.983  INFO 36012 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 19:24:01.994  INFO 36012 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:24:02.533 DEBUG 36012 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 19:24:02.533 DEBUG 36012 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 19:24:03.538 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 19:24:03.547 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 19:24:03.548 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 19:24:03.548 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 19:24:03.548 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 19:24:03.549 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 19:24:03.549 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 19:24:03.549 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 19:24:03.549 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 19:24:03.550 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 19:24:03.550 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 19:24:03.550 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 19:24:03.550 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 19:24:03.551 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 19:24:03.551 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 19:24:03.551 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 19:24:03.552 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 19:24:03.552 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 19:24:03.552 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 19:24:03.552 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 19:24:03.552 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 19:24:03.553 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 19:24:03.553 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 19:24:03.553 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 19:24:03.553 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 19:24:03.554 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 19:24:03.554 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 19:24:03.554 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 19:24:03.554 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 19:24:03.555 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 19:24:03.555 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 19:24:03.556 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 19:24:03.556 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 19:24:03.556 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 19:24:03.556 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 19:24:03.556 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 19:24:03.558 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 19:24:03.559 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 19:24:03.560 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 19:24:03.560 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 19:24:03.561 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 19:24:03.561 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 19:24:03.562 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 19:24:03.562 DEBUG 36012 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 19:24:03.572  INFO 36012 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@51d80f6e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fae6f43, org.springframework.security.web.context.SecurityContextPersistenceFilter@5481f204, org.springframework.security.web.header.HeaderWriterFilter@7fb313e3, org.springframework.web.filter.CorsFilter@16c1345b, org.springframework.security.web.authentication.logout.LogoutFilter@764d54a0, com.hotel.config.JwtAuthenticationFilter@188ab96, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@63d43a5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55159007, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55f54852, org.springframework.security.web.session.SessionManagementFilter@304cad3a, org.springframework.security.web.access.ExceptionTranslationFilter@140fa482, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7ab8f93]
2025-05-04 19:24:03.662  WARN 36012 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 19:24:03.821 DEBUG 36012 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 19:24:03.847  INFO 36012 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 19:24:03.916 DEBUG 36012 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 19:24:03.921 DEBUG 36012 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 19:24:03.935 DEBUG 36012 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 19:24:03.945 DEBUG 36012 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 19:24:04.112  INFO 36012 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 19:24:04.122  INFO 36012 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.319 seconds (JVM running for 8.571)
2025-05-04 19:24:10.487  INFO 36012 --- [http-nio-8090-exec-4] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 19:24:10.488  INFO 36012 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 19:24:10.489 DEBUG 36012 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 19:24:10.489 DEBUG 36012 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 19:24:10.489 DEBUG 36012 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 19:24:10.491 DEBUG 36012 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@63f819a6
2025-05-04 19:24:10.492 DEBUG 36012 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5d72da0b
2025-05-04 19:24:10.492 DEBUG 36012 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 19:24:10.492  INFO 36012 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-04 19:24:10.519 DEBUG 36012 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 19:24:10.519 DEBUG 36012 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 19:24:10.527 DEBUG 36012 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:24:10.527 DEBUG 36012 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:24:10.539 DEBUG 36012 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 19:24:10.540 DEBUG 36012 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 19:24:10.557 DEBUG 36012 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 19:24:10.558 DEBUG 36012 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 19:24:10.563 DEBUG 36012 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 19:24:10.572 DEBUG 36012 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 19:24:10.692 DEBUG 36012 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:24:10.693 DEBUG 36012 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 19:24:10.694 DEBUG 36012 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 19:24:10.694 DEBUG 36012 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 19:24:10.696 DEBUG 36012 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 19:24:10.824 DEBUG 36012 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:24:10.827 DEBUG 36012 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 19:24:10.842 DEBUG 36012 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:24:10.843 DEBUG 36012 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 19:24:10.869 DEBUG 36012 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:24:10.869 DEBUG 36012 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:24:10.872 DEBUG 36012 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:24:10.872 DEBUG 36012 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:24:20.459 DEBUG 36012 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-04 19:24:20.459 DEBUG 36012 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:24:20.471 DEBUG 36012 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 19:24:20.471 DEBUG 36012 --- [http-nio-8090-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 19:24:20.472 DEBUG 36012 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-04 19:24:20.472 DEBUG 36012 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-04 19:24:20.473 DEBUG 36012 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-04 19:24:20.473 DEBUG 36012 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-04 19:24:20.511 DEBUG 36012 --- [http-nio-8090-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=17777777778, password=17777777778)]
2025-05-04 19:24:20.677 DEBUG 36012 --- [http-nio-8090-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-04 19:24:20.698 DEBUG 36012 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:24:20.698 DEBUG 36012 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=18, username=dawwadw, role=CUSTOMER, token=eyJhbGci (truncated)...]
2025-05-04 19:24:20.700 DEBUG 36012 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:24:20.701 DEBUG 36012 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:24:20.715 DEBUG 36012 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 19:24:20.716 DEBUG 36012 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:24:20.722 DEBUG 36012 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:24:20.723 DEBUG 36012 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 19:24:20.724 DEBUG 36012 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 19:24:20.724 DEBUG 36012 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 19:24:20.725 DEBUG 36012 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 19:24:20.734 DEBUG 36012 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:24:20.734 DEBUG 36012 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 19:24:20.736 DEBUG 36012 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:24:20.737 DEBUG 36012 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:24:20.752 DEBUG 36012 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-04 19:24:20.752 DEBUG 36012 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:24:20.757 DEBUG 36012 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:24:20.758 DEBUG 36012 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-04 19:24:20.758 DEBUG 36012 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-04 19:24:20.758 DEBUG 36012 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-04 19:24:20.759 DEBUG 36012 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-04 19:24:20.772 DEBUG 36012 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:24:20.773 DEBUG 36012 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=MembershipDTO(userId=18, username=dawwadw, name=asdwd, memberLevel=钻石会员, memberLevel (truncated)...]
2025-05-04 19:24:20.780 DEBUG 36012 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:24:20.780 DEBUG 36012 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:24:22.685 DEBUG 36012 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 19:24:22.685 DEBUG 36012 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 19:24:22.685 DEBUG 36012 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:24:22.686 DEBUG 36012 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:24:22.686 DEBUG 36012 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 19:24:22.686 DEBUG 36012 --- [http-nio-8090-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 19:24:22.687 DEBUG 36012 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 19:24:22.687 DEBUG 36012 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 19:24:22.688 DEBUG 36012 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 19:24:22.688 DEBUG 36012 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 19:24:22.693 DEBUG 36012 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:24:22.694 DEBUG 36012 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 19:24:22.694 DEBUG 36012 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 19:24:22.695 DEBUG 36012 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 19:24:22.697 DEBUG 36012 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 19:24:22.707 DEBUG 36012 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:24:22.708 DEBUG 36012 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 19:24:22.709 DEBUG 36012 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:24:22.710 DEBUG 36012 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:24:22.738 DEBUG 36012 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:24:22.739 DEBUG 36012 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 19:24:22.740 DEBUG 36012 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:24:22.741 DEBUG 36012 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:24:28.233 DEBUG 36012 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 19:24:28.233 DEBUG 36012 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 19:24:28.234 DEBUG 36012 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:24:28.234 DEBUG 36012 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:24:28.235 DEBUG 36012 --- [http-nio-8090-exec-8] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 19:24:28.235 DEBUG 36012 --- [http-nio-8090-exec-8] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 19:24:28.235 DEBUG 36012 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 19:24:28.237 DEBUG 36012 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 19:24:28.237 DEBUG 36012 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 19:24:28.237 DEBUG 36012 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 19:24:28.241 DEBUG 36012 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:24:28.241 DEBUG 36012 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 19:24:28.241 DEBUG 36012 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 19:24:28.242 DEBUG 36012 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 19:24:28.242 DEBUG 36012 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 19:24:28.250 DEBUG 36012 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:24:28.250 DEBUG 36012 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 19:24:28.252 DEBUG 36012 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:24:28.252 DEBUG 36012 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:24:28.274 DEBUG 36012 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:24:28.274 DEBUG 36012 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 19:24:28.276 DEBUG 36012 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:24:28.276 DEBUG 36012 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:24:41.874 DEBUG 36012 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 19:24:41.875 DEBUG 36012 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:24:41.880 DEBUG 36012 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:24:41.881 DEBUG 36012 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 19:24:41.881 DEBUG 36012 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 19:24:41.881 DEBUG 36012 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 19:24:41.882 DEBUG 36012 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 19:24:41.884 DEBUG 36012 --- [http-nio-8090-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=4, checkIn=2027-04-30T16:00:00.000Z, checkOut=2027-05-30T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 19:24:41.960 DEBUG 36012 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:24:41.960 DEBUG 36012 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=创建预订失败: No enum constant com.hotel.entity.Reservation.P (truncated)...]
2025-05-04 19:24:41.961 DEBUG 36012 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-04 19:24:41.962 DEBUG 36012 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:25:57.895  INFO 36012 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:25:57.898  INFO 36012 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 19:25:57.912  INFO 36012 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 19:26:06.641  INFO 3948 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 3948 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 19:26:06.643 DEBUG 3948 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 19:26:06.643  INFO 3948 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 19:26:07.648  INFO 3948 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 19:26:07.881  INFO 3948 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 221 ms. Found 19 JPA repository interfaces.
2025-05-04 19:26:08.511  INFO 3948 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 19:26:08.512  INFO 3948 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 19:26:08.513  INFO 3948 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 19:26:08.514  INFO 3948 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 19:26:08.521  INFO 3948 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 19:26:08.532  INFO 3948 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 19:26:08.532  INFO 3948 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 19:26:08.678  INFO 3948 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 19:26:08.678  INFO 3948 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1990 ms
2025-05-04 19:26:08.855  INFO 3948 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 19:26:08.912  INFO 3948 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 19:26:09.092  INFO 3948 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 19:26:09.194  INFO 3948 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 19:26:09.521  INFO 3948 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 19:26:09.536  INFO 3948 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 19:26:10.801  INFO 3948 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 19:26:10.812  INFO 3948 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:26:11.358 DEBUG 3948 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 19:26:11.358 DEBUG 3948 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 19:26:12.400 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 19:26:12.408 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 19:26:12.408 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 19:26:12.409 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 19:26:12.409 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 19:26:12.409 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 19:26:12.409 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 19:26:12.410 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 19:26:12.410 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 19:26:12.411 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 19:26:12.411 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 19:26:12.411 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 19:26:12.412 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 19:26:12.412 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 19:26:12.413 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 19:26:12.413 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 19:26:12.414 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 19:26:12.414 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 19:26:12.414 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 19:26:12.415 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 19:26:12.415 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 19:26:12.415 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 19:26:12.415 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 19:26:12.415 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 19:26:12.416 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 19:26:12.417 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 19:26:12.417 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 19:26:12.417 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 19:26:12.417 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 19:26:12.417 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 19:26:12.418 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 19:26:12.418 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 19:26:12.418 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 19:26:12.418 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 19:26:12.419 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 19:26:12.419 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 19:26:12.422 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 19:26:12.422 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 19:26:12.422 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 19:26:12.422 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 19:26:12.423 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 19:26:12.423 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 19:26:12.423 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 19:26:12.424 DEBUG 3948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 19:26:12.434  INFO 3948 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@64b0ec4a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b949de4, org.springframework.security.web.context.SecurityContextPersistenceFilter@549fe529, org.springframework.security.web.header.HeaderWriterFilter@69542112, org.springframework.web.filter.CorsFilter@16c1345b, org.springframework.security.web.authentication.logout.LogoutFilter@1ac30be4, com.hotel.config.JwtAuthenticationFilter@188ab96, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52c68925, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ebd0b52, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2981064d, org.springframework.security.web.session.SessionManagementFilter@6d71f296, org.springframework.security.web.access.ExceptionTranslationFilter@31c29db1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12f933c7]
2025-05-04 19:26:12.508  WARN 3948 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 19:26:12.767 DEBUG 3948 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 19:26:12.790  INFO 3948 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 19:26:12.861 DEBUG 3948 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 19:26:12.866 DEBUG 3948 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 19:26:12.881 DEBUG 3948 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 19:26:12.889 DEBUG 3948 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 19:26:13.088  INFO 3948 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 19:26:13.099  INFO 3948 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.965 seconds (JVM running for 7.892)
2025-05-04 19:26:17.908  INFO 3948 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 19:26:17.909  INFO 3948 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 19:26:17.910 DEBUG 3948 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 19:26:17.911 DEBUG 3948 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 19:26:17.911 DEBUG 3948 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 19:26:17.913 DEBUG 3948 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7d8a5ec7
2025-05-04 19:26:17.913 DEBUG 3948 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2e4262d2
2025-05-04 19:26:17.914 DEBUG 3948 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 19:26:17.914  INFO 3948 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-04 19:26:17.939 DEBUG 3948 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 19:26:17.939 DEBUG 3948 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 19:26:17.947 DEBUG 3948 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:26:17.947 DEBUG 3948 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:26:17.955 DEBUG 3948 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 19:26:17.956 DEBUG 3948 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 19:26:17.967 DEBUG 3948 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 19:26:17.968 DEBUG 3948 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 19:26:17.970 DEBUG 3948 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 19:26:17.977 DEBUG 3948 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 19:26:18.074 DEBUG 3948 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:26:18.076 DEBUG 3948 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 19:26:18.076 DEBUG 3948 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 19:26:18.076 DEBUG 3948 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 19:26:18.078 DEBUG 3948 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 19:26:18.172 DEBUG 3948 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:26:18.173 DEBUG 3948 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 19:26:18.183 DEBUG 3948 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:26:18.184 DEBUG 3948 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 19:26:18.204 DEBUG 3948 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:26:18.204 DEBUG 3948 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:26:18.205 DEBUG 3948 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:26:18.205 DEBUG 3948 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:26:30.686 DEBUG 3948 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 19:26:30.687 DEBUG 3948 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:26:30.702 DEBUG 3948 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:26:30.703 DEBUG 3948 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 19:26:30.703 DEBUG 3948 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 19:26:30.704 DEBUG 3948 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 19:26:30.704 DEBUG 3948 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 19:26:30.715 DEBUG 3948 --- [http-nio-8090-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=4, checkIn=2027-04-30T16:00:00.000Z, checkOut=2027-05-30T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 19:26:30.767 DEBUG 3948 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:26:30.768 DEBUG 3948 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=创建预订失败: No enum constant com.hotel.entity.Reservation.P (truncated)...]
2025-05-04 19:26:30.769 DEBUG 3948 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-04 19:26:30.769 DEBUG 3948 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:28:32.873 DEBUG 3948 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 19:28:32.873 DEBUG 3948 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 19:28:32.874 DEBUG 3948 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:28:32.874 DEBUG 3948 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:28:32.874 DEBUG 3948 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 19:28:32.874 DEBUG 3948 --- [http-nio-8090-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 19:28:32.876 DEBUG 3948 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 19:28:32.876 DEBUG 3948 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 19:28:32.877 DEBUG 3948 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 19:28:32.878 DEBUG 3948 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 19:28:32.883 DEBUG 3948 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:28:32.884 DEBUG 3948 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 19:28:32.885 DEBUG 3948 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 19:28:32.885 DEBUG 3948 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 19:28:32.887 DEBUG 3948 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 19:28:32.897 DEBUG 3948 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:28:32.897 DEBUG 3948 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 19:28:32.900 DEBUG 3948 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:28:32.900 DEBUG 3948 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:28:32.932 DEBUG 3948 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:28:32.932 DEBUG 3948 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 19:28:32.935 DEBUG 3948 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:28:32.936 DEBUG 3948 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:28:36.153  INFO 3948 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:28:36.156  INFO 3948 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 19:28:36.170  INFO 3948 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 19:29:34.850  INFO 25988 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 25988 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 19:29:34.853 DEBUG 25988 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 19:29:34.854  INFO 25988 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 19:29:36.000  INFO 25988 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 19:29:36.250  INFO 25988 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 241 ms. Found 19 JPA repository interfaces.
2025-05-04 19:29:37.147  INFO 25988 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 19:29:37.149  INFO 25988 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 19:29:37.150  INFO 25988 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 19:29:37.150  INFO 25988 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 19:29:37.162  INFO 25988 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 19:29:37.178  INFO 25988 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 19:29:37.179  INFO 25988 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 19:29:37.410  INFO 25988 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 19:29:37.410  INFO 25988 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2482 ms
2025-05-04 19:29:37.664  INFO 25988 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 19:29:37.771  INFO 25988 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 19:29:38.081  INFO 25988 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 19:29:38.274  INFO 25988 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 19:29:38.758  INFO 25988 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 19:29:38.781  INFO 25988 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 19:29:40.381  INFO 25988 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 19:29:40.391  INFO 25988 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:29:41.003 DEBUG 25988 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 19:29:41.003 DEBUG 25988 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 19:29:41.953 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 19:29:41.962 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 19:29:41.963 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 19:29:41.963 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 19:29:41.964 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 19:29:41.964 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 19:29:41.965 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 19:29:41.965 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 19:29:41.965 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 19:29:41.966 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 19:29:41.966 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 19:29:41.966 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 19:29:41.966 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 19:29:41.966 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 19:29:41.966 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 19:29:41.967 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 19:29:41.968 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 19:29:41.968 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 19:29:41.968 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 19:29:41.968 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 19:29:41.968 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 19:29:41.968 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 19:29:41.968 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 19:29:41.968 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 19:29:41.969 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 19:29:41.969 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 19:29:41.969 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 19:29:41.969 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 19:29:41.969 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 19:29:41.969 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 19:29:41.970 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 19:29:41.970 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 19:29:41.970 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 19:29:41.970 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 19:29:41.970 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 19:29:41.971 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 19:29:41.972 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 19:29:41.973 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 19:29:41.973 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 19:29:41.973 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 19:29:41.974 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 19:29:41.974 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 19:29:41.974 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 19:29:41.974 DEBUG 25988 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 19:29:41.980  INFO 25988 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fae6f43, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55f54852, org.springframework.security.web.context.SecurityContextPersistenceFilter@171b0d3, org.springframework.security.web.header.HeaderWriterFilter@771ede0d, org.springframework.web.filter.CorsFilter@2571bdf4, org.springframework.security.web.authentication.logout.LogoutFilter@78c91d2a, com.hotel.config.JwtAuthenticationFilter@188058fb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@55159007, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@edf4973, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4bca2a09, org.springframework.security.web.session.SessionManagementFilter@628cb8e0, org.springframework.security.web.access.ExceptionTranslationFilter@78de0f6f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6037748a]
2025-05-04 19:29:42.039  WARN 25988 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 19:29:42.204 DEBUG 25988 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 19:29:42.235  INFO 25988 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 19:29:42.314 DEBUG 25988 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 19:29:42.320 DEBUG 25988 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 19:29:42.337 DEBUG 25988 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 19:29:42.345 DEBUG 25988 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 19:29:42.514  INFO 25988 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 19:29:42.524  INFO 25988 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 8.253 seconds (JVM running for 9.226)
2025-05-04 19:29:46.856  INFO 25988 --- [http-nio-8090-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 19:29:46.857  INFO 25988 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 19:29:46.858 DEBUG 25988 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 19:29:46.858 DEBUG 25988 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 19:29:46.858 DEBUG 25988 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 19:29:46.860 DEBUG 25988 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@20c55658
2025-05-04 19:29:46.861 DEBUG 25988 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@c8d20bb
2025-05-04 19:29:46.861 DEBUG 25988 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 19:29:46.862  INFO 25988 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-05-04 19:29:46.884 DEBUG 25988 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 19:29:46.884 DEBUG 25988 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 19:29:46.897 DEBUG 25988 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:29:46.897 DEBUG 25988 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:29:46.910 DEBUG 25988 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 19:29:46.910 DEBUG 25988 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 19:29:46.922 DEBUG 25988 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 19:29:46.923 DEBUG 25988 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 19:29:46.927 DEBUG 25988 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 19:29:46.936 DEBUG 25988 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 19:29:47.033 DEBUG 25988 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:29:47.035 DEBUG 25988 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 19:29:47.035 DEBUG 25988 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 19:29:47.036 DEBUG 25988 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 19:29:47.038 DEBUG 25988 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 19:29:47.150 DEBUG 25988 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:29:47.152 DEBUG 25988 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 19:29:47.162 DEBUG 25988 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:29:47.163 DEBUG 25988 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 19:29:47.183 DEBUG 25988 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:29:47.183 DEBUG 25988 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:29:47.185 DEBUG 25988 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:29:47.185 DEBUG 25988 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:30:04.250 DEBUG 25988 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 19:30:04.251 DEBUG 25988 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:30:04.270 DEBUG 25988 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:30:04.271 DEBUG 25988 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 19:30:04.272 DEBUG 25988 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 19:30:04.272 DEBUG 25988 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 19:30:04.273 DEBUG 25988 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 19:30:04.284 DEBUG 25988 --- [http-nio-8090-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=1, checkIn=2025-08-31T16:00:00.000Z, checkOut=2025-09-29T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 19:30:04.348 DEBUG 25988 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:30:04.349 DEBUG 25988 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=创建预订失败: No enum constant com.hotel.entity.PaymentStatus (truncated)...]
2025-05-04 19:30:04.350 DEBUG 25988 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-04 19:30:04.351 DEBUG 25988 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:30:15.422 DEBUG 25988 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations
2025-05-04 19:30:15.423 DEBUG 25988 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:30:15.423 DEBUG 25988 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 19:30:15.424 DEBUG 25988 --- [http-nio-8090-exec-9] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 19:30:15.441 DEBUG 25988 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Failed to authorize filter invocation [GET /api/reservations] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:30:15.442 DEBUG 25988 --- [http-nio-8090-exec-9] o.s.s.w.a.Http403ForbiddenEntryPoint     : Pre-authenticated entry point called. Rejecting access
2025-05-04 19:30:15.443 DEBUG 25988 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:30:15.446 DEBUG 25988 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /error
2025-05-04 19:30:15.447 DEBUG 25988 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:30:15.447 DEBUG 25988 --- [http-nio-8090-exec-9] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 19:30:15.447 DEBUG 25988 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /error
2025-05-04 19:30:15.453 DEBUG 25988 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for GET "/error", parameters={}
2025-05-04 19:30:15.454 DEBUG 25988 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CustomErrorController#handleError(HttpServletRequest, WebRequest)
2025-05-04 19:30:15.459 DEBUG 25988 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.7, */*;q=0.8] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:30:15.459 DEBUG 25988 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{error=Forbidden, message=An error occurred, status=403}]
2025-05-04 19:30:15.463 DEBUG 25988 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 403
2025-05-04 19:30:15.463 DEBUG 25988 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:33:39.314  INFO 25988 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:33:39.316  INFO 25988 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 19:33:39.335  INFO 25988 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 19:33:46.039  INFO 15556 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 15556 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 19:33:46.041 DEBUG 15556 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 19:33:46.042  INFO 15556 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 19:33:47.115  INFO 15556 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 19:33:47.351  INFO 15556 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 224 ms. Found 19 JPA repository interfaces.
2025-05-04 19:33:48.016  INFO 15556 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 19:33:48.018  INFO 15556 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 19:33:48.019  INFO 15556 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 19:33:48.019  INFO 15556 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 19:33:48.027  INFO 15556 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 19:33:48.038  INFO 15556 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 19:33:48.039  INFO 15556 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 19:33:48.184  INFO 15556 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 19:33:48.184  INFO 15556 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2091 ms
2025-05-04 19:33:48.374  INFO 15556 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 19:33:48.443  INFO 15556 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 19:33:48.635  INFO 15556 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 19:33:48.756  INFO 15556 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 19:33:49.161  INFO 15556 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 19:33:49.188  INFO 15556 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 19:33:50.567  INFO 15556 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 19:33:50.577  INFO 15556 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:33:51.112 DEBUG 15556 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 19:33:51.113 DEBUG 15556 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 19:33:52.057 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 19:33:52.065 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 19:33:52.066 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 19:33:52.066 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 19:33:52.067 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 19:33:52.067 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 19:33:52.067 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 19:33:52.067 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 19:33:52.068 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 19:33:52.068 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 19:33:52.068 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 19:33:52.069 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 19:33:52.069 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 19:33:52.069 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 19:33:52.069 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 19:33:52.070 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 19:33:52.070 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 19:33:52.070 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 19:33:52.071 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 19:33:52.071 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 19:33:52.071 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 19:33:52.071 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 19:33:52.071 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 19:33:52.071 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 19:33:52.072 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 19:33:52.072 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 19:33:52.072 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 19:33:52.072 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 19:33:52.072 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 19:33:52.072 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 19:33:52.073 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 19:33:52.073 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 19:33:52.073 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 19:33:52.073 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 19:33:52.073 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 19:33:52.073 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 19:33:52.075 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 19:33:52.075 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 19:33:52.075 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 19:33:52.075 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 19:33:52.076 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 19:33:52.076 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 19:33:52.076 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 19:33:52.076 DEBUG 15556 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 19:33:52.083  INFO 15556 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58c93be3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5dd62f07, org.springframework.security.web.context.SecurityContextPersistenceFilter@16718e1b, org.springframework.security.web.header.HeaderWriterFilter@77430c79, org.springframework.web.filter.CorsFilter@66acaa54, org.springframework.security.web.authentication.logout.LogoutFilter@2b33f7a0, com.hotel.config.JwtAuthenticationFilter@71c74011, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@771ede0d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1fd73dcb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e669b5c, org.springframework.security.web.session.SessionManagementFilter@140fa482, org.springframework.security.web.access.ExceptionTranslationFilter@52c2d1e8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@65192f16]
2025-05-04 19:33:52.138  WARN 15556 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 19:33:52.275 DEBUG 15556 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 19:33:52.301  INFO 15556 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 19:33:52.373 DEBUG 15556 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 19:33:52.378 DEBUG 15556 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 19:33:52.395 DEBUG 15556 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 19:33:52.403 DEBUG 15556 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 19:33:52.557  INFO 15556 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 19:33:52.567  INFO 15556 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.379 seconds (JVM running for 9.223)
2025-05-04 19:34:00.936  INFO 15556 --- [http-nio-8090-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 19:34:00.937  INFO 15556 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 19:34:00.938 DEBUG 15556 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 19:34:00.939 DEBUG 15556 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 19:34:00.939 DEBUG 15556 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 19:34:00.942 DEBUG 15556 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4c7d19bf
2025-05-04 19:34:00.944 DEBUG 15556 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@183e64a8
2025-05-04 19:34:00.944 DEBUG 15556 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 19:34:00.944  INFO 15556 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 6 ms
2025-05-04 19:34:00.972 DEBUG 15556 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 19:34:00.972 DEBUG 15556 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 19:34:00.989 DEBUG 15556 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:34:00.989 DEBUG 15556 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:34:01.004 DEBUG 15556 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 19:34:01.005 DEBUG 15556 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 19:34:01.020 DEBUG 15556 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 19:34:01.021 DEBUG 15556 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 19:34:01.025 DEBUG 15556 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 19:34:01.035 DEBUG 15556 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 19:34:01.166 DEBUG 15556 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:34:01.168 DEBUG 15556 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 19:34:01.168 DEBUG 15556 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 19:34:01.168 DEBUG 15556 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 19:34:01.171 DEBUG 15556 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 19:34:01.314 DEBUG 15556 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:34:01.316 DEBUG 15556 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 19:34:01.333 DEBUG 15556 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:34:01.334 DEBUG 15556 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 19:34:01.362 DEBUG 15556 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:34:01.362 DEBUG 15556 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:34:01.365 DEBUG 15556 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:34:01.365 DEBUG 15556 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:34:13.225 DEBUG 15556 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 19:34:13.226 DEBUG 15556 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:34:13.244 DEBUG 15556 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:34:13.245 DEBUG 15556 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 19:34:13.245 DEBUG 15556 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 19:34:13.245 DEBUG 15556 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 19:34:13.246 DEBUG 15556 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 19:34:13.259 DEBUG 15556 --- [http-nio-8090-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=4, checkIn=2027-04-30T16:00:00.000Z, checkOut=2027-05-30T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 19:34:13.324 DEBUG 15556 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:34:13.324 DEBUG 15556 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=创建预订失败: No enum constant com.hotel.entity.PaymentStatus (truncated)...]
2025-05-04 19:34:13.326 DEBUG 15556 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-04 19:34:13.326 DEBUG 15556 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:34:23.574 DEBUG 15556 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 19:34:23.575 DEBUG 15556 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:34:23.582 DEBUG 15556 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:34:23.583 DEBUG 15556 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 19:34:23.583 DEBUG 15556 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 19:34:23.583 DEBUG 15556 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 19:34:23.585 DEBUG 15556 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 19:34:23.587 DEBUG 15556 --- [http-nio-8090-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=4, checkIn=2027-04-30T16:00:00.000Z, checkOut=2027-05-30T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 19:34:23.612 DEBUG 15556 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:34:23.612 DEBUG 15556 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=创建预订失败: No enum constant com.hotel.entity.PaymentStatus (truncated)...]
2025-05-04 19:34:23.615 DEBUG 15556 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-04 19:34:23.615 DEBUG 15556 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:38:59.411  INFO 15556 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:38:59.414  INFO 15556 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 19:38:59.434  INFO 15556 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 19:39:10.310  INFO 13792 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 13792 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 19:39:10.312 DEBUG 13792 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 19:39:10.313  INFO 13792 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 19:39:11.374  INFO 13792 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 19:39:11.600  INFO 13792 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 215 ms. Found 19 JPA repository interfaces.
2025-05-04 19:39:12.230  INFO 13792 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 19:39:12.232  INFO 13792 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 19:39:12.233  INFO 13792 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 19:39:12.233  INFO 13792 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 19:39:12.242  INFO 13792 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 19:39:12.253  INFO 13792 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 19:39:12.254  INFO 13792 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 19:39:12.465  INFO 13792 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 19:39:12.465  INFO 13792 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2098 ms
2025-05-04 19:39:12.648  INFO 13792 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 19:39:12.722  INFO 13792 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 19:39:12.975  INFO 13792 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 19:39:13.133  INFO 13792 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 19:39:13.609  INFO 13792 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 19:39:13.631  INFO 13792 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 19:39:14.984  INFO 13792 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 19:39:14.993  INFO 13792 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:39:15.480 DEBUG 13792 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 19:39:15.480 DEBUG 13792 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 19:39:16.903 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 19:39:16.912 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 19:39:16.913 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 19:39:16.913 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 19:39:16.914 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 19:39:16.914 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 19:39:16.915 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 19:39:16.915 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 19:39:16.915 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 19:39:16.915 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 19:39:16.916 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 19:39:16.916 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 19:39:16.916 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 19:39:16.917 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 19:39:16.917 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 19:39:16.917 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 19:39:16.918 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 19:39:16.918 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 19:39:16.919 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 19:39:16.919 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 19:39:16.919 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 19:39:16.920 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 19:39:16.920 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 19:39:16.920 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 19:39:16.920 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 19:39:16.921 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 19:39:16.921 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 19:39:16.921 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 19:39:16.921 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 19:39:16.921 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 19:39:16.921 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 19:39:16.922 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 19:39:16.922 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 19:39:16.922 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 19:39:16.922 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 19:39:16.922 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 19:39:16.926 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 19:39:16.926 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 19:39:16.926 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 19:39:16.926 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 19:39:16.927 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 19:39:16.927 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 19:39:16.927 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 19:39:16.928 DEBUG 13792 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 19:39:16.939  INFO 13792 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4bca2a09, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5af8ef61, org.springframework.security.web.context.SecurityContextPersistenceFilter@55159007, org.springframework.security.web.header.HeaderWriterFilter@54c697c, org.springframework.web.filter.CorsFilter@2571bdf4, org.springframework.security.web.authentication.logout.LogoutFilter@52a3eba3, com.hotel.config.JwtAuthenticationFilter@188058fb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a49753, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e68ccc9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5620470a, org.springframework.security.web.session.SessionManagementFilter@5481f204, org.springframework.security.web.access.ExceptionTranslationFilter@16718e1b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@14c7ab73]
2025-05-04 19:39:17.020  WARN 13792 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 19:39:17.194 DEBUG 13792 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 19:39:17.225  INFO 13792 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 19:39:17.305 DEBUG 13792 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 19:39:17.312 DEBUG 13792 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 19:39:17.333 DEBUG 13792 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 19:39:17.342 DEBUG 13792 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 19:39:17.545  INFO 13792 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 19:39:17.556  INFO 13792 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.81 seconds (JVM running for 8.8)
2025-05-04 19:39:33.474  INFO 13792 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 19:39:33.474  INFO 13792 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 19:39:33.474 DEBUG 13792 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 19:39:33.474 DEBUG 13792 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 19:39:33.474 DEBUG 13792 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 19:39:33.475 DEBUG 13792 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@472dc215
2025-05-04 19:39:33.475 DEBUG 13792 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@53a645a2
2025-05-04 19:39:33.476 DEBUG 13792 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 19:39:33.476  INFO 13792 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-05-04 19:39:33.489 DEBUG 13792 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 19:39:33.496 DEBUG 13792 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:39:33.583 DEBUG 13792 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:39:33.594 DEBUG 13792 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 19:39:33.595 DEBUG 13792 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 19:39:33.598 DEBUG 13792 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 19:39:33.604 DEBUG 13792 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 19:39:33.629 DEBUG 13792 --- [http-nio-8090-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=4, checkIn=2027-04-30T16:00:00.000Z, checkOut=2027-05-30T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 19:39:33.799 DEBUG 13792 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:39:33.800 DEBUG 13792 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=创建预订失败: No enum constant com.hotel.entity.PaymentStatus (truncated)...]
2025-05-04 19:39:33.814 DEBUG 13792 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-04 19:39:33.816 DEBUG 13792 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:39:38.388 DEBUG 13792 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 19:39:38.389 DEBUG 13792 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 19:39:38.389 DEBUG 13792 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:39:38.389 DEBUG 13792 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:39:38.389 DEBUG 13792 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 19:39:38.390 DEBUG 13792 --- [http-nio-8090-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 19:39:38.391 DEBUG 13792 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 19:39:38.391 DEBUG 13792 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 19:39:38.392 DEBUG 13792 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 19:39:38.392 DEBUG 13792 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 19:39:38.395 DEBUG 13792 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:39:38.397 DEBUG 13792 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 19:39:38.397 DEBUG 13792 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 19:39:38.397 DEBUG 13792 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 19:39:38.399 DEBUG 13792 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 19:39:38.412 DEBUG 13792 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:39:38.413 DEBUG 13792 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 19:39:38.431 DEBUG 13792 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:39:38.432 DEBUG 13792 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:39:38.463 DEBUG 13792 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:39:38.464 DEBUG 13792 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 19:39:38.477 DEBUG 13792 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:39:38.478 DEBUG 13792 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:39:49.101 DEBUG 13792 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 19:39:49.103 DEBUG 13792 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:39:49.114 DEBUG 13792 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:39:49.115 DEBUG 13792 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 19:39:49.115 DEBUG 13792 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 19:39:49.115 DEBUG 13792 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 19:39:49.116 DEBUG 13792 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 19:39:49.119 DEBUG 13792 --- [http-nio-8090-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=4, checkIn=2027-04-30T16:00:00.000Z, checkOut=2027-05-30T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 19:39:49.139 DEBUG 13792 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:39:49.139 DEBUG 13792 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=创建预订失败: No enum constant com.hotel.entity.PaymentStatus (truncated)...]
2025-05-04 19:39:49.141 DEBUG 13792 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-04 19:39:49.141 DEBUG 13792 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:41:17.999 DEBUG 13792 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 19:41:17.999 DEBUG 13792 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:41:18.006 DEBUG 13792 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '18999177256' 认证成功, 设置 SecurityContext
2025-05-04 19:41:18.015 DEBUG 13792 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:41:18.015 DEBUG 13792 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 19:41:18.016 DEBUG 13792 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 19:41:18.016 DEBUG 13792 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:41:18.031  INFO 13792 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:41:18.031 DEBUG 13792 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 19:41:18.048 ERROR 13792 --- [http-nio-8090-exec-5] c.h.controller.ReservationController     : Error fetching reservations

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.PaymentStatus.; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.PaymentStatus.
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy144.findAllWithFilters(Unknown Source) ~[na:na]
	at com.hotel.service.impl.ReservationServiceImpl.getAllReservations(ReservationServiceImpl.java:516) ~[classes/:na]
	at com.hotel.service.impl.ReservationServiceImpl$$FastClassBySpringCGLIB$$969c5397.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.ReservationServiceImpl$$EnhancerBySpringCGLIB$$abc25c8f.getAllReservations(<generated>) ~[classes/:na]
	at com.hotel.controller.ReservationController.getAllReservations(ReservationController.java:242) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.PaymentStatus.
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:179) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-04 19:41:18.051 DEBUG 13792 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:41:18.051 DEBUG 13792 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订列表失败: No enum constant com.hotel.entity.PaymentStat (truncated)...]
2025-05-04 19:41:18.053 DEBUG 13792 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 19:41:18.053 DEBUG 13792 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:41:26.561 DEBUG 13792 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-04 19:41:26.563 DEBUG 13792 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:41:26.565 DEBUG 13792 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 19:41:26.565 DEBUG 13792 --- [http-nio-8090-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-04 19:41:26.567 DEBUG 13792 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-04 19:41:26.567 DEBUG 13792 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-04 19:41:26.568 DEBUG 13792 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-04 19:41:26.570 DEBUG 13792 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-04 19:41:26.611 DEBUG 13792 --- [http-nio-8090-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=admin, password=admin123)]
2025-05-04 19:41:26.856 DEBUG 13792 --- [http-nio-8090-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-04 19:41:26.895 DEBUG 13792 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:41:26.896 DEBUG 13792 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=1, username=admin, role=ADMIN, token=eyJhbGciOiJIUz (truncated)...]
2025-05-04 19:41:26.901 DEBUG 13792 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:41:26.901 DEBUG 13792 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:41:27.411 DEBUG 13792 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 19:41:27.411 DEBUG 13792 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:41:27.419 DEBUG 13792 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 19:41:27.420 DEBUG 13792 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:41:27.420 DEBUG 13792 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 19:41:27.421 DEBUG 13792 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 19:41:27.421 DEBUG 13792 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 19:41:27.596 DEBUG 13792 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:41:27.597 DEBUG 13792 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 19:41:27.602 DEBUG 13792 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:41:27.602 DEBUG 13792 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:41:30.143 DEBUG 13792 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-04 19:41:30.144 DEBUG 13792 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:41:30.149 DEBUG 13792 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 19:41:30.150 DEBUG 13792 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users?page=1&pageSize=10&username=&phone=&status=] with attributes [hasRole('ROLE_ADMIN')]
2025-05-04 19:41:30.151 DEBUG 13792 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-04 19:41:30.151 DEBUG 13792 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users?page=1&pageSize=10&username=&phone=&status=", parameters={masked}
2025-05-04 19:41:30.151 DEBUG 13792 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllUsers(int, int, String, String, String, String)
2025-05-04 19:41:30.179 DEBUG 13792 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:41:30.179 DEBUG 13792 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=19, users=[UserDTO(id=19, username=前台妹妹0 (truncated)...]
2025-05-04 19:41:30.181 DEBUG 13792 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:41:30.182 DEBUG 13792 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:41:30.412 DEBUG 13792 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/staff?page=0&pageSize=10
2025-05-04 19:41:30.412 DEBUG 13792 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:41:30.416 DEBUG 13792 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 19:41:30.416 DEBUG 13792 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/staff?page=0&pageSize=10] with attributes [authenticated]
2025-05-04 19:41:30.416 DEBUG 13792 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/staff?page=0&pageSize=10
2025-05-04 19:41:30.417 DEBUG 13792 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/staff?page=0&pageSize=10", parameters={masked}
2025-05-04 19:41:30.417 DEBUG 13792 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllStaffPaginated(int, int, String, String, String)
2025-05-04 19:41:30.434 DEBUG 13792 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:41:30.435 DEBUG 13792 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=6, users=[UserDTO(id=19, username=前台妹妹00 (truncated)...]
2025-05-04 19:41:30.437 DEBUG 13792 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:41:30.438 DEBUG 13792 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:41:31.878 DEBUG 13792 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?page=0&size=10
2025-05-04 19:41:31.879 DEBUG 13792 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:41:31.886 DEBUG 13792 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 19:41:31.886 DEBUG 13792 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:41:31.887 DEBUG 13792 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?page=0&size=10
2025-05-04 19:41:31.887 DEBUG 13792 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?page=0&size=10", parameters={masked}
2025-05-04 19:41:31.888 DEBUG 13792 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-04 19:41:31.914 DEBUG 13792 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:41:31.914 DEBUG 13792 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=21, list=[{roomNumber=501, lastCleanTime=2025-05-01T15:04:43, notes=, needCle (truncated)...]
2025-05-04 19:41:31.916 DEBUG 13792 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:41:31.916 DEBUG 13792 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:41:32.142 DEBUG 13792 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/roomtypes
2025-05-04 19:41:32.143 DEBUG 13792 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:41:32.150 DEBUG 13792 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 19:41:32.151 DEBUG 13792 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/roomtypes] with attributes [hasRole('ROLE_ADMIN')]
2025-05-04 19:41:32.151 DEBUG 13792 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/roomtypes
2025-05-04 19:41:32.151 DEBUG 13792 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/roomtypes", parameters={}
2025-05-04 19:41:32.152 DEBUG 13792 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getAllRoomTypes()
2025-05-04 19:41:32.163 DEBUG 13792 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:41:32.163 DEBUG 13792 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{amenities=无限量矿泉水、咖啡、茶叶等, createTime=2025-04-28T11:22:57, name=行政套房, description=高端 (truncated)...]
2025-05-04 19:41:32.165 DEBUG 13792 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:41:32.166 DEBUG 13792 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:41:35.041 DEBUG 13792 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/invitation-codes/all
2025-05-04 19:41:35.042 DEBUG 13792 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:41:35.048 DEBUG 13792 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 19:41:35.050 DEBUG 13792 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/invitation-codes/all] with attributes [authenticated]
2025-05-04 19:41:35.050 DEBUG 13792 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/invitation-codes/all
2025-05-04 19:41:35.050 DEBUG 13792 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/invitation-codes/all", parameters={}
2025-05-04 19:41:35.051 DEBUG 13792 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.InvitationCodeController#getAllInvitationCodes()
2025-05-04 19:41:35.076 DEBUG 13792 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:41:35.076 DEBUG 13792 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[InvitationCode(id=12, code=L1R1O7TC, role=CLEANER, maxUses=1, currentUses=0, expiryDate=2025-06-01T (truncated)...]
2025-05-04 19:41:35.087 DEBUG 13792 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:41:35.087 DEBUG 13792 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:42:17.367 DEBUG 13792 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 19:42:17.368 DEBUG 13792 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:42:17.380 DEBUG 13792 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:42:17.381 DEBUG 13792 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:42:17.382 DEBUG 13792 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 19:42:17.383 DEBUG 13792 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 19:42:17.384 DEBUG 13792 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:42:17.386  INFO 13792 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:42:17.386 DEBUG 13792 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 19:42:17.408 ERROR 13792 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Error fetching reservations

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.PaymentStatus.; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.PaymentStatus.
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy144.findAllWithFilters(Unknown Source) ~[na:na]
	at com.hotel.service.impl.ReservationServiceImpl.getAllReservations(ReservationServiceImpl.java:516) ~[classes/:na]
	at com.hotel.service.impl.ReservationServiceImpl$$FastClassBySpringCGLIB$$969c5397.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.ReservationServiceImpl$$EnhancerBySpringCGLIB$$abc25c8f.getAllReservations(<generated>) ~[classes/:na]
	at com.hotel.controller.ReservationController.getAllReservations(ReservationController.java:242) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.PaymentStatus.
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:179) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-04 19:42:17.411 DEBUG 13792 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:42:17.412 DEBUG 13792 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订列表失败: No enum constant com.hotel.entity.PaymentStat (truncated)...]
2025-05-04 19:42:17.414 DEBUG 13792 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 19:42:17.415 DEBUG 13792 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:44:33.624  INFO 13792 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:44:33.627  INFO 13792 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 19:44:33.649  INFO 13792 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 19:44:44.650  INFO 27908 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 27908 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 19:44:44.654 DEBUG 27908 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 19:44:44.655  INFO 27908 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 19:44:45.806  INFO 27908 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 19:44:46.061  INFO 27908 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 244 ms. Found 19 JPA repository interfaces.
2025-05-04 19:44:46.813  INFO 27908 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 19:44:46.817  INFO 27908 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 19:44:46.817  INFO 27908 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 19:44:46.818  INFO 27908 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 19:44:46.827  INFO 27908 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 19:44:46.841  INFO 27908 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 19:44:46.841  INFO 27908 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 19:44:47.045  INFO 27908 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 19:44:47.045  INFO 27908 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2321 ms
2025-05-04 19:44:47.270  INFO 27908 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 19:44:47.356  INFO 27908 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 19:44:47.606  INFO 27908 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 19:44:47.754  INFO 27908 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 19:44:48.156  INFO 27908 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 19:44:48.178  INFO 27908 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 19:44:49.632  INFO 27908 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 19:44:49.644  INFO 27908 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:44:50.215 DEBUG 27908 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 19:44:50.215 DEBUG 27908 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 19:44:51.274 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 19:44:51.285 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 19:44:51.286 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 19:44:51.286 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 19:44:51.287 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 19:44:51.287 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 19:44:51.287 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 19:44:51.288 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 19:44:51.288 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 19:44:51.289 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 19:44:51.289 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 19:44:51.289 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 19:44:51.289 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 19:44:51.290 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 19:44:51.290 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 19:44:51.290 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 19:44:51.291 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 19:44:51.291 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 19:44:51.291 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 19:44:51.291 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 19:44:51.291 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 19:44:51.291 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 19:44:51.292 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 19:44:51.292 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 19:44:51.292 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 19:44:51.293 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 19:44:51.293 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 19:44:51.293 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 19:44:51.294 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 19:44:51.294 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 19:44:51.295 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 19:44:51.295 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 19:44:51.295 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 19:44:51.295 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 19:44:51.296 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 19:44:51.296 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 19:44:51.298 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 19:44:51.299 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 19:44:51.299 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 19:44:51.299 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 19:44:51.300 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 19:44:51.300 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 19:44:51.300 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 19:44:51.300 DEBUG 27908 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 19:44:51.308  INFO 27908 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4ffcb1bd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5be8a92c, org.springframework.security.web.context.SecurityContextPersistenceFilter@628cb8e0, org.springframework.security.web.header.HeaderWriterFilter@588614f9, org.springframework.web.filter.CorsFilter@62cb977a, org.springframework.security.web.authentication.logout.LogoutFilter@714a4ba2, com.hotel.config.JwtAuthenticationFilter@345d641e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5481f204, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@171b0d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51d80f6e, org.springframework.security.web.session.SessionManagementFilter@d5eca06, org.springframework.security.web.access.ExceptionTranslationFilter@5fdff4f1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7e4a6afd]
2025-05-04 19:44:51.371  WARN 27908 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 19:44:51.551 DEBUG 27908 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 19:44:51.595  INFO 27908 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 19:44:51.686 DEBUG 27908 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 19:44:51.693 DEBUG 27908 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 19:44:51.718 DEBUG 27908 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 19:44:51.731 DEBUG 27908 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 19:44:51.927  INFO 27908 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 19:44:51.939  INFO 27908 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.972 seconds (JVM running for 9.109)
2025-05-04 19:44:56.068  INFO 27908 --- [http-nio-8090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 19:44:56.069  INFO 27908 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 19:44:56.070 DEBUG 27908 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 19:44:56.070 DEBUG 27908 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 19:44:56.070 DEBUG 27908 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 19:44:56.072 DEBUG 27908 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@786de0a3
2025-05-04 19:44:56.073 DEBUG 27908 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@10acfe30
2025-05-04 19:44:56.073 DEBUG 27908 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 19:44:56.073  INFO 27908 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-04 19:44:56.097 DEBUG 27908 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 19:44:56.097 DEBUG 27908 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 19:44:56.105 DEBUG 27908 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:44:56.105 DEBUG 27908 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:44:56.119 DEBUG 27908 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 19:44:56.120 DEBUG 27908 --- [http-nio-8090-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 19:44:56.135 DEBUG 27908 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 19:44:56.136 DEBUG 27908 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 19:44:56.140 DEBUG 27908 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 19:44:56.149 DEBUG 27908 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 19:44:56.254 DEBUG 27908 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:44:56.255 DEBUG 27908 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 19:44:56.255 DEBUG 27908 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 19:44:56.256 DEBUG 27908 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 19:44:56.257 DEBUG 27908 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 19:44:56.365 DEBUG 27908 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:44:56.366 DEBUG 27908 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 19:44:56.378 DEBUG 27908 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:44:56.379 DEBUG 27908 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 19:44:56.399 DEBUG 27908 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:44:56.399 DEBUG 27908 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:44:56.402 DEBUG 27908 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:44:56.402 DEBUG 27908 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:45:06.841 DEBUG 27908 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 19:45:06.842 DEBUG 27908 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:45:06.859 DEBUG 27908 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:45:06.859 DEBUG 27908 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 19:45:06.860 DEBUG 27908 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 19:45:06.860 DEBUG 27908 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 19:45:06.860 DEBUG 27908 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 19:45:06.871 DEBUG 27908 --- [http-nio-8090-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=4, checkIn=2027-04-30T16:00:00.000Z, checkOut=2027-05-30T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 19:45:06.933 DEBUG 27908 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:45:06.934 DEBUG 27908 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=创建预订失败: No enum constant com.hotel.entity.PaymentStatus (truncated)...]
2025-05-04 19:45:06.935 DEBUG 27908 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-04 19:45:06.936 DEBUG 27908 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:46:37.023  INFO 27908 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:46:37.025  INFO 27908 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 19:46:37.039  INFO 27908 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 19:46:43.895  INFO 35664 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 35664 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 19:46:43.900 DEBUG 35664 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 19:46:43.903  INFO 35664 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 19:46:45.237  INFO 35664 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 19:46:45.541  INFO 35664 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 289 ms. Found 19 JPA repository interfaces.
2025-05-04 19:46:46.379  INFO 35664 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 19:46:46.380  INFO 35664 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 19:46:46.381  INFO 35664 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 19:46:46.382  INFO 35664 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 19:46:46.388  INFO 35664 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 19:46:46.399  INFO 35664 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 19:46:46.399  INFO 35664 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 19:46:46.564  INFO 35664 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 19:46:46.564  INFO 35664 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2573 ms
2025-05-04 19:46:46.748  INFO 35664 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 19:46:46.812  INFO 35664 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 19:46:47.040  INFO 35664 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 19:46:47.210  INFO 35664 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 19:46:47.617  INFO 35664 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 19:46:47.641  INFO 35664 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 19:46:48.874  INFO 35664 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 19:46:48.882  INFO 35664 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:46:49.435 DEBUG 35664 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 19:46:49.436 DEBUG 35664 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 19:46:50.386 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 19:46:50.392 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 19:46:50.393 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 19:46:50.393 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 19:46:50.394 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 19:46:50.394 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 19:46:50.394 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 19:46:50.394 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 19:46:50.394 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 19:46:50.395 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 19:46:50.395 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 19:46:50.395 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 19:46:50.395 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 19:46:50.395 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 19:46:50.396 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 19:46:50.396 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 19:46:50.396 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 19:46:50.397 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 19:46:50.397 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 19:46:50.397 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 19:46:50.397 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 19:46:50.397 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 19:46:50.397 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 19:46:50.397 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 19:46:50.398 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 19:46:50.398 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 19:46:50.398 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 19:46:50.398 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 19:46:50.398 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 19:46:50.398 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 19:46:50.398 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 19:46:50.399 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 19:46:50.399 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 19:46:50.399 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 19:46:50.399 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 19:46:50.399 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 19:46:50.401 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 19:46:50.402 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 19:46:50.402 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 19:46:50.402 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 19:46:50.403 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 19:46:50.403 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 19:46:50.403 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 19:46:50.403 DEBUG 35664 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 19:46:50.410  INFO 35664 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@15096b0e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@67748053, org.springframework.security.web.context.SecurityContextPersistenceFilter@76055d02, org.springframework.security.web.header.HeaderWriterFilter@24ccc91b, org.springframework.web.filter.CorsFilter@11678469, org.springframework.security.web.authentication.logout.LogoutFilter@52c68925, com.hotel.config.JwtAuthenticationFilter@42ea14b8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@130ad58d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@648bfebe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7da59f6e, org.springframework.security.web.session.SessionManagementFilter@7ec729be, org.springframework.security.web.access.ExceptionTranslationFilter@6f6998b6, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@360d0c7a]
2025-05-04 19:46:50.457  WARN 35664 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 19:46:50.591 DEBUG 35664 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 19:46:50.614  INFO 35664 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 19:46:50.694 DEBUG 35664 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 19:46:50.700 DEBUG 35664 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 19:46:50.715 DEBUG 35664 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 19:46:50.723 DEBUG 35664 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 19:46:50.884  INFO 35664 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 19:46:50.893  INFO 35664 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.689 seconds (JVM running for 8.917)
2025-05-04 19:47:25.032  INFO 35664 --- [http-nio-8090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 19:47:25.032  INFO 35664 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 19:47:25.033 DEBUG 35664 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 19:47:25.034 DEBUG 35664 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 19:47:25.034 DEBUG 35664 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 19:47:25.037 DEBUG 35664 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5b2c9a69
2025-05-04 19:47:25.038 DEBUG 35664 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3cc5ca01
2025-05-04 19:47:25.038 DEBUG 35664 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 19:47:25.038  INFO 35664 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-05-04 19:47:25.063 DEBUG 35664 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 19:47:25.063 DEBUG 35664 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 19:47:25.076 DEBUG 35664 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:47:25.076 DEBUG 35664 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:47:25.087 DEBUG 35664 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 19:47:25.087 DEBUG 35664 --- [http-nio-8090-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 19:47:25.101 DEBUG 35664 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 19:47:25.102 DEBUG 35664 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 19:47:25.106 DEBUG 35664 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 19:47:25.114 DEBUG 35664 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 19:47:25.222 DEBUG 35664 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:47:25.223 DEBUG 35664 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 19:47:25.224 DEBUG 35664 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 19:47:25.224 DEBUG 35664 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 19:47:25.226 DEBUG 35664 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 19:47:25.330 DEBUG 35664 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:47:25.332 DEBUG 35664 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 19:47:25.345 DEBUG 35664 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:47:25.345 DEBUG 35664 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 19:47:25.369 DEBUG 35664 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:47:25.369 DEBUG 35664 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:47:25.372 DEBUG 35664 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:47:25.372 DEBUG 35664 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:47:39.979 DEBUG 35664 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 19:47:39.980 DEBUG 35664 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:47:40.005 DEBUG 35664 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:47:40.006 DEBUG 35664 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 19:47:40.006 DEBUG 35664 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 19:47:40.006 DEBUG 35664 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 19:47:40.007 DEBUG 35664 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 19:47:40.018 DEBUG 35664 --- [http-nio-8090-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=4, checkIn=2027-04-30T16:00:00.000Z, checkOut=2027-05-30T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 19:47:40.076 DEBUG 35664 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:47:40.077 DEBUG 35664 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=创建预订失败: No enum constant com.hotel.entity.PaymentStatus (truncated)...]
2025-05-04 19:47:40.078 DEBUG 35664 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-04 19:47:40.079 DEBUG 35664 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:52:38.639 DEBUG 35664 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 19:52:38.640 DEBUG 35664 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:52:38.651 DEBUG 35664 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:52:38.661 DEBUG 35664 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:52:38.662 DEBUG 35664 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 19:52:38.663 DEBUG 35664 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 19:52:38.664 DEBUG 35664 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:52:38.697  INFO 35664 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:52:38.697 DEBUG 35664 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 19:52:38.726 ERROR 35664 --- [http-nio-8090-exec-10] c.h.controller.ReservationController     : Error fetching reservations

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.PaymentStatus.; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.PaymentStatus.
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy143.findAllWithFilters(Unknown Source) ~[na:na]
	at com.hotel.service.impl.ReservationServiceImpl.getAllReservations(ReservationServiceImpl.java:516) ~[classes/:na]
	at com.hotel.service.impl.ReservationServiceImpl$$FastClassBySpringCGLIB$$969c5397.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.ReservationServiceImpl$$EnhancerBySpringCGLIB$$fedfcee7.getAllReservations(<generated>) ~[classes/:na]
	at com.hotel.controller.ReservationController.getAllReservations(ReservationController.java:242) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.PaymentStatus.
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:179) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-04 19:52:38.731 DEBUG 35664 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:52:38.731 DEBUG 35664 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订列表失败: No enum constant com.hotel.entity.PaymentStat (truncated)...]
2025-05-04 19:52:38.734 DEBUG 35664 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 19:52:38.735 DEBUG 35664 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:52:54.776 DEBUG 35664 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 19:52:54.777 DEBUG 35664 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:52:54.783 DEBUG 35664 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 19:52:54.784 DEBUG 35664 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 19:52:54.784 DEBUG 35664 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 19:52:54.785 DEBUG 35664 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 19:52:54.785 DEBUG 35664 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 19:52:54.786  INFO 35664 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 19:52:54.787 DEBUG 35664 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 19:52:54.795 ERROR 35664 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Error fetching reservations

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.PaymentStatus.; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.PaymentStatus.
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy143.findAllWithFilters(Unknown Source) ~[na:na]
	at com.hotel.service.impl.ReservationServiceImpl.getAllReservations(ReservationServiceImpl.java:516) ~[classes/:na]
	at com.hotel.service.impl.ReservationServiceImpl$$FastClassBySpringCGLIB$$969c5397.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.ReservationServiceImpl$$EnhancerBySpringCGLIB$$fedfcee7.getAllReservations(<generated>) ~[classes/:na]
	at com.hotel.controller.ReservationController.getAllReservations(ReservationController.java:242) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.PaymentStatus.
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:179) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-04 19:52:54.798 DEBUG 35664 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:52:54.798 DEBUG 35664 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订列表失败: No enum constant com.hotel.entity.PaymentStat (truncated)...]
2025-05-04 19:52:54.800 DEBUG 35664 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 19:52:54.800 DEBUG 35664 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:52:59.654  INFO 35664 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:52:59.656  INFO 35664 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 19:52:59.675  INFO 35664 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 19:53:17.994  INFO 20768 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 20768 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 19:53:17.998 DEBUG 20768 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 19:53:17.999  INFO 20768 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 19:53:19.162  INFO 20768 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 19:53:19.400  INFO 20768 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 226 ms. Found 19 JPA repository interfaces.
2025-05-04 19:53:20.286  INFO 20768 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 19:53:20.289  INFO 20768 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 19:53:20.289  INFO 20768 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 19:53:20.290  INFO 20768 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 19:53:20.299  INFO 20768 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 19:53:20.314  INFO 20768 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 19:53:20.315  INFO 20768 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 19:53:20.534  INFO 20768 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 19:53:20.535  INFO 20768 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2484 ms
2025-05-04 19:53:20.793  INFO 20768 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 19:53:20.945  INFO 20768 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 19:53:21.274  INFO 20768 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 19:53:21.470  INFO 20768 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 19:53:21.988  INFO 20768 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 19:53:22.016  INFO 20768 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 19:53:23.790  INFO 20768 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 19:53:23.801  INFO 20768 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:53:24.373 DEBUG 20768 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 19:53:24.373 DEBUG 20768 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 19:53:25.436 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 19:53:25.447 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 19:53:25.448 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 19:53:25.448 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 19:53:25.449 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 19:53:25.449 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 19:53:25.449 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 19:53:25.449 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 19:53:25.450 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 19:53:25.450 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 19:53:25.450 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 19:53:25.450 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 19:53:25.450 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 19:53:25.450 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 19:53:25.451 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 19:53:25.451 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 19:53:25.451 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 19:53:25.452 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 19:53:25.452 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 19:53:25.452 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 19:53:25.453 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 19:53:25.453 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 19:53:25.453 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 19:53:25.453 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 19:53:25.454 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 19:53:25.454 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 19:53:25.454 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 19:53:25.454 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 19:53:25.454 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 19:53:25.454 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 19:53:25.455 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 19:53:25.455 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 19:53:25.455 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 19:53:25.455 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 19:53:25.455 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 19:53:25.456 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 19:53:25.458 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 19:53:25.458 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 19:53:25.459 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 19:53:25.459 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 19:53:25.459 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 19:53:25.460 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 19:53:25.460 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 19:53:25.460 DEBUG 20768 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 19:53:25.468  INFO 20768 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@76cad511, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ff52a71, org.springframework.security.web.context.SecurityContextPersistenceFilter@5e0b7f58, org.springframework.security.web.header.HeaderWriterFilter@257da215, org.springframework.web.filter.CorsFilter@b0d4873, org.springframework.security.web.authentication.logout.LogoutFilter@455cb6d9, com.hotel.config.JwtAuthenticationFilter@4d24ab25, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fdff4f1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@117be84a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3338d706, org.springframework.security.web.session.SessionManagementFilter@2e7dd504, org.springframework.security.web.access.ExceptionTranslationFilter@af04d6d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@15c8b75c]
2025-05-04 19:53:25.531  WARN 20768 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 19:53:25.697 DEBUG 20768 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 19:53:25.726  INFO 20768 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 19:53:25.793 DEBUG 20768 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 19:53:25.799 DEBUG 20768 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 19:53:25.815 DEBUG 20768 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 19:53:25.824 DEBUG 20768 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 19:53:26.015  INFO 20768 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 19:53:26.028  INFO 20768 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 8.804 seconds (JVM running for 10.249)
2025-05-04 19:56:34.962  INFO 20768 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:56:34.965  INFO 20768 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 19:56:34.985  INFO 20768 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 19:56:48.421  INFO 29948 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 29948 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 19:56:48.424 DEBUG 29948 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 19:56:48.426  INFO 29948 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 19:56:49.897  INFO 29948 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 19:56:50.188  INFO 29948 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 278 ms. Found 19 JPA repository interfaces.
2025-05-04 19:56:51.646  INFO 29948 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 19:56:51.650  INFO 29948 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 19:56:51.652  INFO 29948 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 19:56:51.653  INFO 29948 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 19:56:51.669  INFO 29948 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 19:56:51.697  INFO 29948 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 19:56:51.699  INFO 29948 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 19:56:51.991  INFO 29948 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 19:56:51.991  INFO 29948 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3510 ms
2025-05-04 19:56:52.273  INFO 29948 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 19:56:52.370  INFO 29948 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 19:56:52.618  INFO 29948 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 19:56:52.779  INFO 29948 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 19:56:53.218  INFO 29948 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 19:56:53.242  INFO 29948 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 19:56:55.208  INFO 29948 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 19:56:55.221  INFO 29948 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:56:56.041 DEBUG 29948 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 19:56:56.042 DEBUG 29948 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 19:56:57.192 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 19:56:57.203 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 19:56:57.204 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 19:56:57.204 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 19:56:57.205 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 19:56:57.205 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 19:56:57.205 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 19:56:57.205 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 19:56:57.205 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 19:56:57.206 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 19:56:57.206 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 19:56:57.207 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 19:56:57.207 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 19:56:57.208 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 19:56:57.208 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 19:56:57.208 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 19:56:57.209 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 19:56:57.210 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 19:56:57.210 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 19:56:57.210 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 19:56:57.210 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 19:56:57.210 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 19:56:57.210 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 19:56:57.211 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 19:56:57.211 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 19:56:57.212 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 19:56:57.212 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 19:56:57.212 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 19:56:57.212 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 19:56:57.212 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 19:56:57.213 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 19:56:57.213 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 19:56:57.213 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 19:56:57.213 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 19:56:57.213 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 19:56:57.213 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 19:56:57.216 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 19:56:57.217 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 19:56:57.217 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 19:56:57.218 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 19:56:57.221 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 19:56:57.221 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 19:56:57.221 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 19:56:57.221 DEBUG 29948 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 19:56:57.231  INFO 29948 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@d79a69b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@51158fb1, org.springframework.security.web.context.SecurityContextPersistenceFilter@3da701a1, org.springframework.security.web.header.HeaderWriterFilter@5ac35b17, org.springframework.web.filter.CorsFilter@5d24703e, org.springframework.security.web.authentication.logout.LogoutFilter@3338d706, com.hotel.config.JwtAuthenticationFilter@5cff6d1d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@17d25e1d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@359fd0a2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62682ece, org.springframework.security.web.session.SessionManagementFilter@1f39b3ba, org.springframework.security.web.access.ExceptionTranslationFilter@8aa3013, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@209f0986]
2025-05-04 19:56:57.297  WARN 29948 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 19:56:57.503 DEBUG 29948 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 19:56:57.533  INFO 29948 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 19:56:57.603 DEBUG 29948 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 19:56:57.609 DEBUG 29948 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 19:56:57.628 DEBUG 29948 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 19:56:57.636 DEBUG 29948 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 19:56:57.882  INFO 29948 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 19:56:57.892  INFO 29948 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 10.04 seconds (JVM running for 11.14)
2025-05-04 19:57:03.091  INFO 29948 --- [http-nio-8090-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 19:57:03.092  INFO 29948 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 19:57:03.093 DEBUG 29948 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 19:57:03.093 DEBUG 29948 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 19:57:03.093 DEBUG 29948 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 19:57:03.094 DEBUG 29948 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@12faeada
2025-05-04 19:57:03.095 DEBUG 29948 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@58dd1d0c
2025-05-04 19:57:03.095 DEBUG 29948 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 19:57:03.096  INFO 29948 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-04 19:57:03.112 DEBUG 29948 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 19:57:03.112 DEBUG 29948 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 19:57:03.120 DEBUG 29948 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:57:03.120 DEBUG 29948 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:57:03.129 DEBUG 29948 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 19:57:03.130 DEBUG 29948 --- [http-nio-8090-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 19:57:03.143 DEBUG 29948 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 19:57:03.144 DEBUG 29948 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 19:57:03.147 DEBUG 29948 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 19:57:03.155 DEBUG 29948 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 19:57:03.248 DEBUG 29948 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:57:03.250 DEBUG 29948 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 19:57:03.251 DEBUG 29948 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 19:57:03.251 DEBUG 29948 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 19:57:03.253 DEBUG 29948 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 19:57:03.342 DEBUG 29948 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:57:03.344 DEBUG 29948 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 19:57:03.353 DEBUG 29948 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:57:03.353 DEBUG 29948 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 19:57:03.383 DEBUG 29948 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:57:03.383 DEBUG 29948 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:57:03.386 DEBUG 29948 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:57:03.386 DEBUG 29948 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:57:15.265 DEBUG 29948 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 19:57:15.265 DEBUG 29948 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:57:15.280 DEBUG 29948 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:57:15.280 DEBUG 29948 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 19:57:15.281 DEBUG 29948 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 19:57:15.281 DEBUG 29948 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 19:57:15.282 DEBUG 29948 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 19:57:15.293 DEBUG 29948 --- [http-nio-8090-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=4, checkIn=2027-04-30T16:00:00.000Z, checkOut=2027-05-30T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 19:57:15.341 DEBUG 29948 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:57:15.341 DEBUG 29948 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=创建预订失败: No enum constant com.hotel.entity.Reservation.P (truncated)...]
2025-05-04 19:57:15.342 DEBUG 29948 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-04 19:57:15.343 DEBUG 29948 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:57:20.680 DEBUG 29948 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 19:57:20.681 DEBUG 29948 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:57:20.686 DEBUG 29948 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:57:20.687 DEBUG 29948 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 19:57:20.687 DEBUG 29948 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 19:57:20.687 DEBUG 29948 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 19:57:20.689 DEBUG 29948 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 19:57:20.690 DEBUG 29948 --- [http-nio-8090-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=4, checkIn=2027-04-30T16:00:00.000Z, checkOut=2027-05-30T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 19:57:20.709 DEBUG 29948 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:57:20.709 DEBUG 29948 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=创建预订失败: No enum constant com.hotel.entity.Reservation.P (truncated)...]
2025-05-04 19:57:20.711 DEBUG 29948 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-04 19:57:20.711 DEBUG 29948 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:57:25.810 DEBUG 29948 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 19:57:25.811 DEBUG 29948 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:57:25.819 DEBUG 29948 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:57:25.820 DEBUG 29948 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 19:57:25.821 DEBUG 29948 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 19:57:25.821 DEBUG 29948 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 19:57:25.821 DEBUG 29948 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 19:57:25.823 DEBUG 29948 --- [http-nio-8090-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=4, checkIn=2027-04-30T16:00:00.000Z, checkOut=2027-05-30T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 19:57:25.841 DEBUG 29948 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:57:25.841 DEBUG 29948 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=创建预订失败: No enum constant com.hotel.entity.Reservation.P (truncated)...]
2025-05-04 19:57:25.842 DEBUG 29948 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-04 19:57:25.843 DEBUG 29948 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:57:39.011 DEBUG 29948 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 19:57:39.012 DEBUG 29948 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:57:39.018 DEBUG 29948 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:57:39.019 DEBUG 29948 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 19:57:39.019 DEBUG 29948 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 19:57:39.019 DEBUG 29948 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 19:57:39.020 DEBUG 29948 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 19:57:39.020 DEBUG 29948 --- [http-nio-8090-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=4, checkIn=2027-04-30T16:00:00.000Z, checkOut=2027-05-30T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 19:57:39.033 DEBUG 29948 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:57:39.034 DEBUG 29948 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=创建预订失败: No enum constant com.hotel.entity.Reservation.P (truncated)...]
2025-05-04 19:57:39.035 DEBUG 29948 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-04 19:57:39.035 DEBUG 29948 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:59:35.744  INFO 29948 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:59:35.747  INFO 29948 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 19:59:35.766  INFO 29948 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 19:59:45.451  INFO 23848 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 23848 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 19:59:45.453 DEBUG 23848 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 19:59:45.454  INFO 23848 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 19:59:46.477  INFO 23848 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 19:59:46.736  INFO 23848 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 247 ms. Found 19 JPA repository interfaces.
2025-05-04 19:59:47.457  INFO 23848 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 19:59:47.458  INFO 23848 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 19:59:47.459  INFO 23848 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 19:59:47.459  INFO 23848 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 19:59:47.466  INFO 23848 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 19:59:47.478  INFO 23848 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 19:59:47.478  INFO 23848 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 19:59:47.630  INFO 23848 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 19:59:47.630  INFO 23848 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2123 ms
2025-05-04 19:59:47.823  INFO 23848 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 19:59:47.888  INFO 23848 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 19:59:48.089  INFO 23848 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 19:59:48.216  INFO 23848 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 19:59:48.605  INFO 23848 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 19:59:48.625  INFO 23848 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 19:59:50.007  INFO 23848 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 19:59:50.019  INFO 23848 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 19:59:50.687 DEBUG 23848 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 19:59:50.688 DEBUG 23848 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 19:59:51.825 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 19:59:51.833 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 19:59:51.834 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 19:59:51.834 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 19:59:51.835 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 19:59:51.835 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 19:59:51.835 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 19:59:51.835 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 19:59:51.836 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 19:59:51.836 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 19:59:51.836 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 19:59:51.836 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 19:59:51.837 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 19:59:51.837 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 19:59:51.837 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 19:59:51.837 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 19:59:51.838 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 19:59:51.838 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 19:59:51.838 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 19:59:51.838 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 19:59:51.839 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 19:59:51.839 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 19:59:51.839 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 19:59:51.839 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 19:59:51.840 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 19:59:51.841 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 19:59:51.841 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 19:59:51.841 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 19:59:51.841 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 19:59:51.841 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 19:59:51.841 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 19:59:51.841 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 19:59:51.841 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 19:59:51.841 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 19:59:51.841 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 19:59:51.841 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 19:59:51.843 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 19:59:51.844 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 19:59:51.844 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 19:59:51.844 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 19:59:51.845 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 19:59:51.845 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 19:59:51.845 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 19:59:51.845 DEBUG 23848 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 19:59:51.850  INFO 23848 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7c045627, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d79a69b, org.springframework.security.web.context.SecurityContextPersistenceFilter@34f2d3a6, org.springframework.security.web.header.HeaderWriterFilter@3b0d9da, org.springframework.web.filter.CorsFilter@dd3e1e3, org.springframework.security.web.authentication.logout.LogoutFilter@1ff52a71, com.hotel.config.JwtAuthenticationFilter@1f381eaf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f51d1cc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@17d25e1d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51158fb1, org.springframework.security.web.session.SessionManagementFilter@6ddc9001, org.springframework.security.web.access.ExceptionTranslationFilter@64821706, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@54a7d1b9]
2025-05-04 19:59:51.906  WARN 23848 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 19:59:52.048 DEBUG 23848 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 19:59:52.074  INFO 23848 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 19:59:52.154 DEBUG 23848 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 19:59:52.160 DEBUG 23848 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 19:59:52.175 DEBUG 23848 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 19:59:52.186 DEBUG 23848 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 19:59:52.347  INFO 23848 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 19:59:52.358  INFO 23848 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.515 seconds (JVM running for 8.659)
2025-05-04 19:59:57.016  INFO 23848 --- [http-nio-8090-exec-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 19:59:57.017  INFO 23848 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 19:59:57.018 DEBUG 23848 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 19:59:57.018 DEBUG 23848 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 19:59:57.018 DEBUG 23848 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 19:59:57.019 DEBUG 23848 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@31d09031
2025-05-04 19:59:57.020 DEBUG 23848 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2943e61c
2025-05-04 19:59:57.021 DEBUG 23848 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 19:59:57.021  INFO 23848 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-04 19:59:57.045 DEBUG 23848 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 19:59:57.045 DEBUG 23848 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 19:59:57.053 DEBUG 23848 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:59:57.053 DEBUG 23848 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 19:59:57.065 DEBUG 23848 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 19:59:57.066 DEBUG 23848 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 19:59:57.076 DEBUG 23848 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 19:59:57.077 DEBUG 23848 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 19:59:57.081 DEBUG 23848 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 19:59:57.088 DEBUG 23848 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 19:59:57.193 DEBUG 23848 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 19:59:57.194 DEBUG 23848 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 19:59:57.194 DEBUG 23848 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 19:59:57.194 DEBUG 23848 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 19:59:57.195 DEBUG 23848 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 19:59:57.304 DEBUG 23848 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:59:57.305 DEBUG 23848 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 19:59:57.314 DEBUG 23848 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 19:59:57.314 DEBUG 23848 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 19:59:57.335 DEBUG 23848 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:59:57.335 DEBUG 23848 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 19:59:57.337 DEBUG 23848 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 19:59:57.337 DEBUG 23848 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:00:07.079 DEBUG 23848 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 20:00:07.079 DEBUG 23848 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:00:07.096 DEBUG 23848 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:00:07.097 DEBUG 23848 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 20:00:07.098 DEBUG 23848 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 20:00:07.098 DEBUG 23848 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 20:00:07.098 DEBUG 23848 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 20:00:07.108 DEBUG 23848 --- [http-nio-8090-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=4, checkIn=2027-04-30T16:00:00.000Z, checkOut=2027-05-30T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 20:00:07.167 DEBUG 23848 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:00:07.168 DEBUG 23848 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=创建预订失败: No enum constant com.hotel.entity.Reservation.P (truncated)...]
2025-05-04 20:00:07.169 DEBUG 23848 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-04 20:00:07.170 DEBUG 23848 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:02:14.632  INFO 23848 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 20:02:14.634  INFO 23848 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 20:02:14.664  INFO 23848 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 20:02:27.009  INFO 40108 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 40108 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 20:02:27.011 DEBUG 40108 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 20:02:27.012  INFO 40108 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 20:02:27.998  INFO 40108 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 20:02:28.232  INFO 40108 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 221 ms. Found 19 JPA repository interfaces.
2025-05-04 20:02:28.847  INFO 40108 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 20:02:28.849  INFO 40108 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 20:02:28.850  INFO 40108 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 20:02:28.851  INFO 40108 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 20:02:28.861  INFO 40108 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 20:02:28.870  INFO 40108 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 20:02:28.870  INFO 40108 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 20:02:29.023  INFO 40108 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 20:02:29.024  INFO 40108 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1966 ms
2025-05-04 20:02:29.219  INFO 40108 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 20:02:29.292  INFO 40108 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 20:02:29.506  INFO 40108 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 20:02:29.647  INFO 40108 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 20:02:30.016  INFO 40108 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 20:02:30.035  INFO 40108 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 20:02:31.263  INFO 40108 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 20:02:31.271  INFO 40108 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 20:02:31.844 DEBUG 40108 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 20:02:31.844 DEBUG 40108 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 20:02:32.907 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 20:02:32.915 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 20:02:32.916 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 20:02:32.916 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 20:02:32.917 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 20:02:32.917 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 20:02:32.917 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 20:02:32.917 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 20:02:32.918 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 20:02:32.919 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 20:02:32.919 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 20:02:32.919 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 20:02:32.919 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 20:02:32.920 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 20:02:32.920 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 20:02:32.920 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 20:02:32.921 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 20:02:32.921 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 20:02:32.921 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 20:02:32.921 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 20:02:32.921 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 20:02:32.921 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 20:02:32.921 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 20:02:32.921 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 20:02:32.922 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 20:02:32.922 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 20:02:32.922 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 20:02:32.922 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 20:02:32.922 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 20:02:32.922 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 20:02:32.923 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 20:02:32.923 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 20:02:32.923 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 20:02:32.923 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 20:02:32.923 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 20:02:32.923 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 20:02:32.925 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 20:02:32.925 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 20:02:32.925 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 20:02:32.925 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 20:02:32.926 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 20:02:32.926 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 20:02:32.927 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 20:02:32.927 DEBUG 40108 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 20:02:32.934  INFO 40108 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58ca1cad, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ae6119b, org.springframework.security.web.context.SecurityContextPersistenceFilter@48b1b469, org.springframework.security.web.header.HeaderWriterFilter@65c66fc4, org.springframework.web.filter.CorsFilter@4f6a5cc9, org.springframework.security.web.authentication.logout.LogoutFilter@d082916, com.hotel.config.JwtAuthenticationFilter@36dc6b9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@15e748b5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27ada0e8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31b6eec8, org.springframework.security.web.session.SessionManagementFilter@419c70f6, org.springframework.security.web.access.ExceptionTranslationFilter@7d48299e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@44bb6856]
2025-05-04 20:02:32.996  WARN 40108 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 20:02:33.159 DEBUG 40108 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 20:02:33.195  INFO 40108 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 20:02:33.293 DEBUG 40108 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 20:02:33.299 DEBUG 40108 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 20:02:33.316 DEBUG 40108 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 20:02:33.326 DEBUG 40108 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 20:02:33.535  INFO 40108 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 20:02:33.550  INFO 40108 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.102 seconds (JVM running for 8.353)
2025-05-04 20:02:52.006  INFO 40108 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 20:02:52.007  INFO 40108 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 20:02:52.008 DEBUG 40108 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 20:02:52.009 DEBUG 40108 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 20:02:52.009 DEBUG 40108 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 20:02:52.010 DEBUG 40108 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@100d5018
2025-05-04 20:02:52.012 DEBUG 40108 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2cd6fae8
2025-05-04 20:02:52.012 DEBUG 40108 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 20:02:52.013  INFO 40108 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-04 20:02:52.031 DEBUG 40108 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 20:02:52.031 DEBUG 40108 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 20:02:52.041 DEBUG 40108 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:02:52.041 DEBUG 40108 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:02:52.054 DEBUG 40108 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 20:02:52.055 DEBUG 40108 --- [http-nio-8090-exec-1] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 20:02:52.065 DEBUG 40108 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 20:02:52.066 DEBUG 40108 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 20:02:52.070 DEBUG 40108 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 20:02:52.078 DEBUG 40108 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 20:02:52.176 DEBUG 40108 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:02:52.177 DEBUG 40108 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 20:02:52.178 DEBUG 40108 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 20:02:52.178 DEBUG 40108 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 20:02:52.180 DEBUG 40108 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 20:02:52.288 DEBUG 40108 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:02:52.289 DEBUG 40108 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 20:02:52.298 DEBUG 40108 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:02:52.298 DEBUG 40108 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 20:02:52.323 DEBUG 40108 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:02:52.323 DEBUG 40108 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:02:52.325 DEBUG 40108 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:02:52.325 DEBUG 40108 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:03:04.701 DEBUG 40108 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 20:03:04.701 DEBUG 40108 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:03:04.716 DEBUG 40108 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:03:04.716 DEBUG 40108 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 20:03:04.716 DEBUG 40108 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 20:03:04.717 DEBUG 40108 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 20:03:04.717 DEBUG 40108 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 20:03:04.729 DEBUG 40108 --- [http-nio-8090-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=4, checkIn=2027-04-30T16:00:00.000Z, checkOut=2027-05-29T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 20:03:04.787 DEBUG 40108 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:03:04.788 DEBUG 40108 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=创建预订失败: No enum constant com.hotel.entity.Reservation.P (truncated)...]
2025-05-04 20:03:04.789 DEBUG 40108 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-04 20:03:04.790 DEBUG 40108 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:04:37.597  INFO 40108 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 20:04:37.599  INFO 40108 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 20:04:37.609  INFO 40108 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 20:04:45.708  INFO 16796 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 16796 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 20:04:45.711 DEBUG 16796 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 20:04:45.712  INFO 16796 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 20:04:46.749  INFO 16796 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 20:04:47.041  INFO 16796 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 278 ms. Found 19 JPA repository interfaces.
2025-05-04 20:04:47.703  INFO 16796 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 20:04:47.705  INFO 16796 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 20:04:47.705  INFO 16796 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 20:04:47.706  INFO 16796 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 20:04:47.710  INFO 16796 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 20:04:47.721  INFO 16796 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 20:04:47.722  INFO 16796 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 20:04:47.874  INFO 16796 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 20:04:47.874  INFO 16796 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2111 ms
2025-05-04 20:04:48.061  INFO 16796 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 20:04:48.108  INFO 16796 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 20:04:48.260  INFO 16796 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 20:04:48.369  INFO 16796 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 20:04:48.679  INFO 16796 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 20:04:48.694  INFO 16796 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 20:04:50.015  INFO 16796 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 20:04:50.027  INFO 16796 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 20:04:50.599 DEBUG 16796 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 20:04:50.600 DEBUG 16796 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 20:04:51.623 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 20:04:51.631 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 20:04:51.635 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 20:04:51.635 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 20:04:51.636 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 20:04:51.636 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 20:04:51.636 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 20:04:51.637 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 20:04:51.637 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 20:04:51.637 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 20:04:51.638 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 20:04:51.638 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 20:04:51.638 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 20:04:51.639 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 20:04:51.639 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 20:04:51.639 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 20:04:51.640 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 20:04:51.640 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 20:04:51.640 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 20:04:51.640 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 20:04:51.641 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 20:04:51.641 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 20:04:51.641 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 20:04:51.641 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 20:04:51.641 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 20:04:51.642 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 20:04:51.642 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 20:04:51.642 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 20:04:51.642 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 20:04:51.642 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 20:04:51.642 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 20:04:51.642 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 20:04:51.642 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 20:04:51.643 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 20:04:51.643 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 20:04:51.643 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 20:04:51.646 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 20:04:51.646 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 20:04:51.646 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 20:04:51.646 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 20:04:51.648 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 20:04:51.648 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 20:04:51.648 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 20:04:51.648 DEBUG 16796 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 20:04:51.656  INFO 16796 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58ca1cad, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ae6119b, org.springframework.security.web.context.SecurityContextPersistenceFilter@48b1b469, org.springframework.security.web.header.HeaderWriterFilter@65c66fc4, org.springframework.web.filter.CorsFilter@115924ba, org.springframework.security.web.authentication.logout.LogoutFilter@d082916, com.hotel.config.JwtAuthenticationFilter@3f030217, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@15e748b5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27ada0e8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31b6eec8, org.springframework.security.web.session.SessionManagementFilter@419c70f6, org.springframework.security.web.access.ExceptionTranslationFilter@7d48299e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@44bb6856]
2025-05-04 20:04:51.720  WARN 16796 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 20:04:51.859 DEBUG 16796 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 20:04:51.883  INFO 16796 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 20:04:51.950 DEBUG 16796 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 20:04:51.954 DEBUG 16796 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 20:04:51.972 DEBUG 16796 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 20:04:51.981 DEBUG 16796 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 20:04:52.136  INFO 16796 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 20:04:52.147  INFO 16796 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.008 seconds (JVM running for 8.045)
2025-05-04 20:05:54.989  INFO 16796 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 20:05:54.990  INFO 16796 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 20:05:54.991 DEBUG 16796 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 20:05:54.991 DEBUG 16796 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 20:05:54.992 DEBUG 16796 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 20:05:54.994 DEBUG 16796 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@100d5018
2025-05-04 20:05:54.995 DEBUG 16796 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@318353
2025-05-04 20:05:54.996 DEBUG 16796 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 20:05:54.996  INFO 16796 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-05-04 20:05:55.019 DEBUG 16796 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 20:05:55.020 DEBUG 16796 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 20:05:55.032 DEBUG 16796 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:05:55.032 DEBUG 16796 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:05:55.049 DEBUG 16796 --- [http-nio-8090-exec-5] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 20:05:55.049 DEBUG 16796 --- [http-nio-8090-exec-5] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 20:05:55.064 DEBUG 16796 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 20:05:55.066 DEBUG 16796 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 20:05:55.071 DEBUG 16796 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 20:05:55.083 DEBUG 16796 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 20:05:55.226 DEBUG 16796 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:05:55.227 DEBUG 16796 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 20:05:55.227 DEBUG 16796 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 20:05:55.228 DEBUG 16796 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 20:05:55.230 DEBUG 16796 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 20:05:55.354 DEBUG 16796 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:05:55.355 DEBUG 16796 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 20:05:55.365 DEBUG 16796 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:05:55.366 DEBUG 16796 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 20:05:55.395 DEBUG 16796 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:05:55.395 DEBUG 16796 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:05:55.397 DEBUG 16796 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:05:55.397 DEBUG 16796 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:06:05.615 DEBUG 16796 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 20:06:05.616 DEBUG 16796 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:06:05.639 DEBUG 16796 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:06:05.639 DEBUG 16796 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 20:06:05.640 DEBUG 16796 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 20:06:05.640 DEBUG 16796 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 20:06:05.641 DEBUG 16796 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 20:06:05.651 DEBUG 16796 --- [http-nio-8090-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=4, checkIn=2027-04-30T16:00:00.000Z, checkOut=2027-05-30T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 20:06:05.657  INFO 16796 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : 接收到预订请求数据 Map:
2025-05-04 20:06:05.657  INFO 16796 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : --- Debugging reservationData before service call ---
2025-05-04 20:06:05.658  INFO 16796 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Contains 'paymentStatus' key? false
2025-05-04 20:06:05.658  INFO 16796 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : --- End Debugging reservationData ---
2025-05-04 20:06:05.706 DEBUG 16796 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:06:05.707 DEBUG 16796 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=创建预订失败: No enum constant com.hotel.entity.Reservation.P (truncated)...]
2025-05-04 20:06:05.708 DEBUG 16796 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 400 BAD_REQUEST
2025-05-04 20:06:05.709 DEBUG 16796 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:07:27.412  INFO 16796 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 20:07:27.415  INFO 16796 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 20:07:27.434  INFO 16796 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 20:09:06.455  INFO 19660 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 19660 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 20:09:06.458 DEBUG 19660 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 20:09:06.459  INFO 19660 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 20:09:07.621  INFO 19660 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 20:09:07.918  INFO 19660 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 284 ms. Found 19 JPA repository interfaces.
2025-05-04 20:09:08.626  INFO 19660 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 20:09:08.628  INFO 19660 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 20:09:08.629  INFO 19660 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 20:09:08.629  INFO 19660 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 20:09:08.695  INFO 19660 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 20:09:08.709  INFO 19660 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 20:09:08.709  INFO 19660 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 20:09:08.871  INFO 19660 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 20:09:08.871  INFO 19660 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2352 ms
2025-05-04 20:09:09.082  INFO 19660 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 20:09:09.162  INFO 19660 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 20:09:09.397  INFO 19660 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 20:09:09.557  INFO 19660 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 20:09:09.972  INFO 19660 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 20:09:09.989  INFO 19660 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 20:09:11.409  INFO 19660 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 20:09:11.423  INFO 19660 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 20:09:11.985 DEBUG 19660 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 20:09:11.987 DEBUG 19660 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 20:09:12.984 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 20:09:12.994 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 20:09:12.995 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 20:09:12.995 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 20:09:12.996 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 20:09:12.996 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 20:09:12.996 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 20:09:12.996 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 20:09:12.997 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 20:09:12.997 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 20:09:12.997 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 20:09:12.997 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 20:09:12.998 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 20:09:12.998 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 20:09:12.998 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 20:09:12.998 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 20:09:12.999 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 20:09:12.999 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 20:09:12.999 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 20:09:13.000 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 20:09:13.000 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 20:09:13.000 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 20:09:13.000 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 20:09:13.000 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 20:09:13.001 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 20:09:13.001 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 20:09:13.001 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 20:09:13.001 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 20:09:13.001 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 20:09:13.001 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 20:09:13.001 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 20:09:13.001 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 20:09:13.001 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 20:09:13.001 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 20:09:13.002 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 20:09:13.002 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 20:09:13.004 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 20:09:13.004 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 20:09:13.004 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 20:09:13.005 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 20:09:13.005 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 20:09:13.006 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 20:09:13.006 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 20:09:13.006 DEBUG 19660 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 20:09:13.016  INFO 19660 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@14a5d7ee, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4778c085, org.springframework.security.web.context.SecurityContextPersistenceFilter@3db3668, org.springframework.security.web.header.HeaderWriterFilter@1174ff02, org.springframework.web.filter.CorsFilter@13e6c544, org.springframework.security.web.authentication.logout.LogoutFilter@32f8a37b, com.hotel.config.JwtAuthenticationFilter@1e6e29d6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7e9ea888, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24f8707c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@76929266, org.springframework.security.web.session.SessionManagementFilter@58c93be3, org.springframework.security.web.access.ExceptionTranslationFilter@6bab8290, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@19a799cb]
2025-05-04 20:09:13.068  WARN 19660 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 20:09:13.231 DEBUG 19660 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 20:09:13.262  INFO 19660 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 20:09:13.360 DEBUG 19660 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 20:09:13.367 DEBUG 19660 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 20:09:13.390 DEBUG 19660 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 20:09:13.401 DEBUG 19660 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 20:09:13.628  INFO 19660 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 20:09:13.639  INFO 19660 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.726 seconds (JVM running for 9.044)
2025-05-04 20:11:12.572  INFO 19660 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 20:11:12.574  INFO 19660 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 20:11:12.575 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 20:11:12.575 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 20:11:12.575 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 20:11:12.576 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@63bb719d
2025-05-04 20:11:12.577 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@58397dd
2025-05-04 20:11:12.578 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 20:11:12.578  INFO 19660 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2025-05-04 20:11:12.603 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 20:11:12.610 DEBUG 19660 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:11:12.750 DEBUG 19660 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 20:11:12.767 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 20:11:12.768 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 20:11:12.773 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 20:11:12.780 DEBUG 19660 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 20:11:13.120 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:11:13.121 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=12, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 20:11:13.218 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:11:13.221 DEBUG 19660 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:11:33.940 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 20:11:33.941 DEBUG 19660 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 20:11:33.942 DEBUG 19660 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:11:33.942 DEBUG 19660 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:11:33.942 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 20:11:33.943 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 20:11:33.950 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 20:11:33.950 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 20:11:33.950 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 20:11:33.951 DEBUG 19660 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 20:11:33.951 DEBUG 19660 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:11:33.952 DEBUG 19660 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 20:11:33.952 DEBUG 19660 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 20:11:33.952 DEBUG 19660 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 20:11:33.956 DEBUG 19660 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 20:11:34.029 DEBUG 19660 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:11:34.030 DEBUG 19660 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 20:11:34.033 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:11:34.034 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 20:11:34.040 DEBUG 19660 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:11:34.040 DEBUG 19660 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:11:34.043 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:11:34.044 DEBUG 19660 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:12:17.716 DEBUG 19660 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/staff?page=0&pageSize=10
2025-05-04 20:12:17.717 DEBUG 19660 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:12:17.724 DEBUG 19660 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 20:12:17.724 DEBUG 19660 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/staff?page=0&pageSize=10] with attributes [authenticated]
2025-05-04 20:12:17.725 DEBUG 19660 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/staff?page=0&pageSize=10
2025-05-04 20:12:17.725 DEBUG 19660 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/staff?page=0&pageSize=10", parameters={masked}
2025-05-04 20:12:17.726 DEBUG 19660 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllStaffPaginated(int, int, String, String, String)
2025-05-04 20:12:17.772 DEBUG 19660 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:12:17.773 DEBUG 19660 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=6, users=[UserDTO(id=19, username=前台妹妹00 (truncated)...]
2025-05-04 20:12:17.778 DEBUG 19660 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:12:17.778 DEBUG 19660 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:12:18.567 DEBUG 19660 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-04 20:12:18.568 DEBUG 19660 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:12:18.573 DEBUG 19660 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 20:12:18.575 DEBUG 19660 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users?page=1&pageSize=10&username=&phone=&status=] with attributes [hasRole('ROLE_ADMIN')]
2025-05-04 20:12:18.576 DEBUG 19660 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-04 20:12:18.576 DEBUG 19660 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/users?page=1&pageSize=10&username=&phone=&status=", parameters={masked}
2025-05-04 20:12:18.577 DEBUG 19660 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllUsers(int, int, String, String, String, String)
2025-05-04 20:12:18.607 DEBUG 19660 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:12:18.608 DEBUG 19660 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=19, users=[UserDTO(id=19, username=前台妹妹0 (truncated)...]
2025-05-04 20:12:18.610 DEBUG 19660 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:12:18.611 DEBUG 19660 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:12:18.906 DEBUG 19660 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 20:12:18.907 DEBUG 19660 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:12:18.914 DEBUG 19660 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 20:12:18.915 DEBUG 19660 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 20:12:18.916 DEBUG 19660 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 20:12:18.916 DEBUG 19660 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 20:12:18.917 DEBUG 19660 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 20:12:18.941  INFO 19660 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 20:12:18.941 DEBUG 19660 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 20:12:18.974 ERROR 19660 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Error fetching reservations

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.Reservation.PaymentStatus.; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.Reservation.PaymentStatus.
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy145.findAllWithFilters(Unknown Source) ~[na:na]
	at com.hotel.service.impl.ReservationServiceImpl.getAllReservations(ReservationServiceImpl.java:524) ~[classes/:na]
	at com.hotel.service.impl.ReservationServiceImpl$$FastClassBySpringCGLIB$$969c5397.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.ReservationServiceImpl$$EnhancerBySpringCGLIB$$9a734f11.getAllReservations(<generated>) ~[classes/:na]
	at com.hotel.controller.ReservationController.getAllReservations(ReservationController.java:253) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.Reservation.PaymentStatus.
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:179) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-04 20:12:18.979 DEBUG 19660 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:12:18.980 DEBUG 19660 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订列表失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:12:18.982 DEBUG 19660 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:12:18.982 DEBUG 19660 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:12:27.848 DEBUG 19660 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-04 20:12:27.849 DEBUG 19660 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:12:27.865 DEBUG 19660 --- [http-nio-8090-exec-7] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 20:12:27.867 DEBUG 19660 --- [http-nio-8090-exec-7] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 20:12:27.868 DEBUG 19660 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-04 20:12:27.868 DEBUG 19660 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-04 20:12:27.869 DEBUG 19660 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-04 20:12:27.869 DEBUG 19660 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-04 20:12:27.904 DEBUG 19660 --- [http-nio-8090-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=17777777778, password=17777777778)]
2025-05-04 20:12:28.085 DEBUG 19660 --- [http-nio-8090-exec-7] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-04 20:12:28.109 DEBUG 19660 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:12:28.110 DEBUG 19660 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=18, username=dawwadw, role=CUSTOMER, token=eyJhbGci (truncated)...]
2025-05-04 20:12:28.111 DEBUG 19660 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:12:28.112 DEBUG 19660 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:12:28.133 DEBUG 19660 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 20:12:28.133 DEBUG 19660 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:12:28.139 DEBUG 19660 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:12:28.140 DEBUG 19660 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 20:12:28.140 DEBUG 19660 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 20:12:28.141 DEBUG 19660 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 20:12:28.142 DEBUG 19660 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 20:12:28.152 DEBUG 19660 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:12:28.153 DEBUG 19660 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 20:12:28.155 DEBUG 19660 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:12:28.155 DEBUG 19660 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:12:28.174 DEBUG 19660 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-04 20:12:28.174 DEBUG 19660 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:12:28.182 DEBUG 19660 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:12:28.183 DEBUG 19660 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-04 20:12:28.183 DEBUG 19660 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-04 20:12:28.184 DEBUG 19660 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-04 20:12:28.184 DEBUG 19660 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-04 20:12:28.194 DEBUG 19660 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:12:28.195 DEBUG 19660 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=MembershipDTO(userId=18, username=dawwadw, name=asdwd, memberLevel=钻石会员, memberLevel (truncated)...]
2025-05-04 20:12:28.200 DEBUG 19660 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:12:28.202 DEBUG 19660 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:12:29.637 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 20:12:29.637 DEBUG 19660 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/rooms/types
2025-05-04 20:12:29.639 DEBUG 19660 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:12:29.639 DEBUG 19660 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:12:29.639 DEBUG 19660 --- [http-nio-8090-exec-10] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-04 20:12:29.640 DEBUG 19660 --- [http-nio-8090-exec-10] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-04 20:12:29.641 DEBUG 19660 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/rooms/types] with attributes [permitAll]
2025-05-04 20:12:29.641 DEBUG 19660 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/rooms/types
2025-05-04 20:12:29.642 DEBUG 19660 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/rooms/types", parameters={}
2025-05-04 20:12:29.642 DEBUG 19660 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.RoomController#getAllRoomTypes()
2025-05-04 20:12:29.647 DEBUG 19660 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:12:29.648 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 20:12:29.648 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 20:12:29.649 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 20:12:29.650 DEBUG 19660 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 20:12:29.660 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:12:29.660 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 20:12:29.662 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:12:29.662 DEBUG 19660 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:12:29.692 DEBUG 19660 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:12:29.692 DEBUG 19660 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=[{area=null, amenities=[无限量矿泉水、咖啡、茶叶等], availableCount=8, images=[], name=行政套房, desc (truncated)...]
2025-05-04 20:12:29.694 DEBUG 19660 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:12:29.694 DEBUG 19660 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:12:40.672 DEBUG 19660 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/reservations
2025-05-04 20:12:40.673 DEBUG 19660 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:12:40.680 DEBUG 19660 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:12:40.681 DEBUG 19660 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/reservations] with attributes [authenticated]
2025-05-04 20:12:40.681 DEBUG 19660 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/reservations
2025-05-04 20:12:40.681 DEBUG 19660 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/reservations", parameters={}
2025-05-04 20:12:40.681 DEBUG 19660 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#createReservation(Map)
2025-05-04 20:12:40.685 DEBUG 19660 --- [http-nio-8090-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [{userId=18, roomType=1, checkIn=2027-04-30T16:00:00.000Z, checkOut=2027-05-30T16:00:00.000Z, roomCou (truncated)...]
2025-05-04 20:12:40.686  INFO 19660 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : 接收到预订请求数据 Map:
2025-05-04 20:12:40.686  INFO 19660 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : --- Debugging reservationData before service call ---
2025-05-04 20:12:40.686  INFO 19660 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : Contains 'paymentStatus' key? false
2025-05-04 20:12:40.686  INFO 19660 --- [http-nio-8090-exec-3] c.h.controller.ReservationController     : --- End Debugging reservationData ---
2025-05-04 20:12:40.730  INFO 19660 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : No paymentStatus provided in request. Using default UNPAID.
2025-05-04 20:12:40.871  INFO 19660 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : [POINTS_ON_CREATE] Triggering consumption record for Reservation ID: 18
2025-05-04 20:12:40.877  INFO 19660 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] Calculated pointsEarned: 50388 for amount: 25194.00
2025-05-04 20:12:40.877  INFO 19660 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] ConsumptionRecord before save: [FAILED toString()]
2025-05-04 20:12:40.920  INFO 19660 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] Inside addConsumptionRecord. Saved entity ID: 3, Points Earned: 50388
2025-05-04 20:12:40.920  INFO 19660 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] ConsumptionRecord saved successfully. ID: 3, Points Earned in returned entity: 50388
2025-05-04 20:12:40.921  INFO 19660 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] User points before update: 240152, adding: 50388, after update: 290540
2025-05-04 20:12:40.938  INFO 19660 --- [http-nio-8090-exec-3] c.h.s.impl.ConsumptionRecordServiceImpl  : [SAVE_POINTS] userService.updateUser called successfully for userId: 18
2025-05-04 20:12:40.938  INFO 19660 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : [POINTS_ON_CREATE] Consumption record processing finished for Reservation ID: 18
2025-05-04 20:12:40.986 DEBUG 19660 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:12:40.987 DEBUG 19660 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=预订创建成功, data={discountRate=0.85, reservationId=18, origi (truncated)...]
2025-05-04 20:12:40.992  WARN 19660 --- [http-nio-8090-exec-3] o.h.e.loading.internal.LoadContexts      : HHH000100: Fail-safe cleanup (collections) : org.hibernate.engine.loading.internal.CollectionLoadContext@76a36d78<rs=HikariProxyResultSet@1224620992 wrapping Result set representing update count of 7>
2025-05-04 20:12:40.994  WARN 19660 --- [http-nio-8090-exec-3] o.h.e.l.internal.CollectionLoadContext   : HHH000160: On CollectionLoadContext#cleanup, localLoadingCollectionKeys contained [1] entries
2025-05-04 20:12:40.994 DEBUG 19660 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:12:40.995 DEBUG 19660 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:12:41.017 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-04 20:12:41.017 DEBUG 19660 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:12:41.025 DEBUG 19660 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:12:41.026 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-04 20:12:41.026 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-04 20:12:41.026 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-04 20:12:41.027 DEBUG 19660 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-04 20:12:41.035 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:12:41.035 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=MembershipDTO(userId=18, username=dawwadw, name=asdwd, memberLevel=钻石会员, memberLevel (truncated)...]
2025-05-04 20:12:41.036 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:12:41.037 DEBUG 19660 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:12:42.982 DEBUG 19660 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 20:12:42.984 DEBUG 19660 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:12:42.987 DEBUG 19660 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:12:42.988 DEBUG 19660 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:12:42.995 DEBUG 19660 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:12:42.995 DEBUG 19660 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:12:42.997 DEBUG 19660 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 20:12:42.997 DEBUG 19660 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 20:12:42.997 DEBUG 19660 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 20:12:42.997 DEBUG 19660 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:12:42.997 DEBUG 19660 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 20:12:42.999 DEBUG 19660 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 20:12:42.999 DEBUG 19660 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 20:12:43.000 DEBUG 19660 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:12:43.008 DEBUG 19660 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:12:43.008 DEBUG 19660 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 20:12:43.009 DEBUG 19660 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:12:43.010 DEBUG 19660 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:12:43.022 DEBUG 19660 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:12:43.022 DEBUG 19660 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订记录失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:12:43.023 DEBUG 19660 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:12:43.024 DEBUG 19660 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:12:43.346 DEBUG 19660 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:12:43.346 DEBUG 19660 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:12:43.353 DEBUG 19660 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:12:43.354 DEBUG 19660 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 20:12:43.354 DEBUG 19660 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:12:43.354 DEBUG 19660 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 20:12:43.355 DEBUG 19660 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:12:43.369 DEBUG 19660 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:12:43.369 DEBUG 19660 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订记录失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:12:43.371 DEBUG 19660 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:12:43.371 DEBUG 19660 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:12:49.663 DEBUG 19660 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:12:49.664 DEBUG 19660 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:12:49.674 DEBUG 19660 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:12:49.675 DEBUG 19660 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 20:12:49.675 DEBUG 19660 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:12:49.676 DEBUG 19660 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 20:12:49.676 DEBUG 19660 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:12:49.693 DEBUG 19660 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:12:49.693 DEBUG 19660 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订记录失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:12:49.696 DEBUG 19660 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:12:49.696 DEBUG 19660 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:12:50.358 DEBUG 19660 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:12:50.358 DEBUG 19660 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:12:50.363 DEBUG 19660 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:12:50.364 DEBUG 19660 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 20:12:50.365 DEBUG 19660 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:12:50.365 DEBUG 19660 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 20:12:50.365 DEBUG 19660 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:12:50.381 DEBUG 19660 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:12:50.381 DEBUG 19660 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订记录失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:12:50.382 DEBUG 19660 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:12:50.383 DEBUG 19660 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:17:16.300 DEBUG 19660 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 20:17:16.301 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:17:16.301 DEBUG 19660 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:17:16.301 DEBUG 19660 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:17:16.314 DEBUG 19660 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:17:16.314 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 20:17:16.315 DEBUG 19660 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:17:16.315 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:17:16.316 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 20:17:16.316 DEBUG 19660 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 20:17:16.316 DEBUG 19660 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 20:17:16.320 DEBUG 19660 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 20:17:16.316 DEBUG 19660 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:17:16.322 DEBUG 19660 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 20:17:16.331 DEBUG 19660 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:17:16.332 DEBUG 19660 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 20:17:16.334 DEBUG 19660 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:17:16.334 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:17:16.334 DEBUG 19660 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:17:16.334 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订记录失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:17:16.336 DEBUG 19660 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:17:16.336 DEBUG 19660 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:17:16.363 DEBUG 19660 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:17:16.363 DEBUG 19660 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:17:16.379 DEBUG 19660 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:17:16.380 DEBUG 19660 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 20:17:16.380 DEBUG 19660 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:17:16.381 DEBUG 19660 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 20:17:16.381 DEBUG 19660 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:17:16.403 DEBUG 19660 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:17:16.403 DEBUG 19660 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订记录失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:17:16.406 DEBUG 19660 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:17:16.407 DEBUG 19660 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:17:17.702 DEBUG 19660 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:17:17.703 DEBUG 19660 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:17:17.709 DEBUG 19660 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:17:17.710 DEBUG 19660 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 20:17:17.710 DEBUG 19660 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:17:17.710 DEBUG 19660 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 20:17:17.710 DEBUG 19660 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:17:17.724 DEBUG 19660 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:17:17.724 DEBUG 19660 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订记录失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:17:17.725 DEBUG 19660 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:17:17.726 DEBUG 19660 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:22:15.246 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 20:22:15.247 DEBUG 19660 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:22:15.252 DEBUG 19660 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:22:15.252 DEBUG 19660 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:22:15.256 DEBUG 19660 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:22:15.257 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 20:22:15.257 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 20:22:15.258 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 20:22:15.259 DEBUG 19660 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 20:22:15.259 DEBUG 19660 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:22:15.260 DEBUG 19660 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 20:22:15.260 DEBUG 19660 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:22:15.260 DEBUG 19660 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 20:22:15.261 DEBUG 19660 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:22:15.267 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:22:15.268 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 20:22:15.270 DEBUG 19660 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:22:15.270 DEBUG 19660 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:22:15.280 DEBUG 19660 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:22:15.281 DEBUG 19660 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订记录失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:22:15.282 DEBUG 19660 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:22:15.282 DEBUG 19660 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:22:15.300 DEBUG 19660 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:22:15.300 DEBUG 19660 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:22:15.307 DEBUG 19660 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:22:15.308 DEBUG 19660 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 20:22:15.308 DEBUG 19660 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:22:15.308 DEBUG 19660 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 20:22:15.308 DEBUG 19660 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:22:15.324 DEBUG 19660 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:22:15.325 DEBUG 19660 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订记录失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:22:15.327 DEBUG 19660 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:22:15.327 DEBUG 19660 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:22:16.592 DEBUG 19660 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:22:16.592 DEBUG 19660 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:22:16.598 DEBUG 19660 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:22:16.599 DEBUG 19660 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 20:22:16.599 DEBUG 19660 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:22:16.599 DEBUG 19660 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 20:22:16.600 DEBUG 19660 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:22:16.614 DEBUG 19660 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:22:16.614 DEBUG 19660 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订记录失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:22:16.615 DEBUG 19660 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:22:16.616 DEBUG 19660 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:30:32.847  INFO 19660 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 20:30:32.849  INFO 19660 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 20:30:32.860  INFO 19660 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 20:31:53.734  INFO 35044 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 35044 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 20:31:53.739 DEBUG 35044 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 20:31:53.741  INFO 35044 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 20:31:57.852  INFO 35044 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 20:31:58.113  INFO 35044 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 246 ms. Found 19 JPA repository interfaces.
2025-05-04 20:31:58.820  INFO 35044 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 20:31:58.822  INFO 35044 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 20:31:58.823  INFO 35044 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 20:31:58.824  INFO 35044 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 20:31:58.884  INFO 35044 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 20:31:58.895  INFO 35044 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 20:31:58.895  INFO 35044 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 20:31:59.066  INFO 35044 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 20:31:59.066  INFO 35044 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4965 ms
2025-05-04 20:31:59.296  INFO 35044 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 20:31:59.370  INFO 35044 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 20:31:59.551  INFO 35044 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 20:31:59.665  INFO 35044 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 20:32:00.062  INFO 35044 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 20:32:00.089  INFO 35044 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 20:32:01.414  INFO 35044 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 20:32:01.424  INFO 35044 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 20:32:01.941 DEBUG 35044 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 20:32:01.942 DEBUG 35044 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 20:32:02.938 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 20:32:02.946 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 20:32:02.946 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 20:32:02.946 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 20:32:02.947 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 20:32:02.947 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 20:32:02.947 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 20:32:02.947 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 20:32:02.948 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 20:32:02.948 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 20:32:02.948 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 20:32:02.948 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 20:32:02.949 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 20:32:02.949 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 20:32:02.949 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 20:32:02.949 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 20:32:02.950 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 20:32:02.950 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 20:32:02.950 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 20:32:02.950 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 20:32:02.950 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 20:32:02.950 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 20:32:02.951 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 20:32:02.951 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 20:32:02.951 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 20:32:02.951 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 20:32:02.951 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 20:32:02.951 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 20:32:02.951 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 20:32:02.952 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 20:32:02.952 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 20:32:02.952 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 20:32:02.952 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 20:32:02.952 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 20:32:02.952 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 20:32:02.952 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 20:32:02.954 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 20:32:02.954 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 20:32:02.954 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 20:32:02.954 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 20:32:02.955 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 20:32:02.956 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 20:32:02.956 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 20:32:02.956 DEBUG 35044 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 20:32:02.963  INFO 35044 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7c0ecdbf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19bad88, org.springframework.security.web.context.SecurityContextPersistenceFilter@30b075b9, org.springframework.security.web.header.HeaderWriterFilter@2a20aa4e, org.springframework.web.filter.CorsFilter@4ef10d3b, org.springframework.security.web.authentication.logout.LogoutFilter@6c502018, com.hotel.config.JwtAuthenticationFilter@3c981f76, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54a98358, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f7853af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2226fd2b, org.springframework.security.web.session.SessionManagementFilter@6f51d1cc, org.springframework.security.web.access.ExceptionTranslationFilter@5ac35b17, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@31887330]
2025-05-04 20:32:03.010  WARN 35044 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 20:32:03.145 DEBUG 35044 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 20:32:03.174  INFO 35044 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 20:32:03.240 DEBUG 35044 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 20:32:03.247 DEBUG 35044 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 20:32:03.265 DEBUG 35044 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 20:32:03.273 DEBUG 35044 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 20:32:03.455  INFO 35044 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 20:32:03.464  INFO 35044 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 10.923 seconds (JVM running for 13.087)
2025-05-04 20:32:44.767  INFO 35044 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 20:32:44.768  INFO 35044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 20:32:44.769 DEBUG 35044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 20:32:44.769 DEBUG 35044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 20:32:44.769 DEBUG 35044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 20:32:44.771 DEBUG 35044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@eccaf1b
2025-05-04 20:32:44.772 DEBUG 35044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@cd9ce76
2025-05-04 20:32:44.773 DEBUG 35044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 20:32:44.773  INFO 35044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-05-04 20:32:44.795 DEBUG 35044 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:32:44.801 DEBUG 35044 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:32:44.941 DEBUG 35044 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:32:44.957 DEBUG 35044 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 20:32:44.958 DEBUG 35044 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:32:44.962 DEBUG 35044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 20:32:44.973 DEBUG 35044 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:32:45.188 DEBUG 35044 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:32:45.189 DEBUG 35044 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订记录失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:32:45.210 DEBUG 35044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:32:45.212 DEBUG 35044 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:32:46.068 DEBUG 35044 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:32:46.069 DEBUG 35044 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:32:46.073 DEBUG 35044 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:32:46.074 DEBUG 35044 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 20:32:46.074 DEBUG 35044 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:32:46.074 DEBUG 35044 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 20:32:46.075 DEBUG 35044 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:32:46.089 DEBUG 35044 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:32:46.089 DEBUG 35044 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订记录失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:32:46.090 DEBUG 35044 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:32:46.091 DEBUG 35044 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:32:49.606 DEBUG 35044 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:32:49.608 DEBUG 35044 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:32:49.612 DEBUG 35044 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:32:49.613 DEBUG 35044 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 20:32:49.614 DEBUG 35044 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:32:49.615 DEBUG 35044 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 20:32:49.615 DEBUG 35044 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:32:49.626 DEBUG 35044 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:32:49.627 DEBUG 35044 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订记录失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:32:49.629 DEBUG 35044 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:32:49.629 DEBUG 35044 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:32:50.676 DEBUG 35044 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 20:32:50.677 DEBUG 35044 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:32:50.682 DEBUG 35044 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:32:50.683 DEBUG 35044 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED] with attributes [authenticated]
2025-05-04 20:32:50.684 DEBUG 35044 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 20:32:50.685 DEBUG 35044 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CONFIRMED", parameters={masked}
2025-05-04 20:32:50.685 DEBUG 35044 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:32:50.707 DEBUG 35044 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:32:50.708 DEBUG 35044 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 20:32:50.725 DEBUG 35044 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:32:50.726 DEBUG 35044 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:32:51.686 DEBUG 35044 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:32:51.686 DEBUG 35044 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:32:51.691 DEBUG 35044 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:32:51.691 DEBUG 35044 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 20:32:51.691 DEBUG 35044 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:32:51.692 DEBUG 35044 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 20:32:51.693 DEBUG 35044 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:32:51.703 DEBUG 35044 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:32:51.704 DEBUG 35044 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订记录失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:32:51.705 DEBUG 35044 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:32:51.705 DEBUG 35044 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:33:00.914 DEBUG 35044 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 20:33:00.915 DEBUG 35044 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:33:00.925 DEBUG 35044 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 20:33:00.935 DEBUG 35044 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 20:33:00.936 DEBUG 35044 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 20:33:00.936 DEBUG 35044 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 20:33:00.937 DEBUG 35044 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 20:33:00.958  INFO 35044 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 20:33:00.959 DEBUG 35044 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 20:33:00.990 ERROR 35044 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Error fetching reservations

org.springframework.dao.InvalidDataAccessApiUsageException: No enum constant com.hotel.entity.Reservation.PaymentStatus.unpaid; nested exception is java.lang.IllegalArgumentException: No enum constant com.hotel.entity.Reservation.PaymentStatus.unpaid
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:374) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:235) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551) ~[spring-orm-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.20.jar:5.3.20]
	at jdk.proxy2/jdk.proxy2.$Proxy145.findAllWithFilters(Unknown Source) ~[na:na]
	at com.hotel.service.impl.ReservationServiceImpl.getAllReservations(ReservationServiceImpl.java:524) ~[classes/:na]
	at com.hotel.service.impl.ReservationServiceImpl$$FastClassBySpringCGLIB$$969c5397.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.20.jar:5.3.20]
	at com.hotel.service.impl.ReservationServiceImpl$$EnhancerBySpringCGLIB$$3a4d5af1.getAllReservations(<generated>) ~[classes/:na]
	at com.hotel.controller.ReservationController.getAllReservations(ReservationController.java:253) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.63.jar:4.0.FR]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at com.hotel.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:84) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.1.jar:5.7.1]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.20.jar:5.3.20]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.20.jar:5.3.20]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.lang.IllegalArgumentException: No enum constant com.hotel.entity.Reservation.PaymentStatus.unpaid
	at java.base/java.lang.Enum.valueOf(Enum.java:273) ~[na:na]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromName(EnumJavaTypeDescriptor.java:84) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:54) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.wrap(EnumJavaTypeDescriptor.java:16) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.VarcharTypeDescriptor$2.doExtract(VarcharTypeDescriptor.java:62) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.metamodel.model.convert.internal.NamedEnumValueConverter.readValue(NamedEnumValueConverter.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.EnumType.nullSafeGet(EnumType.java:250) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:119) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.type.AbstractType.hydrate(AbstractType.java:91) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:3214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1887) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.hydrateEntityState(Loader.java:1811) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1784) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRow(Loader.java:1624) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:748) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.getRowsFromResultSet(Loader.java:1047) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.processResultSet(Loader.java:998) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQuery(Loader.java:967) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2868) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.doList(Loader.java:2850) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.Loader.list(Loader.java:2677) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:540) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:400) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1459) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1649) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$PagedExecution.doExecute(JpaQueryExecution.java:179) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144) ~[spring-data-jpa-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.7.0.jar:2.7.0]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.20.jar:5.3.20]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.20.jar:5.3.20]
	... 119 common frames omitted

2025-05-04 20:33:00.994 DEBUG 35044 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:33:00.995 DEBUG 35044 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订列表失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:33:00.997 DEBUG 35044 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:33:00.998 DEBUG 35044 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:44:40.921 DEBUG 35044 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 20:44:40.922 DEBUG 35044 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:44:40.925 DEBUG 35044 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:44:40.925 DEBUG 35044 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:44:40.930 DEBUG 35044 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:44:40.930 DEBUG 35044 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 20:44:40.932 DEBUG 35044 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 20:44:40.933 DEBUG 35044 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 20:44:40.934 DEBUG 35044 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 20:44:40.939 DEBUG 35044 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:44:40.939 DEBUG 35044 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 20:44:40.940 DEBUG 35044 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:44:40.941 DEBUG 35044 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 20:44:40.941 DEBUG 35044 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:44:40.948 DEBUG 35044 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:44:40.950 DEBUG 35044 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 20:44:40.962 DEBUG 35044 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:44:40.963 DEBUG 35044 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订记录失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:44:40.966 DEBUG 35044 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:44:40.966 DEBUG 35044 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:44:40.967 DEBUG 35044 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:44:40.967 DEBUG 35044 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:44:40.996 DEBUG 35044 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:44:40.996 DEBUG 35044 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:44:41.002 DEBUG 35044 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:44:41.003 DEBUG 35044 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 20:44:41.003 DEBUG 35044 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:44:41.003 DEBUG 35044 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 20:44:41.004 DEBUG 35044 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:44:41.020 DEBUG 35044 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:44:41.020 DEBUG 35044 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订记录失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:44:41.022 DEBUG 35044 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:44:41.023 DEBUG 35044 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:45:02.063 DEBUG 35044 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:45:02.064 DEBUG 35044 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:45:02.076 DEBUG 35044 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:45:02.077 DEBUG 35044 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 20:45:02.077 DEBUG 35044 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:45:02.078 DEBUG 35044 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 20:45:02.078 DEBUG 35044 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:45:02.102 DEBUG 35044 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:45:02.103 DEBUG 35044 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订记录失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:45:02.104 DEBUG 35044 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:45:02.105 DEBUG 35044 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:45:02.847 DEBUG 35044 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 20:45:02.847 DEBUG 35044 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:45:02.857 DEBUG 35044 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:45:02.857 DEBUG 35044 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED] with attributes [authenticated]
2025-05-04 20:45:02.858 DEBUG 35044 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 20:45:02.858 DEBUG 35044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CONFIRMED", parameters={masked}
2025-05-04 20:45:02.859 DEBUG 35044 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:45:02.870 DEBUG 35044 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:45:02.871 DEBUG 35044 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 20:45:02.873 DEBUG 35044 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:45:02.873 DEBUG 35044 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:45:06.168 DEBUG 35044 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 20:45:06.169 DEBUG 35044 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:45:06.174 DEBUG 35044 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:45:06.175 DEBUG 35044 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED] with attributes [authenticated]
2025-05-04 20:45:06.175 DEBUG 35044 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 20:45:06.176 DEBUG 35044 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=COMPLETED", parameters={masked}
2025-05-04 20:45:06.176 DEBUG 35044 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:45:06.188 DEBUG 35044 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:45:06.189 DEBUG 35044 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 0 containing UNKNOWN instances)]
2025-05-04 20:45:06.190 DEBUG 35044 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:45:06.190 DEBUG 35044 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:45:07.121 DEBUG 35044 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:45:07.122 DEBUG 35044 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:45:07.128 DEBUG 35044 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:45:07.129 DEBUG 35044 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 20:45:07.129 DEBUG 35044 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:45:07.129 DEBUG 35044 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 20:45:07.131 DEBUG 35044 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:45:07.141 DEBUG 35044 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:45:07.142 DEBUG 35044 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订记录失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:45:07.142 DEBUG 35044 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:45:07.143 DEBUG 35044 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:45:36.331 DEBUG 35044 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:45:36.332 DEBUG 35044 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:45:36.338 DEBUG 35044 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:45:36.339 DEBUG 35044 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 20:45:36.340 DEBUG 35044 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:45:36.340 DEBUG 35044 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 20:45:36.340 DEBUG 35044 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:45:36.355 DEBUG 35044 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:45:36.355 DEBUG 35044 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订记录失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:45:36.357 DEBUG 35044 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:45:36.357 DEBUG 35044 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:48:29.296  INFO 35044 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 20:48:29.298  INFO 35044 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 20:48:29.323  INFO 35044 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 20:48:40.798  INFO 21200 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 21200 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 20:48:40.802 DEBUG 21200 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 20:48:40.802  INFO 21200 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 20:48:42.004  INFO 21200 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 20:48:42.252  INFO 21200 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 235 ms. Found 19 JPA repository interfaces.
2025-05-04 20:48:42.996  INFO 21200 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 20:48:42.998  INFO 21200 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 20:48:42.999  INFO 21200 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 20:48:43.000  INFO 21200 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 20:48:43.009  INFO 21200 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 20:48:43.022  INFO 21200 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 20:48:43.022  INFO 21200 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 20:48:43.201  INFO 21200 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 20:48:43.201  INFO 21200 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2336 ms
2025-05-04 20:48:43.432  INFO 21200 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 20:48:43.516  INFO 21200 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 20:48:43.779  INFO 21200 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 20:48:43.966  INFO 21200 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 20:48:44.437  INFO 21200 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 20:48:44.462  INFO 21200 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 20:48:45.987  INFO 21200 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 20:48:46.002  INFO 21200 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 20:48:46.695 DEBUG 21200 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 20:48:46.696 DEBUG 21200 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 20:48:47.893 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 20:48:47.905 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 20:48:47.905 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 20:48:47.906 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 20:48:47.906 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 20:48:47.906 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 20:48:47.906 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 20:48:47.906 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 20:48:47.907 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 20:48:47.908 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 20:48:47.908 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 20:48:47.908 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 20:48:47.908 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 20:48:47.909 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 20:48:47.909 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 20:48:47.910 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 20:48:47.911 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 20:48:47.911 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 20:48:47.911 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 20:48:47.911 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 20:48:47.911 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 20:48:47.911 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 20:48:47.912 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 20:48:47.912 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 20:48:47.913 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 20:48:47.913 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 20:48:47.913 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 20:48:47.913 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 20:48:47.913 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 20:48:47.913 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 20:48:47.913 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 20:48:47.913 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 20:48:47.914 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 20:48:47.914 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 20:48:47.914 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 20:48:47.914 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 20:48:47.917 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 20:48:47.917 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 20:48:47.917 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 20:48:47.917 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 20:48:47.918 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 20:48:47.918 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 20:48:47.918 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 20:48:47.919 DEBUG 21200 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 20:48:47.927  INFO 21200 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7b5e5fa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24caa80, org.springframework.security.web.context.SecurityContextPersistenceFilter@4884350b, org.springframework.security.web.header.HeaderWriterFilter@d082916, org.springframework.web.filter.CorsFilter@40b958c5, org.springframework.security.web.authentication.logout.LogoutFilter@24f8707c, com.hotel.config.JwtAuthenticationFilter@395115ac, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66ad7167, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@14aa2123, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3420547, org.springframework.security.web.session.SessionManagementFilter@2c56e044, org.springframework.security.web.access.ExceptionTranslationFilter@6109366a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@62682ece]
2025-05-04 20:48:47.986  WARN 21200 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 20:48:48.178 DEBUG 21200 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 20:48:48.216  INFO 21200 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 20:48:48.301 DEBUG 21200 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 20:48:48.306 DEBUG 21200 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 20:48:48.328 DEBUG 21200 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 20:48:48.336 DEBUG 21200 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 20:48:48.540  INFO 21200 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 20:48:48.552  INFO 21200 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 8.321 seconds (JVM running for 9.393)
2025-05-04 20:48:53.442  INFO 21200 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 20:48:53.443  INFO 21200 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 20:48:53.444 DEBUG 21200 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 20:48:53.444 DEBUG 21200 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 20:48:53.445 DEBUG 21200 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 20:48:53.448 DEBUG 21200 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3203ffa3
2025-05-04 20:48:53.449 DEBUG 21200 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@402adc9c
2025-05-04 20:48:53.449 DEBUG 21200 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 20:48:53.449  INFO 21200 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2025-05-04 20:48:53.468 DEBUG 21200 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 20:48:53.468 DEBUG 21200 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:48:53.476 DEBUG 21200 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:48:53.476 DEBUG 21200 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:48:53.613 DEBUG 21200 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:48:53.613 DEBUG 21200 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:48:53.627 DEBUG 21200 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 20:48:53.627 DEBUG 21200 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 20:48:53.628 DEBUG 21200 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 20:48:53.628 DEBUG 21200 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:48:53.632 DEBUG 21200 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 20:48:53.632 DEBUG 21200 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 20:48:53.642 DEBUG 21200 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:48:53.642 DEBUG 21200 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 20:48:53.870 DEBUG 21200 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:48:53.870 DEBUG 21200 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:48:53.871 DEBUG 21200 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订记录失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:48:53.871 DEBUG 21200 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 20:48:53.890 DEBUG 21200 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:48:53.893 DEBUG 21200 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:48:53.897 DEBUG 21200 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:48:53.897 DEBUG 21200 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:48:53.901 DEBUG 21200 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:48:53.902 DEBUG 21200 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:48:53.908 DEBUG 21200 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:48:53.909 DEBUG 21200 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 20:48:53.909 DEBUG 21200 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:48:53.909 DEBUG 21200 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 20:48:53.910 DEBUG 21200 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:48:53.927 DEBUG 21200 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:48:53.927 DEBUG 21200 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=false, code=400, message=获取预订记录失败: No enum constant com.hotel.entity.Reservation (truncated)...]
2025-05-04 20:48:53.930 DEBUG 21200 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2025-05-04 20:48:53.931 DEBUG 21200 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:52:35.138  INFO 21200 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 20:52:35.142  INFO 21200 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-05-04 20:52:35.164  INFO 21200 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-05-04 20:52:51.111  INFO 36916 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 36916 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-04 20:52:51.115 DEBUG 36916 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-04 20:52:51.117  INFO 36916 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-04 20:52:52.305  INFO 36916 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-04 20:52:52.559  INFO 36916 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 243 ms. Found 19 JPA repository interfaces.
2025-05-04 20:52:53.266  INFO 36916 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-04 20:52:53.268  INFO 36916 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-04 20:52:53.269  INFO 36916 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-04 20:52:53.270  INFO 36916 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-04 20:52:53.279  INFO 36916 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-04 20:52:53.293  INFO 36916 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-04 20:52:53.293  INFO 36916 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-04 20:52:53.511  INFO 36916 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-04 20:52:53.512  INFO 36916 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2345 ms
2025-05-04 20:52:53.798  INFO 36916 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-04 20:52:53.888  INFO 36916 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-04 20:52:54.137  INFO 36916 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-04 20:52:54.279  INFO 36916 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-04 20:52:54.671  INFO 36916 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-04 20:52:54.691  INFO 36916 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-04 20:52:56.206  INFO 36916 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-04 20:52:56.218  INFO 36916 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-04 20:52:56.777 DEBUG 36916 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-04 20:52:56.778 DEBUG 36916 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-04 20:52:57.769 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-04 20:52:57.779 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-04 20:52:57.780 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-04 20:52:57.780 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-04 20:52:57.781 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-04 20:52:57.782 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-04 20:52:57.782 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-04 20:52:57.782 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-04 20:52:57.782 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-04 20:52:57.783 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-04 20:52:57.783 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-04 20:52:57.783 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-04 20:52:57.784 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-04 20:52:57.784 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-04 20:52:57.784 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-04 20:52:57.785 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-04 20:52:57.785 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-04 20:52:57.786 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-04 20:52:57.786 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-04 20:52:57.786 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-04 20:52:57.786 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-04 20:52:57.786 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-04 20:52:57.787 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-04 20:52:57.789 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-04 20:52:57.790 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-04 20:52:57.790 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-04 20:52:57.791 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-04 20:52:57.791 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-04 20:52:57.791 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-04 20:52:57.791 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/invitation-codes/validate/**', GET]
2025-05-04 20:52:57.791 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register/staff', POST]
2025-05-04 20:52:57.791 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/rooms/types', GET]
2025-05-04 20:52:57.791 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-04 20:52:57.791 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-04 20:52:57.792 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-04 20:52:57.792 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/dashboard/stats', GET]
2025-05-04 20:52:57.795 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/checkin/today-stats', GET]
2025-05-04 20:52:57.795 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/admin/rooms', GET]
2025-05-04 20:52:57.796 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users', GET]
2025-05-04 20:52:57.796 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')] for Ant [pattern='/api/reservations', GET]
2025-05-04 20:52:57.797 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-04 20:52:57.799 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-04 20:52:57.799 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-04 20:52:57.799 DEBUG 36916 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-04 20:52:57.812  INFO 36916 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3abd7b20, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@329a27ae, org.springframework.security.web.context.SecurityContextPersistenceFilter@27ada0e8, org.springframework.security.web.header.HeaderWriterFilter@2bd8c8f1, org.springframework.web.filter.CorsFilter@414d466e, org.springframework.security.web.authentication.logout.LogoutFilter@1f39b3ba, com.hotel.config.JwtAuthenticationFilter@147aceec, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b6942a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64641998, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@589a82af, org.springframework.security.web.session.SessionManagementFilter@48b1b469, org.springframework.security.web.access.ExceptionTranslationFilter@597eb9ac, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3070f59f]
2025-05-04 20:52:57.877  WARN 36916 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-04 20:52:58.056 DEBUG 36916 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-04 20:52:58.089  INFO 36916 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-04 20:52:58.183 DEBUG 36916 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 165 mappings in 'requestMappingHandlerMapping'
2025-05-04 20:52:58.190 DEBUG 36916 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-04 20:52:58.211 DEBUG 36916 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-04 20:52:58.220 DEBUG 36916 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-04 20:52:58.397  INFO 36916 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-04 20:52:58.406  INFO 36916 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 7.893 seconds (JVM running for 8.971)
2025-05-04 20:53:57.601  INFO 36916 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-04 20:53:57.602  INFO 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-04 20:53:57.603 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-04 20:53:57.603 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-04 20:53:57.603 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-04 20:53:57.605 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6a25c9ad
2025-05-04 20:53:57.606 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2b8f5aa4
2025-05-04 20:53:57.606 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-04 20:53:57.606  INFO 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-05-04 20:53:57.627 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:53:57.627 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 20:53:57.636 DEBUG 36916 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:53:57.636 DEBUG 36916 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:53:57.779 DEBUG 36916 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:53:57.779 DEBUG 36916 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:53:57.791 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 20:53:57.791 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 20:53:57.792 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:53:57.792 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 20:53:57.795 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 20:53:57.795 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 20:53:57.804 DEBUG 36916 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:53:57.804 DEBUG 36916 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 20:53:57.898  WARN 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'null' and calling findByUser only.
2025-05-04 20:53:57.971 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:53:57.971 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:53:57.971 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:53:57.972 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 20:53:58.008 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:53:58.010 DEBUG 36916 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:53:58.013 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:53:58.013 DEBUG 36916 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:53:58.026 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:53:58.027 DEBUG 36916 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:53:58.036 DEBUG 36916 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:53:58.036 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 20:53:58.037 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:53:58.037 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 20:53:58.037 DEBUG 36916 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:53:58.045  WARN 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'null' and calling findByUser only.
2025-05-04 20:53:58.066 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:53:58.067 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:53:58.069 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:53:58.069 DEBUG 36916 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:54:00.567 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=2&pageSize=5
2025-05-04 20:54:00.568 DEBUG 36916 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:54:00.573 DEBUG 36916 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:54:00.574 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=2&pageSize=5] with attributes [authenticated]
2025-05-04 20:54:00.574 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=2&pageSize=5
2025-05-04 20:54:00.575 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=2&pageSize=5", parameters={masked}
2025-05-04 20:54:00.576 DEBUG 36916 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:54:00.586  WARN 36916 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'null' and calling findByUser only.
2025-05-04 20:54:00.598 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:54:00.599 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:54:00.600 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:54:00.601 DEBUG 36916 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:54:01.648 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:54:01.648 DEBUG 36916 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:54:01.656 DEBUG 36916 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:54:01.657 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 20:54:01.657 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:54:01.657 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 20:54:01.658 DEBUG 36916 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:54:01.667  WARN 36916 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'null' and calling findByUser only.
2025-05-04 20:54:01.684 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:54:01.685 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:54:01.688 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:54:01.689 DEBUG 36916 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:54:08.612 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=2&pageSize=5
2025-05-04 20:54:08.614 DEBUG 36916 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:54:08.621 DEBUG 36916 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:54:08.622 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=2&pageSize=5] with attributes [authenticated]
2025-05-04 20:54:08.622 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=2&pageSize=5
2025-05-04 20:54:08.624 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=2&pageSize=5", parameters={masked}
2025-05-04 20:54:08.625 DEBUG 36916 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:54:08.636  WARN 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'null' and calling findByUser only.
2025-05-04 20:54:08.650 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:54:08.650 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 2 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:54:08.652 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:54:08.652 DEBUG 36916 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:54:10.248 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:54:10.248 DEBUG 36916 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:54:10.253 DEBUG 36916 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:54:10.254 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 20:54:10.254 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:54:10.254 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 20:54:10.255 DEBUG 36916 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:54:10.261  WARN 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'null' and calling findByUser only.
2025-05-04 20:54:10.277 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:54:10.278 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:54:10.281 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:54:10.282 DEBUG 36916 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:54:11.423 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:54:11.424 DEBUG 36916 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:54:11.431 DEBUG 36916 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:54:11.432 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 20:54:11.432 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:54:11.433 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 20:54:11.434 DEBUG 36916 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:54:11.450  WARN 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'PENDING' and calling findByUser only.
2025-05-04 20:54:11.465 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:54:11.466 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:54:11.467 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:54:11.467 DEBUG 36916 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:54:12.405 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 20:54:12.406 DEBUG 36916 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:54:12.413 DEBUG 36916 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:54:12.414 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED] with attributes [authenticated]
2025-05-04 20:54:12.414 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 20:54:12.415 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CONFIRMED", parameters={masked}
2025-05-04 20:54:12.415 DEBUG 36916 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:54:12.424  WARN 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'CONFIRMED' and calling findByUser only.
2025-05-04 20:54:12.442 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:54:12.443 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:54:12.445 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:54:12.445 DEBUG 36916 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:54:12.665 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 20:54:12.666 DEBUG 36916 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:54:12.673 DEBUG 36916 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:54:12.673 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED] with attributes [authenticated]
2025-05-04 20:54:12.674 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 20:54:12.674 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=COMPLETED", parameters={masked}
2025-05-04 20:54:12.675 DEBUG 36916 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:54:12.683  WARN 36916 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'COMPLETED' and calling findByUser only.
2025-05-04 20:54:12.700 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:54:12.700 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:54:12.702 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:54:12.702 DEBUG 36916 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:54:13.727 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 20:54:13.727 DEBUG 36916 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:54:13.735 DEBUG 36916 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:54:13.736 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED] with attributes [authenticated]
2025-05-04 20:54:13.736 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 20:54:13.736 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CONFIRMED", parameters={masked}
2025-05-04 20:54:13.737 DEBUG 36916 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:54:13.745  WARN 36916 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'CONFIRMED' and calling findByUser only.
2025-05-04 20:54:13.759 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:54:13.760 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:54:13.762 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:54:13.763 DEBUG 36916 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:54:14.314 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 20:54:14.315 DEBUG 36916 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:54:14.321 DEBUG 36916 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:54:14.322 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED] with attributes [authenticated]
2025-05-04 20:54:14.322 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 20:54:14.322 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=COMPLETED", parameters={masked}
2025-05-04 20:54:14.323 DEBUG 36916 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:54:14.331  WARN 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'COMPLETED' and calling findByUser only.
2025-05-04 20:54:14.348 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:54:14.348 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:54:14.350 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:54:14.351 DEBUG 36916 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:54:15.139 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED
2025-05-04 20:54:15.139 DEBUG 36916 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:54:15.146 DEBUG 36916 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:54:15.147 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED] with attributes [authenticated]
2025-05-04 20:54:15.147 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED
2025-05-04 20:54:15.148 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CANCELLED", parameters={masked}
2025-05-04 20:54:15.148 DEBUG 36916 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:54:15.156  WARN 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'CANCELLED' and calling findByUser only.
2025-05-04 20:54:15.171 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:54:15.171 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:54:15.173 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:54:15.173 DEBUG 36916 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:54:15.533 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 20:54:15.533 DEBUG 36916 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:54:15.537 DEBUG 36916 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:54:15.538 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED] with attributes [authenticated]
2025-05-04 20:54:15.538 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 20:54:15.538 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=COMPLETED", parameters={masked}
2025-05-04 20:54:15.539 DEBUG 36916 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:54:15.547  WARN 36916 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'COMPLETED' and calling findByUser only.
2025-05-04 20:54:15.559 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:54:15.559 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:54:15.561 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:54:15.561 DEBUG 36916 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:54:16.195 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 20:54:16.196 DEBUG 36916 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:54:16.202 DEBUG 36916 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:54:16.203 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED] with attributes [authenticated]
2025-05-04 20:54:16.203 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 20:54:16.203 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CONFIRMED", parameters={masked}
2025-05-04 20:54:16.203 DEBUG 36916 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:54:16.212  WARN 36916 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'CONFIRMED' and calling findByUser only.
2025-05-04 20:54:16.227 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:54:16.227 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:54:16.229 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:54:16.229 DEBUG 36916 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:54:16.463 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:54:16.464 DEBUG 36916 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:54:16.468 DEBUG 36916 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:54:16.468 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 20:54:16.468 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:54:16.469 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 20:54:16.469 DEBUG 36916 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:54:16.475  WARN 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'PENDING' and calling findByUser only.
2025-05-04 20:54:16.487 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:54:16.487 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:54:16.488 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:54:16.489 DEBUG 36916 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:54:16.659 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:54:16.659 DEBUG 36916 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:54:16.665 DEBUG 36916 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:54:16.666 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 20:54:16.666 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:54:16.667 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 20:54:16.667 DEBUG 36916 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:54:16.674  WARN 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'null' and calling findByUser only.
2025-05-04 20:54:16.688 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:54:16.688 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:54:16.690 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:54:16.690 DEBUG 36916 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:56:18.014 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 20:56:18.015 DEBUG 36916 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:56:18.021 DEBUG 36916 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:56:18.022 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 20:56:18.022 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 20:56:18.022 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 20:56:18.024 DEBUG 36916 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 20:56:18.035 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:56:18.035 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 20:56:18.036 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:56:18.037 DEBUG 36916 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:56:19.286 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 20:56:19.287 DEBUG 36916 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:56:19.293 DEBUG 36916 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:56:19.294 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 20:56:19.295 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 20:56:19.296 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 20:56:19.296 DEBUG 36916 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 20:56:19.303 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:56:19.304 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 20:56:19.305 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:56:19.306 DEBUG 36916 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:56:20.354 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 20:56:20.355 DEBUG 36916 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:56:20.361 DEBUG 36916 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:56:20.361 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 20:56:20.362 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 20:56:20.362 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 20:56:20.363 DEBUG 36916 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 20:56:20.392  INFO 36916 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 3 consumption records for userId: 18
2025-05-04 20:56:20.401  INFO 36916 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 20:56:20.402  INFO 36916 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 20:56:20.403  INFO 36916 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 2, Points Earned from DB: 53973
2025-05-04 20:56:20.404  INFO 36916 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 3, Points Earned from DB: 50388
2025-05-04 20:56:20.404  INFO 36916 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 290540
2025-05-04 20:56:20.404  INFO 36916 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 20:56:20.404  INFO 36916 --- [http-nio-8090-exec-5] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 3 history items for page 0 (size 10) for userId: 18. Total items: 3
2025-05-04 20:56:20.408 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:56:20.409 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=3, list=[PointsHistoryDTO(id=3, userId=18, points=50388, type=earn, descripti (truncated)...]
2025-05-04 20:56:20.418 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:56:20.419 DEBUG 36916 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:56:21.527 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:56:21.527 DEBUG 36916 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:56:21.537 DEBUG 36916 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:56:21.537 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 20:56:21.537 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:56:21.538 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 20:56:21.538 DEBUG 36916 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:56:21.549  WARN 36916 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'null' and calling findByUser only.
2025-05-04 20:56:21.572 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:56:21.572 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:56:21.574 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:56:21.574 DEBUG 36916 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:57:16.153 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 20:57:16.154 DEBUG 36916 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:57:16.162 DEBUG 36916 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:57:16.162 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 20:57:16.162 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 20:57:16.163 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 20:57:16.163 DEBUG 36916 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 20:57:16.174 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:57:16.174 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 20:57:16.177 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:57:16.177 DEBUG 36916 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:57:18.155 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 20:57:18.156 DEBUG 36916 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:57:18.163 DEBUG 36916 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 20:57:18.172 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 20:57:18.172 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 20:57:18.172 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 20:57:18.173 DEBUG 36916 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 20:57:18.190  INFO 36916 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 20:57:18.190 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 20:57:18.223 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=18, TotalPages=2
2025-05-04 20:57:18.223 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 20:57:18.224 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.224 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.224 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.225 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.225 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 20:57:18.225 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 20:57:18.225 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.225 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.225 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.225 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.225 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 20:57:18.225 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 20:57:18.225 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.226 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.226 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 20:57:18.226 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 20:57:18.226 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 20:57:18.226 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 20:57:18.226 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.226 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.226 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.227 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.227 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 20:57:18.227 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 20:57:18.227 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.227 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.227 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.227 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.227 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 20:57:18.227 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 20:57:18.227 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.227 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.227 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.227 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.227 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 20:57:18.227 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 20:57:18.227 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.227 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.227 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.227 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.228 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 20:57:18.228 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 20:57:18.228 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.228 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.228 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.228 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.228 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 20:57:18.228 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 20:57:18.228 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.228 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.228 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.228 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.228 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 20:57:18.229 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 20:57:18.229 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.229 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.229 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.229 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.229 DEBUG 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 20:57:18.233 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:57:18.233 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:57:18.237 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:57:18.237 DEBUG 36916 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:57:18.448 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-04 20:57:18.448 DEBUG 36916 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:57:18.455 DEBUG 36916 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-04 20:57:18.456 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users?page=1&pageSize=10&username=&phone=&status=] with attributes [hasRole('ROLE_ADMIN')]
2025-05-04 20:57:18.456 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users?page=1&pageSize=10&username=&phone=&status=
2025-05-04 20:57:18.456 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users?page=1&pageSize=10&username=&phone=&status=", parameters={masked}
2025-05-04 20:57:18.456 DEBUG 36916 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getAllUsers(int, int, String, String, String, String)
2025-05-04 20:57:18.493 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:57:18.493 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data={total=19, users=[UserDTO(id=19, username=前台妹妹0 (truncated)...]
2025-05-04 20:57:18.495 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:57:18.496 DEBUG 36916 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:57:18.517 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 20:57:18.517 DEBUG 36916 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:57:18.524 DEBUG 36916 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 20:57:18.525 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 20:57:18.525 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 20:57:18.525 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 20:57:18.526 DEBUG 36916 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 20:57:18.549 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 20:57:18.549 DEBUG 36916 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:57:18.562 DEBUG 36916 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 20:57:18.563 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 20:57:18.563 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 20:57:18.563 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 20:57:18.564 DEBUG 36916 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 20:57:18.595 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 20:57:18.596 DEBUG 36916 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:57:18.609 DEBUG 36916 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 20:57:18.609 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:57:18.610 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 20:57:18.610 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 20:57:18.610 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 20:57:18.610 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 20:57:18.611 DEBUG 36916 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 20:57:18.613 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:57:18.613 DEBUG 36916 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:57:18.614  INFO 36916 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 20:57:18.614 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 20:57:18.629 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:57:18.629 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 20:57:18.632 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:57:18.632 DEBUG 36916 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:57:18.635 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=18, TotalPages=1
2025-05-04 20:57:18.635 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 20:57:18.635 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.635 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.636 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.636 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.636 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 20:57:18.636 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 20:57:18.636 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.636 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.636 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.636 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.636 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 20:57:18.637 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 20:57:18.637 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.637 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.637 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 20:57:18.637 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 20:57:18.637 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 20:57:18.637 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.638 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.639 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 20:57:18.640 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 20:57:18.640 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.640 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.640 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.640 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.640 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 20:57:18.640 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 20:57:18.640 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.640 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.641 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.641 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.641 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 20:57:18.641 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 20:57:18.641 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.641 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.641 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.641 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.641 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 20:57:18.641 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 11
2025-05-04 20:57:18.641 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.641 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.641 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.641 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.641 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 11
2025-05-04 20:57:18.641 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 12
2025-05-04 20:57:18.641 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.641 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.642 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.642 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.642 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 12
2025-05-04 20:57:18.642 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 13
2025-05-04 20:57:18.642 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.642 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.642 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.642 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.642 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 13
2025-05-04 20:57:18.642 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 14
2025-05-04 20:57:18.642 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.642 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.642 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 20:57:18.642 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 20:57:18.643 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 14
2025-05-04 20:57:18.643 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 15
2025-05-04 20:57:18.643 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.643 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.643 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 20:57:18.643 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 20:57:18.643 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 15
2025-05-04 20:57:18.643 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 16
2025-05-04 20:57:18.643 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.643 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.643 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 20:57:18.643 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 20:57:18.643 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 16
2025-05-04 20:57:18.643 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 17
2025-05-04 20:57:18.644 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.644 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.644 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:57:18.644 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:57:18.644 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 17
2025-05-04 20:57:18.644 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 18
2025-05-04 20:57:18.644 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:57:18.644 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:57:18.644 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 20:57:18.644 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 20:57:18.644 DEBUG 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 18
2025-05-04 20:57:18.647 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:57:18.648 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:57:18.650 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:57:18.650 DEBUG 36916 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:58:22.240 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:58:22.241 DEBUG 36916 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:58:22.248 DEBUG 36916 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:58:22.249 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 20:58:22.249 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:58:22.249 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 20:58:22.250 DEBUG 36916 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:58:22.257  WARN 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'null' and calling findByUser only.
2025-05-04 20:58:22.273 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:58:22.273 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:58:22.275 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:58:22.275 DEBUG 36916 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:58:23.588 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:58:23.589 DEBUG 36916 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:58:23.594 DEBUG 36916 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:58:23.595 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 20:58:23.595 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:58:23.596 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 20:58:23.596 DEBUG 36916 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:58:23.605  WARN 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'PENDING' and calling findByUser only.
2025-05-04 20:58:23.621 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:58:23.622 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:58:23.623 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:58:23.623 DEBUG 36916 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:58:24.897 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 20:58:24.898 DEBUG 36916 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:58:24.901 DEBUG 36916 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:58:24.902 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED] with attributes [authenticated]
2025-05-04 20:58:24.902 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 20:58:24.902 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CONFIRMED", parameters={masked}
2025-05-04 20:58:24.902 DEBUG 36916 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:58:24.907  WARN 36916 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'CONFIRMED' and calling findByUser only.
2025-05-04 20:58:24.917 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:58:24.918 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:58:24.918 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:58:24.919 DEBUG 36916 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:58:25.991 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 20:58:25.992 DEBUG 36916 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:58:25.998 DEBUG 36916 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:58:25.999 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED] with attributes [authenticated]
2025-05-04 20:58:25.999 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 20:58:26.001 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=COMPLETED", parameters={masked}
2025-05-04 20:58:26.002 DEBUG 36916 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:58:26.008  WARN 36916 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'COMPLETED' and calling findByUser only.
2025-05-04 20:58:26.021 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:58:26.022 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:58:26.023 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:58:26.023 DEBUG 36916 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:58:27.082 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED
2025-05-04 20:58:27.083 DEBUG 36916 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:58:27.088 DEBUG 36916 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:58:27.089 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED] with attributes [authenticated]
2025-05-04 20:58:27.089 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED
2025-05-04 20:58:27.089 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CANCELLED", parameters={masked}
2025-05-04 20:58:27.089 DEBUG 36916 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:58:27.095  WARN 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'CANCELLED' and calling findByUser only.
2025-05-04 20:58:27.111 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:58:27.113 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:58:27.115 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:58:27.115 DEBUG 36916 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:58:28.124 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 20:58:28.125 DEBUG 36916 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:58:28.130 DEBUG 36916 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:58:28.131 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED] with attributes [authenticated]
2025-05-04 20:58:28.131 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 20:58:28.132 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=COMPLETED", parameters={masked}
2025-05-04 20:58:28.133 DEBUG 36916 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:58:28.139  WARN 36916 --- [http-nio-8090-exec-2] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'COMPLETED' and calling findByUser only.
2025-05-04 20:58:28.152 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:58:28.152 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:58:28.153 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:58:28.153 DEBUG 36916 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:58:28.953 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 20:58:28.953 DEBUG 36916 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:58:28.957 DEBUG 36916 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:58:28.958 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED] with attributes [authenticated]
2025-05-04 20:58:28.958 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 20:58:28.958 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CONFIRMED", parameters={masked}
2025-05-04 20:58:28.958 DEBUG 36916 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:58:28.964  WARN 36916 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'CONFIRMED' and calling findByUser only.
2025-05-04 20:58:28.977 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:58:28.979 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:58:28.980 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:58:28.980 DEBUG 36916 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:58:29.463 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:58:29.464 DEBUG 36916 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:58:29.470 DEBUG 36916 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:58:29.470 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 20:58:29.470 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:58:29.471 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 20:58:29.472 DEBUG 36916 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:58:29.480  WARN 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'PENDING' and calling findByUser only.
2025-05-04 20:58:29.492 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:58:29.492 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:58:29.493 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:58:29.494 DEBUG 36916 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:58:30.384 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:58:30.385 DEBUG 36916 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:58:30.388 DEBUG 36916 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:58:30.388 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 20:58:30.389 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 20:58:30.389 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 20:58:30.389 DEBUG 36916 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:58:30.397  WARN 36916 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'null' and calling findByUser only.
2025-05-04 20:58:30.411 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:58:30.412 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:58:30.413 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:58:30.414 DEBUG 36916 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:58:33.680 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:58:33.681 DEBUG 36916 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:58:33.687 DEBUG 36916 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:58:33.687 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 20:58:33.687 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 20:58:33.688 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 20:58:33.689 DEBUG 36916 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:58:33.698  WARN 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'PENDING' and calling findByUser only.
2025-05-04 20:58:33.717 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:58:33.717 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:58:33.721 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:58:33.721 DEBUG 36916 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:58:34.431 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 20:58:34.432 DEBUG 36916 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:58:34.437 DEBUG 36916 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:58:34.437 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED] with attributes [authenticated]
2025-05-04 20:58:34.437 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 20:58:34.437 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CONFIRMED", parameters={masked}
2025-05-04 20:58:34.438 DEBUG 36916 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:58:34.443  WARN 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'CONFIRMED' and calling findByUser only.
2025-05-04 20:58:34.457 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:58:34.458 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:58:34.460 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:58:34.460 DEBUG 36916 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:58:35.741 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 20:58:35.742 DEBUG 36916 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:58:35.745 DEBUG 36916 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:58:35.746 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED] with attributes [authenticated]
2025-05-04 20:58:35.746 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 20:58:35.746 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=COMPLETED", parameters={masked}
2025-05-04 20:58:35.747 DEBUG 36916 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:58:35.755  WARN 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'COMPLETED' and calling findByUser only.
2025-05-04 20:58:35.770 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:58:35.770 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:58:35.771 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:58:35.772 DEBUG 36916 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:58:36.089 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED
2025-05-04 20:58:36.090 DEBUG 36916 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:58:36.094 DEBUG 36916 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:58:36.095 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED] with attributes [authenticated]
2025-05-04 20:58:36.096 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED
2025-05-04 20:58:36.096 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CANCELLED", parameters={masked}
2025-05-04 20:58:36.096 DEBUG 36916 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:58:36.105  WARN 36916 --- [http-nio-8090-exec-5] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'CANCELLED' and calling findByUser only.
2025-05-04 20:58:36.118 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:58:36.119 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:58:36.121 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:58:36.121 DEBUG 36916 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:58:40.586 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 20:58:40.586 DEBUG 36916 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:58:40.589 DEBUG 36916 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:58:40.589 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED] with attributes [authenticated]
2025-05-04 20:58:40.589 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 20:58:40.590 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CONFIRMED", parameters={masked}
2025-05-04 20:58:40.590 DEBUG 36916 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:58:40.595  WARN 36916 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'CONFIRMED' and calling findByUser only.
2025-05-04 20:58:40.606 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:58:40.606 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:58:40.608 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:58:40.608 DEBUG 36916 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:58:48.848 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 20:58:48.849 DEBUG 36916 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:58:48.856 DEBUG 36916 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:58:48.857 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED] with attributes [authenticated]
2025-05-04 20:58:48.857 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 20:58:48.857 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=COMPLETED", parameters={masked}
2025-05-04 20:58:48.858 DEBUG 36916 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:58:48.864  WARN 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'COMPLETED' and calling findByUser only.
2025-05-04 20:58:48.880 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:58:48.881 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:58:48.883 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:58:48.883 DEBUG 36916 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:59:35.086 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 20:59:35.087 DEBUG 36916 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:59:35.094 DEBUG 36916 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:59:35.095 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/points/history?page=1&pageSize=10] with attributes [authenticated]
2025-05-04 20:59:35.095 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/points/history?page=1&pageSize=10
2025-05-04 20:59:35.096 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/points/history?page=1&pageSize=10", parameters={masked}
2025-05-04 20:59:35.096 DEBUG 36916 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getPointsHistory(int, int)
2025-05-04 20:59:35.107  INFO 36916 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 3 consumption records for userId: 18
2025-05-04 20:59:35.110  INFO 36916 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Found 0 points exchange records for userId: 18
2025-05-04 20:59:35.110  INFO 36916 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 1, Points Earned from DB: 41402
2025-05-04 20:59:35.110  INFO 36916 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 2, Points Earned from DB: 53973
2025-05-04 20:59:35.111  INFO 36916 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Processing earn record ID: 3, Points Earned from DB: 50388
2025-05-04 20:59:35.111  INFO 36916 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Starting balance calculation with current user points: 290540
2025-05-04 20:59:35.111  INFO 36916 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Calculated initial balance before first record: 144777
2025-05-04 20:59:35.111  INFO 36916 --- [http-nio-8090-exec-2] c.h.s.impl.PointsHistoryServiceImpl      : [GET_HISTORY] Returning 3 history items for page 0 (size 10) for userId: 18. Total items: 3
2025-05-04 20:59:35.112 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:59:35.113 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=3, list=[PointsHistoryDTO(id=3, userId=18, points=50388, type=earn, descripti (truncated)...]
2025-05-04 20:59:35.114 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:59:35.115 DEBUG 36916 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:59:37.921 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 20:59:37.922 DEBUG 36916 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:59:37.927 DEBUG 36916 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 20:59:37.928 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED] with attributes [authenticated]
2025-05-04 20:59:37.928 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 20:59:37.928 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=COMPLETED", parameters={masked}
2025-05-04 20:59:37.929 DEBUG 36916 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 20:59:37.936  WARN 36916 --- [http-nio-8090-exec-3] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'COMPLETED' and calling findByUser only.
2025-05-04 20:59:37.949 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:59:37.949 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:59:37.951 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:59:37.951 DEBUG 36916 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:59:46.758 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10
2025-05-04 20:59:46.759 DEBUG 36916 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:59:46.765 DEBUG 36916 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 20:59:46.765 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 20:59:46.765 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10
2025-05-04 20:59:46.766 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10", parameters={masked}
2025-05-04 20:59:46.768 DEBUG 36916 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 20:59:46.769  INFO 36916 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: null, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 20:59:46.769 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 20:59:46.792 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=18, TotalPages=2
2025-05-04 20:59:46.793 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 20:59:46.793 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:46.793 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:46.793 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:46.793 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:46.793 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 20:59:46.793 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 20:59:46.793 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:46.793 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:46.793 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:46.793 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:46.793 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 20:59:46.794 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 20:59:46.794 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:46.794 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:46.794 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 20:59:46.794 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 20:59:46.795 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 20:59:46.795 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 20:59:46.795 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:46.795 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:46.795 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:46.795 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:46.795 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 20:59:46.795 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 20:59:46.795 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:46.795 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:46.795 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:46.795 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:46.796 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 20:59:46.796 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 20:59:46.796 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:46.796 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:46.796 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:46.796 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:46.796 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 20:59:46.796 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 20:59:46.796 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:46.796 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:46.796 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:46.796 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:46.796 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 20:59:46.796 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 20:59:46.796 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:46.796 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:46.797 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:46.797 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:46.797 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 20:59:46.797 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 20:59:46.797 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:46.797 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:46.797 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:46.797 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:46.797 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 20:59:46.797 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 20:59:46.797 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:46.797 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:46.797 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:46.797 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:46.797 DEBUG 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 20:59:46.800 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:59:46.801 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:59:46.802 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:59:46.803 DEBUG 36916 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:59:47.185 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 20:59:47.185 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 20:59:47.185 DEBUG 36916 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:59:47.185 DEBUG 36916 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:59:47.190 DEBUG 36916 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 20:59:47.190 DEBUG 36916 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 20:59:47.190 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 20:59:47.190 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 20:59:47.190 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 20:59:47.190 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 20:59:47.191 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 20:59:47.191 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 20:59:47.191 DEBUG 36916 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 20:59:47.191 DEBUG 36916 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 20:59:47.207 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 20:59:47.208 DEBUG 36916 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 20:59:47.213 DEBUG 36916 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 20:59:47.214 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 20:59:47.214 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 20:59:47.214 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 20:59:47.215 DEBUG 36916 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 20:59:47.216  INFO 36916 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 20:59:47.216 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 20:59:47.217 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:59:47.218 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 20:59:47.219 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:59:47.220 DEBUG 36916 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:59:47.228 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=18, TotalPages=1
2025-05-04 20:59:47.228 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 20:59:47.228 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:47.229 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:47.229 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:47.229 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:47.229 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 20:59:47.229 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 20:59:47.229 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:47.229 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:47.229 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:47.229 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:47.229 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 20:59:47.229 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 20:59:47.229 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:47.229 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:47.229 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 20:59:47.230 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 20:59:47.230 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 20:59:47.230 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 20:59:47.230 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:47.230 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:47.230 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:47.230 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:47.230 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 20:59:47.230 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 20:59:47.230 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:47.230 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:47.230 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:47.230 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:47.231 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 20:59:47.231 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 20:59:47.231 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:47.231 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:47.231 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:47.231 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:47.231 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 20:59:47.231 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 20:59:47.231 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:47.232 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:47.232 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:47.232 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:47.232 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 20:59:47.232 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 20:59:47.232 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:47.232 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:47.232 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:47.232 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:47.232 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 20:59:47.232 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 20:59:47.232 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:47.232 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:47.232 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:47.232 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:47.232 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 20:59:47.233 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 20:59:47.233 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:47.233 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:47.233 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:47.233 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:47.233 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 20:59:47.233 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 11
2025-05-04 20:59:47.233 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:47.233 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:47.233 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:47.234 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:47.234 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 11
2025-05-04 20:59:47.234 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 12
2025-05-04 20:59:47.234 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:47.234 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:47.234 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:47.234 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:47.234 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 12
2025-05-04 20:59:47.235 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 13
2025-05-04 20:59:47.235 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:47.235 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:47.235 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:47.235 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:47.235 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 13
2025-05-04 20:59:47.235 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 14
2025-05-04 20:59:47.235 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:47.235 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:47.235 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 20:59:47.235 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 20:59:47.235 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 14
2025-05-04 20:59:47.235 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 15
2025-05-04 20:59:47.236 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:47.236 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:47.236 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 20:59:47.236 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 20:59:47.236 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 15
2025-05-04 20:59:47.236 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 16
2025-05-04 20:59:47.236 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:47.236 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:47.236 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 20:59:47.236 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 20:59:47.236 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 16
2025-05-04 20:59:47.236 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 17
2025-05-04 20:59:47.236 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:47.237 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:47.237 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 20:59:47.237 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 20:59:47.237 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 17
2025-05-04 20:59:47.237 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 18
2025-05-04 20:59:47.237 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 20:59:47.237 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 20:59:47.237 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 20:59:47.237 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 20:59:47.237 DEBUG 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 18
2025-05-04 20:59:47.241 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:59:47.241 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 20:59:47.243 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:59:47.243 DEBUG 36916 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 20:59:47.253 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 20:59:47.254 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 20:59:47.255 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 20:59:47.255 DEBUG 36916 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 21:00:24.288 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?page=0&size=10&status=pending
2025-05-04 21:00:24.288 DEBUG 36916 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 21:00:24.293 DEBUG 36916 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 21:00:24.294 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?page=0&size=10&status=pending] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 21:00:24.294 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?page=0&size=10&status=pending
2025-05-04 21:00:24.294 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?page=0&size=10&status=pending", parameters={masked}
2025-05-04 21:00:24.295 DEBUG 36916 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 21:00:24.296  INFO 36916 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 10, Status: pending, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 21:00:24.296 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=10
2025-05-04 21:00:24.304 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=10, TotalElements=18, TotalPages=2
2025-05-04 21:00:24.304 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 21:00:24.305 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.305 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.305 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.305 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.306 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 21:00:24.306 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 21:00:24.306 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.306 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.306 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.306 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.306 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 21:00:24.306 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 21:00:24.306 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.306 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.306 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 21:00:24.306 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 21:00:24.306 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 21:00:24.306 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 21:00:24.306 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.306 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.306 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.306 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.306 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 21:00:24.306 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 21:00:24.306 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.307 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.307 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.307 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.307 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 21:00:24.307 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 21:00:24.307 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.307 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.307 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.307 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.307 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 21:00:24.307 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 21:00:24.307 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.307 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.307 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.307 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.307 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 21:00:24.307 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 21:00:24.307 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.307 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.307 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.308 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.308 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 21:00:24.308 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 21:00:24.308 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.308 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.308 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.308 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.308 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 21:00:24.308 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 21:00:24.308 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.308 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.309 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.309 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.309 DEBUG 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 21:00:24.311 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 21:00:24.312 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 21:00:24.313 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 21:00:24.314 DEBUG 36916 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 21:00:24.384 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/stats
2025-05-04 21:00:24.384 DEBUG 36916 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 21:00:24.389 DEBUG 36916 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 21:00:24.390 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 21:00:24.390 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/stats
2025-05-04 21:00:24.390 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/stats", parameters={}
2025-05-04 21:00:24.390 DEBUG 36916 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-04 21:00:24.396 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/checkin/today-stats
2025-05-04 21:00:24.396 DEBUG 36916 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 21:00:24.402 DEBUG 36916 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 21:00:24.402 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/checkin/today-stats] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 21:00:24.402 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/checkin/today-stats
2025-05-04 21:00:24.402 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/checkin/today-stats", parameters={}
2025-05-04 21:00:24.403 DEBUG 36916 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.CheckInController#getTodayStats()
2025-05-04 21:00:24.407 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 21:00:24.407 DEBUG 36916 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 21:00:24.415 DEBUG 36916 --- [http-nio-8090-exec-4] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 21:00:24.415 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations?status=PENDING&pageSize=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 21:00:24.416 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations?status=PENDING&pageSize=1
2025-05-04 21:00:24.416 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations?status=PENDING&pageSize=1", parameters={masked}
2025-05-04 21:00:24.416 DEBUG 36916 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getAllReservations(Pageable, String, String, String, LocalDateTime, LocalDateTime, String)
2025-05-04 21:00:24.418  INFO 36916 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Received request for reservations - Page Index: 0, Page Size: 20, Status: PENDING, GuestName: null, GuestPhone: null, StartDate: null, EndDate: null, BookingNo: null
2025-05-04 21:00:24.418 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.controller.ReservationController     : Pageable details before service call: PageNumber=0, PageSize=20
2025-05-04 21:00:24.424 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Repository returned Page: PageNumber=0, Size=20, TotalElements=18, TotalPages=1
2025-05-04 21:00:24.424 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 1
2025-05-04 21:00:24.424 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.424 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.424 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.424 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.424 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 1
2025-05-04 21:00:24.424 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 2
2025-05-04 21:00:24.424 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.424 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.424 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.424 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.424 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 2
2025-05-04 21:00:24.424 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 3
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 豪华大床房
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 688.00
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 3
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 4
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 4
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 5
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 5
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 6
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{data={todayCheckin={total=0, pending=0, completed=0, list=[]}, availableRooms=15, occupancyRate=9.5 (truncated)...]
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.425 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.426 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 6
2025-05-04 21:00:24.426 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 7
2025-05-04 21:00:24.426 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.426 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.426 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.426 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 21:00:24.427 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.427 DEBUG 36916 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 21:00:24.427 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 7
2025-05-04 21:00:24.427 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 8
2025-05-04 21:00:24.427 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.427 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.427 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.427 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.427 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 8
2025-05-04 21:00:24.427 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 9
2025-05-04 21:00:24.427 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.427 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.427 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.427 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 9
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 10
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 10
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 11
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 11
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 12
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 12
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 13
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.428 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 13
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 14
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 14
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 15
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 15
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 16
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 16
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 17
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.429 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.430 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 家庭套房
2025-05-04 21:00:24.430 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 1288.00
2025-05-04 21:00:24.430 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 17
2025-05-04 21:00:24.430 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Converting Reservation ID: 18
2025-05-04 21:00:24.430 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :   Room object is null? false
2025-05-04 21:00:24.430 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :     RoomType object is null? false
2025-05-04 21:00:24.430 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomTypeName: 行政套房
2025-05-04 21:00:24.430 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  :       Setting RoomPrice: 988.00
2025-05-04 21:00:24.430 DEBUG 36916 --- [http-nio-8090-exec-4] c.h.service.impl.ReservationServiceImpl  : Successfully converted Reservation ID: 18
2025-05-04 21:00:24.433 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 21:00:24.434 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 1 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 21:00:24.436 DEBUG 36916 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 21:00:24.436 DEBUG 36916 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 21:00:24.450 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 21:00:24.450 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=13, totalUsers=19, availableRooms=15, newUse (truncated)...]
2025-05-04 21:00:24.452 DEBUG 36916 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 21:00:24.452 DEBUG 36916 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 21:00:38.990 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/rooms?pageSize=1000&page=1
2025-05-04 21:00:38.991 DEBUG 36916 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 21:00:38.995 DEBUG 36916 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 '前台妹妹001' 认证成功, 设置 SecurityContext
2025-05-04 21:00:38.996 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/rooms?pageSize=1000&page=1] with attributes [hasAnyRole('ROLE_ADMIN','ROLE_RECEPTIONIST')]
2025-05-04 21:00:38.996 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/rooms?pageSize=1000&page=1
2025-05-04 21:00:38.996 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/rooms?pageSize=1000&page=1", parameters={masked}
2025-05-04 21:00:38.997 DEBUG 36916 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminRoomController#getAllRooms(RoomFilterDTO)
2025-05-04 21:00:39.020 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 21:00:39.020 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data={total=21, list=[{roomNumber=209, lastCleanTime=2025-05-02T18:43:33, notes=, needCle (truncated)...]
2025-05-04 21:00:39.021 DEBUG 36916 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 21:00:39.021 DEBUG 36916 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 21:04:29.877 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/users/18
2025-05-04 21:04:29.877 DEBUG 36916 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 21:04:29.881 DEBUG 36916 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 21:04:29.882 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/18] with attributes [authenticated]
2025-05-04 21:04:29.882 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/users/18
2025-05-04 21:04:29.883 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/users/18", parameters={}
2025-05-04 21:04:29.883 DEBUG 36916 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-04 21:04:29.889 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 21:04:29.890 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=UserDTO(id=18, username=dawwadw, name=asdwd, ph (truncated)...]
2025-05-04 21:04:29.891 DEBUG 36916 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 21:04:29.891 DEBUG 36916 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 21:04:31.881 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 21:04:31.882 DEBUG 36916 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 21:04:31.887 DEBUG 36916 --- [http-nio-8090-exec-6] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 21:04:31.887 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 21:04:31.888 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 21:04:31.888 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 21:04:31.889 DEBUG 36916 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 21:04:31.895  WARN 36916 --- [http-nio-8090-exec-6] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'null' and calling findByUser only.
2025-05-04 21:04:31.909 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 21:04:31.909 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 21:04:31.910 DEBUG 36916 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 21:04:31.911 DEBUG 36916 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 21:04:42.028 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED
2025-05-04 21:04:42.029 DEBUG 36916 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 21:04:42.034 DEBUG 36916 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 21:04:42.035 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED] with attributes [authenticated]
2025-05-04 21:04:42.035 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CANCELLED
2025-05-04 21:04:42.035 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CANCELLED", parameters={masked}
2025-05-04 21:04:42.035 DEBUG 36916 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 21:04:42.041  WARN 36916 --- [http-nio-8090-exec-8] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'CANCELLED' and calling findByUser only.
2025-05-04 21:04:42.055 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 21:04:42.055 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 21:04:42.056 DEBUG 36916 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 21:04:42.057 DEBUG 36916 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 21:04:42.597 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 21:04:42.598 DEBUG 36916 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 21:04:42.613 DEBUG 36916 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 21:04:42.614 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED] with attributes [authenticated]
2025-05-04 21:04:42.615 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=COMPLETED
2025-05-04 21:04:42.616 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=COMPLETED", parameters={masked}
2025-05-04 21:04:42.616 DEBUG 36916 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 21:04:42.623  WARN 36916 --- [http-nio-8090-exec-7] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'COMPLETED' and calling findByUser only.
2025-05-04 21:04:42.639 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 21:04:42.639 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 21:04:42.641 DEBUG 36916 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 21:04:42.641 DEBUG 36916 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 21:04:43.413 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 21:04:43.413 DEBUG 36916 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 21:04:43.417 DEBUG 36916 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 21:04:43.418 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED] with attributes [authenticated]
2025-05-04 21:04:43.419 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=CONFIRMED
2025-05-04 21:04:43.419 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=CONFIRMED", parameters={masked}
2025-05-04 21:04:43.420 DEBUG 36916 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 21:04:43.425  WARN 36916 --- [http-nio-8090-exec-10] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'CONFIRMED' and calling findByUser only.
2025-05-04 21:04:43.438 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 21:04:43.438 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 21:04:43.439 DEBUG 36916 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 21:04:43.439 DEBUG 36916 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 21:04:43.679 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 21:04:43.679 DEBUG 36916 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 21:04:43.685 DEBUG 36916 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 21:04:43.686 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5&status=PENDING] with attributes [authenticated]
2025-05-04 21:04:43.686 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5&status=PENDING
2025-05-04 21:04:43.687 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5&status=PENDING", parameters={masked}
2025-05-04 21:04:43.688 DEBUG 36916 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 21:04:43.697  WARN 36916 --- [http-nio-8090-exec-9] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'PENDING' and calling findByUser only.
2025-05-04 21:04:43.715 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 21:04:43.715 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 21:04:43.717 DEBUG 36916 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 21:04:43.718 DEBUG 36916 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-04 21:04:43.882 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/reservations/user?page=1&pageSize=5
2025-05-04 21:04:43.882 DEBUG 36916 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-04 21:04:43.888 DEBUG 36916 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'dawwadw' 认证成功, 设置 SecurityContext
2025-05-04 21:04:43.889 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/reservations/user?page=1&pageSize=5] with attributes [authenticated]
2025-05-04 21:04:43.889 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/reservations/user?page=1&pageSize=5
2025-05-04 21:04:43.890 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/reservations/user?page=1&pageSize=5", parameters={masked}
2025-05-04 21:04:43.890 DEBUG 36916 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.ReservationController#getCurrentUserReservations(int, int, String)
2025-05-04 21:04:43.899  WARN 36916 --- [http-nio-8090-exec-1] c.h.service.impl.ReservationServiceImpl  : getUserReservationsPaginated TEMPORARILY ignoring status filter 'null' and calling findByUser only.
2025-05-04 21:04:43.915 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-04 21:04:43.915 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=Page 1 of 2 containing com.hotel.dto.Reservatio (truncated)...]
2025-05-04 21:04:43.917 DEBUG 36916 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-04 21:04:43.917 DEBUG 36916 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
