2025-05-02 10:19:09.737  INFO 27964 --- [main] com.hotel.HotelManagementApplication     : Starting HotelManagementApplication using Java 18.0.2 on LAPTOP-HeYIXianJun with PID 27964 (E:\桌面\javahotel\heqing99\target\classes started by 上善若水 in E:\桌面\javahotel\heqing99)
2025-05-02 10:19:09.737 DEBUG 27964 --- [main] com.hotel.HotelManagementApplication     : Running with Spring Boot v2.7.0, Spring v5.3.20
2025-05-02 10:19:09.747  INFO 27964 --- [main] com.hotel.HotelManagementApplication     : No active profile set, falling back to 1 default profile: "default"
2025-05-02 10:19:10.794  INFO 27964 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-05-02 10:19:11.050  INFO 27964 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 243 ms. Found 19 JPA repository interfaces.
2025-05-02 10:19:11.725  INFO 27964 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8090 (http)
2025-05-02 10:19:11.726  INFO 27964 --- [main] o.a.catalina.core.AprLifecycleListener   : Loaded Apache Tomcat Native library [1.2.30] using APR version [1.7.0].
2025-05-02 10:19:11.726  INFO 27964 --- [main] o.a.catalina.core.AprLifecycleListener   : APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
2025-05-02 10:19:11.726  INFO 27964 --- [main] o.a.catalina.core.AprLifecycleListener   : APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
2025-05-02 10:19:11.796  INFO 27964 --- [main] o.a.catalina.core.AprLifecycleListener   : OpenSSL successfully initialized [OpenSSL 1.1.1k  25 Mar 2021]
2025-05-02 10:19:11.805  INFO 27964 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-05-02 10:19:11.806  INFO 27964 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-05-02 10:19:11.964  INFO 27964 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-05-02 10:19:11.965  INFO 27964 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2156 ms
2025-05-02 10:19:12.125  INFO 27964 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-05-02 10:19:12.190  INFO 27964 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.9.Final
2025-05-02 10:19:12.377  INFO 27964 --- [main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2025-05-02 10:19:12.501  INFO 27964 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-05-02 10:19:12.882  INFO 27964 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-05-02 10:19:12.902  INFO 27964 --- [main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL8Dialect
2025-05-02 10:19:14.090  INFO 27964 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-05-02 10:19:14.100  INFO 27964 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-05-02 10:19:14.555 DEBUG 27964 --- [main] c.hotel.config.JwtAuthenticationFilter   : Filter 'jwtAuthenticationFilter' configured for use
2025-05-02 10:19:14.555 DEBUG 27964 --- [main] o.springframework.web.filter.CorsFilter  : Filter 'corsFilter' configured for use
2025-05-02 10:19:15.382 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.html']
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.js']
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.css']
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/*.ico']
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/assets/**']
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/']
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/about']
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/rooms']
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/room/**']
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/contact']
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/booking']
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/register']
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/login']
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/user/**']
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin']
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login']
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/dashboard/**']
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/users/**']
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/staff/**']
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/reception/**']
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/cleaning/**']
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', POST]
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/admin/login', GET]
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/auth/login', POST]
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/refresh-token', POST]
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/register', POST]
2025-05-02 10:19:15.392 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/login', POST]
2025-05-02 10:19:15.402 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-username', GET]
2025-05-02 10:19:15.402 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/api/users/check-phone', GET]
2025-05-02 10:19:15.402 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/profile', GET]
2025-05-02 10:19:15.402 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}', PUT]
2025-05-02 10:19:15.402 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for Ant [pattern='/api/users/{id}/password', PUT]
2025-05-02 10:19:15.402 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/admin/**']
2025-05-02 10:19:15.402 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [hasRole('ROLE_ADMIN')] for Ant [pattern='/api/users/{id}', DELETE]
2025-05-02 10:19:15.402 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [permitAll] for Ant [pattern='/**', OPTIONS]
2025-05-02 10:19:15.402 DEBUG 27964 --- [main] edFilterInvocationSecurityMetadataSource : Adding web access control expression [authenticated] for any request
2025-05-02 10:19:15.402  INFO 27964 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4d87e7f3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@14c7ab73, org.springframework.security.web.context.SecurityContextPersistenceFilter@171b0d3, org.springframework.security.web.header.HeaderWriterFilter@771ede0d, org.springframework.web.filter.CorsFilter@522f74a1, org.springframework.security.web.authentication.logout.LogoutFilter@78c91d2a, com.hotel.config.JwtAuthenticationFilter@67167f8f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@55159007, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@edf4973, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fcb796f, org.springframework.security.web.session.SessionManagementFilter@628cb8e0, org.springframework.security.web.access.ExceptionTranslationFilter@78de0f6f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6e669b5c]
2025-05-02 10:19:15.452  WARN 27964 --- [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-05-02 10:19:15.572 DEBUG 27964 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-05-02 10:19:15.602  INFO 27964 --- [main] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page: class path resource [static/index.html]
2025-05-02 10:19:15.672 DEBUG 27964 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 161 mappings in 'requestMappingHandlerMapping'
2025-05-02 10:19:15.682 DEBUG 27964 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/admin, /admin/login, /admin/dashboard, /admin/users, /admin/staff, /admin/rooms, /admin/reception/bookings, /admin/reception/checkin, /admin/reception/visitors, /admin/cleaning/tasks, /admin/cleaning/records, /login] in 'viewControllerHandlerMapping'
2025-05-02 10:19:15.692 DEBUG 27964 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /assets/**, /*.js, /*.css, /favicon.ico, /index.html, /images/**, /assets/images/**] in 'resourceHandlerMapping'
2025-05-02 10:19:15.702 DEBUG 27964 --- [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 0 @ExceptionHandler, 1 ResponseBodyAdvice
2025-05-02 10:19:15.852  INFO 27964 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''
2025-05-02 10:19:15.865  INFO 27964 --- [main] com.hotel.HotelManagementApplication     : Started HotelManagementApplication in 6.59 seconds (JVM running for 7.622)
2025-05-02 10:19:56.824  INFO 27964 --- [http-nio-8090-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-05-02 10:19:56.824  INFO 27964 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-05-02 10:19:56.824 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2025-05-02 10:19:56.824 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2025-05-02 10:19:56.824 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2025-05-02 10:19:56.824 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6441db2c
2025-05-02 10:19:56.824 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1ead6e20
2025-05-02 10:19:56.824 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-05-02 10:19:56.824  INFO 27964 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2025-05-02 10:19:56.847 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/statistics
2025-05-02 10:19:56.856 DEBUG 27964 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-02 10:19:56.942 DEBUG 27964 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-02 10:19:56.961 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/statistics] with attributes [hasRole('ROLE_ADMIN')]
2025-05-02 10:19:56.962 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/statistics
2025-05-02 10:19:56.964 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/statistics", parameters={}
2025-05-02 10:19:56.969 DEBUG 27964 --- [http-nio-8090-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-02 10:19:57.231 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-02 10:19:57.232 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=0, totalUsers=15, availableRooms=1, newUsers (truncated)...]
2025-05-02 10:19:57.301 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-02 10:19:57.308 DEBUG 27964 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-02 10:31:15.462 DEBUG 27964 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/statistics
2025-05-02 10:31:15.462 DEBUG 27964 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-02 10:31:15.472 DEBUG 27964 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-02 10:31:15.472 DEBUG 27964 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/statistics] with attributes [hasRole('ROLE_ADMIN')]
2025-05-02 10:31:15.472 DEBUG 27964 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/statistics
2025-05-02 10:31:15.472 DEBUG 27964 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/statistics", parameters={}
2025-05-02 10:31:15.472 DEBUG 27964 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-02 10:31:15.531 DEBUG 27964 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-02 10:31:15.531 DEBUG 27964 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=0, totalUsers=15, availableRooms=1, newUsers (truncated)...]
2025-05-02 10:31:15.533 DEBUG 27964 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-02 10:31:15.534 DEBUG 27964 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-02 10:31:34.381 DEBUG 27964 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/statistics
2025-05-02 10:31:34.381 DEBUG 27964 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-02 10:31:34.386 DEBUG 27964 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-02 10:31:34.386 DEBUG 27964 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/statistics] with attributes [hasRole('ROLE_ADMIN')]
2025-05-02 10:31:34.387 DEBUG 27964 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/statistics
2025-05-02 10:31:34.387 DEBUG 27964 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/statistics", parameters={}
2025-05-02 10:31:34.387 DEBUG 27964 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-02 10:31:34.443 DEBUG 27964 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-02 10:31:34.443 DEBUG 27964 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=0, totalUsers=15, availableRooms=1, newUsers (truncated)...]
2025-05-02 10:31:34.444 DEBUG 27964 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-02 10:31:34.445 DEBUG 27964 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-02 10:31:41.180 DEBUG 27964 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-02 10:31:41.181 DEBUG 27964 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-02 10:31:41.192 DEBUG 27964 --- [http-nio-8090-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-02 10:31:41.192 DEBUG 27964 --- [http-nio-8090-exec-4] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-02 10:31:41.195 DEBUG 27964 --- [http-nio-8090-exec-4] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-02 10:31:41.195 DEBUG 27964 --- [http-nio-8090-exec-4] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-02 10:31:41.195 DEBUG 27964 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-02 10:31:41.195 DEBUG 27964 --- [http-nio-8090-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-02 10:31:41.223 DEBUG 27964 --- [http-nio-8090-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=admin, password=admin123)]
2025-05-02 10:31:41.390 DEBUG 27964 --- [http-nio-8090-exec-4] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-02 10:31:41.425 DEBUG 27964 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-02 10:31:41.425 DEBUG 27964 --- [http-nio-8090-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=1, username=admin, role=ADMIN, token=eyJhbGciOiJIUz (truncated)...]
2025-05-02 10:31:41.425 DEBUG 27964 --- [http-nio-8090-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-02 10:31:41.425 DEBUG 27964 --- [http-nio-8090-exec-4] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-02 10:31:41.536 DEBUG 27964 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Securing GET /api/admin/dashboard/statistics
2025-05-02 10:31:41.536 DEBUG 27964 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-02 10:31:41.541 DEBUG 27964 --- [http-nio-8090-exec-5] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-02 10:31:41.543 DEBUG 27964 --- [http-nio-8090-exec-5] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/admin/dashboard/statistics] with attributes [hasRole('ROLE_ADMIN')]
2025-05-02 10:31:41.543 DEBUG 27964 --- [http-nio-8090-exec-5] o.s.security.web.FilterChainProxy        : Secured GET /api/admin/dashboard/statistics
2025-05-02 10:31:41.543 DEBUG 27964 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/admin/dashboard/statistics", parameters={}
2025-05-02 10:31:41.544 DEBUG 27964 --- [http-nio-8090-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.AdminDashboardController#getDashboardStatistics()
2025-05-02 10:31:41.602 DEBUG 27964 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-02 10:31:41.602 DEBUG 27964 --- [http-nio-8090-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{todayRevenue=0, monthlyRevenue=0, upcomingReservations=0, totalUsers=15, availableRooms=1, newUsers (truncated)...]
2025-05-02 10:31:41.602 DEBUG 27964 --- [http-nio-8090-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-02 10:31:41.602 DEBUG 27964 --- [http-nio-8090-exec-5] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-02 10:32:33.213 DEBUG 27964 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-02 10:32:33.214 DEBUG 27964 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-02 10:32:33.215 DEBUG 27964 --- [http-nio-8090-exec-6] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-02 10:32:33.215 DEBUG 27964 --- [http-nio-8090-exec-6] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 5A29A4A47A25E456C4F538CE7FF0CCBF
2025-05-02 10:32:33.216 DEBUG 27964 --- [http-nio-8090-exec-6] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-02 10:32:33.216 DEBUG 27964 --- [http-nio-8090-exec-6] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-02 10:32:33.216 DEBUG 27964 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-02 10:32:33.216 DEBUG 27964 --- [http-nio-8090-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-02 10:32:33.218 DEBUG 27964 --- [http-nio-8090-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=admin, password=admin123)]
2025-05-02 10:32:33.293 DEBUG 27964 --- [http-nio-8090-exec-6] o.s.s.a.dao.DaoAuthenticationProvider    : Authenticated user
2025-05-02 10:32:33.299 DEBUG 27964 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-02 10:32:33.300 DEBUG 27964 --- [http-nio-8090-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=true, message=登录成功, userId=1, username=admin, role=ADMIN, token=eyJhbGciOiJIUz (truncated)...]
2025-05-02 10:32:33.301 DEBUG 27964 --- [http-nio-8090-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-02 10:32:33.302 DEBUG 27964 --- [http-nio-8090-exec-6] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-02 10:32:33.313 DEBUG 27964 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Securing GET /api/users/1
2025-05-02 10:32:33.314 DEBUG 27964 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-02 10:32:33.320 DEBUG 27964 --- [http-nio-8090-exec-7] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-02 10:32:33.320 DEBUG 27964 --- [http-nio-8090-exec-7] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/1] with attributes [authenticated]
2025-05-02 10:32:33.320 DEBUG 27964 --- [http-nio-8090-exec-7] o.s.security.web.FilterChainProxy        : Secured GET /api/users/1
2025-05-02 10:32:33.320 DEBUG 27964 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : GET "/api/users/1", parameters={}
2025-05-02 10:32:33.322 DEBUG 27964 --- [http-nio-8090-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-02 10:32:33.335 DEBUG 27964 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-02 10:32:33.364 DEBUG 27964 --- [http-nio-8090-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=User(id=1, username=admin, password=null, name= (truncated)...]
2025-05-02 10:32:33.382 DEBUG 27964 --- [http-nio-8090-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-02 10:32:33.383 DEBUG 27964 --- [http-nio-8090-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-02 10:32:33.701 DEBUG 27964 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-02 10:32:33.701 DEBUG 27964 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-02 10:32:33.704 DEBUG 27964 --- [http-nio-8090-exec-8] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-02 10:32:33.704 DEBUG 27964 --- [http-nio-8090-exec-8] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-02 10:32:33.705 DEBUG 27964 --- [http-nio-8090-exec-8] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-02 10:32:33.705 DEBUG 27964 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-02 10:32:33.705 DEBUG 27964 --- [http-nio-8090-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-02 10:32:33.716 DEBUG 27964 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-02 10:32:33.716 DEBUG 27964 --- [http-nio-8090-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=MembershipDTO(userId=1, username=admin, name=系统管理员, memberLevel=普通用户, memberLevelCod (truncated)...]
2025-05-02 10:32:33.721 DEBUG 27964 --- [http-nio-8090-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-02 10:32:33.721 DEBUG 27964 --- [http-nio-8090-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-02 10:32:51.909 DEBUG 27964 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Securing GET /api/users/1
2025-05-02 10:32:51.909 DEBUG 27964 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-02 10:32:51.913 DEBUG 27964 --- [http-nio-8090-exec-9] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-02 10:32:51.914 DEBUG 27964 --- [http-nio-8090-exec-9] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/users/1] with attributes [authenticated]
2025-05-02 10:32:51.914 DEBUG 27964 --- [http-nio-8090-exec-9] o.s.security.web.FilterChainProxy        : Secured GET /api/users/1
2025-05-02 10:32:51.914 DEBUG 27964 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : GET "/api/users/1", parameters={}
2025-05-02 10:32:51.915 DEBUG 27964 --- [http-nio-8090-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#getUserById(Long)
2025-05-02 10:32:51.921 DEBUG 27964 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-02 10:32:51.930 DEBUG 27964 --- [http-nio-8090-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ApiResponse(success=true, code=200, message=成功, data=User(id=1, username=admin, password=null, name= (truncated)...]
2025-05-02 10:32:51.931 DEBUG 27964 --- [http-nio-8090-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-02 10:32:51.931 DEBUG 27964 --- [http-nio-8090-exec-9] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-02 10:32:51.976 DEBUG 27964 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Securing GET /api/membership/info
2025-05-02 10:32:51.976 DEBUG 27964 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-02 10:32:51.976 DEBUG 27964 --- [http-nio-8090-exec-10] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-02 10:32:51.976 DEBUG 27964 --- [http-nio-8090-exec-10] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/membership/info] with attributes [authenticated]
2025-05-02 10:32:51.976 DEBUG 27964 --- [http-nio-8090-exec-10] o.s.security.web.FilterChainProxy        : Secured GET /api/membership/info
2025-05-02 10:32:51.976 DEBUG 27964 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : GET "/api/membership/info", parameters={}
2025-05-02 10:32:51.976 DEBUG 27964 --- [http-nio-8090-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.MembershipController#getCurrentUserMembershipInfo()
2025-05-02 10:32:51.986 DEBUG 27964 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-02 10:32:51.986 DEBUG 27964 --- [http-nio-8090-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{code=200, data=MembershipDTO(userId=1, username=admin, name=系统管理员, memberLevel=普通用户, memberLevelCod (truncated)...]
2025-05-02 10:32:51.986 DEBUG 27964 --- [http-nio-8090-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-02 10:32:51.986 DEBUG 27964 --- [http-nio-8090-exec-10] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-02 10:32:54.490 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /api/logout
2025-05-02 10:32:54.490 DEBUG 27964 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-02 10:32:54.494 DEBUG 27964 --- [http-nio-8090-exec-1] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-02 10:32:54.494 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/logout] with attributes [authenticated]
2025-05-02 10:32:54.494 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /api/logout
2025-05-02 10:32:54.495 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/logout", parameters={}
2025-05-02 10:32:54.499 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/], classpath [resources/], classpath [static/], classpath [public/], ServletContext [/]]
2025-05-02 10:32:54.502 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.w.s.r.ResourceHttpRequestHandler     : Resource not found
2025-05-02 10:32:54.502 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 404 NOT_FOUND
2025-05-02 10:32:54.502 DEBUG 27964 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-02 10:32:54.502 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Securing POST /index.html
2025-05-02 10:32:54.502 DEBUG 27964 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-02 10:32:54.502 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-02 10:32:54.502 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.security.web.FilterChainProxy        : Secured POST /index.html
2025-05-02 10:32:54.502 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/index.html", parameters={}
2025-05-02 10:32:54.507 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-05-02 10:32:54.509  WARN 27964 --- [http-nio-8090-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
2025-05-02 10:32:54.509 DEBUG 27964 --- [http-nio-8090-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 405
2025-05-02 10:32:54.509 DEBUG 27964 --- [http-nio-8090-exec-1] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-02 10:35:01.164 DEBUG 27964 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Securing POST /api/users/login
2025-05-02 10:35:01.164 DEBUG 27964 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-02 10:35:01.170 ERROR 27964 --- [http-nio-8090-exec-3] com.hotel.util.JwtTokenProvider          : Expired JWT token
2025-05-02 10:35:01.170  WARN 27964 --- [http-nio-8090-exec-3] c.hotel.config.JwtAuthenticationFilter   : JWT Token 无效: eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJkZGQiLCJyb2xlIjoiQ1VTVE9NRVIiLCJpYXQiOjE3NDU4MDkwNTEsImV4cCI6MTc0NTg5NTQ1MX0.N-zquTfLaEyTwq6t_L1EQLXcLQIv60oi9-uetVUG11rjdUZZDKWTO1Oqx2niFs8ZoS5fLsCkuIhTSzvodwXBoQ
2025-05-02 10:35:01.170 DEBUG 27964 --- [http-nio-8090-exec-3] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext
2025-05-02 10:35:01.170 DEBUG 27964 --- [http-nio-8090-exec-3] o.s.s.w.session.SessionManagementFilter  : Request requested invalid session id 0FACCC199114921A0EACF71F29B7441E
2025-05-02 10:35:01.170 DEBUG 27964 --- [http-nio-8090-exec-3] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [POST /api/users/login] with attributes [permitAll]
2025-05-02 10:35:01.170 DEBUG 27964 --- [http-nio-8090-exec-3] o.s.security.web.FilterChainProxy        : Secured POST /api/users/login
2025-05-02 10:35:01.170 DEBUG 27964 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/users/login", parameters={}
2025-05-02 10:35:01.170 DEBUG 27964 --- [http-nio-8090-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.UserController#login(LoginRequest)
2025-05-02 10:35:01.170 DEBUG 27964 --- [http-nio-8090-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [LoginRequest(username=front, password=12345)]
2025-05-02 10:35:01.241 DEBUG 27964 --- [http-nio-8090-exec-3] o.s.s.a.dao.DaoAuthenticationProvider    : Failed to authenticate since password does not match stored value
2025-05-02 10:35:01.248 DEBUG 27964 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-02 10:35:01.248 DEBUG 27964 --- [http-nio-8090-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [LoginResponse(success=false, message=用户名或密码错误, userId=null, username=null, role=null, token=null)]
2025-05-02 10:35:01.248 DEBUG 27964 --- [http-nio-8090-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2025-05-02 10:35:01.254 DEBUG 27964 --- [http-nio-8090-exec-3] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
2025-05-02 10:35:07.663 DEBUG 27964 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Securing GET /api/invitation-codes
2025-05-02 10:35:07.663 DEBUG 27964 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext
2025-05-02 10:35:07.669 DEBUG 27964 --- [http-nio-8090-exec-2] c.hotel.config.JwtAuthenticationFilter   : 用户 'admin' 认证成功, 设置 SecurityContext
2025-05-02 10:35:07.669 DEBUG 27964 --- [http-nio-8090-exec-2] o.s.s.w.a.i.FilterSecurityInterceptor    : Authorized filter invocation [GET /api/invitation-codes] with attributes [authenticated]
2025-05-02 10:35:07.669 DEBUG 27964 --- [http-nio-8090-exec-2] o.s.security.web.FilterChainProxy        : Secured GET /api/invitation-codes
2025-05-02 10:35:07.669 DEBUG 27964 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/invitation-codes", parameters={}
2025-05-02 10:35:07.669 DEBUG 27964 --- [http-nio-8090-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.hotel.controller.InvitationCodeController#getValidInvitationCodes()
2025-05-02 10:35:07.682 DEBUG 27964 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/json, application/*+json]
2025-05-02 10:35:07.682 DEBUG 27964 --- [http-nio-8090-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[InvitationCode(id=1, code=6YJP8NZ5, role=RECEPTIONIST, maxUses=1, currentUses=0, expiryDate=2025-05 (truncated)...]
2025-05-02 10:35:07.689 DEBUG 27964 --- [http-nio-8090-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2025-05-02 10:35:07.689 DEBUG 27964 --- [http-nio-8090-exec-2] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request
